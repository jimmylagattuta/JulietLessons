var ao=Object.defineProperty;var _s=e=>{throw TypeError(e)};var oo=(e,s,i)=>s in e?ao(e,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[s]=i;var $r=(e,s,i)=>oo(e,typeof s!="symbol"?s+"":s,i),Ln=(e,s,i)=>s.has(e)||_s("Cannot "+i);var lt=(e,s,i)=>(Ln(e,s,"read from private field"),i?i.call(e):s.get(e)),Xt=(e,s,i)=>s.has(e)?_s("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(e):s.set(e,i),Jt=(e,s,i,a)=>(Ln(e,s,"write to private field"),a?a.call(e,i):s.set(e,i),i),Ut=(e,s,i)=>(Ln(e,s,"access private method"),i);var un=(e,s,i,a)=>({set _(o){Jt(e,s,o,i)},get _(){return lt(e,s,a)}});function _mergeNamespaces(e,s){for(var i=0;i<s.length;i++){const a=s[i];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in e)){const c=Object.getOwnPropertyDescriptor(a,o);c&&Object.defineProperty(e,o,c.get?c:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var s=e.default;if(typeof s=="function"){var i=function a(){return this instanceof a?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};i.prototype=s.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var o=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(i,a,o.get?o:{enumerable:!0,get:function(){return e[a]}})}),i}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(e,s,i){this.props=e,this.context=s,this.refs=D$1,this.updater=i||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,s,i){this.props=e,this.context=s,this.refs=D$1,this.updater=i||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(e,s,i){var a,o={},c=null,d=null;if(s!=null)for(a in s.ref!==void 0&&(d=s.ref),s.key!==void 0&&(c=""+s.key),s)J.call(s,a)&&!L$1.hasOwnProperty(a)&&(o[a]=s[a]);var g=arguments.length-2;if(g===1)o.children=i;else if(1<g){for(var h=Array(g),b=0;b<g;b++)h[b]=arguments[b+2];o.children=h}if(e&&e.defaultProps)for(a in g=e.defaultProps,g)o[a]===void 0&&(o[a]=g[a]);return{$$typeof:l$1,type:e,key:c,ref:d,props:o,_owner:K$1.current}}function N$1(e,s){return{$$typeof:l$1,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape$2(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return s[i]})}var P$1=/\/+/g;function Q$1(e,s){return typeof e=="object"&&e!==null&&e.key!=null?escape$2(""+e.key):s.toString(36)}function R$1(e,s,i,a,o){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case l$1:case n$1:d=!0}}if(d)return d=e,o=o(d),e=a===""?"."+Q$1(d,0):a,I$1(o)?(i="",e!=null&&(i=e.replace(P$1,"$&/")+"/"),R$1(o,s,i,"",function(b){return b})):o!=null&&(O$1(o)&&(o=N$1(o,i+(!o.key||d&&d.key===o.key?"":(""+o.key).replace(P$1,"$&/")+"/")+e)),s.push(o)),1;if(d=0,a=a===""?".":a+":",I$1(e))for(var g=0;g<e.length;g++){c=e[g];var h=a+Q$1(c,g);d+=R$1(c,s,i,h,o)}else if(h=A$1(e),typeof h=="function")for(e=h.call(e),g=0;!(c=e.next()).done;)c=c.value,h=a+Q$1(c,g++),d+=R$1(c,s,i,h,o);else if(c==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return d}function S$1(e,s,i){if(e==null)return e;var a=[],o=0;return R$1(e,a,"","",function(c){return s.call(i,c,o++)}),a}function T$1(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(e,s,i){S$1(e,function(){s.apply(this,arguments)},i)},count:function(e){var s=0;return S$1(e,function(){s++}),s},toArray:function(e){return S$1(e,function(s){return s})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$2;react_production_min.cloneElement=function(e,s,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=C$1({},e.props),o=e.key,c=e.ref,d=e._owner;if(s!=null){if(s.ref!==void 0&&(c=s.ref,d=K$1.current),s.key!==void 0&&(o=""+s.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(h in s)J.call(s,h)&&!L$1.hasOwnProperty(h)&&(a[h]=s[h]===void 0&&g!==void 0?g[h]:s[h])}var h=arguments.length-2;if(h===1)a.children=i;else if(1<h){g=Array(h);for(var b=0;b<h;b++)g[b]=arguments[b+2];a.children=g}return{$$typeof:l$1,type:e.type,key:o,ref:c,props:a,_owner:d}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$1;react_production_min.createFactory=function(e){var s=M$1.bind(null,e);return s.type=e,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$1,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T$1}};react_production_min.memo=function(e,s){return{$$typeof:x,type:e,compare:s===void 0?null:s}};react_production_min.startTransition=function(e){var s=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=s}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(e,s){return U$1.current.useCallback(e,s)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,s){return U$1.current.useEffect(e,s)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,s,i){return U$1.current.useImperativeHandle(e,s,i)};react_production_min.useInsertionEffect=function(e,s){return U$1.current.useInsertionEffect(e,s)};react_production_min.useLayoutEffect=function(e,s){return U$1.current.useLayoutEffect(e,s)};react_production_min.useMemo=function(e,s){return U$1.current.useMemo(e,s)};react_production_min.useReducer=function(e,s,i){return U$1.current.useReducer(e,s,i)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,s,i){return U$1.current.useSyncExternalStore(e,s,i)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$1=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(e,s,i){var a,o={},c=null,d=null;i!==void 0&&(c=""+i),s.key!==void 0&&(c=""+s.key),s.ref!==void 0&&(d=s.ref);for(a in s)m$1.call(s,a)&&!p$1.hasOwnProperty(a)&&(o[a]=s[a]);if(e&&e.defaultProps)for(a in s=e.defaultProps,s)o[a]===void 0&&(o[a]=s[a]);return{$$typeof:k,type:e,key:c,ref:d,props:o,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s(bt,yt){var At=bt.length;bt.push(yt);e:for(;0<At;){var Lt=At-1>>>1,jt=bt[Lt];if(0<o(jt,yt))bt[Lt]=yt,bt[At]=jt,At=Lt;else break e}}function i(bt){return bt.length===0?null:bt[0]}function a(bt){if(bt.length===0)return null;var yt=bt[0],At=bt.pop();if(At!==yt){bt[0]=At;e:for(var Lt=0,jt=bt.length,ft=jt>>>1;Lt<ft;){var mt=2*(Lt+1)-1,vt=bt[mt],_t=mt+1,St=bt[_t];if(0>o(vt,At))_t<jt&&0>o(St,vt)?(bt[Lt]=St,bt[_t]=At,Lt=_t):(bt[Lt]=vt,bt[mt]=At,Lt=mt);else if(_t<jt&&0>o(St,At))bt[Lt]=St,bt[_t]=At,Lt=_t;else break e}}return yt}function o(bt,yt){var At=bt.sortIndex-yt.sortIndex;return At!==0?At:bt.id-yt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();e.unstable_now=function(){return d.now()-g}}var h=[],b=[],j=1,_=null,$=3,rt=!1,nt=!1,dt=!1,st=typeof setTimeout=="function"?setTimeout:null,_e=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function it(bt){for(var yt=i(b);yt!==null;){if(yt.callback===null)a(b);else if(yt.startTime<=bt)a(b),yt.sortIndex=yt.expirationTime,s(h,yt);else break;yt=i(b)}}function ct(bt){if(dt=!1,it(bt),!nt)if(i(h)!==null)nt=!0,It(ot);else{var yt=i(b);yt!==null&&kt(ct,yt.startTime-bt)}}function ot(bt,yt){nt=!1,dt&&(dt=!1,_e(at),at=-1),rt=!0;var At=$;try{for(it(yt),_=i(h);_!==null&&(!(_.expirationTime>yt)||bt&&!ut());){var Lt=_.callback;if(typeof Lt=="function"){_.callback=null,$=_.priorityLevel;var jt=Lt(_.expirationTime<=yt);yt=e.unstable_now(),typeof jt=="function"?_.callback=jt:_===i(h)&&a(h),it(yt)}else a(h);_=i(h)}if(_!==null)var ft=!0;else{var mt=i(b);mt!==null&&kt(ct,mt.startTime-yt),ft=!1}return ft}finally{_=null,$=At,rt=!1}}var pt=!1,et=null,at=-1,ht=5,xt=-1;function ut(){return!(e.unstable_now()-xt<ht)}function gt(){if(et!==null){var bt=e.unstable_now();xt=bt;var yt=!0;try{yt=et(!0,bt)}finally{yt?Et():(pt=!1,et=null)}}else pt=!1}var Et;if(typeof tt=="function")Et=function(){tt(gt)};else if(typeof MessageChannel<"u"){var Mt=new MessageChannel,Nt=Mt.port2;Mt.port1.onmessage=gt,Et=function(){Nt.postMessage(null)}}else Et=function(){st(gt,0)};function It(bt){et=bt,pt||(pt=!0,Et())}function kt(bt,yt){at=st(function(){bt(e.unstable_now())},yt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(bt){bt.callback=null},e.unstable_continueExecution=function(){nt||rt||(nt=!0,It(ot))},e.unstable_forceFrameRate=function(bt){0>bt||125<bt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ht=0<bt?Math.floor(1e3/bt):5},e.unstable_getCurrentPriorityLevel=function(){return $},e.unstable_getFirstCallbackNode=function(){return i(h)},e.unstable_next=function(bt){switch($){case 1:case 2:case 3:var yt=3;break;default:yt=$}var At=$;$=yt;try{return bt()}finally{$=At}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(bt,yt){switch(bt){case 1:case 2:case 3:case 4:case 5:break;default:bt=3}var At=$;$=bt;try{return yt()}finally{$=At}},e.unstable_scheduleCallback=function(bt,yt,At){var Lt=e.unstable_now();switch(typeof At=="object"&&At!==null?(At=At.delay,At=typeof At=="number"&&0<At?Lt+At:Lt):At=Lt,bt){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=At+jt,bt={id:j++,callback:yt,priorityLevel:bt,startTime:At,expirationTime:jt,sortIndex:-1},At>Lt?(bt.sortIndex=At,s(b,bt),i(h)===null&&bt===i(b)&&(dt?(_e(at),at=-1):dt=!0,kt(ct,At-Lt))):(bt.sortIndex=jt,s(h,bt),nt||rt||(nt=!0,It(ot))),bt},e.unstable_shouldYield=ut,e.unstable_wrapCallback=function(bt){var yt=$;return function(){var At=$;$=yt;try{return bt.apply(this,arguments)}finally{$=At}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,s){ha(e,s),ha(e+"Capture",s)}function ha(e,s){for(ea[e]=s,e=0;e<s.length;e++)da.add(s[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,s,i,a){if(i!==null&&i.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,s,i,a){if(s===null||typeof s>"u"||pa(e,s,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v(e,s,i,a,o,c,d){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=o,this.mustUseProperty=i,this.propertyName=e,this.type=s,this.sanitizeURL=c,this.removeEmptyString=d}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];z[s]=new v(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(ra,sa);z[s]=new v(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(ra,sa);z[s]=new v(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(ra,sa);z[s]=new v(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,s,i,a){var o=z.hasOwnProperty(s)?z[s]:null;(o!==null?o.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,i,o,a)&&(i=null),a||o===null?oa(s)&&(i===null?e.removeAttribute(s):e.setAttribute(s,""+i)):o.mustUseProperty?e[o.propertyName]=i===null?o.type===3?!1:"":i:(s=o.attributeName,a=o.attributeNamespace,i===null?e.removeAttribute(s):(o=o.type,i=o===3||o===4&&i===!0?"":""+i,a?e.setAttributeNS(a,s,i):e.setAttribute(s,i))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+e}var Na=!1;function Oa(e,s){if(!e||Na)return"";Na=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(b){var a=b}Reflect.construct(e,[],s)}else{try{s.call()}catch(b){a=b}e.call(s.prototype)}else{try{throw Error()}catch(b){a=b}e()}}catch(b){if(b&&a&&typeof b.stack=="string"){for(var o=b.stack.split(`
`),c=a.stack.split(`
`),d=o.length-1,g=c.length-1;1<=d&&0<=g&&o[d]!==c[g];)g--;for(;1<=d&&0<=g;d--,g--)if(o[d]!==c[g]){if(d!==1||g!==1)do if(d--,g--,0>g||o[d]!==c[g]){var h=`
`+o[d].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=d&&0<=g);break}}}finally{Na=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return s=e.displayName||null,s!==null?s:Qa(e.type)||"Memo";case Ha:s=e._payload,e=e._init;try{return Qa(e(s))}catch{}}return null}function Ra(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(e){var s=Ta(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),a=""+e[s];if(!e.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,c=i.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return o.call(this)},set:function(d){a=""+d,c.call(this,d)}}),Object.defineProperty(e,s,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(d){a=""+d},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var i=s.getValue(),a="";return e&&(a=Ta(e)?e.checked?"true":"false":e.value),e=a,e!==i?(s.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,s){var i=s.checked;return A({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Za(e,s){var i=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;i=Sa(s.value!=null?s.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(e,s){s=s.checked,s!=null&&ta(e,"checked",s,!1)}function bb(e,s){ab(e,s);var i=Sa(s.value),a=s.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?cb(e,s.type,i):s.hasOwnProperty("defaultValue")&&cb(e,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function db(e,s,i){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,i||s===e.value||(e.value=s),e.defaultValue=s}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function cb(e,s,i){(s!=="number"||Xa(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var eb=Array.isArray;function fb(e,s,i,a){if(e=e.options,s){s={};for(var o=0;o<i.length;o++)s["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=s.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Sa(i),s=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,a&&(e[o].defaultSelected=!0);return}s!==null||e[o].disabled||(s=e[o])}s!==null&&(s.selected=!0)}}function gb(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,s){var i=s.value;if(i==null){if(i=s.children,s=s.defaultValue,i!=null){if(s!=null)throw Error(p(92));if(eb(i)){if(1<i.length)throw Error(p(93));i=i[0]}s=i}s==null&&(s=""),i=s}e._wrapperState={initialValue:Sa(i)}}function ib(e,s){var i=Sa(s.value),a=Sa(s.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),s.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function jb(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,i,a,o){MSApp.execUnsafeLocalFunction(function(){return e(s,i,a,o)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function ob(e,s){if(s){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=s;return}}e.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),pb[s]=pb[e]})});function rb(e,s,i){return s==null||typeof s=="boolean"||s===""?"":i||typeof s!="number"||s===0||pb.hasOwnProperty(e)&&pb[e]?(""+s).trim():s+"px"}function sb(e,s){e=e.style;for(var i in s)if(s.hasOwnProperty(i)){var a=i.indexOf("--")===0,o=rb(i,s[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,o):e[i]=o}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,s){if(s){if(tb[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p(62))}}function vb(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p(280));var s=e.stateNode;s&&(s=Db(s),yb(e.stateNode,e.type,s))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,s=Ab;if(Ab=zb=null,Bb(e),s)for(e=0;e<s.length;e++)Bb(s[e])}}function Gb(e,s){return e(s)}function Hb(){}var Ib=!1;function Jb(e,s,i){if(Ib)return e(s,i);Ib=!0;try{return Gb(e,s,i)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,s){var i=e.stateNode;if(i===null)return null;var a=Db(i);if(a===null)return null;i=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(p(231,s,typeof i));return i}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,s,i,a,o,c,d,g,h){var b=Array.prototype.slice.call(arguments,3);try{s.apply(i,b)}catch(j){this.onError(j)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,s,i,a,o,c,d,g,h){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,s,i,a,o,c,d,g,h){if(Tb.apply(this,arguments),Ob){if(Ob){var b=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=b)}}function Vb(e){var s=e,i=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(i=s.return),e=s.return;while(e)}return s.tag===3?i:null}function Wb(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p(188))}function Yb(e){var s=e.alternate;if(!s){if(s=Vb(e),s===null)throw Error(p(188));return s!==e?null:e}for(var i=e,a=s;;){var o=i.return;if(o===null)break;var c=o.alternate;if(c===null){if(a=o.return,a!==null){i=a;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===i)return Xb(o),e;if(c===a)return Xb(o),s;c=c.sibling}throw Error(p(188))}if(i.return!==a.return)i=o,a=c;else{for(var d=!1,g=o.child;g;){if(g===i){d=!0,i=o,a=c;break}if(g===a){d=!0,a=o,i=c;break}g=g.sibling}if(!d){for(g=c.child;g;){if(g===i){d=!0,i=c,a=o;break}if(g===a){d=!0,a=c,i=o;break}g=g.sibling}if(!d)throw Error(p(189))}}if(i.alternate!==a)throw Error(p(190))}if(i.tag!==3)throw Error(p(188));return i.stateNode.current===i?e:s}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=$b(e);if(s!==null)return s;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,s){var i=e.pendingLanes;if(i===0)return 0;var a=0,o=e.suspendedLanes,c=e.pingedLanes,d=i&268435455;if(d!==0){var g=d&~o;g!==0?a=tc(g):(c&=d,c!==0&&(a=tc(c)))}else d=i&~o,d!==0?a=tc(d):c!==0&&(a=tc(c));if(a===0)return 0;if(s!==0&&s!==a&&!(s&o)&&(o=a&-a,c=s&-s,o>=c||o===16&&(c&4194240)!==0))return s;if(a&4&&(a|=i&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=a;0<s;)i=31-oc(s),o=1<<i,a|=e[i],s&=~o;return a}function vc(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,s){for(var i=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes;0<c;){var d=31-oc(c),g=1<<d,h=o[d];h===-1?(!(g&i)||g&a)&&(o[d]=vc(g,s)):h<=s&&(e.expiredLanes|=g),c&=~g}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var s=[],i=0;31>i;i++)s.push(e);return s}function Ac(e,s,i){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-oc(s),e[s]=i}function Bc(e,s){var i=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var o=31-oc(i),c=1<<o;s[o]=0,a[o]=-1,e[o]=-1,i&=~c}}function Cc(e,s){var i=e.entangledLanes|=s;for(e=e.entanglements;i;){var a=31-oc(i),o=1<<a;o&s|e[a]&s&&(e[a]|=s),i&=~o}}var C=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,s){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(e,s,i,a,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:s,domEventName:i,eventSystemFlags:a,nativeEvent:c,targetContainers:[o]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),e):(e.eventSystemFlags|=a,s=e.targetContainers,o!==null&&s.indexOf(o)===-1&&s.push(o),e)}function Uc(e,s,i,a,o){switch(s){case"focusin":return Lc=Tc(Lc,e,s,i,a,o),!0;case"dragenter":return Mc=Tc(Mc,e,s,i,a,o),!0;case"mouseover":return Nc=Tc(Nc,e,s,i,a,o),!0;case"pointerover":var c=o.pointerId;return Oc.set(c,Tc(Oc.get(c)||null,e,s,i,a,o)),!0;case"gotpointercapture":return c=o.pointerId,Pc.set(c,Tc(Pc.get(c)||null,e,s,i,a,o)),!0}return!1}function Vc(e){var s=Wc(e.target);if(s!==null){var i=Vb(s);if(i!==null){if(s=i.tag,s===13){if(s=Wb(i),s!==null){e.blockedOn=s,Ic(e.priority,function(){Gc(i)});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var i=Yc(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);wb=a,i.target.dispatchEvent(a),wb=null}else return s=Cb(i),s!==null&&Fc(s),e.blockedOn=i,!1;s.shift()}return!0}function Zc(e,s,i){Xc(e)&&i.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,s){e.blockedOn===s&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function s(o){return ad(o,e)}if(0<Kc.length){ad(Kc[0],e);for(var i=1;i<Kc.length;i++){var a=Kc[i];a.blockedOn===e&&(a.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(s),Pc.forEach(s),i=0;i<Qc.length;i++)a=Qc[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<Qc.length&&(i=Qc[0],i.blockedOn===null);)Vc(i),i.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,s,i,a){var o=C,c=cd.transition;cd.transition=null;try{C=1,fd(e,s,i,a)}finally{C=o,cd.transition=c}}function gd(e,s,i,a){var o=C,c=cd.transition;cd.transition=null;try{C=4,fd(e,s,i,a)}finally{C=o,cd.transition=c}}function fd(e,s,i,a){if(dd){var o=Yc(e,s,i,a);if(o===null)hd(e,s,a,id,i),Sc(e,a);else if(Uc(o,e,s,i,a))a.stopPropagation();else if(Sc(e,a),s&4&&-1<Rc.indexOf(e)){for(;o!==null;){var c=Cb(o);if(c!==null&&Ec(c),c=Yc(e,s,i,a),c===null&&hd(e,s,a,id,i),c===o)break;o=c}o!==null&&a.stopPropagation()}else hd(e,s,a,null,i)}}var id=null;function Yc(e,s,i,a){if(id=null,e=xb(a),e=Wc(e),e!==null)if(s=Vb(e),s===null)e=null;else if(i=s.tag,i===13){if(e=Wb(s),e!==null)return e;e=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return id=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,s=ld,i=s.length,a,o="value"in kd?kd.value:kd.textContent,c=o.length;for(e=0;e<i&&s[e]===o[e];e++);var d=i-e;for(a=1;a<=d&&s[i-a]===o[c-a];a++);return md=o.slice(e,1<a?1-a:void 0)}function od(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function s(i,a,o,c,d){this._reactName=i,this._targetInst=o,this.type=a,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(i=e[g],this[g]=i?i(c):c[g]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=Od[e])?!!s[e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(e){if(e.key){var s=Md[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(e,s){switch(e){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function je(e,s){switch(e){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe=!0,ee);case"textInput":return e=s.data,e===ee&&fe?null:e;default:return null}}function ke(e,s){if(ie)return e==="compositionend"||!ae&&ge(e,s)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!le[e.type]:s==="textarea"}function ne(e,s,i,a){Eb(a),s=oe(s,"onChange"),0<s.length&&(i=new td("onChange","change",null,i,a),e.push({event:i,listeners:s}))}var pe=null,qe=null;function re(e){se(e,0)}function te(e){var s=ue(e);if(Wa(s))return e}function ve(e,s){if(e==="change")return s}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(e){if(e.propertyName==="value"&&te(qe)){var s=[];ne(s,qe,e,xb(e)),Jb(re,s)}}function Ce(e,s,i){e==="focusin"?(Ae(),pe=s,qe=i,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae()}function De(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te(qe)}function Ee(e,s){if(e==="click")return te(s)}function Fe(e,s){if(e==="input"||e==="change")return te(s)}function Ge(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(e,s){if(He(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var i=Object.keys(e),a=Object.keys(s);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var o=i[a];if(!ja.call(s,o)||!He(e[o],s[o]))return!1}return!0}function Je(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,s){var i=Je(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=s&&a>=s)return{node:i,offset:s-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Je(i)}}function Le(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Le(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var e=window,s=Xa();s instanceof e.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)e=s.contentWindow;else break;s=Xa(e.document)}return s}function Ne(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function Oe(e){var s=Me(),i=e.focusedElem,a=e.selectionRange;if(s!==i&&i&&i.ownerDocument&&Le(i.ownerDocument.documentElement,i)){if(a!==null&&Ne(i)){if(s=a.start,e=a.end,e===void 0&&(e=s),"selectionStart"in i)i.selectionStart=s,i.selectionEnd=Math.min(e,i.value.length);else if(e=(s=i.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var o=i.textContent.length,c=Math.min(a.start,o);a=a.end===void 0?c:Math.min(a.end,o),!e.extend&&c>a&&(o=a,a=c,c=o),o=Ke(i,c);var d=Ke(i,a);o&&d&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(s=s.createRange(),s.setStart(o.node,o.offset),e.removeAllRanges(),c>a?(e.addRange(s),e.extend(d.node,d.offset)):(s.setEnd(d.node,d.offset),e.addRange(s)))}}for(s=[],e=i;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<s.length;i++)e=s[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(e,s,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Te||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se&&Ie(Se,a)||(Se=a,a=oe(Re,"onSelect"),0<a.length&&(s=new td("onSelect","select",null,s,i),e.push({event:s,listeners:a}),s.target=Qe)))}function Ve(e,s){var i={};return i[e.toLowerCase()]=s.toLowerCase(),i["Webkit"+e]="webkit"+s,i["Moz"+e]="moz"+s,i}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(e){if(Xe[e])return Xe[e];if(!We[e])return e;var s=We[e],i;for(i in s)if(s.hasOwnProperty(i)&&i in Ye)return Xe[e]=s[i];return e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,s){df.set(e,s),fa(s,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,s,i){var a=e.type||"unknown-event";e.currentTarget=i,Ub(a,s,void 0,e),e.currentTarget=null}function se(e,s){s=(s&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],o=a.event;a=a.listeners;e:{var c=void 0;if(s)for(var d=a.length-1;0<=d;d--){var g=a[d],h=g.instance,b=g.currentTarget;if(g=g.listener,h!==c&&o.isPropagationStopped())break e;nf(o,g,b),c=h}else for(d=0;d<a.length;d++){if(g=a[d],h=g.instance,b=g.currentTarget,g=g.listener,h!==c&&o.isPropagationStopped())break e;nf(o,g,b),c=h}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D(e,s){var i=s[of];i===void 0&&(i=s[of]=new Set);var a=e+"__bubble";i.has(a)||(pf(s,e,2,!1),i.add(a))}function qf(e,s,i){var a=0;s&&(a|=4),pf(i,e,a,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(i){i!=="selectionchange"&&(mf.has(i)||qf(i,!1,e),qf(i,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(e,s,i,a){switch(jd(s)){case 1:var o=ed;break;case 4:o=gd;break;default:o=fd}i=o.bind(null,s,i,e),o=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(o=!0),a?o!==void 0?e.addEventListener(s,i,{capture:!0,passive:o}):e.addEventListener(s,i,!0):o!==void 0?e.addEventListener(s,i,{passive:o}):e.addEventListener(s,i,!1)}function hd(e,s,i,a,o){var c=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var d=a.tag;if(d===3||d===4){var g=a.stateNode.containerInfo;if(g===o||g.nodeType===8&&g.parentNode===o)break;if(d===4)for(d=a.return;d!==null;){var h=d.tag;if((h===3||h===4)&&(h=d.stateNode.containerInfo,h===o||h.nodeType===8&&h.parentNode===o))return;d=d.return}for(;g!==null;){if(d=Wc(g),d===null)return;if(h=d.tag,h===5||h===6){a=c=d;continue e}g=g.parentNode}}a=a.return}Jb(function(){var b=c,j=xb(i),_=[];e:{var $=df.get(e);if($!==void 0){var rt=td,nt=e;switch(e){case"keypress":if(od(i)===0)break e;case"keydown":case"keyup":rt=Rd;break;case"focusin":nt="focus",rt=Fd;break;case"focusout":nt="blur",rt=Fd;break;case"beforeblur":case"afterblur":rt=Fd;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=Vd;break;case $e:case af:case bf:rt=Hd;break;case cf:rt=Xd;break;case"scroll":rt=vd;break;case"wheel":rt=Zd;break;case"copy":case"cut":case"paste":rt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Td}var dt=(s&4)!==0,st=!dt&&e==="scroll",_e=dt?$!==null?$+"Capture":null:$;dt=[];for(var tt=b,it;tt!==null;){it=tt;var ct=it.stateNode;if(it.tag===5&&ct!==null&&(it=ct,_e!==null&&(ct=Kb(tt,_e),ct!=null&&dt.push(tf(tt,ct,it)))),st)break;tt=tt.return}0<dt.length&&($=new rt($,nt,null,i,j),_.push({event:$,listeners:dt}))}}if(!(s&7)){e:{if($=e==="mouseover"||e==="pointerover",rt=e==="mouseout"||e==="pointerout",$&&i!==wb&&(nt=i.relatedTarget||i.fromElement)&&(Wc(nt)||nt[uf]))break e;if((rt||$)&&($=j.window===j?j:($=j.ownerDocument)?$.defaultView||$.parentWindow:window,rt?(nt=i.relatedTarget||i.toElement,rt=b,nt=nt?Wc(nt):null,nt!==null&&(st=Vb(nt),nt!==st||nt.tag!==5&&nt.tag!==6)&&(nt=null)):(rt=null,nt=b),rt!==nt)){if(dt=Bd,ct="onMouseLeave",_e="onMouseEnter",tt="mouse",(e==="pointerout"||e==="pointerover")&&(dt=Td,ct="onPointerLeave",_e="onPointerEnter",tt="pointer"),st=rt==null?$:ue(rt),it=nt==null?$:ue(nt),$=new dt(ct,tt+"leave",rt,i,j),$.target=st,$.relatedTarget=it,ct=null,Wc(j)===b&&(dt=new dt(_e,tt+"enter",nt,i,j),dt.target=it,dt.relatedTarget=st,ct=dt),st=ct,rt&&nt)t:{for(dt=rt,_e=nt,tt=0,it=dt;it;it=vf(it))tt++;for(it=0,ct=_e;ct;ct=vf(ct))it++;for(;0<tt-it;)dt=vf(dt),tt--;for(;0<it-tt;)_e=vf(_e),it--;for(;tt--;){if(dt===_e||_e!==null&&dt===_e.alternate)break t;dt=vf(dt),_e=vf(_e)}dt=null}else dt=null;rt!==null&&wf(_,$,rt,dt,!1),nt!==null&&st!==null&&wf(_,st,nt,dt,!0)}}e:{if($=b?ue(b):window,rt=$.nodeName&&$.nodeName.toLowerCase(),rt==="select"||rt==="input"&&$.type==="file")var ot=ve;else if(me($))if(we)ot=Fe;else{ot=De;var pt=Ce}else(rt=$.nodeName)&&rt.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(ot=Ee);if(ot&&(ot=ot(e,b))){ne(_,ot,i,j);break e}pt&&pt(e,$,b),e==="focusout"&&(pt=$._wrapperState)&&pt.controlled&&$.type==="number"&&cb($,"number",$.value)}switch(pt=b?ue(b):window,e){case"focusin":(me(pt)||pt.contentEditable==="true")&&(Qe=pt,Re=b,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(_,i,j);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(_,i,j)}var et;if(ae)e:{switch(e){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else ie?ge(e,i)&&(at="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(at="onCompositionStart");at&&(de&&i.locale!=="ko"&&(ie||at!=="onCompositionStart"?at==="onCompositionEnd"&&ie&&(et=nd()):(kd=j,ld="value"in kd?kd.value:kd.textContent,ie=!0)),pt=oe(b,at),0<pt.length&&(at=new Ld(at,e,null,i,j),_.push({event:at,listeners:pt}),et?at.data=et:(et=he(i),et!==null&&(at.data=et)))),(et=ce?je(e,i):ke(e,i))&&(b=oe(b,"onBeforeInput"),0<b.length&&(j=new Ld("onBeforeInput","beforeinput",null,i,j),_.push({event:j,listeners:b}),j.data=et))}se(_,s)})}function tf(e,s,i){return{instance:e,listener:s,currentTarget:i}}function oe(e,s){for(var i=s+"Capture",a=[];e!==null;){var o=e,c=o.stateNode;o.tag===5&&c!==null&&(o=c,c=Kb(e,i),c!=null&&a.unshift(tf(e,c,o)),c=Kb(e,s),c!=null&&a.push(tf(e,c,o))),e=e.return}return a}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,s,i,a,o){for(var c=s._reactName,d=[];i!==null&&i!==a;){var g=i,h=g.alternate,b=g.stateNode;if(h!==null&&h===a)break;g.tag===5&&b!==null&&(g=b,o?(h=Kb(i,c),h!=null&&d.unshift(tf(i,h,g))):o||(h=Kb(i,c),h!=null&&d.push(tf(i,h,g)))),i=i.return}d.length!==0&&e.push({event:s,listeners:d})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,s,i){if(s=zf(s),zf(e)!==s&&i)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,s){var i=s,a=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(a===0){e.removeChild(o),bd(s);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=o}while(i);bd(s)}function Lf(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return e;s--}else i==="/$"&&s++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var s=e[Of];if(s)return s;for(var i=e.parentNode;i;){if(s=i[uf]||i[Of]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(e=Mf(e);e!==null;){if(i=e[Of])return i;e=Mf(e)}return s}e=i,i=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,s){Tf++,Sf[Tf]=e.current,e.current=s}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,s){var i=e.type.contextTypes;if(!i)return Vf;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var o={},c;for(c in i)o[c]=s[c];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),o}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H)}function ag(e,s,i){if(H.current!==Vf)throw Error(p(168));G(H,s),G(Wf,i)}function bg(e,s,i){var a=e.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var o in a)if(!(o in s))throw Error(p(108,Ra(e)||"Unknown",o));return A({},i,a)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,e),G(Wf,Wf.current),!0}function dg(e,s,i){var a=e.stateNode;if(!a)throw Error(p(169));i?(e=bg(e,s,Xf),a.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H),G(H,e)):E(Wf),G(Wf,i)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,s=C;try{var i=eg;for(C=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch(o){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),o}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,s){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=s}function ug(e,s,i){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var a=rg;e=sg;var o=32-oc(a)-1;a&=~(1<<o),i+=1;var c=32-oc(s)+o;if(30<c){var d=o-o%5;c=(a&(1<<d)-1).toString(32),a>>=d,o-=d,rg=1<<32-oc(s)+o|i<<o|a,sg=c+e}else rg=1<<c|i<<o|a,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,s){var i=Bg(5,null,null,0);i.elementType="DELETED",i.stateNode=s,i.return=e,s=e.deletions,s===null?(e.deletions=[i],e.flags|=16):s.push(i)}function Cg(e,s){switch(e.tag){case 5:var i=e.type;return s=s.nodeType!==1||i.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,xg=e,yg=Lf(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,xg=e,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(i=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:s,treeContext:i,retryLane:1073741824},i=Bg(18,null,null,0),i.stateNode=s,i.return=e,e.child=i,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var s=yg;if(s){var i=s;if(!Cg(e,s)){if(Dg(e))throw Error(p(418));s=Lf(i.nextSibling);var a=xg;s&&Cg(e,s)?Ag(a,i):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!Ef(e.type,e.memoizedProps)),s&&(s=yg)){if(Dg(e))throw Hg(),Error(p(418));for(;s;)Ag(e,s),s=Lf(s.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(s===0){yg=Lf(e.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,s,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(p(309));var a=i.stateNode}if(!a)throw Error(p(147,e));var o=a,c=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===c?s.ref:(s=function(d){var g=o.refs;d===null?delete g[c]:g[c]=d},s._stringRef=c,s)}if(typeof e!="string")throw Error(p(284));if(!i._owner)throw Error(p(290,e))}return e}function Mg(e,s){throw e=Object.prototype.toString.call(s),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function Ng(e){var s=e._init;return s(e._payload)}function Og(e){function s(_e,tt){if(e){var it=_e.deletions;it===null?(_e.deletions=[tt],_e.flags|=16):it.push(tt)}}function i(_e,tt){if(!e)return null;for(;tt!==null;)s(_e,tt),tt=tt.sibling;return null}function a(_e,tt){for(_e=new Map;tt!==null;)tt.key!==null?_e.set(tt.key,tt):_e.set(tt.index,tt),tt=tt.sibling;return _e}function o(_e,tt){return _e=Pg(_e,tt),_e.index=0,_e.sibling=null,_e}function c(_e,tt,it){return _e.index=it,e?(it=_e.alternate,it!==null?(it=it.index,it<tt?(_e.flags|=2,tt):it):(_e.flags|=2,tt)):(_e.flags|=1048576,tt)}function d(_e){return e&&_e.alternate===null&&(_e.flags|=2),_e}function g(_e,tt,it,ct){return tt===null||tt.tag!==6?(tt=Qg(it,_e.mode,ct),tt.return=_e,tt):(tt=o(tt,it),tt.return=_e,tt)}function h(_e,tt,it,ct){var ot=it.type;return ot===ya?j(_e,tt,it.props.children,ct,it.key):tt!==null&&(tt.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===Ha&&Ng(ot)===tt.type)?(ct=o(tt,it.props),ct.ref=Lg(_e,tt,it),ct.return=_e,ct):(ct=Rg(it.type,it.key,it.props,null,_e.mode,ct),ct.ref=Lg(_e,tt,it),ct.return=_e,ct)}function b(_e,tt,it,ct){return tt===null||tt.tag!==4||tt.stateNode.containerInfo!==it.containerInfo||tt.stateNode.implementation!==it.implementation?(tt=Sg(it,_e.mode,ct),tt.return=_e,tt):(tt=o(tt,it.children||[]),tt.return=_e,tt)}function j(_e,tt,it,ct,ot){return tt===null||tt.tag!==7?(tt=Tg(it,_e.mode,ct,ot),tt.return=_e,tt):(tt=o(tt,it),tt.return=_e,tt)}function _(_e,tt,it){if(typeof tt=="string"&&tt!==""||typeof tt=="number")return tt=Qg(""+tt,_e.mode,it),tt.return=_e,tt;if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case va:return it=Rg(tt.type,tt.key,tt.props,null,_e.mode,it),it.ref=Lg(_e,null,tt),it.return=_e,it;case wa:return tt=Sg(tt,_e.mode,it),tt.return=_e,tt;case Ha:var ct=tt._init;return _(_e,ct(tt._payload),it)}if(eb(tt)||Ka(tt))return tt=Tg(tt,_e.mode,it,null),tt.return=_e,tt;Mg(_e,tt)}return null}function $(_e,tt,it,ct){var ot=tt!==null?tt.key:null;if(typeof it=="string"&&it!==""||typeof it=="number")return ot!==null?null:g(_e,tt,""+it,ct);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case va:return it.key===ot?h(_e,tt,it,ct):null;case wa:return it.key===ot?b(_e,tt,it,ct):null;case Ha:return ot=it._init,$(_e,tt,ot(it._payload),ct)}if(eb(it)||Ka(it))return ot!==null?null:j(_e,tt,it,ct,null);Mg(_e,it)}return null}function rt(_e,tt,it,ct,ot){if(typeof ct=="string"&&ct!==""||typeof ct=="number")return _e=_e.get(it)||null,g(tt,_e,""+ct,ot);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case va:return _e=_e.get(ct.key===null?it:ct.key)||null,h(tt,_e,ct,ot);case wa:return _e=_e.get(ct.key===null?it:ct.key)||null,b(tt,_e,ct,ot);case Ha:var pt=ct._init;return rt(_e,tt,it,pt(ct._payload),ot)}if(eb(ct)||Ka(ct))return _e=_e.get(it)||null,j(tt,_e,ct,ot,null);Mg(tt,ct)}return null}function nt(_e,tt,it,ct){for(var ot=null,pt=null,et=tt,at=tt=0,ht=null;et!==null&&at<it.length;at++){et.index>at?(ht=et,et=null):ht=et.sibling;var xt=$(_e,et,it[at],ct);if(xt===null){et===null&&(et=ht);break}e&&et&&xt.alternate===null&&s(_e,et),tt=c(xt,tt,at),pt===null?ot=xt:pt.sibling=xt,pt=xt,et=ht}if(at===it.length)return i(_e,et),I&&tg(_e,at),ot;if(et===null){for(;at<it.length;at++)et=_(_e,it[at],ct),et!==null&&(tt=c(et,tt,at),pt===null?ot=et:pt.sibling=et,pt=et);return I&&tg(_e,at),ot}for(et=a(_e,et);at<it.length;at++)ht=rt(et,_e,at,it[at],ct),ht!==null&&(e&&ht.alternate!==null&&et.delete(ht.key===null?at:ht.key),tt=c(ht,tt,at),pt===null?ot=ht:pt.sibling=ht,pt=ht);return e&&et.forEach(function(ut){return s(_e,ut)}),I&&tg(_e,at),ot}function dt(_e,tt,it,ct){var ot=Ka(it);if(typeof ot!="function")throw Error(p(150));if(it=ot.call(it),it==null)throw Error(p(151));for(var pt=ot=null,et=tt,at=tt=0,ht=null,xt=it.next();et!==null&&!xt.done;at++,xt=it.next()){et.index>at?(ht=et,et=null):ht=et.sibling;var ut=$(_e,et,xt.value,ct);if(ut===null){et===null&&(et=ht);break}e&&et&&ut.alternate===null&&s(_e,et),tt=c(ut,tt,at),pt===null?ot=ut:pt.sibling=ut,pt=ut,et=ht}if(xt.done)return i(_e,et),I&&tg(_e,at),ot;if(et===null){for(;!xt.done;at++,xt=it.next())xt=_(_e,xt.value,ct),xt!==null&&(tt=c(xt,tt,at),pt===null?ot=xt:pt.sibling=xt,pt=xt);return I&&tg(_e,at),ot}for(et=a(_e,et);!xt.done;at++,xt=it.next())xt=rt(et,_e,at,xt.value,ct),xt!==null&&(e&&xt.alternate!==null&&et.delete(xt.key===null?at:xt.key),tt=c(xt,tt,at),pt===null?ot=xt:pt.sibling=xt,pt=xt);return e&&et.forEach(function(gt){return s(_e,gt)}),I&&tg(_e,at),ot}function st(_e,tt,it,ct){if(typeof it=="object"&&it!==null&&it.type===ya&&it.key===null&&(it=it.props.children),typeof it=="object"&&it!==null){switch(it.$$typeof){case va:e:{for(var ot=it.key,pt=tt;pt!==null;){if(pt.key===ot){if(ot=it.type,ot===ya){if(pt.tag===7){i(_e,pt.sibling),tt=o(pt,it.props.children),tt.return=_e,_e=tt;break e}}else if(pt.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===Ha&&Ng(ot)===pt.type){i(_e,pt.sibling),tt=o(pt,it.props),tt.ref=Lg(_e,pt,it),tt.return=_e,_e=tt;break e}i(_e,pt);break}else s(_e,pt);pt=pt.sibling}it.type===ya?(tt=Tg(it.props.children,_e.mode,ct,it.key),tt.return=_e,_e=tt):(ct=Rg(it.type,it.key,it.props,null,_e.mode,ct),ct.ref=Lg(_e,tt,it),ct.return=_e,_e=ct)}return d(_e);case wa:e:{for(pt=it.key;tt!==null;){if(tt.key===pt)if(tt.tag===4&&tt.stateNode.containerInfo===it.containerInfo&&tt.stateNode.implementation===it.implementation){i(_e,tt.sibling),tt=o(tt,it.children||[]),tt.return=_e,_e=tt;break e}else{i(_e,tt);break}else s(_e,tt);tt=tt.sibling}tt=Sg(it,_e.mode,ct),tt.return=_e,_e=tt}return d(_e);case Ha:return pt=it._init,st(_e,tt,pt(it._payload),ct)}if(eb(it))return nt(_e,tt,it,ct);if(Ka(it))return dt(_e,tt,it,ct);Mg(_e,it)}return typeof it=="string"&&it!==""||typeof it=="number"?(it=""+it,tt!==null&&tt.tag===6?(i(_e,tt.sibling),tt=o(tt,it),tt.return=_e,_e=tt):(i(_e,tt),tt=Qg(it,_e.mode,ct),tt.return=_e,_e=tt),d(_e)):i(_e,tt)}return st}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(e){var s=Wg.current;E(Wg),e._currentValue=s}function bh(e,s,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),e===i)break;e=e.return}}function ch(e,s){Xg=e,Zg=Yg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&s&&(dh=!0),e.firstContext=null)}function eh(e){var s=e._currentValue;if(Zg!==e)if(e={context:e,memoizedValue:s,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=e,Xg.dependencies={lanes:0,firstContext:e}}else Yg=Yg.next=e;return s}var fh=null;function gh(e){fh===null?fh=[e]:fh.push(e)}function hh(e,s,i,a){var o=s.interleaved;return o===null?(i.next=i,gh(s)):(i.next=o.next,o.next=i),s.interleaved=i,ih(e,a)}function ih(e,s){e.lanes|=s;var i=e.alternate;for(i!==null&&(i.lanes|=s),i=e,e=e.return;e!==null;)e.childLanes|=s,i=e.alternate,i!==null&&(i.childLanes|=s),i=e,e=e.return;return i.tag===3?i.stateNode:null}var jh=!1;function kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mh(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function nh(e,s,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,K&2){var o=a.pending;return o===null?s.next=s:(s.next=o.next,o.next=s),a.pending=s,ih(e,i)}return o=a.interleaved,o===null?(s.next=s,gh(a)):(s.next=o.next,o.next=s),a.interleaved=s,ih(e,i)}function oh(e,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194240)!==0)){var a=s.lanes;a&=e.pendingLanes,i|=a,s.lanes=i,Cc(e,i)}}function ph(e,s){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var o=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var d={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};c===null?o=c=d:c=c.next=d,i=i.next}while(i!==null);c===null?o=c=s:c=c.next=s}else o=c=s;i={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=s:e.next=s,i.lastBaseUpdate=s}function qh(e,s,i,a){var o=e.updateQueue;jh=!1;var c=o.firstBaseUpdate,d=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var h=g,b=h.next;h.next=null,d===null?c=b:d.next=b,d=h;var j=e.alternate;j!==null&&(j=j.updateQueue,g=j.lastBaseUpdate,g!==d&&(g===null?j.firstBaseUpdate=b:g.next=b,j.lastBaseUpdate=h))}if(c!==null){var _=o.baseState;d=0,j=b=h=null,g=c;do{var $=g.lane,rt=g.eventTime;if((a&$)===$){j!==null&&(j=j.next={eventTime:rt,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var nt=e,dt=g;switch($=s,rt=i,dt.tag){case 1:if(nt=dt.payload,typeof nt=="function"){_=nt.call(rt,_,$);break e}_=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=dt.payload,$=typeof nt=="function"?nt.call(rt,_,$):nt,$==null)break e;_=A({},_,$);break e;case 2:jh=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,$=o.effects,$===null?o.effects=[g]:$.push(g))}else rt={eventTime:rt,lane:$,tag:g.tag,payload:g.payload,callback:g.callback,next:null},j===null?(b=j=rt,h=_):j=j.next=rt,d|=$;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;$=g,g=$.next,$.next=null,o.lastBaseUpdate=$,o.shared.pending=null}}while(!0);if(j===null&&(h=_),o.baseState=h,o.firstBaseUpdate=b,o.lastBaseUpdate=j,s=o.shared.interleaved,s!==null){o=s;do d|=o.lane,o=o.next;while(o!==s)}else c===null&&(o.shared.lanes=0);rh|=d,e.lanes=d,e.memoizedState=_}}function sh(e,s,i){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var a=e[s],o=a.callback;if(o!==null){if(a.callback=null,a=i,typeof o!="function")throw Error(p(191,o));o.call(a)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(e){if(e===th)throw Error(p(174));return e}function yh(e,s){switch(G(wh,s),G(vh,e),G(uh,th),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=lb(s,e)}E(uh),G(uh,s)}function zh(){E(uh),E(vh),E(wh)}function Ah(e){xh(wh.current);var s=xh(uh.current),i=lb(s,e.type);s!==i&&(G(vh,e),G(uh,i))}function Bh(e){vh.current===e&&(E(uh),E(vh))}var L=Uf(0);function Ch(e){for(var s=e;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Eh(){for(var e=0;e<Dh.length;e++)Dh[e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(e,s){if(s===null)return!1;for(var i=0;i<s.length&&i<e.length;i++)if(!He(e[i],s[i]))return!1;return!0}function Nh(e,s,i,a,o,c){if(Hh=c,M=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fh.current=e===null||e.memoizedState===null?Oh:Ph,e=i(a,o),Jh){c=0;do{if(Jh=!1,Kh=0,25<=c)throw Error(p(301));c+=1,O=N=null,s.updateQueue=null,Fh.current=Qh,e=i(a,o)}while(Jh)}if(Fh.current=Rh,s=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,s)throw Error(p(300));return e}function Sh(){var e=Kh!==0;return Kh=0,e}function Th(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=e:O=O.next=e,O}function Uh(){if(N===null){var e=M.alternate;e=e!==null?e.memoizedState:null}else e=N.next;var s=O===null?M.memoizedState:O.next;if(s!==null)O=s,N=e;else{if(e===null)throw Error(p(310));N=e,e={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=e:O=O.next=e}return O}function Vh(e,s){return typeof s=="function"?s(e):s}function Wh(e){var s=Uh(),i=s.queue;if(i===null)throw Error(p(311));i.lastRenderedReducer=e;var a=N,o=a.baseQueue,c=i.pending;if(c!==null){if(o!==null){var d=o.next;o.next=c.next,c.next=d}a.baseQueue=o=c,i.pending=null}if(o!==null){c=o.next,a=a.baseState;var g=d=null,h=null,b=c;do{var j=b.lane;if((Hh&j)===j)h!==null&&(h=h.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),a=b.hasEagerState?b.eagerState:e(a,b.action);else{var _={lane:j,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};h===null?(g=h=_,d=a):h=h.next=_,M.lanes|=j,rh|=j}b=b.next}while(b!==null&&b!==c);h===null?d=a:h.next=g,He(a,s.memoizedState)||(dh=!0),s.memoizedState=a,s.baseState=d,s.baseQueue=h,i.lastRenderedState=a}if(e=i.interleaved,e!==null){o=e;do c=o.lane,M.lanes|=c,rh|=c,o=o.next;while(o!==e)}else o===null&&(i.lanes=0);return[s.memoizedState,i.dispatch]}function Xh(e){var s=Uh(),i=s.queue;if(i===null)throw Error(p(311));i.lastRenderedReducer=e;var a=i.dispatch,o=i.pending,c=s.memoizedState;if(o!==null){i.pending=null;var d=o=o.next;do c=e(c,d.action),d=d.next;while(d!==o);He(c,s.memoizedState)||(dh=!0),s.memoizedState=c,s.baseQueue===null&&(s.baseState=c),i.lastRenderedState=c}return[c,a]}function Yh(){}function Zh(e,s){var i=M,a=Uh(),o=s(),c=!He(a.memoizedState,o);if(c&&(a.memoizedState=o,dh=!0),a=a.queue,$h(ai.bind(null,i,a,e),[e]),a.getSnapshot!==s||c||O!==null&&O.memoizedState.tag&1){if(i.flags|=2048,bi(9,ci.bind(null,i,a,o,s),void 0,null),Q===null)throw Error(p(349));Hh&30||di(i,s,o)}return o}function di(e,s,i){e.flags|=16384,e={getSnapshot:s,value:i},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.stores=[e]):(i=s.stores,i===null?s.stores=[e]:i.push(e))}function ci(e,s,i,a){s.value=i,s.getSnapshot=a,ei(s)&&fi(e)}function ai(e,s,i){return i(function(){ei(s)&&fi(e)})}function ei(e){var s=e.getSnapshot;e=e.value;try{var i=s();return!He(e,i)}catch{return!0}}function fi(e){var s=ih(e,1);s!==null&&gi(s,e,1,-1)}function hi(e){var s=Th();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:e},s.queue=e,e=e.dispatch=ii.bind(null,M,e),[s.memoizedState,e]}function bi(e,s,i,a){return e={tag:e,create:s,destroy:i,deps:a,next:null},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.lastEffect=e.next=e):(i=s.lastEffect,i===null?s.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,s.lastEffect=e)),e}function ji(){return Uh().memoizedState}function ki(e,s,i,a){var o=Th();M.flags|=e,o.memoizedState=bi(1|s,i,void 0,a===void 0?null:a)}function li(e,s,i,a){var o=Uh();a=a===void 0?null:a;var c=void 0;if(N!==null){var d=N.memoizedState;if(c=d.destroy,a!==null&&Mh(a,d.deps)){o.memoizedState=bi(s,i,c,a);return}}M.flags|=e,o.memoizedState=bi(1|s,i,c,a)}function mi(e,s){return ki(8390656,8,e,s)}function $h(e,s){return li(2048,8,e,s)}function ni(e,s){return li(4,2,e,s)}function oi(e,s){return li(4,4,e,s)}function pi(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function qi(e,s,i){return i=i!=null?i.concat([e]):null,li(4,4,pi.bind(null,s,e),i)}function ri(){}function si(e,s){var i=Uh();s=s===void 0?null:s;var a=i.memoizedState;return a!==null&&s!==null&&Mh(s,a[1])?a[0]:(i.memoizedState=[e,s],e)}function ti(e,s){var i=Uh();s=s===void 0?null:s;var a=i.memoizedState;return a!==null&&s!==null&&Mh(s,a[1])?a[0]:(e=e(),i.memoizedState=[e,s],e)}function ui(e,s,i){return Hh&21?(He(i,s)||(i=yc(),M.lanes|=i,rh|=i,e.baseState=!0),s):(e.baseState&&(e.baseState=!1,dh=!0),e.memoizedState=i)}function vi(e,s){var i=C;C=i!==0&&4>i?i:4,e(!0);var a=Gh.transition;Gh.transition={};try{e(!1),s()}finally{C=i,Gh.transition=a}}function wi(){return Uh().memoizedState}function xi(e,s,i){var a=yi(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},zi(e))Ai(s,i);else if(i=hh(e,s,i,a),i!==null){var o=R();gi(i,e,a,o),Bi(i,s,a)}}function ii(e,s,i){var a=yi(e),o={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(zi(e))Ai(s,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=s.lastRenderedReducer,c!==null))try{var d=s.lastRenderedState,g=c(d,i);if(o.hasEagerState=!0,o.eagerState=g,He(g,d)){var h=s.interleaved;h===null?(o.next=o,gh(s)):(o.next=h.next,h.next=o),s.interleaved=o;return}}catch{}finally{}i=hh(e,s,o,a),i!==null&&(o=R(),gi(i,e,a,o),Bi(i,s,a))}}function zi(e){var s=e.alternate;return e===M||s!==null&&s===M}function Ai(e,s){Jh=Ih=!0;var i=e.pending;i===null?s.next=s:(s.next=i.next,i.next=s),e.pending=s}function Bi(e,s,i){if(i&4194240){var a=s.lanes;a&=e.pendingLanes,i|=a,s.lanes=i,Cc(e,i)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(e,s){return Th().memoizedState=[e,s===void 0?null:s],e},useContext:eh,useEffect:mi,useImperativeHandle:function(e,s,i){return i=i!=null?i.concat([e]):null,ki(4194308,4,pi.bind(null,s,e),i)},useLayoutEffect:function(e,s){return ki(4194308,4,e,s)},useInsertionEffect:function(e,s){return ki(4,2,e,s)},useMemo:function(e,s){var i=Th();return s=s===void 0?null:s,e=e(),i.memoizedState=[e,s],e},useReducer:function(e,s,i){var a=Th();return s=i!==void 0?i(s):s,a.memoizedState=a.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=xi.bind(null,M,e),[a.memoizedState,e]},useRef:function(e){var s=Th();return e={current:e},s.memoizedState=e},useState:hi,useDebugValue:ri,useDeferredValue:function(e){return Th().memoizedState=e},useTransition:function(){var e=hi(!1),s=e[0];return e=vi.bind(null,e[1]),Th().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,i){var a=M,o=Th();if(I){if(i===void 0)throw Error(p(407));i=i()}else{if(i=s(),Q===null)throw Error(p(349));Hh&30||di(a,s,i)}o.memoizedState=i;var c={value:i,getSnapshot:s};return o.queue=c,mi(ai.bind(null,a,c,e),[e]),a.flags|=2048,bi(9,ci.bind(null,a,c,i,s),void 0,null),i},useId:function(){var e=Th(),s=Q.identifierPrefix;if(I){var i=sg,a=rg;i=(a&~(1<<32-oc(a)-1)).toString(32)+i,s=":"+s+"R"+i,i=Kh++,0<i&&(s+="H"+i.toString(32)),s+=":"}else i=Lh++,s=":"+s+"r"+i.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var s=Uh();return ui(s,N.memoizedState,e)},useTransition:function(){var e=Wh(Vh)[0],s=Uh().memoizedState;return[e,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var s=Uh();return N===null?s.memoizedState=e:ui(s,N.memoizedState,e)},useTransition:function(){var e=Xh(Vh)[0],s=Uh().memoizedState;return[e,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(e,s){if(e&&e.defaultProps){s=A({},s),e=e.defaultProps;for(var i in e)s[i]===void 0&&(s[i]=e[i]);return s}return s}function Di(e,s,i,a){s=e.memoizedState,i=i(a,s),i=i==null?s:A({},s,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ei={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,s,i){e=e._reactInternals;var a=R(),o=yi(e),c=mh(a,o);c.payload=s,i!=null&&(c.callback=i),s=nh(e,c,o),s!==null&&(gi(s,e,o,a),oh(s,e,o))},enqueueReplaceState:function(e,s,i){e=e._reactInternals;var a=R(),o=yi(e),c=mh(a,o);c.tag=1,c.payload=s,i!=null&&(c.callback=i),s=nh(e,c,o),s!==null&&(gi(s,e,o,a),oh(s,e,o))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var i=R(),a=yi(e),o=mh(i,a);o.tag=2,s!=null&&(o.callback=s),s=nh(e,o,a),s!==null&&(gi(s,e,a,i),oh(s,e,a))}};function Fi(e,s,i,a,o,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,d):s.prototype&&s.prototype.isPureReactComponent?!Ie(i,a)||!Ie(o,c):!0}function Gi(e,s,i){var a=!1,o=Vf,c=s.contextType;return typeof c=="object"&&c!==null?c=eh(c):(o=Zf(s)?Xf:H.current,a=s.contextTypes,c=(a=a!=null)?Yf(e,o):Vf),s=new s(i,c),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ei,e.stateNode=s,s._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=c),s}function Hi(e,s,i,a){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,a),s.state!==e&&Ei.enqueueReplaceState(s,s.state,null)}function Ii(e,s,i,a){var o=e.stateNode;o.props=i,o.state=e.memoizedState,o.refs={},kh(e);var c=s.contextType;typeof c=="object"&&c!==null?o.context=eh(c):(c=Zf(s)?Xf:H.current,o.context=Yf(e,c)),o.state=e.memoizedState,c=s.getDerivedStateFromProps,typeof c=="function"&&(Di(e,s,c,i),o.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(s=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),s!==o.state&&Ei.enqueueReplaceState(o,o.state,null),qh(e,i,o,a),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ji(e,s){try{var i="",a=s;do i+=Pa(a),a=a.return;while(a);var o=i}catch(c){o=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:s,stack:o,digest:null}}function Ki(e,s,i){return{value:e,source:null,stack:i??null,digest:s??null}}function Li(e,s){try{console.error(s.value)}catch(i){setTimeout(function(){throw i})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(e,s,i){i=mh(-1,i),i.tag=3,i.payload={element:null};var a=s.value;return i.callback=function(){Oi||(Oi=!0,Pi=a),Li(e,s)},i}function Qi(e,s,i){i=mh(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var o=s.value;i.payload=function(){return a(o)},i.callback=function(){Li(e,s)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(i.callback=function(){Li(e,s),typeof a!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var d=s.stack;this.componentDidCatch(s.value,{componentStack:d!==null?d:""})}),i}function Si(e,s,i){var a=e.pingCache;if(a===null){a=e.pingCache=new Mi;var o=new Set;a.set(s,o)}else o=a.get(s),o===void 0&&(o=new Set,a.set(s,o));o.has(i)||(o.add(i),e=Ti.bind(null,e,s,i),s.then(e,e))}function Ui(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function Vi(e,s,i,a,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===s?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(s=mh(-1,1),s.tag=2,nh(i,s,1))),i.lanes|=1),e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(e,s,i,a){s.child=e===null?Vg(s,null,i,a):Ug(s,e.child,i,a)}function Yi(e,s,i,a,o){i=i.render;var c=s.ref;return ch(s,o),a=Nh(e,s,i,a,c,o),i=Sh(),e!==null&&!dh?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~o,Zi(e,s,o)):(I&&i&&vg(s),s.flags|=1,Xi(e,s,a,o),s.child)}function $i(e,s,i,a,o){if(e===null){var c=i.type;return typeof c=="function"&&!aj(c)&&c.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(s.tag=15,s.type=c,bj(e,s,c,a,o)):(e=Rg(i.type,null,a,s,s.mode,o),e.ref=s.ref,e.return=s,s.child=e)}if(c=e.child,!(e.lanes&o)){var d=c.memoizedProps;if(i=i.compare,i=i!==null?i:Ie,i(d,a)&&e.ref===s.ref)return Zi(e,s,o)}return s.flags|=1,e=Pg(c,a),e.ref=s.ref,e.return=s,s.child=e}function bj(e,s,i,a,o){if(e!==null){var c=e.memoizedProps;if(Ie(c,a)&&e.ref===s.ref)if(dh=!1,s.pendingProps=a=c,(e.lanes&o)!==0)e.flags&131072&&(dh=!0);else return s.lanes=e.lanes,Zi(e,s,o)}return cj(e,s,i,a,o)}function dj(e,s,i){var a=s.pendingProps,o=a.children,c=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=i;else{if(!(i&1073741824))return e=c!==null?c.baseLanes|i:i,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,G(ej,fj),fj|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=c!==null?c.baseLanes:i,G(ej,fj),fj|=a}else c!==null?(a=c.baseLanes|i,s.memoizedState=null):a=i,G(ej,fj),fj|=a;return Xi(e,s,o,i),s.child}function gj(e,s){var i=s.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(s.flags|=512,s.flags|=2097152)}function cj(e,s,i,a,o){var c=Zf(i)?Xf:H.current;return c=Yf(s,c),ch(s,o),i=Nh(e,s,i,a,c,o),a=Sh(),e!==null&&!dh?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~o,Zi(e,s,o)):(I&&a&&vg(s),s.flags|=1,Xi(e,s,i,o),s.child)}function hj(e,s,i,a,o){if(Zf(i)){var c=!0;cg(s)}else c=!1;if(ch(s,o),s.stateNode===null)ij(e,s),Gi(s,i,a),Ii(s,i,a,o),a=!0;else if(e===null){var d=s.stateNode,g=s.memoizedProps;d.props=g;var h=d.context,b=i.contextType;typeof b=="object"&&b!==null?b=eh(b):(b=Zf(i)?Xf:H.current,b=Yf(s,b));var j=i.getDerivedStateFromProps,_=typeof j=="function"||typeof d.getSnapshotBeforeUpdate=="function";_||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==a||h!==b)&&Hi(s,d,a,b),jh=!1;var $=s.memoizedState;d.state=$,qh(s,a,d,o),h=s.memoizedState,g!==a||$!==h||Wf.current||jh?(typeof j=="function"&&(Di(s,i,j,a),h=s.memoizedState),(g=jh||Fi(s,i,g,a,$,h,b))?(_||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=h),d.props=a,d.state=h,d.context=b,a=g):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{d=s.stateNode,lh(e,s),g=s.memoizedProps,b=s.type===s.elementType?g:Ci(s.type,g),d.props=b,_=s.pendingProps,$=d.context,h=i.contextType,typeof h=="object"&&h!==null?h=eh(h):(h=Zf(i)?Xf:H.current,h=Yf(s,h));var rt=i.getDerivedStateFromProps;(j=typeof rt=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==_||$!==h)&&Hi(s,d,a,h),jh=!1,$=s.memoizedState,d.state=$,qh(s,a,d,o);var nt=s.memoizedState;g!==_||$!==nt||Wf.current||jh?(typeof rt=="function"&&(Di(s,i,rt,a),nt=s.memoizedState),(b=jh||Fi(s,i,b,a,$,nt,h)||!1)?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(a,nt,h),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(a,nt,h)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&$===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&$===e.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=nt),d.props=a,d.state=nt,d.context=h,a=b):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&$===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&$===e.memoizedState||(s.flags|=1024),a=!1)}return jj(e,s,i,a,c,o)}function jj(e,s,i,a,o,c){gj(e,s);var d=(s.flags&128)!==0;if(!a&&!d)return o&&dg(s,i,!1),Zi(e,s,c);a=s.stateNode,Wi.current=s;var g=d&&typeof i.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,e!==null&&d?(s.child=Ug(s,e.child,null,c),s.child=Ug(s,null,g,c)):Xi(e,s,g,c),s.memoizedState=a.state,o&&dg(s,i,!0),s.child}function kj(e){var s=e.stateNode;s.pendingContext?ag(e,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(e,s.context,!1),yh(e,s.containerInfo)}function lj(e,s,i,a,o){return Ig(),Jg(o),s.flags|=256,Xi(e,s,i,a),s.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(e){return{baseLanes:e,cachePool:null,transitions:null}}function oj(e,s,i){var a=s.pendingProps,o=L.current,c=!1,d=(s.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(o&2)!==0),g?(c=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),G(L,o&1),e===null)return Eg(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(s.mode&1?e.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(d=a.children,e=a.fallback,c?(a=s.mode,c=s.child,d={mode:"hidden",children:d},!(a&1)&&c!==null?(c.childLanes=0,c.pendingProps=d):c=pj(d,a,0,null),e=Tg(e,a,i,null),c.return=s,e.return=s,c.sibling=e,s.child=c,s.child.memoizedState=nj(i),s.memoizedState=mj,e):qj(s,d));if(o=e.memoizedState,o!==null&&(g=o.dehydrated,g!==null))return rj(e,s,d,a,g,o,i);if(c){c=a.fallback,d=s.mode,o=e.child,g=o.sibling;var h={mode:"hidden",children:a.children};return!(d&1)&&s.child!==o?(a=s.child,a.childLanes=0,a.pendingProps=h,s.deletions=null):(a=Pg(o,h),a.subtreeFlags=o.subtreeFlags&14680064),g!==null?c=Pg(g,c):(c=Tg(c,d,i,null),c.flags|=2),c.return=s,a.return=s,a.sibling=c,s.child=a,a=c,c=s.child,d=e.child.memoizedState,d=d===null?nj(i):{baseLanes:d.baseLanes|i,cachePool:null,transitions:d.transitions},c.memoizedState=d,c.childLanes=e.childLanes&~i,s.memoizedState=mj,a}return c=e.child,e=c.sibling,a=Pg(c,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=i),a.return=s,a.sibling=null,e!==null&&(i=s.deletions,i===null?(s.deletions=[e],s.flags|=16):i.push(e)),s.child=a,s.memoizedState=null,a}function qj(e,s){return s=pj({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function sj(e,s,i,a){return a!==null&&Jg(a),Ug(s,e.child,null,i),e=qj(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function rj(e,s,i,a,o,c,d){if(i)return s.flags&256?(s.flags&=-257,a=Ki(Error(p(422))),sj(e,s,d,a)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(c=a.fallback,o=s.mode,a=pj({mode:"visible",children:a.children},o,0,null),c=Tg(c,o,d,null),c.flags|=2,a.return=s,c.return=s,a.sibling=c,s.child=a,s.mode&1&&Ug(s,e.child,null,d),s.child.memoizedState=nj(d),s.memoizedState=mj,c);if(!(s.mode&1))return sj(e,s,d,null);if(o.data==="$!"){if(a=o.nextSibling&&o.nextSibling.dataset,a)var g=a.dgst;return a=g,c=Error(p(419)),a=Ki(c,a,void 0),sj(e,s,d,a)}if(g=(d&e.childLanes)!==0,dh||g){if(a=Q,a!==null){switch(d&-d){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(a.suspendedLanes|d)?0:o,o!==0&&o!==c.retryLane&&(c.retryLane=o,ih(e,o),gi(a,e,o,-1))}return tj(),a=Ki(Error(p(421))),sj(e,s,d,a)}return o.data==="$?"?(s.flags|=128,s.child=e.child,s=uj.bind(null,e),o._reactRetry=s,null):(e=c.treeContext,yg=Lf(o.nextSibling),xg=s,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=s),s=qj(s,a.children),s.flags|=4096,s)}function vj(e,s,i){e.lanes|=s;var a=e.alternate;a!==null&&(a.lanes|=s),bh(e.return,s,i)}function wj(e,s,i,a,o){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:o}:(c.isBackwards=s,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=i,c.tailMode=o)}function xj(e,s,i){var a=s.pendingProps,o=a.revealOrder,c=a.tail;if(Xi(e,s,a.children,i),a=L.current,a&2)a=a&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vj(e,i,s);else if(e.tag===19)vj(e,i,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(G(L,a),!(s.mode&1))s.memoizedState=null;else switch(o){case"forwards":for(i=s.child,o=null;i!==null;)e=i.alternate,e!==null&&Ch(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=s.child,s.child=null):(o=i.sibling,i.sibling=null),wj(s,!1,o,i,c);break;case"backwards":for(i=null,o=s.child,s.child=null;o!==null;){if(e=o.alternate,e!==null&&Ch(e)===null){s.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}wj(s,!0,i,null,c);break;case"together":wj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ij(e,s){!(s.mode&1)&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function Zi(e,s,i){if(e!==null&&(s.dependencies=e.dependencies),rh|=s.lanes,!(i&s.childLanes))return null;if(e!==null&&s.child!==e.child)throw Error(p(153));if(s.child!==null){for(e=s.child,i=Pg(e,e.pendingProps),s.child=i,i.return=s;e.sibling!==null;)e=e.sibling,i=i.sibling=Pg(e,e.pendingProps),i.return=s;i.sibling=null}return s.child}function yj(e,s,i){switch(s.tag){case 3:kj(s),Ig();break;case 5:Ah(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:yh(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,o=s.memoizedProps.value;G(Wg,a._currentValue),a._currentValue=o;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(G(L,L.current&1),s.flags|=128,null):i&s.child.childLanes?oj(e,s,i):(G(L,L.current&1),e=Zi(e,s,i),e!==null?e.sibling:null);G(L,L.current&1);break;case 19:if(a=(i&s.childLanes)!==0,e.flags&128){if(a)return xj(e,s,i);s.flags|=128}if(o=s.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),G(L,L.current),a)break;return null;case 22:case 23:return s.lanes=0,dj(e,s,i)}return Zi(e,s,i)}var zj,Aj,Bj,Cj;zj=function(e,s){for(var i=s.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Aj=function(){};Bj=function(e,s,i,a){var o=e.memoizedProps;if(o!==a){e=s.stateNode,xh(uh.current);var c=null;switch(i){case"input":o=Ya(e,o),a=Ya(e,a),c=[];break;case"select":o=A({},o,{value:void 0}),a=A({},a,{value:void 0}),c=[];break;case"textarea":o=gb(e,o),a=gb(e,a),c=[];break;default:typeof o.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Bf)}ub(i,a);var d;i=null;for(b in o)if(!a.hasOwnProperty(b)&&o.hasOwnProperty(b)&&o[b]!=null)if(b==="style"){var g=o[b];for(d in g)g.hasOwnProperty(d)&&(i||(i={}),i[d]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(ea.hasOwnProperty(b)?c||(c=[]):(c=c||[]).push(b,null));for(b in a){var h=a[b];if(g=o!=null?o[b]:void 0,a.hasOwnProperty(b)&&h!==g&&(h!=null||g!=null))if(b==="style")if(g){for(d in g)!g.hasOwnProperty(d)||h&&h.hasOwnProperty(d)||(i||(i={}),i[d]="");for(d in h)h.hasOwnProperty(d)&&g[d]!==h[d]&&(i||(i={}),i[d]=h[d])}else i||(c||(c=[]),c.push(b,i)),i=h;else b==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,g=g?g.__html:void 0,h!=null&&g!==h&&(c=c||[]).push(b,h)):b==="children"?typeof h!="string"&&typeof h!="number"||(c=c||[]).push(b,""+h):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(ea.hasOwnProperty(b)?(h!=null&&b==="onScroll"&&D("scroll",e),c||g===h||(c=[])):(c=c||[]).push(b,h))}i&&(c=c||[]).push("style",i);var b=c;(s.updateQueue=b)&&(s.flags|=4)}};Cj=function(e,s,i,a){i!==a&&(s.flags|=4)};function Dj(e,s){if(!I)switch(e.tailMode){case"hidden":s=e.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function S(e){var s=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(s)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags&14680064,a|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=a,e.childLanes=i,s}function Ej(e,s,i){var a=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf(s.type)&&$f(),S(s),null;case 3:return a=s.stateNode,zh(),E(Wf),E(H),Eh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Gg(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(e,s),S(s),null;case 5:Bh(s);var o=xh(wh.current);if(i=s.type,e!==null&&s.stateNode!=null)Bj(e,s,i,a,o),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(p(166));return S(s),null}if(e=xh(uh.current),Gg(s)){a=s.stateNode,i=s.type;var c=s.memoizedProps;switch(a[Of]=s,a[Pf]=c,e=(s.mode&1)!==0,i){case"dialog":D("cancel",a),D("close",a);break;case"iframe":case"object":case"embed":D("load",a);break;case"video":case"audio":for(o=0;o<lf.length;o++)D(lf[o],a);break;case"source":D("error",a);break;case"img":case"image":case"link":D("error",a),D("load",a);break;case"details":D("toggle",a);break;case"input":Za(a,c),D("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!c.multiple},D("invalid",a);break;case"textarea":hb(a,c),D("invalid",a)}ub(i,c),o=null;for(var d in c)if(c.hasOwnProperty(d)){var g=c[d];d==="children"?typeof g=="string"?a.textContent!==g&&(c.suppressHydrationWarning!==!0&&Af(a.textContent,g,e),o=["children",g]):typeof g=="number"&&a.textContent!==""+g&&(c.suppressHydrationWarning!==!0&&Af(a.textContent,g,e),o=["children",""+g]):ea.hasOwnProperty(d)&&g!=null&&d==="onScroll"&&D("scroll",a)}switch(i){case"input":Va(a),db(a,c,!0);break;case"textarea":Va(a),jb(a);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(a.onclick=Bf)}a=o,s.updateQueue=a,a!==null&&(s.flags|=4)}else{d=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=d.createElement(i,{is:a.is}):(e=d.createElement(i),i==="select"&&(d=e,a.multiple?d.multiple=!0:a.size&&(d.size=a.size))):e=d.createElementNS(e,i),e[Of]=s,e[Pf]=a,zj(e,s,!1,!1),s.stateNode=e;e:{switch(d=vb(i,a),i){case"dialog":D("cancel",e),D("close",e),o=a;break;case"iframe":case"object":case"embed":D("load",e),o=a;break;case"video":case"audio":for(o=0;o<lf.length;o++)D(lf[o],e);o=a;break;case"source":D("error",e),o=a;break;case"img":case"image":case"link":D("error",e),D("load",e),o=a;break;case"details":D("toggle",e),o=a;break;case"input":Za(e,a),o=Ya(e,a),D("invalid",e);break;case"option":o=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},o=A({},a,{value:void 0}),D("invalid",e);break;case"textarea":hb(e,a),o=gb(e,a),D("invalid",e);break;default:o=a}ub(i,o),g=o;for(c in g)if(g.hasOwnProperty(c)){var h=g[c];c==="style"?sb(e,h):c==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&nb(e,h)):c==="children"?typeof h=="string"?(i!=="textarea"||h!=="")&&ob(e,h):typeof h=="number"&&ob(e,""+h):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ea.hasOwnProperty(c)?h!=null&&c==="onScroll"&&D("scroll",e):h!=null&&ta(e,c,h,d))}switch(i){case"input":Va(e),db(e,a,!1);break;case"textarea":Va(e),jb(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Sa(a.value));break;case"select":e.multiple=!!a.multiple,c=a.value,c!=null?fb(e,!!a.multiple,c,!1):a.defaultValue!=null&&fb(e,!!a.multiple,a.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Bf)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(e&&s.stateNode!=null)Cj(e,s,e.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(p(166));if(i=xh(wh.current),xh(uh.current),Gg(s)){if(a=s.stateNode,i=s.memoizedProps,a[Of]=s,(c=a.nodeValue!==i)&&(e=xg,e!==null))switch(e.tag){case 3:Af(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,i,(e.mode&1)!==0)}c&&(s.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Of]=s,s.stateNode=a}return S(s),null;case 13:if(E(L),a=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,c=!1;else if(c=Gg(s),a!==null&&a.dehydrated!==null){if(e===null){if(!c)throw Error(p(318));if(c=s.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(p(317));c[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S(s),c=!1}else zg!==null&&(Fj(zg),zg=null),c=!0;if(!c)return s.flags&65536?s:null}return s.flags&128?(s.lanes=i,s):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(e===null||L.current&1?T===0&&(T=3):tj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return zh(),Aj(e,s),e===null&&sf(s.stateNode.containerInfo),S(s),null;case 10:return ah(s.type._context),S(s),null;case 17:return Zf(s.type)&&$f(),S(s),null;case 19:if(E(L),c=s.memoizedState,c===null)return S(s),null;if(a=(s.flags&128)!==0,d=c.rendering,d===null)if(a)Dj(c,!1);else{if(T!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(d=Ch(e),d!==null){for(s.flags|=128,Dj(c,!1),a=d.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=i,i=s.child;i!==null;)c=i,e=a,c.flags&=14680066,d=c.alternate,d===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,e=d.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return G(L,L.current&1|2),s.child}e=e.sibling}c.tail!==null&&B()>Gj&&(s.flags|=128,a=!0,Dj(c,!1),s.lanes=4194304)}else{if(!a)if(e=Ch(d),e!==null){if(s.flags|=128,a=!0,i=e.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),Dj(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!I)return S(s),null}else 2*B()-c.renderingStartTime>Gj&&i!==1073741824&&(s.flags|=128,a=!0,Dj(c,!1),s.lanes=4194304);c.isBackwards?(d.sibling=s.child,s.child=d):(i=c.last,i!==null?i.sibling=d:s.child=d,c.last=d)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=B(),s.sibling=null,i=L.current,G(L,a?i&1|2:i&1),s):(S(s),null);case 22:case 23:return Hj(),a=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?fj&1073741824&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p(156,s.tag))}function Ij(e,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return zh(),E(Wf),E(H),Eh(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 5:return Bh(s),null;case 13:if(E(L),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(p(340));Ig()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(s.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(e,s){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){W(e,s,a)}else i.current=null}function Mj(e,s,i){try{i()}catch(a){W(e,s,a)}}var Nj=!1;function Oj(e,s){if(Cf=dd,e=Me(),Ne(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var o=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var d=0,g=-1,h=-1,b=0,j=0,_=e,$=null;t:for(;;){for(var rt;_!==i||o!==0&&_.nodeType!==3||(g=d+o),_!==c||a!==0&&_.nodeType!==3||(h=d+a),_.nodeType===3&&(d+=_.nodeValue.length),(rt=_.firstChild)!==null;)$=_,_=rt;for(;;){if(_===e)break t;if($===i&&++b===o&&(g=d),$===c&&++j===a&&(h=d),(rt=_.nextSibling)!==null)break;_=$,$=_.parentNode}_=rt}i=g===-1||h===-1?null:{start:g,end:h}}else i=null}i=i||{start:0,end:0}}else i=null;for(Df={focusedElem:e,selectionRange:i},dd=!1,V=s;V!==null;)if(s=V,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,V=e;else for(;V!==null;){s=V;try{var nt=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(nt!==null){var dt=nt.memoizedProps,st=nt.memoizedState,_e=s.stateNode,tt=_e.getSnapshotBeforeUpdate(s.elementType===s.type?dt:Ci(s.type,dt),st);_e.__reactInternalSnapshotBeforeUpdate=tt}break;case 3:var it=s.stateNode.containerInfo;it.nodeType===1?it.textContent="":it.nodeType===9&&it.documentElement&&it.removeChild(it.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(ct){W(s,s.return,ct)}if(e=s.sibling,e!==null){e.return=s.return,V=e;break}V=s.return}return nt=Nj,Nj=!1,nt}function Pj(e,s,i){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var o=a=a.next;do{if((o.tag&e)===e){var c=o.destroy;o.destroy=void 0,c!==void 0&&Mj(s,i,c)}o=o.next}while(o!==a)}}function Qj(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==s)}}function Rj(e){var s=e.ref;if(s!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof s=="function"?s(e):s.current=e}}function Sj(e){var s=e.alternate;s!==null&&(e.alternate=null,Sj(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tj(e){return e.tag===5||e.tag===3||e.tag===4}function Uj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vj(e,s,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,s?i.nodeType===8?i.parentNode.insertBefore(e,s):i.insertBefore(e,s):(i.nodeType===8?(s=i.parentNode,s.insertBefore(e,i)):(s=i,s.appendChild(e)),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=Bf));else if(a!==4&&(e=e.child,e!==null))for(Vj(e,s,i),e=e.sibling;e!==null;)Vj(e,s,i),e=e.sibling}function Wj(e,s,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,s?i.insertBefore(e,s):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Wj(e,s,i),e=e.sibling;e!==null;)Wj(e,s,i),e=e.sibling}var X$1=null,Xj=!1;function Yj(e,s,i){for(i=i.child;i!==null;)Zj(e,s,i),i=i.sibling}function Zj(e,s,i){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,i)}catch{}switch(i.tag){case 5:U||Lj(i,s);case 6:var a=X$1,o=Xj;X$1=null,Yj(e,s,i),X$1=a,Xj=o,X$1!==null&&(Xj?(e=X$1,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):X$1.removeChild(i.stateNode));break;case 18:X$1!==null&&(Xj?(e=X$1,i=i.stateNode,e.nodeType===8?Kf(e.parentNode,i):e.nodeType===1&&Kf(e,i),bd(e)):Kf(X$1,i.stateNode));break;case 4:a=X$1,o=Xj,X$1=i.stateNode.containerInfo,Xj=!0,Yj(e,s,i),X$1=a,Xj=o;break;case 0:case 11:case 14:case 15:if(!U&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){o=a=a.next;do{var c=o,d=c.destroy;c=c.tag,d!==void 0&&(c&2||c&4)&&Mj(i,s,d),o=o.next}while(o!==a)}Yj(e,s,i);break;case 1:if(!U&&(Lj(i,s),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(g){W(i,s,g)}Yj(e,s,i);break;case 21:Yj(e,s,i);break;case 22:i.mode&1?(U=(a=U)||i.memoizedState!==null,Yj(e,s,i),U=a):Yj(e,s,i);break;default:Yj(e,s,i)}}function ak(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Kj),s.forEach(function(a){var o=bk.bind(null,e,a);i.has(a)||(i.add(a),a.then(o,o))})}}function ck(e,s){var i=s.deletions;if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];try{var c=e,d=s,g=d;e:for(;g!==null;){switch(g.tag){case 5:X$1=g.stateNode,Xj=!1;break e;case 3:X$1=g.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=g.stateNode.containerInfo,Xj=!0;break e}g=g.return}if(X$1===null)throw Error(p(160));Zj(c,d,o),X$1=null,Xj=!1;var h=o.alternate;h!==null&&(h.return=null),o.return=null}catch(b){W(o,s,b)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)dk(s,e),s=s.sibling}function dk(e,s){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ck(s,e),ek(e),a&4){try{Pj(3,e,e.return),Qj(3,e)}catch(dt){W(e,e.return,dt)}try{Pj(5,e,e.return)}catch(dt){W(e,e.return,dt)}}break;case 1:ck(s,e),ek(e),a&512&&i!==null&&Lj(i,i.return);break;case 5:if(ck(s,e),ek(e),a&512&&i!==null&&Lj(i,i.return),e.flags&32){var o=e.stateNode;try{ob(o,"")}catch(dt){W(e,e.return,dt)}}if(a&4&&(o=e.stateNode,o!=null)){var c=e.memoizedProps,d=i!==null?i.memoizedProps:c,g=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{g==="input"&&c.type==="radio"&&c.name!=null&&ab(o,c),vb(g,d);var b=vb(g,c);for(d=0;d<h.length;d+=2){var j=h[d],_=h[d+1];j==="style"?sb(o,_):j==="dangerouslySetInnerHTML"?nb(o,_):j==="children"?ob(o,_):ta(o,j,_,b)}switch(g){case"input":bb(o,c);break;case"textarea":ib(o,c);break;case"select":var $=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!c.multiple;var rt=c.value;rt!=null?fb(o,!!c.multiple,rt,!1):$!==!!c.multiple&&(c.defaultValue!=null?fb(o,!!c.multiple,c.defaultValue,!0):fb(o,!!c.multiple,c.multiple?[]:"",!1))}o[Pf]=c}catch(dt){W(e,e.return,dt)}}break;case 6:if(ck(s,e),ek(e),a&4){if(e.stateNode===null)throw Error(p(162));o=e.stateNode,c=e.memoizedProps;try{o.nodeValue=c}catch(dt){W(e,e.return,dt)}}break;case 3:if(ck(s,e),ek(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(dt){W(e,e.return,dt)}break;case 4:ck(s,e),ek(e);break;case 13:ck(s,e),ek(e),o=e.child,o.flags&8192&&(c=o.memoizedState!==null,o.stateNode.isHidden=c,!c||o.alternate!==null&&o.alternate.memoizedState!==null||(fk=B())),a&4&&ak(e);break;case 22:if(j=i!==null&&i.memoizedState!==null,e.mode&1?(U=(b=U)||j,ck(s,e),U=b):ck(s,e),ek(e),a&8192){if(b=e.memoizedState!==null,(e.stateNode.isHidden=b)&&!j&&e.mode&1)for(V=e,j=e.child;j!==null;){for(_=V=j;V!==null;){switch($=V,rt=$.child,$.tag){case 0:case 11:case 14:case 15:Pj(4,$,$.return);break;case 1:Lj($,$.return);var nt=$.stateNode;if(typeof nt.componentWillUnmount=="function"){a=$,i=$.return;try{s=a,nt.props=s.memoizedProps,nt.state=s.memoizedState,nt.componentWillUnmount()}catch(dt){W(a,i,dt)}}break;case 5:Lj($,$.return);break;case 22:if($.memoizedState!==null){gk(_);continue}}rt!==null?(rt.return=$,V=rt):gk(_)}j=j.sibling}e:for(j=null,_=e;;){if(_.tag===5){if(j===null){j=_;try{o=_.stateNode,b?(c=o.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(g=_.stateNode,h=_.memoizedProps.style,d=h!=null&&h.hasOwnProperty("display")?h.display:null,g.style.display=rb("display",d))}catch(dt){W(e,e.return,dt)}}}else if(_.tag===6){if(j===null)try{_.stateNode.nodeValue=b?"":_.memoizedProps}catch(dt){W(e,e.return,dt)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===e)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===e)break e;for(;_.sibling===null;){if(_.return===null||_.return===e)break e;j===_&&(j=null),_=_.return}j===_&&(j=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:ck(s,e),ek(e),a&4&&ak(e);break;case 21:break;default:ck(s,e),ek(e)}}function ek(e){var s=e.flags;if(s&2){try{e:{for(var i=e.return;i!==null;){if(Tj(i)){var a=i;break e}i=i.return}throw Error(p(160))}switch(a.tag){case 5:var o=a.stateNode;a.flags&32&&(ob(o,""),a.flags&=-33);var c=Uj(e);Wj(e,c,o);break;case 3:case 4:var d=a.stateNode.containerInfo,g=Uj(e);Vj(e,g,d);break;default:throw Error(p(161))}}catch(h){W(e,e.return,h)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function hk(e,s,i){V=e,ik(e)}function ik(e,s,i){for(var a=(e.mode&1)!==0;V!==null;){var o=V,c=o.child;if(o.tag===22&&a){var d=o.memoizedState!==null||Jj;if(!d){var g=o.alternate,h=g!==null&&g.memoizedState!==null||U;g=Jj;var b=U;if(Jj=d,(U=h)&&!b)for(V=o;V!==null;)d=V,h=d.child,d.tag===22&&d.memoizedState!==null?jk(o):h!==null?(h.return=d,V=h):jk(o);for(;c!==null;)V=c,ik(c),c=c.sibling;V=o,Jj=g,U=b}kk(e)}else o.subtreeFlags&8772&&c!==null?(c.return=o,V=c):kk(e)}}function kk(e){for(;V!==null;){var s=V;if(s.flags&8772){var i=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U||Qj(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!U)if(i===null)a.componentDidMount();else{var o=s.elementType===s.type?i.memoizedProps:Ci(s.type,i.memoizedProps);a.componentDidUpdate(o,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var c=s.updateQueue;c!==null&&sh(s,c,a);break;case 3:var d=s.updateQueue;if(d!==null){if(i=null,s.child!==null)switch(s.child.tag){case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}sh(s,d,i)}break;case 5:var g=s.stateNode;if(i===null&&s.flags&4){i=g;var h=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&i.focus();break;case"img":h.src&&(i.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var b=s.alternate;if(b!==null){var j=b.memoizedState;if(j!==null){var _=j.dehydrated;_!==null&&bd(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||s.flags&512&&Rj(s)}catch($){W(s,s.return,$)}}if(s===e){V=null;break}if(i=s.sibling,i!==null){i.return=s.return,V=i;break}V=s.return}}function gk(e){for(;V!==null;){var s=V;if(s===e){V=null;break}var i=s.sibling;if(i!==null){i.return=s.return,V=i;break}V=s.return}}function jk(e){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var i=s.return;try{Qj(4,s)}catch(h){W(s,i,h)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var o=s.return;try{a.componentDidMount()}catch(h){W(s,o,h)}}var c=s.return;try{Rj(s)}catch(h){W(s,c,h)}break;case 5:var d=s.return;try{Rj(s)}catch(h){W(s,d,h)}}}catch(h){W(s,s.return,h)}if(s===e){V=null;break}var g=s.sibling;if(g!==null){g.return=s.return,V=g;break}V=s.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(e){return e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function gi(e,s,i,a){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(e,i,a),(!(K&2)||e!==Q)&&(e===Q&&(!(K&2)&&(qk|=i),T===4&&Ck(e,Z)),Dk(e,a),i===1&&K===0&&!(s.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(e,s){var i=e.callbackNode;wc(e,s);var a=uc(e,e===Q?Z:0);if(a===0)i!==null&&bc(i),e.callbackNode=null,e.callbackPriority=0;else if(s=a&-a,e.callbackPriority!==s){if(i!=null&&bc(i),s===1)e.tag===0?ig(Ek.bind(null,e)):hg(Ek.bind(null,e)),Jf(function(){!(K&6)&&jg()}),i=null;else{switch(Dc(a)){case 1:i=fc;break;case 4:i=gc;break;case 16:i=hc;break;case 536870912:i=jc;break;default:i=hc}i=Fk(i,Gk.bind(null,e))}e.callbackPriority=s,e.callbackNode=i}}function Gk(e,s){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var i=e.callbackNode;if(Hk()&&e.callbackNode!==i)return null;var a=uc(e,e===Q?Z:0);if(a===0)return null;if(a&30||a&e.expiredLanes||s)s=Ik(e,a);else{s=a;var o=K;K|=2;var c=Jk();(Q!==e||Z!==s)&&(uk=null,Gj=B()+500,Kk(e,s));do try{Lk();break}catch(g){Mk(e,g)}while(!0);$g(),mk.current=c,K=o,Y!==null?s=0:(Q=null,Z=0,s=T)}if(s!==0){if(s===2&&(o=xc(e),o!==0&&(a=o,s=Nk(e,o))),s===1)throw i=pk,Kk(e,0),Ck(e,a),Dk(e,B()),i;if(s===6)Ck(e,a);else{if(o=e.current.alternate,!(a&30)&&!Ok(o)&&(s=Ik(e,a),s===2&&(c=xc(e),c!==0&&(a=c,s=Nk(e,c))),s===1))throw i=pk,Kk(e,0),Ck(e,a),Dk(e,B()),i;switch(e.finishedWork=o,e.finishedLanes=a,s){case 0:case 1:throw Error(p(345));case 2:Pk(e,tk,uk);break;case 3:if(Ck(e,a),(a&130023424)===a&&(s=fk+500-B(),10<s)){if(uc(e,0)!==0)break;if(o=e.suspendedLanes,(o&a)!==a){R(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),s);break}Pk(e,tk,uk);break;case 4:if(Ck(e,a),(a&4194240)===a)break;for(s=e.eventTimes,o=-1;0<a;){var d=31-oc(a);c=1<<d,d=s[d],d>o&&(o=d),a&=~c}if(a=o,a=B()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*lk(a/1960))-a,10<a){e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),a);break}Pk(e,tk,uk);break;case 5:Pk(e,tk,uk);break;default:throw Error(p(329))}}}return Dk(e,B()),e.callbackNode===i?Gk.bind(null,e):null}function Nk(e,s){var i=sk;return e.current.memoizedState.isDehydrated&&(Kk(e,s).flags|=256),e=Ik(e,s),e!==2&&(s=tk,tk=i,s!==null&&Fj(s)),e}function Fj(e){tk===null?tk=e:tk.push.apply(tk,e)}function Ok(e){for(var s=e;;){if(s.flags&16384){var i=s.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var o=i[a],c=o.getSnapshot;o=o.value;try{if(!He(c(),o))return!1}catch{return!1}}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ck(e,s){for(s&=~rk,s&=~qk,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var i=31-oc(s),a=1<<i;e[i]=-1,s&=~a}}function Ek(e){if(K&6)throw Error(p(327));Hk();var s=uc(e,0);if(!(s&1))return Dk(e,B()),null;var i=Ik(e,s);if(e.tag!==0&&i===2){var a=xc(e);a!==0&&(s=a,i=Nk(e,a))}if(i===1)throw i=pk,Kk(e,0),Ck(e,s),Dk(e,B()),i;if(i===6)throw Error(p(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,Pk(e,tk,uk),Dk(e,B()),null}function Qk(e,s){var i=K;K|=1;try{return e(s)}finally{K=i,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var s=K;K|=1;var i=ok.transition,a=C;try{if(ok.transition=null,C=1,e)return e()}finally{C=a,ok.transition=i,K=s,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(e,s){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Gf(i)),Y!==null)for(i=Y.return;i!==null;){var a=i;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(a);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(a.type._context);break;case 22:case 23:Hj()}i=i.return}if(Q=e,Y=e=Pg(e.current,null),Z=fj=s,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(s=0;s<fh.length;s++)if(i=fh[s],a=i.interleaved,a!==null){i.interleaved=null;var o=a.next,c=i.pending;if(c!==null){var d=c.next;c.next=o,a.next=d}i.pending=a}fh=null}return e}function Mk(e,s){do{var i=Y;try{if($g(),Fh.current=Rh,Ih){for(var a=M.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,i===null||i.return===null){T=1,pk=s,Y=null;break}e:{var c=e,d=i.return,g=i,h=s;if(s=Z,g.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var b=h,j=g,_=j.tag;if(!(j.mode&1)&&(_===0||_===11||_===15)){var $=j.alternate;$?(j.updateQueue=$.updateQueue,j.memoizedState=$.memoizedState,j.lanes=$.lanes):(j.updateQueue=null,j.memoizedState=null)}var rt=Ui(d);if(rt!==null){rt.flags&=-257,Vi(rt,d,g,c,s),rt.mode&1&&Si(c,b,s),s=rt,h=b;var nt=s.updateQueue;if(nt===null){var dt=new Set;dt.add(h),s.updateQueue=dt}else nt.add(h);break e}else{if(!(s&1)){Si(c,b,s),tj();break e}h=Error(p(426))}}else if(I&&g.mode&1){var st=Ui(d);if(st!==null){!(st.flags&65536)&&(st.flags|=256),Vi(st,d,g,c,s),Jg(Ji(h,g));break e}}c=h=Ji(h,g),T!==4&&(T=2),sk===null?sk=[c]:sk.push(c),c=d;do{switch(c.tag){case 3:c.flags|=65536,s&=-s,c.lanes|=s;var _e=Ni(c,h,s);ph(c,_e);break e;case 1:g=h;var tt=c.type,it=c.stateNode;if(!(c.flags&128)&&(typeof tt.getDerivedStateFromError=="function"||it!==null&&typeof it.componentDidCatch=="function"&&(Ri===null||!Ri.has(it)))){c.flags|=65536,s&=-s,c.lanes|=s;var ct=Qi(c,g,s);ph(c,ct);break e}}c=c.return}while(c!==null)}Sk(i)}catch(ot){s=ot,Y===i&&i!==null&&(Y=i=i.return);continue}break}while(!0)}function Jk(){var e=mk.current;return mk.current=Rh,e===null?Rh:e}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(e,s){var i=K;K|=2;var a=Jk();(Q!==e||Z!==s)&&(uk=null,Kk(e,s));do try{Tk();break}catch(o){Mk(e,o)}while(!0);if($g(),K=i,mk.current=a,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(e){var s=Vk(e.alternate,e,fj);e.memoizedProps=e.pendingProps,s===null?Sk(e):Y=s,nk.current=null}function Sk(e){var s=e;do{var i=s.alternate;if(e=s.return,s.flags&32768){if(i=Ij(i,s),i!==null){i.flags&=32767,Y=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T=6,Y=null;return}}else if(i=Ej(i,s,fj),i!==null){Y=i;return}if(s=s.sibling,s!==null){Y=s;return}Y=s=e}while(s!==null);T===0&&(T=5)}function Pk(e,s,i){var a=C,o=ok.transition;try{ok.transition=null,C=1,Wk(e,s,i,a)}finally{ok.transition=o,C=a}return null}function Wk(e,s,i,a){do Hk();while(wk!==null);if(K&6)throw Error(p(327));i=e.finishedWork;var o=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(p(177));e.callbackNode=null,e.callbackPriority=0;var c=i.lanes|i.childLanes;if(Bc(e,c),e===Q&&(Y=Q=null,Z=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),c=(i.flags&15990)!==0,i.subtreeFlags&15990||c){c=ok.transition,ok.transition=null;var d=C;C=1;var g=K;K|=4,nk.current=null,Oj(e,i),dk(i,e),Oe(Df),dd=!!Cf,Df=Cf=null,e.current=i,hk(i),dc(),K=g,C=d,ok.transition=c}else e.current=i;if(vk&&(vk=!1,wk=e,xk=o),c=e.pendingLanes,c===0&&(Ri=null),mc(i.stateNode),Dk(e,B()),s!==null)for(a=e.onRecoverableError,i=0;i<s.length;i++)o=s[i],a(o.value,{componentStack:o.stack,digest:o.digest});if(Oi)throw Oi=!1,e=Pi,Pi=null,e;return xk&1&&e.tag!==0&&Hk(),c=e.pendingLanes,c&1?e===zk?yk++:(yk=0,zk=e):yk=0,jg(),null}function Hk(){if(wk!==null){var e=Dc(xk),s=ok.transition,i=C;try{if(ok.transition=null,C=16>e?16:e,wk===null)var a=!1;else{if(e=wk,wk=null,xk=0,K&6)throw Error(p(331));var o=K;for(K|=4,V=e.current;V!==null;){var c=V,d=c.child;if(V.flags&16){var g=c.deletions;if(g!==null){for(var h=0;h<g.length;h++){var b=g[h];for(V=b;V!==null;){var j=V;switch(j.tag){case 0:case 11:case 15:Pj(8,j,c)}var _=j.child;if(_!==null)_.return=j,V=_;else for(;V!==null;){j=V;var $=j.sibling,rt=j.return;if(Sj(j),j===b){V=null;break}if($!==null){$.return=rt,V=$;break}V=rt}}}var nt=c.alternate;if(nt!==null){var dt=nt.child;if(dt!==null){nt.child=null;do{var st=dt.sibling;dt.sibling=null,dt=st}while(dt!==null)}}V=c}}if(c.subtreeFlags&2064&&d!==null)d.return=c,V=d;else e:for(;V!==null;){if(c=V,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Pj(9,c,c.return)}var _e=c.sibling;if(_e!==null){_e.return=c.return,V=_e;break e}V=c.return}}var tt=e.current;for(V=tt;V!==null;){d=V;var it=d.child;if(d.subtreeFlags&2064&&it!==null)it.return=d,V=it;else e:for(d=tt;V!==null;){if(g=V,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Qj(9,g)}}catch(ot){W(g,g.return,ot)}if(g===d){V=null;break e}var ct=g.sibling;if(ct!==null){ct.return=g.return,V=ct;break e}V=g.return}}if(K=o,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}a=!0}return a}finally{C=i,ok.transition=s}}return!1}function Xk(e,s,i){s=Ji(i,s),s=Ni(e,s,1),e=nh(e,s,1),s=R(),e!==null&&(Ac(e,1,s),Dk(e,s))}function W(e,s,i){if(e.tag===3)Xk(e,e,i);else for(;s!==null;){if(s.tag===3){Xk(s,e,i);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ri===null||!Ri.has(a))){e=Ji(i,e),e=Qi(s,e,1),s=nh(s,e,1),e=R(),s!==null&&(Ac(s,1,e),Dk(s,e));break}}s=s.return}}function Ti(e,s,i){var a=e.pingCache;a!==null&&a.delete(s),s=R(),e.pingedLanes|=e.suspendedLanes&i,Q===e&&(Z&i)===i&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(e,0):rk|=i),Dk(e,s)}function Yk(e,s){s===0&&(e.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var i=R();e=ih(e,s),e!==null&&(Ac(e,s,i),Dk(e,i))}function uj(e){var s=e.memoizedState,i=0;s!==null&&(i=s.retryLane),Yk(e,i)}function bk(e,s){var i=0;switch(e.tag){case 13:var a=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(p(314))}a!==null&&a.delete(s),Yk(e,i)}var Vk;Vk=function(e,s,i){if(e!==null)if(e.memoizedProps!==s.pendingProps||Wf.current)dh=!0;else{if(!(e.lanes&i)&&!(s.flags&128))return dh=!1,yj(e,s,i);dh=!!(e.flags&131072)}else dh=!1,I&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;ij(e,s),e=s.pendingProps;var o=Yf(s,H.current);ch(s,i),o=Nh(null,s,a,e,o,i);var c=Sh();return s.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(a)?(c=!0,cg(s)):c=!1,s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,kh(s),o.updater=Ei,s.stateNode=o,o._reactInternals=s,Ii(s,a,e,i),s=jj(null,s,a,!0,c,i)):(s.tag=0,I&&c&&vg(s),Xi(null,s,o,i),s=s.child),s;case 16:a=s.elementType;e:{switch(ij(e,s),e=s.pendingProps,o=a._init,a=o(a._payload),s.type=a,o=s.tag=Zk(a),e=Ci(a,e),o){case 0:s=cj(null,s,a,e,i);break e;case 1:s=hj(null,s,a,e,i);break e;case 11:s=Yi(null,s,a,e,i);break e;case 14:s=$i(null,s,a,Ci(a.type,e),i);break e}throw Error(p(306,a,""))}return s;case 0:return a=s.type,o=s.pendingProps,o=s.elementType===a?o:Ci(a,o),cj(e,s,a,o,i);case 1:return a=s.type,o=s.pendingProps,o=s.elementType===a?o:Ci(a,o),hj(e,s,a,o,i);case 3:e:{if(kj(s),e===null)throw Error(p(387));a=s.pendingProps,c=s.memoizedState,o=c.element,lh(e,s),qh(s,a,null,i);var d=s.memoizedState;if(a=d.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},s.updateQueue.baseState=c,s.memoizedState=c,s.flags&256){o=Ji(Error(p(423)),s),s=lj(e,s,a,i,o);break e}else if(a!==o){o=Ji(Error(p(424)),s),s=lj(e,s,a,i,o);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,i=Vg(s,null,a,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ig(),a===o){s=Zi(e,s,i);break e}Xi(e,s,a,i)}s=s.child}return s;case 5:return Ah(s),e===null&&Eg(s),a=s.type,o=s.pendingProps,c=e!==null?e.memoizedProps:null,d=o.children,Ef(a,o)?d=null:c!==null&&Ef(a,c)&&(s.flags|=32),gj(e,s),Xi(e,s,d,i),s.child;case 6:return e===null&&Eg(s),null;case 13:return oj(e,s,i);case 4:return yh(s,s.stateNode.containerInfo),a=s.pendingProps,e===null?s.child=Ug(s,null,a,i):Xi(e,s,a,i),s.child;case 11:return a=s.type,o=s.pendingProps,o=s.elementType===a?o:Ci(a,o),Yi(e,s,a,o,i);case 7:return Xi(e,s,s.pendingProps,i),s.child;case 8:return Xi(e,s,s.pendingProps.children,i),s.child;case 12:return Xi(e,s,s.pendingProps.children,i),s.child;case 10:e:{if(a=s.type._context,o=s.pendingProps,c=s.memoizedProps,d=o.value,G(Wg,a._currentValue),a._currentValue=d,c!==null)if(He(c.value,d)){if(c.children===o.children&&!Wf.current){s=Zi(e,s,i);break e}}else for(c=s.child,c!==null&&(c.return=s);c!==null;){var g=c.dependencies;if(g!==null){d=c.child;for(var h=g.firstContext;h!==null;){if(h.context===a){if(c.tag===1){h=mh(-1,i&-i),h.tag=2;var b=c.updateQueue;if(b!==null){b=b.shared;var j=b.pending;j===null?h.next=h:(h.next=j.next,j.next=h),b.pending=h}}c.lanes|=i,h=c.alternate,h!==null&&(h.lanes|=i),bh(c.return,i,s),g.lanes|=i;break}h=h.next}}else if(c.tag===10)d=c.type===s.type?null:c.child;else if(c.tag===18){if(d=c.return,d===null)throw Error(p(341));d.lanes|=i,g=d.alternate,g!==null&&(g.lanes|=i),bh(d,i,s),d=c.sibling}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===s){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}Xi(e,s,o.children,i),s=s.child}return s;case 9:return o=s.type,a=s.pendingProps.children,ch(s,i),o=eh(o),a=a(o),s.flags|=1,Xi(e,s,a,i),s.child;case 14:return a=s.type,o=Ci(a,s.pendingProps),o=Ci(a.type,o),$i(e,s,a,o,i);case 15:return bj(e,s,s.type,s.pendingProps,i);case 17:return a=s.type,o=s.pendingProps,o=s.elementType===a?o:Ci(a,o),ij(e,s),s.tag=1,Zf(a)?(e=!0,cg(s)):e=!1,ch(s,i),Gi(s,a,o),Ii(s,a,o,i),jj(null,s,a,!0,e,i);case 19:return xj(e,s,i);case 22:return dj(e,s,i)}throw Error(p(156,s.tag))};function Fk(e,s){return ac(e,s)}function $k(e,s,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,s,i,a){return new $k(e,s,i,a)}function aj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zk(e){if(typeof e=="function")return aj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function Pg(e,s){var i=e.alternate;return i===null?(i=Bg(e.tag,s,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=s,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,s=e.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Rg(e,s,i,a,o,c){var d=2;if(a=e,typeof e=="function")aj(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case ya:return Tg(i.children,o,c,s);case za:d=8,o|=8;break;case Aa:return e=Bg(12,i,s,o|2),e.elementType=Aa,e.lanes=c,e;case Ea:return e=Bg(13,i,s,o),e.elementType=Ea,e.lanes=c,e;case Fa:return e=Bg(19,i,s,o),e.elementType=Fa,e.lanes=c,e;case Ia:return pj(i,o,c,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:d=10;break e;case Ca:d=9;break e;case Da:d=11;break e;case Ga:d=14;break e;case Ha:d=16,a=null;break e}throw Error(p(130,e==null?e:typeof e,""))}return s=Bg(d,i,s,o),s.elementType=e,s.type=a,s.lanes=c,s}function Tg(e,s,i,a){return e=Bg(7,e,a,s),e.lanes=i,e}function pj(e,s,i,a){return e=Bg(22,e,a,s),e.elementType=Ia,e.lanes=i,e.stateNode={isHidden:!1},e}function Qg(e,s,i){return e=Bg(6,e,null,s),e.lanes=i,e}function Sg(e,s,i){return s=Bg(4,e.children!==null?e.children:[],e.key,s),s.lanes=i,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function al(e,s,i,a,o){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=a,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function bl(e,s,i,a,o,c,d,g,h){return e=new al(e,s,i,g,h),s===1?(s=1,c===!0&&(s|=8)):s=0,c=Bg(3,null,null,s),e.current=c,c.stateNode=e,c.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(c),e}function cl(e,s,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:a==null?null:""+a,children:e,containerInfo:s,implementation:i}}function dl(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p(171))}if(e.tag===1){var i=e.type;if(Zf(i))return bg(e,i,s)}return s}function el(e,s,i,a,o,c,d,g,h){return e=bl(i,a,!0,e,o,c,d,g,h),e.context=dl(null),i=e.current,a=R(),o=yi(i),c=mh(a,o),c.callback=s??null,nh(i,c,o),e.current.lanes=o,Ac(e,o,a),Dk(e,a),e}function fl(e,s,i,a){var o=s.current,c=R(),d=yi(o);return i=dl(i),s.context===null?s.context=i:s.pendingContext=i,s=mh(c,d),s.payload={element:e},a=a===void 0?null:a,a!==null&&(s.callback=a),e=nh(o,s,d),e!==null&&(gi(e,o,d,c),oh(e,o,d)),d}function gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hl(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<s?i:s}}function il(e,s){hl(e,s),(e=e.alternate)&&hl(e,s)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(e){console.error(e)};function ll(e){this._internalRoot=e}ml.prototype.render=ll.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(p(409));fl(e,s,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;Rk(function(){fl(null,e,null,null)}),s[uf]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var s=Hc();e={blockedOn:null,target:e,priority:s};for(var i=0;i<Qc.length&&s!==0&&s<Qc[i].priority;i++);Qc.splice(i,0,e),i===0&&Vc(e)}};function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(e,s,i,a,o){if(o){if(typeof a=="function"){var c=a;a=function(){var b=gl(d);c.call(b)}}var d=el(s,a,e,0,null,!1,!1,"",pl);return e._reactRootContainer=d,e[uf]=d.current,sf(e.nodeType===8?e.parentNode:e),Rk(),d}for(;o=e.lastChild;)e.removeChild(o);if(typeof a=="function"){var g=a;a=function(){var b=gl(h);g.call(b)}}var h=bl(e,0,!1,null,null,!1,!1,"",pl);return e._reactRootContainer=h,e[uf]=h.current,sf(e.nodeType===8?e.parentNode:e),Rk(function(){fl(s,h,i,a)}),h}function rl(e,s,i,a,o){var c=i._reactRootContainer;if(c){var d=c;if(typeof o=="function"){var g=o;o=function(){var h=gl(d);g.call(h)}}fl(s,d,e,o)}else d=ql(i,s,e,o,a);return gl(d)}Ec=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var i=tc(s.pendingLanes);i!==0&&(Cc(s,i|1),Dk(s,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var a=ih(e,1);if(a!==null){var o=R();gi(a,e,1,o)}}),il(e,1)}};Fc=function(e){if(e.tag===13){var s=ih(e,134217728);if(s!==null){var i=R();gi(s,e,134217728,i)}il(e,134217728)}};Gc=function(e){if(e.tag===13){var s=yi(e),i=ih(e,s);if(i!==null){var a=R();gi(i,e,s,a)}il(e,s)}};Hc=function(){return C};Ic=function(e,s){var i=C;try{return C=e,s()}finally{C=i}};yb=function(e,s,i){switch(s){case"input":if(bb(e,i),s=i.name,i.type==="radio"&&s!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<i.length;s++){var a=i[s];if(a!==e&&a.form===e.form){var o=Db(a);if(!o)throw Error(p(90));Wa(a),bb(a,o)}}}break;case"textarea":ib(e,i);break;case"select":s=i.value,s!=null&&fb(e,!!i.multiple,s,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(e,s){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(s))throw Error(p(200));return cl(e,s,null,i)};reactDom_production_min.createRoot=function(e,s){if(!nl(e))throw Error(p(299));var i=!1,a="",o=kl;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),s=bl(e,1,!1,null,null,i,!1,a,o),e[uf]=s.current,sf(e.nodeType===8?e.parentNode:e),new ll(s)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=Zb(s),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Rk(e)};reactDom_production_min.hydrate=function(e,s,i){if(!ol(s))throw Error(p(200));return rl(null,e,s,!0,i)};reactDom_production_min.hydrateRoot=function(e,s,i){if(!nl(e))throw Error(p(405));var a=i!=null&&i.hydratedSources||null,o=!1,c="",d=kl;if(i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),s=el(s,null,e,1,i??null,o,!1,c,d),e[uf]=s.current,sf(e),a)for(e=0;e<a.length;e++)i=a[e],o=i._getVersion,o=o(i._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[i,o]:s.mutableSourceEagerHydrationData.push(i,o);return new ml(s)};reactDom_production_min.render=function(e,s,i){if(!ol(s))throw Error(p(200));return rl(null,e,s,!1,i)};reactDom_production_min.unmountComponentAtNode=function(e){if(!ol(e))throw Error(p(40));return e._reactRootContainer?(Rk(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,s,i,a){if(!ol(i))throw Error(p(200));if(e==null||e._reactInternals===void 0)throw Error(p(38));return rl(e,s,i,!1,a)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var createRoot,m=reactDomExports;createRoot=m.createRoot,m.hydrateRoot;const __vite_import_meta_env__$2={},isSelfAtom=(e,s)=>e.unstable_is?e.unstable_is(s):s===e,hasInitialValue=e=>"init"in e,isActuallyWritableAtom=e=>!!e.write,isAtomStateInitialized=e=>"v"in e||"e"in e,returnAtomValue=e=>{if("e"in e)throw e.e;if((__vite_import_meta_env__$2?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v},promiseStateMap=new WeakMap,isPendingPromise=e=>{var s;return isPromiseLike$1(e)&&!!((s=promiseStateMap.get(e))!=null&&s[0])},abortPromise=e=>{const s=promiseStateMap.get(e);s!=null&&s[0]&&(s[0]=!1,s[1].forEach(i=>i()))},registerAbortHandler=(e,s)=>{let i=promiseStateMap.get(e);if(!i){i=[!0,new Set],promiseStateMap.set(e,i);const a=()=>{i[0]=!1};e.then(a,a)}i[1].add(s)},isPromiseLike$1=e=>typeof(e==null?void 0:e.then)=="function",addPendingPromiseToDependency=(e,s,i)=>{i.p.has(e)||(i.p.add(e),s.then(()=>{i.p.delete(e)},()=>{i.p.delete(e)}))},setAtomStateValueOrPromise=(e,s,i)=>{const a=i(e),o="v"in a,c=a.v;if(isPromiseLike$1(s))for(const d of a.d.keys())addPendingPromiseToDependency(e,s,i(d));a.v=s,delete a.e,(!o||!Object.is(c,a.v))&&(++a.n,isPromiseLike$1(c)&&abortPromise(c))},getMountedOrPendingDependents=(e,s,i)=>{var a;const o=new Set;for(const c of((a=i.get(e))==null?void 0:a.t)||[])i.has(c)&&o.add(c);for(const c of s.p)o.add(c);return o},createStoreHook=()=>{const e=new Set,s=()=>{e.forEach(i=>i())};return s.add=i=>(e.add(i),()=>{e.delete(i)}),s},createStoreHookForAtoms=()=>{const e={},s=new WeakMap,i=a=>{var o,c;(o=s.get(e))==null||o.forEach(d=>d(a)),(c=s.get(a))==null||c.forEach(d=>d())};return i.add=(a,o)=>{const c=a||e,d=(s.has(c)?s:s.set(c,new Set)).get(c);return d.add(o),()=>{d==null||d.delete(o),d.size||s.delete(c)}},i},initializeStoreHooks=e=>(e.c||(e.c=createStoreHookForAtoms()),e.m||(e.m=createStoreHookForAtoms()),e.u||(e.u=createStoreHookForAtoms()),e.f||(e.f=createStoreHook()),e),BUILDING_BLOCKS=Symbol(),buildStore=(e=new WeakMap,s=new WeakMap,i=new WeakMap,a=new Set,o=new Set,c=new Set,d={},g=($,...rt)=>$.read(...rt),h=($,...rt)=>$.write(...rt),b=($,rt)=>{var nt;return(nt=$.unstable_onInit)==null?void 0:nt.call($,rt)},j=($,rt)=>{var nt;return(nt=$.onMount)==null?void 0:nt.call($,rt)},..._)=>{const $=_[0]||(et=>{if((__vite_import_meta_env__$2?"production":void 0)!=="production"&&!et)throw new Error("Atom is undefined or null");let at=e.get(et);return at||(at={d:new Map,p:new Set,n:0},e.set(et,at),b==null||b(et,pt)),at}),rt=_[1]||(()=>{const et=[],at=ht=>{try{ht()}catch(xt){et.push(xt)}};do{d.f&&at(d.f);const ht=new Set,xt=ht.add.bind(ht);a.forEach(ut=>{var gt;return(gt=s.get(ut))==null?void 0:gt.l.forEach(xt)}),a.clear(),c.forEach(xt),c.clear(),o.forEach(xt),o.clear(),ht.forEach(at),a.size&&nt()}while(a.size||c.size||o.size);if(et.length)throw new AggregateError(et)}),nt=_[2]||(()=>{const et=[],at=new WeakSet,ht=new WeakSet,xt=Array.from(a);for(;xt.length;){const ut=xt[xt.length-1],gt=$(ut);if(ht.has(ut)){xt.pop();continue}if(at.has(ut)){if(i.get(ut)===gt.n)et.push([ut,gt]);else if((__vite_import_meta_env__$2?"production":void 0)!=="production"&&i.has(ut))throw new Error("[Bug] invalidated atom exists");ht.add(ut),xt.pop();continue}at.add(ut);for(const Et of getMountedOrPendingDependents(ut,gt,s))at.has(Et)||xt.push(Et)}for(let ut=et.length-1;ut>=0;--ut){const[gt,Et]=et[ut];let Mt=!1;for(const Nt of Et.d.keys())if(Nt!==gt&&a.has(Nt)){Mt=!0;break}Mt&&(dt(gt),tt(gt)),i.delete(gt)}}),dt=_[3]||(et=>{var at;const ht=$(et);if(isAtomStateInitialized(ht)&&(s.has(et)&&i.get(et)!==ht.n||Array.from(ht.d).every(([kt,bt])=>dt(kt).n===bt)))return ht;ht.d.clear();let xt=!0;const ut=()=>{s.has(et)&&(tt(et),nt(),rt())},gt=kt=>{var bt;if(isSelfAtom(et,kt)){const At=$(kt);if(!isAtomStateInitialized(At))if(hasInitialValue(kt))setAtomStateValueOrPromise(kt,kt.init,$);else throw new Error("no atom init");return returnAtomValue(At)}const yt=dt(kt);try{return returnAtomValue(yt)}finally{ht.d.set(kt,yt.n),isPendingPromise(ht.v)&&addPendingPromiseToDependency(et,ht.v,yt),(bt=s.get(kt))==null||bt.t.add(et),xt||ut()}};let Et,Mt;const Nt={get signal(){return Et||(Et=new AbortController),Et.signal},get setSelf(){return(__vite_import_meta_env__$2?"production":void 0)!=="production"&&!isActuallyWritableAtom(et)&&console.warn("setSelf function cannot be used with read-only atom"),!Mt&&isActuallyWritableAtom(et)&&(Mt=(...kt)=>{if((__vite_import_meta_env__$2?"production":void 0)!=="production"&&xt&&console.warn("setSelf function cannot be called in sync"),!xt)try{return _e(et,...kt)}finally{nt(),rt()}}),Mt}},It=ht.n;try{const kt=g(et,gt,Nt);return setAtomStateValueOrPromise(et,kt,$),isPromiseLike$1(kt)&&(registerAbortHandler(kt,()=>Et==null?void 0:Et.abort()),kt.then(ut,ut)),ht}catch(kt){return delete ht.v,ht.e=kt,++ht.n,ht}finally{xt=!1,It!==ht.n&&i.get(et)===It&&(i.set(et,ht.n),a.add(et),(at=d.c)==null||at.call(d,et))}}),st=_[4]||(et=>{const at=[et];for(;at.length;){const ht=at.pop(),xt=$(ht);for(const ut of getMountedOrPendingDependents(ht,xt,s)){const gt=$(ut);i.set(ut,gt.n),at.push(ut)}}}),_e=_[5]||((et,...at)=>{let ht=!0;const xt=gt=>returnAtomValue(dt(gt)),ut=(gt,...Et)=>{var Mt;const Nt=$(gt);try{if(isSelfAtom(et,gt)){if(!hasInitialValue(gt))throw new Error("atom not writable");const It=Nt.n,kt=Et[0];setAtomStateValueOrPromise(gt,kt,$),tt(gt),It!==Nt.n&&(a.add(gt),(Mt=d.c)==null||Mt.call(d,gt),st(gt));return}else return _e(gt,...Et)}finally{ht||(nt(),rt())}};try{return h(et,xt,ut,...at)}finally{ht=!1}}),tt=_[6]||(et=>{var at;const ht=$(et),xt=s.get(et);if(xt&&!isPendingPromise(ht.v)){for(const[ut,gt]of ht.d)if(!xt.d.has(ut)){const Et=$(ut);it(ut).t.add(et),xt.d.add(ut),gt!==Et.n&&(a.add(ut),(at=d.c)==null||at.call(d,ut),st(ut))}for(const ut of xt.d||[])if(!ht.d.has(ut)){xt.d.delete(ut);const gt=ct(ut);gt==null||gt.t.delete(et)}}}),it=_[7]||(et=>{var at;const ht=$(et);let xt=s.get(et);if(!xt){dt(et);for(const ut of ht.d.keys())it(ut).t.add(et);if(xt={l:new Set,d:new Set(ht.d.keys()),t:new Set},s.set(et,xt),(at=d.m)==null||at.call(d,et),isActuallyWritableAtom(et)){const ut=()=>{let gt=!0;const Et=(...Mt)=>{try{return _e(et,...Mt)}finally{gt||(nt(),rt())}};try{const Mt=j(et,Et);Mt&&(xt.u=()=>{gt=!0;try{Mt()}finally{gt=!1}})}finally{gt=!1}};o.add(ut)}}return xt}),ct=_[8]||(et=>{var at;const ht=$(et);let xt=s.get(et);if(xt&&!xt.l.size&&!Array.from(xt.t).some(ut=>{var gt;return(gt=s.get(ut))==null?void 0:gt.d.has(et)})){xt.u&&c.add(xt.u),xt=void 0,s.delete(et),(at=d.u)==null||at.call(d,et);for(const ut of ht.d.keys()){const gt=ct(ut);gt==null||gt.t.delete(et)}return}return xt}),ot=[e,s,i,a,o,c,d,g,h,b,j,$,rt,nt,dt,st,_e,tt,it,ct],pt={get:et=>returnAtomValue(dt(et)),set:(et,...at)=>{try{return _e(et,...at)}finally{nt(),rt()}},sub:(et,at)=>{const xt=it(et).l;return xt.add(at),rt(),()=>{xt.delete(at),ct(et),rt()}}};return Object.defineProperty(pt,BUILDING_BLOCKS,{value:ot}),pt},INTERNAL_buildStoreRev1=buildStore,INTERNAL_initializeStoreHooks=initializeStoreHooks,INTERNAL_registerAbortHandler=registerAbortHandler,__vite_import_meta_env__$1={};let keyCount=0;function atom(e,s){const i=`atom${++keyCount}`,a={toString(){return(__vite_import_meta_env__$1?"production":void 0)!=="production"&&this.debugLabel?i+":"+this.debugLabel:i}};return typeof e=="function"?a.read=e:(a.init=e,a.read=defaultRead,a.write=defaultWrite),a}function defaultRead(e){return e(this)}function defaultWrite(e,s,i){return s(this,typeof i=="function"?i(e(this)):i)}const createDevStoreRev4=()=>{let e=0;const s=INTERNAL_initializeStoreHooks({}),i=new WeakMap,a=new WeakMap,o=INTERNAL_buildStoreRev1(i,a,void 0,void 0,void 0,void 0,s,void 0,(g,h,b,...j)=>e?b(g,...j):g.write(h,b,...j)),c=new Set;return s.m.add(void 0,g=>{c.add(g);const h=i.get(g);h.m=a.get(g)}),s.u.add(void 0,g=>{c.delete(g);const h=i.get(g);delete h.m}),Object.assign(o,{dev4_get_internal_weak_map:()=>(console.log("Deprecated: Use devstore from the devtools library"),i),dev4_get_mounted_atoms:()=>c,dev4_restore_atoms:g=>{const h={read:()=>null,write:(b,j)=>{++e;try{for(const[_,$]of g)"init"in _&&j(_,$)}finally{--e}}};o.set(h)}})};function createStore$2(){return(__vite_import_meta_env__$1?"production":void 0)!=="production"?createDevStoreRev4():INTERNAL_buildStoreRev1()}let defaultStore;function getDefaultStore(){return defaultStore||(defaultStore=createStore$2(),(__vite_import_meta_env__$1?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=defaultStore),globalThis.__JOTAI_DEFAULT_STORE__!==defaultStore&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),defaultStore}const __vite_import_meta_env__={},StoreContext$1=reactExports.createContext(void 0);function useStore(e){return reactExports.useContext(StoreContext$1)||getDefaultStore()}function Provider$1({children:e,store:s}){const i=reactExports.useRef(void 0);return!s&&!i.current&&(i.current=createStore$2()),reactExports.createElement(StoreContext$1.Provider,{value:s||i.current},e)}const isPromiseLike=e=>typeof(e==null?void 0:e.then)=="function",attachPromiseStatus=e=>{e.status||(e.status="pending",e.then(s=>{e.status="fulfilled",e.value=s},s=>{e.status="rejected",e.reason=s}))},use=React$1.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(attachPromiseStatus(e),e)}),continuablePromiseMap=new WeakMap,createContinuablePromise=(e,s)=>{let i=continuablePromiseMap.get(e);return i||(i=new Promise((a,o)=>{let c=e;const d=b=>j=>{c===b&&a(j)},g=b=>j=>{c===b&&o(j)},h=()=>{try{const b=s();isPromiseLike(b)?(continuablePromiseMap.set(b,i),c=b,b.then(d(b),g(b)),INTERNAL_registerAbortHandler(b,h)):a(b)}catch(b){o(b)}};e.then(d(e),g(e)),INTERNAL_registerAbortHandler(e,h)}),continuablePromiseMap.set(e,i)),i};function useAtomValue(e,s){const{delay:i,unstable_promiseStatus:a=!React$1.use}={},o=useStore(),[[c,d,g],h]=reactExports.useReducer(j=>{const _=o.get(e);return Object.is(j[0],_)&&j[1]===o&&j[2]===e?j:[_,o,e]},void 0,()=>[o.get(e),o,e]);let b=c;if((d!==o||g!==e)&&(h(),b=o.get(e)),reactExports.useEffect(()=>{const j=o.sub(e,()=>{if(a)try{const _=o.get(e);isPromiseLike(_)&&attachPromiseStatus(createContinuablePromise(_,()=>o.get(e)))}catch{}if(typeof i=="number"){setTimeout(h,i);return}h()});return h(),j},[o,e,i,a]),reactExports.useDebugValue(b),isPromiseLike(b)){const j=createContinuablePromise(b,()=>o.get(e));return a&&attachPromiseStatus(j),use(j)}return b}function useSetAtom(e,s){const i=useStore();return reactExports.useCallback((...o)=>{if((__vite_import_meta_env__?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return i.set(e,...o)},[i,e])}function useAtom(e,s){return[useAtomValue(e),useSetAtom(e)]}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(e,s)=>{const i=reactExports.forwardRef(({color:a="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:g="",children:h,...b},j)=>reactExports.createElement("svg",{ref:j,...defaultAttributes,width:o,height:o,stroke:a,strokeWidth:d?Number(c)*24/Number(o):c,className:["lucide",`lucide-${toKebabCase(e)}`,g].join(" "),...b},[...s.map(([_,$])=>reactExports.createElement(_,$)),...Array.isArray(h)?h:[h]]));return i.displayName=`${e}`,i};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Activity=createLucideIcon("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AlertCircle=createLucideIcon("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AlertTriangle=createLucideIcon("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRight=createLucideIcon("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Award=createLucideIcon("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BookOpen=createLucideIcon("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Building=createLucideIcon("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Calendar=createLucideIcon("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CheckCircle=createLucideIcon("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Clock=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CreditCard=createLucideIcon("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Crown=createLucideIcon("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DollarSign=createLucideIcon("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EyeOff=createLucideIcon("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=createLucideIcon("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Filter=createLucideIcon("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GraduationCap=createLucideIcon("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Heart=createLucideIcon("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LayoutGrid=createLucideIcon("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const List=createLucideIcon("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lock=createLucideIcon("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LogOut=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Minus=createLucideIcon("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moon=createLucideIcon("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MoreVertical=createLucideIcon("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PanelsTopLeft=createLucideIcon("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Play=createLucideIcon("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Save=createLucideIcon("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Settings=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Shield=createLucideIcon("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ShoppingCart=createLucideIcon("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sparkles=createLucideIcon("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SquarePen=createLucideIcon("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Star=createLucideIcon("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sun=createLucideIcon("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tag=createLucideIcon("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Target=createLucideIcon("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Theater=createLucideIcon("Theater",[["path",{d:"M2 10s3-3 3-8",key:"3xiif0"}],["path",{d:"M22 10s-3-3-3-8",key:"ioaa5q"}],["path",{d:"M10 2c0 4.4-3.6 8-8 8",key:"16fkpi"}],["path",{d:"M14 2c0 4.4 3.6 8 8 8",key:"b9eulq"}],["path",{d:"M2 10s2 2 2 5",key:"1au1lb"}],["path",{d:"M22 10s-2 2-2 5",key:"qi2y5e"}],["path",{d:"M8 15h8",key:"45n4r"}],["path",{d:"M2 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"1vsc2m"}],["path",{d:"M14 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"hrha4u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingUp=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UserCheck=createLucideIcon("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UserX=createLucideIcon("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Users=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zap=createLucideIcon("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomIn=createLucideIcon("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomOut=createLucideIcon("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function ActivityLineView({activities:e,onEdit:s,onDelete:i,onViewPDF:a,onActivityClick:o,loading:c,selectedActivities:d=[],isLessonPlanning:g=!1,targetSection:h,onSelectActivity:b}){const j=_e=>{switch(_e){case"Toe Tipper":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"Green Horn":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"Semi-Pro":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"Seasoned Veteran":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},_=_e=>({"warm-up":"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400",main:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400","cool-down":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",game:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",exercise:"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400"})[_e]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",$=_e=>d.some(tt=>tt.id===_e.id),rt=_e=>{if(!h)return!1;switch(h){case"warmUp":return _e.activityType==="warm-up";case"coolDown":return _e.activityType==="cool-down";case"main":return _e.activityType==="main";default:return!1}},nt=(_e,tt)=>{tt.target.closest(".action-buttons")||o&&o(_e)},dt=(_e,tt)=>{tt.stopPropagation(),b&&b(_e)},st=_e=>_e.pdfFiles&&_e.pdfFiles.length>0||_e.scriptIds&&_e.scriptIds.length>0;return c?jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"divide-y divide-gray-200 dark:divide-dark-700",children:[...Array(5)].map((_e,tt)=>jsxRuntimeExports.jsx("div",{className:"p-3 animate-pulse",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-2 w-1/3"}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded mb-2 w-2/3"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-gray-700 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"h-5 w-20 bg-gray-200 dark:bg-gray-700 rounded-full"})]})]}),jsxRuntimeExports.jsx("div",{className:"w-16 h-6 bg-gray-200 dark:bg-gray-700 rounded"})]})},tt))})}):e.length===0?jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 p-12 text-center",children:[jsxRuntimeExports.jsx(Tag,{className:"w-12 h-12 text-gray-400 dark:text-gray-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No activities found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your filters to see more activities."})]}):jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"divide-y divide-gray-200 dark:divide-dark-700",children:e.map(_e=>{const tt=$(_e),it=rt(_e);return jsxRuntimeExports.jsx("div",{className:`p-3 transition-all duration-200 group ${tt?"bg-blue-50 dark:bg-blue-900/20 border-l-4 !border-l-blue-500 dark:!border-l-blue-400":it&&h?"bg-green-50 dark:bg-green-900/20 border-l-4 !border-l-green-500 dark:!border-l-green-400":st(_e)&&o?"hover:bg-blue-50 sdark:hover:bg-blue-900/20 cursor-pointer":"hover:bg-gray-50 dark:hover:bg-dark-700"}`,onClick:ct=>nt(_e,ct),title:st(_e)&&o?"Click to view attached resources":void 0,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[jsxRuntimeExports.jsxs("h3",{className:`text-base font-semibold truncate ${tt?"text-blue-900 dark:text-blue-300":it&&h?"text-green-900 dark:text-green-300":"text-gray-900 dark:text-white"}`,children:[_e.title,tt&&jsxRuntimeExports.jsx("span",{className:"ml-2 text-xs bg-blue-600 dark:bg-blue-500 text-white px-2 py-0.5 rounded-full",children:"Added"}),it&&h&&!tt&&jsxRuntimeExports.jsxs("span",{className:"ml-2 inline-flex items-center gap-1 text-xs bg-green-600 dark:bg-green-500 text-white px-2 py-0.5 rounded-full",children:[jsxRuntimeExports.jsx(Target,{className:"w-3 h-3"}),"Perfect Match"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[_e.duration,"min"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:_e.materials.length})]}),_e.pdfFiles&&_e.pdfFiles.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(FileText,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),jsxRuntimeExports.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium",children:[_e.pdfFiles.length," PDF",_e.pdfFiles.length>1?"s":""]})]}),_e.scriptIds&&_e.scriptIds.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(FileText,{className:"w-3 h-3 text-purple-600 dark:text-purple-400"}),jsxRuntimeExports.jsxs("span",{className:"text-purple-600 dark:text-purple-400 font-medium",children:[_e.scriptIds.length," Script",_e.scriptIds.length>1?"s":""]})]})]})]}),jsxRuntimeExports.jsx("p",{className:`text-sm mb-2 line-clamp-1 ${tt?"text-blue-700 dark:text-blue-400":it&&h?"text-green-700 dark:text-green-400":"text-gray-600 dark:text-gray-400"}`,children:_e.description}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${tt?"bg-blue-200 dark:bg-blue-800 text-blue-900 dark:text-blue-300":it&&h?"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-300":"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400"}`,children:_e.ageGroup}),jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${j(_e.skillLevel)}`,children:_e.skillLevel}),jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${_(_e.activityType)}`,children:_e.activityType.split("-").map(ct=>ct.charAt(0).toUpperCase()+ct.slice(1)).join(" ")}),_e.tags.slice(0,2).map((ct,ot)=>jsxRuntimeExports.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 text-xs rounded-md ${tt?"bg-blue-200 dark:bg-blue-800 text-blue-900 dark:text-blue-300":it&&h?"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[jsxRuntimeExports.jsx(Tag,{className:"w-2.5 h-2.5"}),ct]},ot)),_e.tags.length>2&&jsxRuntimeExports.jsxs("span",{className:`px-2 py-0.5 text-xs rounded-md ${tt?"bg-blue-200 dark:bg-blue-800 text-blue-900 dark:text-blue-300":it&&h?"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:["+",_e.tags.length-2]})]})]}),jsxRuntimeExports.jsxs("div",{className:"action-buttons flex items-center gap-1 ml-4",children:[g&&b&&jsxRuntimeExports.jsx("button",{onClick:ct=>dt(_e,ct),className:`p-2 rounded-lg transition-all ${tt?"bg-blue-600 dark:bg-blue-500 text-white":it&&h?"bg-green-600 dark:bg-green-500 text-white hover:bg-green-700 dark:hover:bg-green-600":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 hover:bg-blue-100 dark:hover:bg-blue-900/30 hover:text-blue-600 dark:hover:text-blue-400"}`,title:tt?"Already added to lesson":it&&h?`Perfect for ${h==="warmUp"?"Warm-up":h==="coolDown"?"Cool-down":"Main Activities"} - Click to add`:"Add to lesson",children:it&&h&&!tt?jsxRuntimeExports.jsx(Target,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"})}),!g&&jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:jsxRuntimeExports.jsx("button",{onClick:ct=>{ct.stopPropagation(),i(_e.id)},className:"p-2 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:"Delete Activity",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})})]})]})},_e.id)})})})}function ActivityDetailsModal({isOpen:e,onClose:s,activity:i,scripts:a,onViewPDF:o,onViewScript:c,onSelectActivity:d,showSelectButton:g=!1,isSelected:h=!1}){var rt;if(!e||!i)return null;const b=nt=>{if(nt===0)return"0 Bytes";const dt=1024,st=["Bytes","KB","MB","GB"],_e=Math.floor(Math.log(nt)/Math.log(dt));return parseFloat((nt/Math.pow(dt,_e)).toFixed(2))+" "+st[_e]},j=i.scriptIds?a.filter(nt=>i.scriptIds.includes(nt.id)):[],_=nt=>({comedy:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",drama:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",mystery:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400",fantasy:"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400",historical:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400",contemporary:"bg-teal-100 text-teal-800 dark:bg-teal-900/30 dark:text-teal-400"})[nt]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",$=()=>{d&&i&&(d(i),s())};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-teal-600 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:i.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Activity Resources"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:jsxRuntimeExports.jsx("button",{onClick:s,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-dark-700 bg-gray-50 dark:bg-dark-700",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:i.description}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[i.duration," minutes"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[i.materials.length," materials"]})]}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400 text-xs font-medium rounded-full",children:i.ageGroup}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-400 text-xs font-medium rounded-full",children:i.activityType.split("-").map(nt=>nt.charAt(0).toUpperCase()+nt.slice(1)).join(" ")})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),"Attached PDFs (",((rt=i.pdfFiles)==null?void 0:rt.length)||0,")"]}),i.pdfFiles&&i.pdfFiles.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-3",children:i.pdfFiles.map(nt=>jsxRuntimeExports.jsx("div",{className:"bg-gray-50 dark:bg-dark-700 rounded-lg p-4 border border-gray-200 dark:border-dark-600",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 dark:text-white truncate",children:nt.fileName}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 mt-1",children:[jsxRuntimeExports.jsx("span",{children:b(nt.fileSize)}),jsxRuntimeExports.jsx("span",{children:"•"}),jsxRuntimeExports.jsx("span",{children:new Date(nt.uploadedAt).toLocaleDateString()})]}),nt.description&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:nt.description})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-1 ml-3",children:jsxRuntimeExports.jsx("a",{href:nt.fileUrl,download:nt.fileName,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/30 rounded-lg transition-colors",title:"Download PDF",children:jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"})})})]})},nt._id))}):jsxRuntimeExports.jsxs("div",{className:"text-center py-8 bg-gray-50 dark:bg-dark-700 rounded-lg border-2 border-dashed border-gray-300 dark:border-dark-600",children:[jsxRuntimeExports.jsx(FileText,{className:"w-8 h-8 text-gray-400 dark:text-gray-500 mx-auto mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No PDFs attached to this activity"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Play,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),"Connected Scripts (",j.length,")"]}),j.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-3",children:j.map(nt=>jsxRuntimeExports.jsx("div",{className:"bg-gray-50 dark:bg-dark-700 rounded-lg p-4 border border-gray-200 dark:border-dark-600",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:nt.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 line-clamp-2",children:nt.description}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${_(nt.genre)}`,children:nt.genre}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-full",children:[nt.characterCount," characters"]}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-full",children:[nt.duration," min"]})]})]}),nt.fileUrl&&c&&jsxRuntimeExports.jsx("a",{href:nt.fileUrl,download:nt.fileName,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded-lg transition-colors ml-3",title:"View Script",children:jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"})})]})},nt.id))}):jsxRuntimeExports.jsxs("div",{className:"text-center py-8 bg-gray-50 dark:bg-dark-700 rounded-lg border-2 border-dashed border-gray-300 dark:border-dark-600",children:[jsxRuntimeExports.jsx(Play,{className:"w-8 h-8 text-gray-400 dark:text-gray-500 mx-auto mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:i.requiresScript==="none"?"This activity does not require scripts":"No scripts connected to this activity"})]})]})]}),i.materials.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Required Materials"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:i.materials.map((nt,dt)=>jsxRuntimeExports.jsx("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400 text-sm rounded-full",children:nt},dt))})]}),i.tags.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-6 pt-6 border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Tags"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:i.tags.map((nt,dt)=>jsxRuntimeExports.jsxs("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm rounded-full",children:["#",nt]},dt))})]})]}),jsxRuntimeExports.jsx("div",{className:"p-6 bg-gray-50 dark:bg-dark-700 border-t border-gray-200 dark:border-dark-600 rounded-b-xl",children:jsxRuntimeExports.jsx("div",{className:"flex justify-end items-center",children:g&&d?jsxRuntimeExports.jsxs("button",{onClick:$,disabled:h,className:`flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all duration-200 ${h?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-teal-600 text-white hover:from-blue-700 hover:to-teal-700 shadow-md hover:shadow-lg"}`,children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5"}),h?"Already Added to Lesson":"Add to Lesson Plan"]}):jsxRuntimeExports.jsx("button",{onClick:s,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors ml-auto",children:"Close"})})})]})})}function ActivityGrid({activities:e,onSelectActivity:s,selectedActivities:i,loading:a,scripts:o=[],onViewPDF:c,onViewScript:d,viewMode:g="card",onViewModeChange:h,showViewToggle:b=!1,isLessonPlanning:j=!1,targetSection:_,onDelete:$}){const[rt,nt]=reactExports.useState(null),[dt,st]=reactExports.useState(!1),_e=gt=>({"warm-up":"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-400 dark:border-orange-800",main:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-800","cool-down":"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800",game:"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/30 dark:text-purple-400 dark:border-purple-800",exercise:"bg-pink-100 text-pink-800 border-pink-200 dark:bg-pink-900/30 dark:text-pink-400 dark:border-pink-800"})[gt]||"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600",tt=gt=>({"Toe Tipper":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400","Green Horn":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400","Semi-Pro":"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400","Seasoned Veteran":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"})[gt]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",it=gt=>({"More Playing Than Creating":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400","A Balance of Playing and Creating":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400","Let's Create and Craft":"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400"})[gt]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",ct=gt=>i.some(Et=>Et.id===gt.id),ot=gt=>gt.scriptIds?o.filter(Et=>gt.scriptIds.includes(Et.id)):[],pt=gt=>{nt(gt),st(!0)},et=()=>{st(!1),nt(null)},at=gt=>{s(gt)},ht=(gt,Et)=>{Et.target.closest(".add-button")||pt(gt)},xt=(gt,Et)=>{Et.stopPropagation(),s(gt)},ut=gt=>{if(!_)return!1;switch(_){case"warmUp":return gt.activityType==="warm-up";case"coolDown":return gt.activityType==="cool-down";case"main":return gt.activityType==="main";default:return!1}};return a?jsxRuntimeExports.jsxs("div",{children:[b&&h&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"View:"}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-100 dark:bg-dark-700 rounded-lg p-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>h("card"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${g==="card"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(LayoutGrid,{className:"w-4 h-4"}),"Cards"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>h("line"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${g==="line"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(List,{className:"w-4 h-4"}),"List"]})]})]})}),g==="line"?jsxRuntimeExports.jsx(ActivityLineView,{activities:[],onEdit:()=>{},onDelete:$||(()=>{}),onViewPDF:c,onActivityClick:pt,loading:!0,selectedActivities:i,isLessonPlanning:j,targetSection:_,onSelectActivity:s}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((gt,Et)=>jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 p-6 animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded mb-3"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-4"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"h-6 w-16 bg-gray-200 dark:bg-gray-700 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"h-6 w-20 bg-gray-200 dark:bg-gray-700 rounded-full"})]}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded"})]},Et))})]}):e.length===0?jsxRuntimeExports.jsxs("div",{children:[b&&h&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"View:"}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-100 dark:bg-dark-700 rounded-lg p-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>h("card"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${g==="card"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(LayoutGrid,{className:"w-4 h-4"}),"Cards"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>h("line"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${g==="line"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(List,{className:"w-4 h-4"}),"List"]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(Tag,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No activities found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your filters to see more activities."})]})]}):jsxRuntimeExports.jsxs("div",{children:[b&&h&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"View:"}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-100 dark:bg-dark-700 rounded-lg p-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>h("card"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${g==="card"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(LayoutGrid,{className:"w-4 h-4"}),"Cards"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>h("line"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${g==="line"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(List,{className:"w-4 h-4"}),"List"]})]})]})}),g==="line"?jsxRuntimeExports.jsx(ActivityLineView,{activities:e,onEdit:()=>{},onDelete:$||(()=>{}),onViewPDF:c,onActivityClick:pt,loading:!1,selectedActivities:i,isLessonPlanning:j,targetSection:_,onSelectActivity:s}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(gt=>{const Et=ot(gt),Mt=ct(gt),Nt=ut(gt);return jsxRuntimeExports.jsxs("div",{className:`bg-white dark:bg-dark-800 rounded-lg border-2 p-6 cursor-pointer transition-all duration-200 hover:shadow-lg dark:hover:shadow-xl hover:shadow-gray-200 dark:hover:shadow-black/20 group ${Mt?"border-blue-500 dark:border-blue-400 bg-blue-50 dark:bg-blue-900/20 shadow-md dark:shadow-xl":Nt&&_?"border-green-500 dark:border-green-400 bg-green-50 dark:bg-green-900/20 shadow-md dark:shadow-xl":"border-gray-200 dark:border-dark-700 hover:border-blue-300 dark:hover:border-blue-600"}`,onClick:It=>ht(gt,It),title:"Click to view activity details and resources",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex-1 pr-2",children:[gt.title,Nt&&_&&jsxRuntimeExports.jsxs("span",{className:"ml-2 inline-flex items-center gap-1 px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs font-medium rounded-full",children:[jsxRuntimeExports.jsx(Target,{className:"w-3 h-3"}),"Perfect Match"]})]}),j?jsxRuntimeExports.jsx("button",{className:`add-button p-2 rounded-full transition-all ${Mt?"bg-blue-600 dark:bg-blue-500 text-white":Nt&&_?"bg-green-600 dark:bg-green-500 text-white hover:bg-green-700 dark:hover:bg-green-600":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 hover:bg-blue-100 dark:hover:bg-blue-900/30 hover:text-blue-600 dark:hover:text-blue-400"}`,onClick:It=>xt(gt,It),title:Mt?"Already added to lesson":Nt&&_?`Perfect for ${_==="warmUp"?"Warm-up":_==="coolDown"?"Cool-down":"Main Activities"} - Click to add`:"Add to lesson",children:Nt&&_?jsxRuntimeExports.jsx(Target,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"})}):jsxRuntimeExports.jsx("button",{onClick:It=>{It.stopPropagation(),console.log("Delete button clicked for activity:",gt.id,gt.title),$?$(gt.id):console.log("onDelete function not provided")},className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 text-sm font-medium px-2 py-1 rounded hover:bg-red-50 dark:hover:bg-red-900/30 transition-colors opacity-0 group-hover:opacity-100",title:"Delete Activity",children:"Delete"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 line-clamp-2 text-sm",children:gt.description}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400 text-xs font-medium rounded-full",children:gt.ageGroup}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${tt(gt.skillLevel)}`,children:gt.skillLevel}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${_e(gt.activityType)}`,children:gt.activityType.split("-").map(It=>It.charAt(0).toUpperCase()+It.slice(1)).join(" ")}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${it(gt.playOrCraft)}`,children:gt.playOrCraft})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center flex-wrap gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[gt.duration," min"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[gt.materials.length," materials"]})]}),gt.pdfFiles&&gt.pdfFiles.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),jsxRuntimeExports.jsxs("span",{className:"text-green-600 dark:text-green-400",children:[gt.pdfFiles.length," PDF",gt.pdfFiles.length>1?"s":""]})]}),Et.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Play,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),jsxRuntimeExports.jsxs("span",{className:"text-purple-600 dark:text-purple-400",children:[Et.length," Script",Et.length>1?"s":""]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1",children:[gt.tags.slice(0,3).map((It,kt)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:[jsxRuntimeExports.jsx(Tag,{className:"w-3 h-3"}),It]},kt)),gt.tags.length>3&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:["+",gt.tags.length-3," more"]})]})]},gt.id)})}),jsxRuntimeExports.jsx(ActivityDetailsModal,{isOpen:dt,onClose:et,activity:rt,scripts:o,onViewPDF:c,onViewScript:d,onSelectActivity:j?at:void 0,showSelectButton:j,isSelected:rt?ct(rt):!1})]})}function ScriptCard({script:e,onEdit:s,onDelete:i,onUpload:a}){const o=d=>({comedy:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",drama:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",mystery:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400",fantasy:"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400",historical:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400",contemporary:"bg-teal-100 text-teal-800 dark:bg-teal-900/30 dark:text-teal-400"})[d]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",c=d=>{var h;const g=(h=d.target.files)==null?void 0:h[0];g&&a(e.id,g)};return jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 p-6 hover:shadow-md dark:hover:shadow-xl hover:shadow-gray-200 dark:hover:shadow-black/20 transition-all duration-200 hover:border-teal-300 dark:hover:border-teal-600 group",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:e.title}),jsxRuntimeExports.jsx("div",{className:"flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:jsxRuntimeExports.jsx("button",{onClick:()=>i(e.id),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 text-sm font-medium px-2 py-1 rounded hover:bg-red-50 dark:hover:bg-red-900/30 transition-colors",children:"Delete"})})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 line-clamp-3",children:e.description}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-teal-100 dark:bg-teal-900/30 text-teal-800 dark:text-teal-400 text-xs font-medium rounded-full",children:e.ageGroup}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${o(e.genre)}`,children:e.genre})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[e.duration," min"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[e.characterCount," characters"]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[e.tags.slice(0,3).map((d,g)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:[jsxRuntimeExports.jsx(Tag,{className:"w-3 h-3"}),d]},g)),e.tags.length>3&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:["+",e.tags.length-3," more"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200 dark:border-dark-700",children:[e.fileUrl?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:e.fileName}),jsxRuntimeExports.jsx("a",{href:e.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 p-1 rounded hover:bg-blue-50 dark:hover:bg-blue-900/30 transition-colors",children:jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"})})]}):jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No file uploaded"}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-1 px-3 py-1 bg-teal-50 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400 rounded-md cursor-pointer hover:bg-teal-100 dark:hover:bg-teal-900/50 transition-colors",children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Upload PDF"}),jsxRuntimeExports.jsx("input",{type:"file",accept:".pdf",onChange:c,className:"hidden"})]})]})]})}function ScriptLineView({scripts:e,onEdit:s,onDelete:i,onUpload:a,loading:o}){const c=g=>({comedy:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",drama:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",mystery:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400",fantasy:"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400",historical:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400",contemporary:"bg-teal-100 text-teal-800 dark:bg-teal-900/30 dark:text-teal-400"})[g]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",d=(g,h)=>{var j;const b=(j=h.target.files)==null?void 0:j[0];b&&a(g,b),h.target.value=""};return o?jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"divide-y divide-gray-200 dark:divide-dark-700",children:[...Array(5)].map((g,h)=>jsxRuntimeExports.jsx("div",{className:"p-3 animate-pulse",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-2 w-1/3"}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded mb-2 w-2/3"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-gray-700 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"h-5 w-20 bg-gray-200 dark:bg-gray-700 rounded-full"})]})]}),jsxRuntimeExports.jsx("div",{className:"w-16 h-6 bg-gray-200 dark:bg-gray-700 rounded"})]})},h))})}):e.length===0?jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 p-12 text-center",children:[jsxRuntimeExports.jsx(FileText,{className:"w-12 h-12 text-gray-400 dark:text-gray-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No scripts found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your filters to see more scripts."})]}):jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"divide-y divide-gray-200 dark:divide-dark-700",children:e.map(g=>jsxRuntimeExports.jsx("div",{className:"p-3 transition-all duration-200 group hover:bg-gray-50 dark:hover:bg-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white truncate",children:g.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[g.duration,"min"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[g.characterCount," chars"]})]}),g.fileUrl&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(FileText,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),jsxRuntimeExports.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"PDF"})]})]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 line-clamp-1",children:g.description}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-teal-100 dark:bg-teal-900/30 text-teal-800 dark:text-teal-400",children:g.ageGroup}),jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${c(g.genre)}`,children:g.genre}),g.tags.slice(0,2).map((h,b)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:[jsxRuntimeExports.jsx(Tag,{className:"w-2.5 h-2.5"}),h]},b)),g.tags.length>2&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:["+",g.tags.length-2]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[jsxRuntimeExports.jsx("div",{className:"text-right",children:g.fileUrl?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:g.fileName}),jsxRuntimeExports.jsx("a",{href:g.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"p-1 text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/30 rounded transition-colors",title:"View PDF",children:jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"})})]}):jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No file"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[jsxRuntimeExports.jsxs("label",{className:"p-2 text-teal-600 dark:text-teal-400 hover:text-teal-800 dark:hover:text-teal-300 hover:bg-teal-50 dark:hover:bg-teal-900/30 rounded-lg transition-colors cursor-pointer",children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("input",{type:"file",accept:".pdf",onChange:h=>d(g.id,h),className:"hidden"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>i(g.id),className:"p-2 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Delete Script",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})]})]})},g.id))})})}function ScriptGrid({scripts:e,onEdit:s,onDelete:i,onUpload:a,loading:o,viewMode:c="card",onViewModeChange:d,showViewToggle:g=!1}){return o?jsxRuntimeExports.jsxs("div",{children:[g&&d&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"View:"}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-100 dark:bg-dark-700 rounded-lg p-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>d("card"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${c==="card"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(LayoutGrid,{className:"w-4 h-4"}),"Cards"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>d("line"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${c==="line"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(List,{className:"w-4 h-4"}),"List"]})]})]})}),c==="line"?jsxRuntimeExports.jsx(ScriptLineView,{scripts:[],onEdit:s,onDelete:i,onUpload:a,loading:!0}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((h,b)=>jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 p-6 animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded mb-3"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-4"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"h-6 w-16 bg-gray-200 dark:bg-gray-700 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"h-6 w-20 bg-gray-200 dark:bg-gray-700 rounded-full"})]}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded"})]},b))})]}):e.length===0?jsxRuntimeExports.jsxs("div",{children:[g&&d&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"View:"}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-100 dark:bg-dark-700 rounded-lg p-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>d("card"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${c==="card"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(LayoutGrid,{className:"w-4 h-4"}),"Cards"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>d("line"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${c==="line"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(List,{className:"w-4 h-4"}),"List"]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(Tag,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No scripts found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your filters to see more scripts."})]})]}):jsxRuntimeExports.jsxs("div",{children:[g&&d&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"View:"}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-100 dark:bg-dark-700 rounded-lg p-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>d("card"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${c==="card"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(LayoutGrid,{className:"w-4 h-4"}),"Cards"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>d("line"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${c==="line"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(List,{className:"w-4 h-4"}),"List"]})]})]})}),c==="line"?jsxRuntimeExports.jsx(ScriptLineView,{scripts:e,onEdit:s,onDelete:i,onUpload:a,loading:!1}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(h=>jsxRuntimeExports.jsx(ScriptCard,{script:h,onEdit:s,onDelete:i,onUpload:a},h.id))})]})}const ageGroups$3=["Young","Middle","Older"],levels$1=["Toe Tipper","Green Horn","Semi-Pro","Seasoned Veteran"],genres$1=["comedy","drama","mystery","fantasy","historical","contemporary"],playOrCraftOptions$1=["More Playing Than Creating","A Balance of Playing and Creating","Let us Create And Craft"];function SearchFilters({filters:e,onFiltersChange:s,showGenre:i=!1,showLevel:a=!1,showPlayOrCraft:o=!1}){const c=(d,g)=>{s({...e,[d]:g||void 0})};return jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-dark-700 mb-6 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx(Filter,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Filters"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:e.search||"",onChange:d=>c("search",d.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("select",{value:e.ageGroup||"",onChange:d=>c("ageGroup",d.target.value),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Age Groups"}),ageGroups$3.map(d=>jsxRuntimeExports.jsx("option",{value:d,children:d},d))]}),a&&jsxRuntimeExports.jsxs("select",{value:e.skillLevel||"",onChange:d=>c("skillLevel",d.target.value),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Levels"}),levels$1.map(d=>jsxRuntimeExports.jsx("option",{value:d,children:d},d))]}),i&&jsxRuntimeExports.jsxs("select",{value:e.genre||"",onChange:d=>c("genre",d.target.value),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Genres"}),genres$1.map(d=>jsxRuntimeExports.jsx("option",{value:d,children:d.charAt(0).toUpperCase()+d.slice(1)},d))]}),o&&jsxRuntimeExports.jsxs("select",{value:e.playOrCraft||"",onChange:d=>c("playOrCraft",d.target.value),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Play or Craft Types"}),playOrCraftOptions$1.map(d=>jsxRuntimeExports.jsx("option",{value:d,children:d},d))]})]})]})}var V3_URL="https://js.stripe.com/v3",V3_URL_REGEX=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,EXISTING_SCRIPT_MESSAGE="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",findScript=function(){for(var s=document.querySelectorAll('script[src^="'.concat(V3_URL,'"]')),i=0;i<s.length;i++){var a=s[i];if(V3_URL_REGEX.test(a.src))return a}return null},injectScript=function(s){var i="",a=document.createElement("script");a.src="".concat(V3_URL).concat(i);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(a),a},registerWrapper=function(s,i){!s||!s._registerWrapper||s._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:i})},stripePromise$2=null,onErrorListener=null,onLoadListener=null,onError=function(s){return function(){s(new Error("Failed to load Stripe.js"))}},onLoad=function(s,i){return function(){window.Stripe?s(window.Stripe):i(new Error("Stripe.js not available"))}},loadScript=function(s){return stripePromise$2!==null?stripePromise$2:(stripePromise$2=new Promise(function(i,a){if(typeof window>"u"||typeof document>"u"){i(null);return}if(window.Stripe){i(window.Stripe);return}try{var o=findScript();if(!(o&&s)){if(!o)o=injectScript(s);else if(o&&onLoadListener!==null&&onErrorListener!==null){var c;o.removeEventListener("load",onLoadListener),o.removeEventListener("error",onErrorListener),(c=o.parentNode)===null||c===void 0||c.removeChild(o),o=injectScript(s)}}onLoadListener=onLoad(i,a),onErrorListener=onError(a),o.addEventListener("load",onLoadListener),o.addEventListener("error",onErrorListener)}catch(d){a(d);return}}),stripePromise$2.catch(function(i){return stripePromise$2=null,Promise.reject(i)}))},initStripe=function(s,i,a){if(s===null)return null;var o=s.apply(void 0,i);return registerWrapper(o,a),o},stripePromise$1$1,loadCalled=!1,getStripePromise=function(){return stripePromise$1$1||(stripePromise$1$1=loadScript(null).catch(function(s){return stripePromise$1$1=null,Promise.reject(s)}),stripePromise$1$1)};Promise.resolve().then(function(){return getStripePromise()}).catch(function(e){loadCalled||console.warn(e)});var loadStripe=function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];loadCalled=!0;var o=Date.now();return getStripePromise().then(function(c){return initStripe(c,i,o)})};const stripePromise$1=loadStripe("pk_test_51RZbgpHJfFjCNpvusQZhCnbWanbuxIE2cyrNZuJ2I02nFnWl45SkhClG0XLb3UwhXoCUWVTFYxJMkRfWTqWPbghD001v7bAUPj");class StripeService{static async initializeStripe(){return await stripePromise$1}static async initializeDemoSubscriptions(){try{console.log("Demo subscriptions initialized")}catch(s){console.error("Error initializing demo subscriptions:",s)}}static async getPlans(){try{return await ApiService.getSubscriptionPlans()}catch(s){throw console.error("Error fetching plans:",s),new Error("Failed to load subscription plans")}}static async createSubscription(s,i,a){try{return await ApiService.createSubscription(s,i,a)}catch(o){throw console.error("Error creating subscription:",o),o}}static async updateSubscription(s,i){try{return await ApiService.updateSubscription(s,i)}catch(a){throw console.error("Error updating subscription:",a),a}}static async cancelSubscription(s){try{return await ApiService.cancelSubscription(s)}catch(i){throw console.error("Error canceling subscription:",i),i}}static async reactivateSubscription(s){try{return await ApiService.reactivateSubscription(s)}catch(i){throw console.error("Error reactivating subscription:",i),i}}static async purchaseAdditionalLessons(s,i){try{return await ApiService.purchaseAdditionalLessons(s,i)}catch(a){throw console.error("Error purchasing additional lessons:",a),a}}static async getUserSubscription(s){try{return await ApiService.getUserSubscription(s)}catch(i){if(i instanceof ApiError&&i.status===404)return null;throw console.error("Error fetching subscription:",i),i}}static async incrementLessonCount(s){try{return await ApiService.incrementLessonCount(s)}catch(i){throw console.error("Error incrementing lesson count:",i),i}}static async checkSubscriptionAccess(s){try{return await ApiService.checkSubscriptionAccess(s)}catch(i){return console.error("Error checking subscription access:",i),{canGenerate:!1,reason:"Failed to check subscription status",remainingLessons:0}}}static canGenerateLesson(s){return!s||s.status!=="active"?!1:s.plan.id==="juliet"&&s.plan.name.includes("Admin")||s.plan.lessonsLimit===-1?!0:s.lessonsGenerated<s.plan.lessonsLimit}static getRemainingLessons(s){return!s||s.status!=="active"?0:s.plan.id==="juliet"&&s.plan.name.includes("Admin")||s.plan.lessonsLimit===-1?-1:Math.max(0,s.plan.lessonsLimit+(s.additionalLessonsPurchased||0)-s.lessonsGenerated)}static canPurchaseAdditionalLessons(s){return!s||s.status!=="active"||s.plan.id==="juliet"&&s.plan.name.includes("Admin")?!1:s.plan.allowAdditionalLessons||!1}static async getPaymentMethods(s){try{return await ApiService.getPaymentMethods(s)}catch(i){throw console.error("Error fetching payment methods:",i),i}}static async getInvoices(s){try{return await ApiService.getInvoices(s)}catch(i){throw console.error("Error fetching invoices:",i),i}}}const API_URL="/api";class AuthService{static getStoredAuth(){try{const s=localStorage.getItem("activityhub_auth");return s?JSON.parse(s):null}catch{return null}}static setStoredAuth(s){localStorage.setItem("activityhub_auth",JSON.stringify(s))}static clearStoredAuth(){localStorage.removeItem("activityhub_auth")}static getStoredUsers(){try{const s=localStorage.getItem("activityhub_users");return s?JSON.parse(s):[]}catch{return[]}}static setStoredUsers(s){localStorage.setItem("activityhub_users",JSON.stringify(s))}static initializeDemoUsers(){if(this.getStoredUsers().length===0){const i=[{id:"1",email:"teacher@activityhub.com",firstName:"Sarah",lastName:"Johnson",role:"teacher",organization:"Riverside Elementary",isActive:!0,lastLoginAt:new Date("2024-01-15"),createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"2",email:"admin@activityhub.com",firstName:"Michael",lastName:"Chen",role:"admin",organization:"ActivityHub",isActive:!0,lastLoginAt:new Date("2024-01-16"),createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"3",email:"john.doe@school.edu",firstName:"John",lastName:"Doe",role:"teacher",organization:"Westfield High School",isActive:!0,lastLoginAt:new Date("2024-01-14"),createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-01-05")},{id:"4",email:"jane.smith@academy.org",firstName:"Jane",lastName:"Smith",role:"student",organization:"Drama Academy",isActive:!1,lastLoginAt:new Date("2024-01-10"),createdAt:new Date("2024-01-08"),updatedAt:new Date("2024-01-08")},{id:"5",email:"emily.brown@college.edu",firstName:"Emily",lastName:"Brown",role:"teacher",organization:"Community College",isActive:!0,lastLoginAt:new Date("2024-01-13"),createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-12")}];this.setStoredUsers(i)}StripeService.initializeDemoSubscriptions()}static async checkAuth(){const s=this.getStoredAuth();if(s&&s.token)try{const i=await fetch(`${API_URL}/users/profile`,{headers:{Authorization:`Bearer ${s.token}`,"ngrok-skip-browser-warning":"69420"}});if(i.ok)return await i.json()}catch(i){console.error("Auth check failed:",i)}return null}static async loadUserWithSubscription(s){try{const i=await StripeService.getUserSubscription(s.id);return{...s,subscription:i||void 0}}catch{return s}}static async signIn(s){const i=await fetch(`${API_URL}/users/login`,{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"69420"},body:JSON.stringify(s)});if(!i.ok){const o=await i.json();throw new Error(o.error||"Failed to sign in")}const a=await i.json();return this.setStoredAuth(a),a}static async signUp(s){const i=await fetch(`${API_URL}/users/register`,{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"69420"},body:JSON.stringify(s)});if(!i.ok){const o=await i.json();throw new Error(o.error||"Failed to sign up")}const a=await i.json();return this.setStoredAuth(a),a}static async signOut(){this.clearStoredAuth()}static async updateProfile(s,i){const a=await fetch(`${API_URL}/users/${s}`,{method:"PUT",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"69420"},body:JSON.stringify(i)});if(!a.ok){const c=await a.json();throw new Error(c.error||"Failed to update profile")}return await a.json()}static getCurrentUser(){const s=this.getStoredAuth();return(s==null?void 0:s.user)||null}static getAuthToken(){const s=this.getStoredAuth();return(s==null?void 0:s.token)||null}static async getAllUsers(s){const i=await fetch(`${API_URL}/users`,{method:"GET",headers:{Authorization:`Bearer ${this.getAuthToken()}`,"ngrok-skip-browser-warning":"69420"}});if(!i.ok){const o=await i.json();throw new Error(o.error||"Failed to get users")}const a=await i.json();if(s){let o=a;if(s.role&&(o=o.filter(c=>c.role===s.role)),s.isActive!==void 0&&(o=o.filter(c=>c.isActive===s.isActive)),s.organization&&(o=o.filter(c=>{var d;return(d=c.organization)==null?void 0:d.toLowerCase().includes(s.organization.toLowerCase())})),s.search){const c=s.search.toLowerCase();o=o.filter(d=>{var g;return d.firstName.toLowerCase().includes(c)||d.lastName.toLowerCase().includes(c)||d.email.toLowerCase().includes(c)||((g=d.organization)==null?void 0:g.toLowerCase().includes(c))})}return o}return a}static async getUserStats(){const s=await fetch(`${API_URL}/users/stats`,{method:"GET",headers:{Authorization:`Bearer ${this.getAuthToken()}`,"ngrok-skip-browser-warning":"69420"}});if(!s.ok){const a=await s.json();throw new Error(a.error||"Failed to get user stats")}return await s.json()}static async createUser(s){const i=await fetch(`${API_URL}/users`,{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"69420"},body:JSON.stringify(s)});if(!i.ok){const o=await i.json();throw new Error(o.error||"Failed to create user")}return await i.json()}static async updateUser(s,i){const a=await fetch(`${API_URL}/users/${s}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.getAuthToken()}`,"ngrok-skip-browser-warning":"69420"},body:JSON.stringify(i)});if(!a.ok){const c=await a.json();throw new Error(c.error||"Failed to update user")}return await a.json()}static async deleteUser(s){const i=await fetch(`${API_URL}/users/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${this.getAuthToken()}`,"ngrok-skip-browser-warning":"69420"}});if(!i.ok){const a=await i.json();throw new Error(a.error||"Failed to delete user")}}static async toggleUserStatus(s){const i=await fetch(`${API_URL}/users/${s}/toggle`,{method:"PUT",headers:{Authorization:`Bearer ${this.getAuthToken()}`,"ngrok-skip-browser-warning":"69420"}});if(!i.ok){const o=await i.json();throw new Error(o.error||"Failed to toggle user status")}return await i.json()}}const API_BASE_URL$1="/api";class ApiError extends Error{constructor(s,i,a){super(s),this.status=i,this.response=a,this.name="ApiError"}}class ApiService{static getHeaders(s=!1){const i=AuthService.getAuthToken();return{...s?{}:{"Content-Type":"application/json"},...i?{Authorization:`Bearer ${i}`}:{}}}static async request(s,i={}){const a=`${API_BASE_URL$1}${s}`,o=i.body instanceof FormData,c=await fetch(a,{headers:{...this.getHeaders(o),...i.headers},...i});if(!c.ok){const d=await c.json().catch(()=>({}));throw new ApiError(d.error||`HTTP ${c.status}`,c.status,d)}return c.status===204?{}:c.json()}static async getActivities(s){const i=new URLSearchParams;s&&Object.entries(s).forEach(([o,c])=>{c&&i.append(o,c.toString())});const a=await fetch(`${API_BASE_URL$1}/activities?${i}`,{headers:this.getHeaders()});if(!a.ok)throw new Error("Failed to fetch activities");return a.json()}static async getActivity(s){const i=await fetch(`${API_BASE_URL$1}/activities/${s}`,{headers:this.getHeaders()});if(!i.ok)throw new Error("Failed to fetch activity");return i.json()}static async createActivity(s){const i=new FormData;if(i.append("data",JSON.stringify(s)),s.pdfFiles&&s.pdfFiles.length>0)for(const a of s.pdfFiles)try{const c=await(await fetch(a.fileUrl)).blob(),d=new File([c],a.fileName,{type:"application/pdf"});i.append("files",d)}catch(o){console.error("Error converting PDF to file:",o)}return this.request("/activities",{method:"POST",body:i})}static async updateActivity(s,i){const a=await fetch(`${API_BASE_URL$1}/activities/${s}`,{method:"PUT",headers:this.getHeaders(),body:JSON.stringify(i)});if(!a.ok)throw new Error("Failed to update activity");return a.json()}static async deleteActivity(s){console.log("ApiService.deleteActivity called with id:",s);const i=await fetch(`${API_BASE_URL$1}/activities/${s}`,{method:"DELETE",headers:this.getHeaders()});if(console.log("Delete response status:",i.status),!i.ok){const a=await i.text();throw console.error("Delete failed with status:",i.status,"Error:",a),new Error("Failed to delete activity")}console.log("Activity deleted successfully via API")}static async getScripts(s){const i=new URLSearchParams;s&&Object.entries(s).forEach(([o,c])=>{c&&i.append(o,c.toString())});const a=await fetch(`${API_BASE_URL$1}/scripts?${i}`,{headers:this.getHeaders()});if(!a.ok)throw new Error("Failed to fetch scripts");return a.json()}static async getScript(s){const i=await fetch(`${API_BASE_URL$1}/scripts/${s}`,{headers:this.getHeaders()});if(!i.ok)throw new Error("Failed to fetch script");return i.json()}static async createScript(s,i){const a=new FormData;return Object.entries(s).forEach(([o,c])=>{a.append(o,c)}),i&&a.append("file",i),this.request("/scripts",{method:"POST",body:a})}static async updateScript(s,i,a){const o=new FormData;return Object.entries(i).forEach(([c,d])=>{o.append(c,d)}),a&&o.append("file",a),this.request(`/scripts/${s}`,{method:"PUT",body:o})}static async deleteScript(s){if(!(await fetch(`${API_BASE_URL$1}/scripts/${s}`,{method:"DELETE",headers:this.getHeaders()})).ok)throw new Error("Failed to delete script")}static async uploadScriptFile(s,i){const a=new FormData;return a.append("file",i),this.request(`/scripts/${s}/upload`,{method:"POST",body:a})}static async getSavedLessons(s){const i=new URLSearchParams;s&&Object.entries(s).forEach(([o,c])=>{c!=null&&c!==""&&(Array.isArray(c)?i.append(o,c.join(",")):i.append(o,String(c)))});const a=i.toString();return this.request(`/lessons${a?`?${a}`:""}`)}static async getSavedLesson(s){return this.request(`/lessons/${s}`)}static async saveLesson(s){return this.request("/lessons",{method:"POST",body:JSON.stringify(s),headers:this.getHeaders()})}static async updateLesson(s,i){return this.request(`/lessons/${s}`,{method:"PUT",body:JSON.stringify(i),headers:this.getHeaders()})}static async deleteLesson(s){const i=await fetch(`${API_BASE_URL$1}/lessons/${s}`,{method:"DELETE",headers:this.getHeaders()});if(!i.ok)throw new Error("Failed to delete lesson");if(i.status!==204)return i.json()}static async duplicateLesson(s,i){return this.request(`/lessons/${s}/duplicate`,{method:"POST",body:JSON.stringify({title:i}),headers:this.getHeaders()})}static async getLessonWithActivities(s){return this.request(`/lessons/${s}/activities`)}static async getSubscriptionPlans(){return this.request("/stripe/plans",{method:"GET",headers:{...this.getHeaders(),"ngrok-skip-browser-warning":"69420"}})}static async getUserSubscription(s){return this.request(`/stripe/subscription/${s}`,{headers:this.getHeaders()})}static async createSubscription(s,i,a){return this.request("/stripe/create-subscription",{method:"POST",headers:this.getHeaders(),body:JSON.stringify({userId:s,planId:i,paymentMethodId:a})})}static async updateSubscription(s,i){return this.request("/stripe/update-subscription",{method:"PUT",headers:this.getHeaders(),body:JSON.stringify({userId:s,planId:i})})}static async cancelSubscription(s){return this.request("/stripe/cancel-subscription",{method:"POST",headers:this.getHeaders(),body:JSON.stringify({userId:s})})}static async reactivateSubscription(s){return this.request("/stripe/reactivate-subscription",{method:"POST",headers:this.getHeaders(),body:JSON.stringify({userId:s})})}static async purchaseAdditionalLessons(s,i){return this.request("/stripe/purchase-lessons",{method:"POST",headers:this.getHeaders(),body:JSON.stringify({userId:s,lessonCount:i})})}static async incrementLessonCount(s){return this.request("/stripe/increment-lesson",{method:"POST",headers:this.getHeaders(),body:JSON.stringify({userId:s})})}static async checkSubscriptionAccess(s){return this.request(`/stripe/check-access/${s}`,{headers:this.getHeaders()})}static async getPaymentMethods(s){return this.request(`/stripe/payment-methods/${s}`,{headers:this.getHeaders()})}static async getInvoices(s){return this.request(`/stripe/invoices/${s}`,{headers:this.getHeaders()})}static async createPaymentIntent(s){return this.request("/stripe/create-payment-intent",{method:"POST",headers:this.getHeaders(),body:JSON.stringify({planId:s})})}}const ageGroups$2=["Young","Middle","Older"],levels=["Toe Tipper","Green Horn","Semi-Pro","Seasoned Veteran"],activityTypes=["warm-up","main","cool-down","game","exercise"],playOrCraftOptions=["More Playing Than Creating","A Balance of Playing and Creating","Let us Create And Craft"];function CreateActivityModal({isOpen:e,onClose:s,onCreate:i,editActivity:a,onViewPDF:o}){var ot,pt;const[c,d]=reactExports.useState([]),[g,h]=reactExports.useState(!1),[b,j]=reactExports.useState(!1),[_,$]=reactExports.useState({title:(a==null?void 0:a.title)||"",description:(a==null?void 0:a.description)||"",ageGroup:(a==null?void 0:a.ageGroup)||"Middle",skillLevel:(a==null?void 0:a.skillLevel)||"Toe Tipper",duration:(a==null?void 0:a.duration)||30,materials:((ot=a==null?void 0:a.materials)==null?void 0:ot.join(", "))||"",tags:((pt=a==null?void 0:a.tags)==null?void 0:pt.join(", "))||"",requiresScript:(a==null?void 0:a.requiresScript)||"none",activityType:(a==null?void 0:a.activityType)||"main",playOrCraft:(a==null?void 0:a.playOrCraft)||"A Balance of Playing and Creating",scriptIds:(a==null?void 0:a.scriptIds)||[],pdfFiles:(a==null?void 0:a.pdfFiles)||[]});reactExports.useEffect(()=>{e&&rt()},[e]);const rt=async()=>{try{h(!0);const et=await ApiService.getScripts();d(et)}catch(et){console.error("Failed to load scripts:",et)}finally{h(!1)}},nt=async et=>{et.preventDefault();try{const at=new FormData,ht={title:_.title,description:_.description,ageGroup:_.ageGroup,skillLevel:_.skillLevel,duration:_.duration,materials:_.materials.split(",").map(xt=>xt.trim()).filter(Boolean),tags:_.tags.split(",").map(xt=>xt.trim()).filter(Boolean),requiresScript:_.requiresScript,activityType:_.activityType,playOrCraft:_.playOrCraft,scriptIds:_.scriptIds,pdfFiles:_.pdfFiles};if(at.append("data",JSON.stringify(ht)),_.pdfFiles.length>0)for(const xt of _.pdfFiles){const gt=await(await fetch(xt.fileUrl)).blob(),Et=new File([gt],xt.fileName,{type:"application/pdf"});at.append("files",Et)}i(ht),s()}catch(at){console.error("Error submitting form:",at),alert("Failed to create activity. Please try again.")}},dt=et=>{$(at=>({...at,scriptIds:at.scriptIds.includes(et)?at.scriptIds.filter(ht=>ht!==et):[...at.scriptIds,et]}))},st=()=>c.filter(et=>_.scriptIds.includes(et.id)),_e=async et=>{const at=et.target.files;if(!(!at||at.length===0)){j(!0);try{const ht=[];for(let xt=0;xt<at.length;xt++){const ut=at[xt];if(ut.type!=="application/pdf"){alert(`${ut.name} is not a PDF file. Only PDF files are allowed.`);continue}if(ut.size>10*1024*1024){alert(`${ut.name} is too large. Maximum file size is 10MB.`);continue}const gt=URL.createObjectURL(ut),Et={_id:Date.now().toString()+xt,fileName:ut.name,fileUrl:gt,fileSize:ut.size,uploadedAt:new Date,description:""};ht.push(Et)}$(xt=>({...xt,pdfFiles:[...xt.pdfFiles,...ht]}))}catch(ht){console.error("Error uploading PDFs:",ht),alert("Failed to upload PDF files. Please try again.")}finally{j(!1),et.target.value=""}}},tt=et=>{$(at=>({...at,pdfFiles:at.pdfFiles.filter(ht=>ht._id!==et)}))},it=(et,at)=>{$(ht=>({...ht,pdfFiles:ht.pdfFiles.map(xt=>xt._id===et?{...xt,description:at}:xt)}))},ct=et=>{if(et===0)return"0 Bytes";const at=1024,ht=["Bytes","KB","MB","GB"],xt=Math.floor(Math.log(et)/Math.log(at));return parseFloat((et/Math.pow(at,xt)).toFixed(2))+" "+ht[xt]};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg max-w-5xl w-full max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:a?"Edit Activity":"Create New Activity"}),jsxRuntimeExports.jsx("button",{onClick:s,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:nt,className:"p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:_.title,onChange:et=>$({..._,title:et.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),jsxRuntimeExports.jsx("textarea",{required:!0,rows:3,value:_.description,onChange:et=>$({..._,description:et.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Age Group"}),jsxRuntimeExports.jsx("select",{value:_.ageGroup,onChange:et=>$({..._,ageGroup:et.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:ageGroups$2.map(et=>jsxRuntimeExports.jsx("option",{value:et,children:et},et))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Level"}),jsxRuntimeExports.jsx("select",{value:_.skillLevel,onChange:et=>$({..._,skillLevel:et.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:levels.map(et=>jsxRuntimeExports.jsx("option",{value:et,children:et},et))})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Duration (minutes)"}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",required:!0,value:_.duration,onChange:et=>$({..._,duration:parseInt(et.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Activity Type"}),jsxRuntimeExports.jsx("select",{value:_.activityType,onChange:et=>$({..._,activityType:et.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:activityTypes.map(et=>jsxRuntimeExports.jsx("option",{value:et,children:et.split("-").map(at=>at.charAt(0).toUpperCase()+at.slice(1)).join(" ")},et))})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Script Requirement"}),jsxRuntimeExports.jsxs("select",{value:_.requiresScript,onChange:et=>$({..._,requiresScript:et.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:[jsxRuntimeExports.jsx("option",{value:"none",children:"None"}),jsxRuntimeExports.jsx("option",{value:"optional",children:"Optional"}),jsxRuntimeExports.jsx("option",{value:"required",children:"Required"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Play or Craft"}),jsxRuntimeExports.jsx("select",{value:_.playOrCraft,onChange:et=>$({..._,playOrCraft:et.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:playOrCraftOptions.map(et=>jsxRuntimeExports.jsx("option",{value:et,children:et},et))})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"PDF Attachments"}),jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 dark:border-dark-600 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:bg-dark-700 hover:bg-gray-100 dark:hover:bg-dark-600 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[jsxRuntimeExports.jsx(Upload,{className:"w-8 h-8 mb-2 text-gray-500 dark:text-gray-400"}),jsxRuntimeExports.jsxs("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Click to upload"})," PDF files"]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PDF files only (MAX. 10MB each)"}),b&&jsxRuntimeExports.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Uploading..."})]})]}),jsxRuntimeExports.jsx("input",{type:"file",multiple:!0,accept:".pdf",onChange:_e,disabled:b,className:"hidden"})]})}),_.pdfFiles.length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Uploaded PDFs (",_.pdfFiles.length,")"]}),jsxRuntimeExports.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:_.pdfFiles.map(et=>jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-dark-700 rounded-lg border border-gray-200 dark:border-dark-600",children:[jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:et.fileName}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[jsxRuntimeExports.jsx("a",{href:et.fileUrl,download:et.fileName,className:"p-1 text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/30 rounded transition-colors",title:"Download PDF",children:jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>tt(et._id),className:"p-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30 rounded transition-colors",title:"Remove PDF",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 mb-2",children:[jsxRuntimeExports.jsx("span",{children:ct(et.fileSize)}),jsxRuntimeExports.jsx("span",{children:"•"}),jsxRuntimeExports.jsx("span",{children:new Date(et.uploadedAt).toLocaleDateString()})]}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Add description (optional)",value:et.description||"",onChange:at=>it(et._id,at.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-dark-600 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]})]},et._id))})]})]}),(_.requiresScript==="required"||_.requiresScript==="optional")&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:["Select Scripts ",_.requiresScript==="required"&&jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),g?jsxRuntimeExports.jsxs("div",{className:"text-center py-4",children:[jsxRuntimeExports.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Loading scripts..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[_.scriptIds.length>0&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Selected Scripts (",_.scriptIds.length,")"]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:st().map(et=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h5",{className:"font-medium text-blue-900 dark:text-blue-300",children:et.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:et.description}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mt-1",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400 text-xs rounded-full",children:et.genre}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400 text-xs rounded-full",children:et.ageGroup}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400 text-xs rounded-full",children:[et.duration," min"]})]})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>dt(et.id),className:"ml-3 p-2 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(Minus,{className:"w-4 h-4"})})]},et.id))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Available Scripts (",c.filter(et=>!_.scriptIds.includes(et.id)).length,")"]}),jsxRuntimeExports.jsx("div",{className:"max-h-60 overflow-y-auto border border-gray-200 dark:border-dark-600 rounded-lg bg-white dark:bg-dark-700",children:c.filter(et=>!_.scriptIds.includes(et.id)).length===0?jsxRuntimeExports.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:_.scriptIds.length>0?"All available scripts selected":"No scripts available"}):jsxRuntimeExports.jsx("div",{className:"space-y-1 p-2",children:c.filter(et=>!_.scriptIds.includes(et.id)).map(et=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-dark-600 rounded-lg transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h5",{className:"font-medium text-gray-900 dark:text-white",children:et.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-1",children:et.description}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mt-1",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-full",children:et.genre}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-full",children:et.ageGroup}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-full",children:[et.duration," min"]})]})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>dt(et.id),className:"ml-3 p-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"})})]},et.id))})})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Materials (comma-separated)"}),jsxRuntimeExports.jsx("input",{type:"text",value:_.materials,onChange:et=>$({..._,materials:et.target.value}),placeholder:"Props, costumes, chairs...",className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tags (comma-separated)"}),jsxRuntimeExports.jsx("input",{type:"text",value:_.tags,onChange:et=>$({..._,tags:et.target.value}),placeholder:"improv, teamwork, creativity...",className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:b,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[a?"Update":"Create"," Activity"]})]})]})]})}):null}const ageGroups$1=["Young","Middle","Older"],genres=["comedy","drama","mystery","fantasy","historical","contemporary"];function CreateScriptModal({isOpen:e,onClose:s,onCreate:i,editScript:a}){var g;const[o,c]=reactExports.useState({title:(a==null?void 0:a.title)||"",description:(a==null?void 0:a.description)||"",genre:(a==null?void 0:a.genre)||"comedy",ageGroup:(a==null?void 0:a.ageGroup)||"Middle",characterCount:(a==null?void 0:a.characterCount)||2,duration:(a==null?void 0:a.duration)||15,tags:((g=a==null?void 0:a.tags)==null?void 0:g.join(", "))||""}),d=h=>{h.preventDefault(),i({...o,tags:o.tags.split(",").map(b=>b.trim()).filter(Boolean)}),s()};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:a?"Edit Script":"Create New Script"}),jsxRuntimeExports.jsx("button",{onClick:s,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:d,className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:o.title,onChange:h=>c({...o,title:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),jsxRuntimeExports.jsx("textarea",{required:!0,rows:3,value:o.description,onChange:h=>c({...o,description:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Genre"}),jsxRuntimeExports.jsx("select",{value:o.genre,onChange:h=>c({...o,genre:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:genres.map(h=>jsxRuntimeExports.jsx("option",{value:h,children:h.charAt(0).toUpperCase()+h.slice(1)},h))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Age Group"}),jsxRuntimeExports.jsx("select",{value:o.ageGroup,onChange:h=>c({...o,ageGroup:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:ageGroups$1.map(h=>jsxRuntimeExports.jsx("option",{value:h,children:h},h))})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Character Count"}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",required:!0,value:o.characterCount,onChange:h=>c({...o,characterCount:parseInt(h.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Duration (minutes)"}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",required:!0,value:o.duration,onChange:h=>c({...o,duration:parseInt(h.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tags (comma-separated)"}),jsxRuntimeExports.jsx("input",{type:"text",value:o.tags,onChange:h=>c({...o,tags:h.target.value}),placeholder:"mystery, comedy, teamwork...",className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"px-6 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:[a?"Update":"Create"," Script"]})]})]})]})}):null}function LessonPreviewPanel({lessonPlan:e,onAddActivity:s,onRemoveActivity:i,onViewScript:a,onGenerateLesson:o,onSaveLesson:c,onShowSavedLessons:d,isGenerating:g,showSavedLessons:h,isCollapsed:b=!1,onToggleCollapse:j,targetSection:_}){const $=st=>{if(st<60)return`${st} min`;const _e=Math.floor(st/60),tt=st%60;return`${_e}h ${tt}m`},rt=e.warmUp||e.mainActivities.length>0||e.coolDown,nt=({activity:st,type:_e,index:tt,onRemove:it})=>jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-700 border border-gray-200 dark:border-dark-600 rounded-lg p-4 hover:shadow-md dark:hover:shadow-xl hover:shadow-gray-200 dark:hover:shadow-black/20 transition-all duration-200 group",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:st.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:st.description})]}),jsxRuntimeExports.jsx("button",{onClick:it,className:"opacity-0 group-hover:opacity-100 p-1 text-gray-400 dark:text-gray-500 hover:text-red-500 dark:hover:text-red-400 transition-all rounded hover:bg-red-50 dark:hover:bg-red-900/30",children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[st.duration," min"]})]}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full font-medium",children:st.skillLevel}),st.scriptIds&&st.scriptIds.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(FileText,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[st.scriptIds.length," script",st.scriptIds.length>1?"s":""]})]})]})}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1",children:[st.tags.slice(0,2).map((ct,ot)=>jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-600 dark:text-gray-300 text-xs rounded-md",children:ct},ot)),st.tags.length>2&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-600 dark:text-gray-300 text-xs rounded-md",children:["+",st.tags.length-2]})]})})]}),dt=({type:st,title:_e,description:tt,icon:it})=>{const ct=_===st;return jsxRuntimeExports.jsx("button",{onClick:()=>s(st),className:`w-full border-2 border-dashed rounded-lg p-6 transition-all duration-200 group ${ct?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 shadow-md":"border-gray-300 dark:border-dark-600 hover:border-blue-400 dark:hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center text-center",children:[jsxRuntimeExports.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3 transition-colors ${ct?"bg-blue-100 dark:bg-blue-900/30":"bg-gray-100 dark:bg-dark-600 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/30"}`,children:ct?jsxRuntimeExports.jsx(Target,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}):it}),jsxRuntimeExports.jsx("h4",{className:`font-medium mb-1 ${ct?"text-blue-900 dark:text-blue-300":"text-gray-900 dark:text-white"}`,children:ct?`Ready for ${_e}`:_e}),jsxRuntimeExports.jsx("p",{className:`text-sm ${ct?"text-blue-700 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`,children:ct?"Click an activity to add here":tt}),jsxRuntimeExports.jsxs("div",{className:`mt-3 flex items-center gap-1 transition-colors ${ct?"text-blue-700 dark:text-blue-300":"text-blue-600 dark:text-blue-400 group-hover:text-blue-700 dark:group-hover:text-blue-300"}`,children:[ct?jsxRuntimeExports.jsx(Target,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:ct?"Target Active":"Add Activity"})]})]})})};return jsxRuntimeExports.jsxs("div",{className:`bg-gray-50 dark:bg-dark-900 border-r border-gray-200 dark:border-dark-700 flex flex-col h-full transition-all duration-300 ease-in-out ${b?"w-16":"w-96"}`,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 bg-white dark:bg-dark-800 border-b border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:b?"flex justify-center":"flex items-center justify-between mb-4",children:[!b&&jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Lesson Plan"}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:j&&jsxRuntimeExports.jsx("button",{onClick:j,className:"p-2 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors",title:b?"Expand sidebar":"Collapse sidebar",children:b?jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(ChevronLeft,{className:"w-5 h-5"})})})]}),!b&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:$(e.totalDuration)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[e.mainActivities.length+(e.warmUp?1:0)+(e.coolDown?1:0)," activities"]})]})]})})]}),b&&jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col items-center py-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mb-2",children:jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:jsxRuntimeExports.jsxs("div",{className:"font-medium",children:[e.totalDuration,"m"]})})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-2",children:jsxRuntimeExports.jsx(Users,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:jsxRuntimeExports.jsx("div",{className:"font-medium",children:e.mainActivities.length+(e.warmUp?1:0)+(e.coolDown?1:0)})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[e.warmUp&&jsxRuntimeExports.jsx("div",{className:`w-8 h-2 rounded-full ${_==="warmUp"?"bg-blue-500 animate-pulse":"bg-orange-500"}`,title:"Warm-up activity"}),e.mainActivities.map((st,_e)=>jsxRuntimeExports.jsx("div",{className:`w-8 h-2 rounded-full ${_==="main"?"bg-blue-500 animate-pulse":"bg-blue-500"}`,title:"Main activity"},_e)),e.coolDown&&jsxRuntimeExports.jsx("div",{className:`w-8 h-2 rounded-full ${_==="coolDown"?"bg-blue-500 animate-pulse":"bg-green-500"}`,title:"Cool-down activity"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("button",{onClick:d,className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-teal-600 text-white rounded-lg hover:from-blue-700 hover:to-teal-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg flex items-center justify-center",title:h?"View Activities":"View Saved Lessons",children:h?jsxRuntimeExports.jsx(Activity,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(PanelsTopLeft,{className:"w-5 h-5"})}),rt&&jsxRuntimeExports.jsx("button",{onClick:c,className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors flex items-center justify-center",title:"Save Lesson",children:jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"})})]})]}),!b&&jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-center flex-col space-y-4 items-center",children:[jsxRuntimeExports.jsxs("button",{onClick:d,className:"w-[220px] flex justify-center items-center gap-2 px-4 py-3 bg-gradient-to-r from-blue-600 to-teal-600 text-white rounded-lg hover:from-blue-700 hover:to-teal-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg font-medium",children:[h?jsxRuntimeExports.jsx(Activity,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(PanelsTopLeft,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:h?"View Activities":"View Saved Lessons"})]}),rt&&jsxRuntimeExports.jsxs("button",{onClick:c,className:"w-[220px] flex justify-center items-center gap-2 px-4 py-3 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors shadow-md hover:shadow-lg font-medium",children:[jsxRuntimeExports.jsx(Save,{className:"w-5 h-5"}),"Save"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-orange-500",children:"🔥"}),"Warm-up",_==="warmUp"&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-xs font-medium rounded-full animate-pulse",children:"Target Active"})]}),e.warmUp?jsxRuntimeExports.jsx(nt,{activity:e.warmUp,type:"warm-up",onRemove:()=>i("warmUp")}):jsxRuntimeExports.jsx(dt,{type:"warmUp",title:"Add Warm-up",description:"Start with an energizing activity",icon:jsxRuntimeExports.jsx("span",{className:"text-orange-500 text-xl",children:"🔥"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-blue-500",children:"🎭"}),"Main Activities",_==="main"&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-xs font-medium rounded-full animate-pulse",children:"Target Active"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[e.mainActivities.map((st,_e)=>jsxRuntimeExports.jsx(nt,{activity:st,type:"main",index:_e,onRemove:()=>i("main",_e)},`main-${_e}`)),jsxRuntimeExports.jsx(dt,{type:"main",title:"Add Main Activity",description:"Core learning activities",icon:jsxRuntimeExports.jsx("span",{className:"text-blue-500 text-xl",children:"🎭"})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500",children:"🧘"}),"Cool-down",_==="coolDown"&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-xs font-medium rounded-full animate-pulse",children:"Target Active"})]}),e.coolDown?jsxRuntimeExports.jsx(nt,{activity:e.coolDown,type:"cool-down",onRemove:()=>i("coolDown")}):jsxRuntimeExports.jsx(dt,{type:"coolDown",title:"Add Cool-down",description:"End with a calming activity",icon:jsxRuntimeExports.jsx("span",{className:"text-green-500 text-xl",children:"🧘"})})]})]})]})}const ageGroups=["Young","Middle","Older"];function SaveLessonModal({isOpen:e,onClose:s,onSave:i,lessonPlan:a}){const[o,c]=reactExports.useState({title:"",description:"",ageGroup:"Middle",tags:""}),d=h=>{var j,_;h.preventDefault();const b={title:o.title,description:o.description,ageGroup:o.ageGroup,warmUpId:(j=a.warmUp)==null?void 0:j.id,mainActivityIds:a.mainActivities.map($=>$.id),coolDownId:(_=a.coolDown)==null?void 0:_.id,totalDuration:a.totalDuration,tags:o.tags.split(",").map($=>$.trim()).filter(Boolean)};i(b),c({title:"",description:"",ageGroup:"Middle",tags:""}),s()},g=a.warmUp||a.mainActivities.length>0||a.coolDown;return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Save,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Save Lesson Plan"})]}),jsxRuntimeExports.jsx("button",{onClick:s,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})]}),g?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-dark-700 border-b border-gray-200 dark:border-dark-600",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-3",children:"Lesson Summary"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Duration:"}),jsxRuntimeExports.jsxs("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:[a.totalDuration," minutes"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Activities:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:(a.warmUp?1:0)+a.mainActivities.length+(a.coolDown?1:0)})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 space-y-2",children:[a.warmUp&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Warm-up:"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:a.warmUp.title})]}),a.mainActivities.map((h,b)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),jsxRuntimeExports.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Main ",b+1,":"]}),jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:h.title})]},h.id)),a.coolDown&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cool-down:"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:a.coolDown.title})]})]})]}),jsxRuntimeExports.jsxs("form",{onSubmit:d,className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Lesson Title ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:o.title,onChange:h=>c({...o,title:h.target.value}),placeholder:"Enter a descriptive title for your lesson",className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),jsxRuntimeExports.jsx("textarea",{rows:3,value:o.description,onChange:h=>c({...o,description:h.target.value}),placeholder:"Describe the lesson objectives and what students will learn",className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Target Age Group"}),jsxRuntimeExports.jsx("select",{value:o.ageGroup,onChange:h=>c({...o,ageGroup:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:ageGroups.map(h=>jsxRuntimeExports.jsx("option",{value:h,children:h},h))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tags (comma-separated)"}),jsxRuntimeExports.jsx("input",{type:"text",value:o.tags,onChange:h=>c({...o,tags:h.target.value}),placeholder:"drama, teamwork, creativity, performance...",className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),"Save Lesson"]})]})]})]}):jsxRuntimeExports.jsxs("div",{className:"p-6 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(Save,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Activities to Save"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Add some activities to your lesson plan before saving."}),jsxRuntimeExports.jsx("button",{onClick:s,className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Close"})]})]})}):null}function SavedLessonsPanel({savedLessons:e,onLoadLesson:s,onDeleteLesson:i,onViewLesson:a,loading:o}){const c=g=>{if(g<60)return`${g} min`;const h=Math.floor(g/60),b=g%60;return`${h}h ${b}m`},d=g=>(g.warmUpId?1:0)+g.mainActivityIds.length+(g.coolDownId?1:0);return o?jsxRuntimeExports.jsx("div",{className:"space-y-4",children:[...Array(3)].map((g,h)=>jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-700 rounded-lg p-4 animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-5 bg-gray-200 dark:bg-gray-700 rounded mb-2"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-3 w-3/4"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("div",{className:"h-6 w-16 bg-gray-200 dark:bg-gray-700 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"h-6 w-20 bg-gray-200 dark:bg-gray-700 rounded-full"})]})]},h))}):e.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Saved Lessons"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Create and save lesson plans to see them here."})]}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:e.map(g=>jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-700 rounded-lg p-4 hover:shadow-md dark:hover:shadow-xl hover:shadow-gray-200 dark:hover:shadow-black/20 transition-all duration-200 hover:border-green-300 dark:hover:border-green-600 group",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:g.title}),g.description&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-2",children:g.description})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a&&jsxRuntimeExports.jsx("button",{onClick:()=>a(g),className:"p-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"View Lesson Activities",children:jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>i(g.id),className:"p-2 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Delete Lesson",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:c(g.totalDuration)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[d(g)," activities"]})]}),g.ageGroup&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full font-medium",children:g.ageGroup})]})}),g.tags.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1",children:[g.tags.slice(0,3).map((h,b)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:[jsxRuntimeExports.jsx(Tag,{className:"w-3 h-3"}),h]},b)),g.tags.length>3&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:["+",g.tags.length-3," more"]})]}),jsxRuntimeExports.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100 dark:border-dark-700",children:jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Created ",new Date(g.createdAt).toLocaleDateString()]})})]},g.id))})}function SavedLessonActivitiesModal({isOpen:e,onClose:s,lesson:i,activities:a,scripts:o,onViewPDF:c,onViewScript:d,onLoadLesson:g}){if(!e||!i)return null;const h=i.warmUpId?a.find(st=>st.id===i.warmUpId):null,b=i.mainActivityIds.map(st=>a.find(_e=>_e.id===st)).filter(Boolean),j=i.coolDownId?a.find(st=>st.id===i.coolDownId):null,_=st=>{if(st<60)return`${st} min`;const _e=Math.floor(st/60),tt=st%60;return`${_e}h ${tt}m`},$=st=>st.scriptIds?o.filter(_e=>st.scriptIds.includes(_e.id)):[],rt=st=>({"warm-up":"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400",main:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400","cool-down":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",game:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",exercise:"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400"})[st]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",nt=({activity:st,sectionTitle:_e})=>{const tt=$(st);return jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-700 border border-gray-200 dark:border-dark-600 rounded-lg p-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-start justify-between mb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:_e}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${rt(st.activityType)}`,children:st.activityType.split("-").map(it=>it.charAt(0).toUpperCase()+it.slice(1)).join(" ")})]}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:st.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-2",children:st.description})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400 mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[st.duration," min"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[st.materials.length," materials"]})]}),st.pdfFiles&&st.pdfFiles.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(FileText,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),jsxRuntimeExports.jsxs("span",{className:"text-green-600 dark:text-green-400",children:[st.pdfFiles.length," PDF",st.pdfFiles.length>1?"s":""]})]}),tt.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Play,{className:"w-3 h-3 text-purple-600 dark:text-purple-400"}),jsxRuntimeExports.jsxs("span",{className:"text-purple-600 dark:text-purple-400",children:[tt.length," Script",tt.length>1?"s":""]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[st.pdfFiles&&st.pdfFiles.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3 border border-green-200 dark:border-green-800",children:[jsxRuntimeExports.jsxs("h5",{className:"text-sm font-medium text-green-800 dark:text-green-300 mb-2 flex items-center gap-1",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),"Attached PDFs (",st.pdfFiles.length,")"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[st.pdfFiles.slice(0,2).map(it=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-green-700 dark:text-green-400 truncate",children:it.fileName}),c&&jsxRuntimeExports.jsx("a",{href:it.fileUrl,download:it.fileName,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/30 rounded-lg transition-colors",title:"View PDF",children:jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"})})]},it._id)),st.pdfFiles.length>2&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["+",st.pdfFiles.length-2," more PDF",st.pdfFiles.length-2>1?"s":""]})]})]}),tt.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3 border border-purple-200 dark:border-purple-800",children:[jsxRuntimeExports.jsxs("h5",{className:"text-sm font-medium text-purple-800 dark:text-purple-300 mb-2 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Play,{className:"w-4 h-4"}),"Connected Scripts (",tt.length,")"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[tt.slice(0,2).map(it=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-purple-700 dark:text-purple-400 truncate",children:it.title}),it.fileUrl&&d&&jsxRuntimeExports.jsx("a",{href:it.fileUrl,download:it.fileName,target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-300 ml-2",title:"View Script",children:jsxRuntimeExports.jsx(Play,{className:"w-4 h-4"})})]},it.id)),tt.length>2&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:["+",tt.length-2," more script",tt.length-2>1?"s":""]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1 mt-3",children:[st.tags.slice(0,3).map((it,ct)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:[jsxRuntimeExports.jsx(Tag,{className:"w-2.5 h-2.5"}),it]},ct)),st.tags.length>3&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:["+",st.tags.length-3]})]})]})},dt=[...h?[h]:[],...b,...j?[j]:[]];return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:i.title}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[dt.length," activities • ",_(i.totalDuration)]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:jsxRuntimeExports.jsx("button",{onClick:s,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})})]}),i.description&&jsxRuntimeExports.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-dark-700 bg-gray-50 dark:bg-dark-700",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:i.description}),i.tags.length>0&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:i.tags.map((st,_e)=>jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400 text-xs rounded-full",children:["#",st]},_e))})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[h&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-orange-500",children:"🔥"}),"Warm-up Activity"]}),jsxRuntimeExports.jsx(nt,{activity:h,sectionTitle:"Warm-up"})]}),b.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-blue-500",children:"🎭"}),"Main Activities (",b.length,")"]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:b.map((st,_e)=>jsxRuntimeExports.jsx(nt,{activity:st,sectionTitle:`Main Activity ${_e+1}`},st.id))})]}),j&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500",children:"🧘"}),"Cool-down Activity"]}),jsxRuntimeExports.jsx(nt,{activity:j,sectionTitle:"Cool-down"})]}),dt.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Activities Found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"The activities for this lesson may have been deleted or are no longer available."})]})]})}),jsxRuntimeExports.jsx("div",{className:"p-6 bg-gray-50 dark:bg-dark-700 border-t border-gray-200 dark:border-dark-600 rounded-b-xl",children:jsxRuntimeExports.jsx("div",{className:"flex justify-end items-center",children:jsxRuntimeExports.jsx("button",{onClick:s,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors ml-auto",children:"Close"})})})]})})}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(s,i){module.exports=s.pdfjsLib=i()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,s)=>{var Mr;Object.defineProperty(s,"__esModule",{value:!0}),s.VerbosityLevel=s.Util=s.UnknownErrorException=s.UnexpectedResponseException=s.TextRenderingMode=s.RenderingIntentFlag=s.PromiseCapability=s.PermissionFlag=s.PasswordResponses=s.PasswordException=s.PageActionEventType=s.OPS=s.MissingPDFException=s.MAX_IMAGE_SIZE_TO_CACHE=s.LINE_FACTOR=s.LINE_DESCENT_FACTOR=s.InvalidPDFException=s.ImageKind=s.IDENTITY_MATRIX=s.FormatError=s.FeatureTest=s.FONT_IDENTITY_MATRIX=s.DocumentActionEventType=s.CMapCompressionType=s.BaseException=s.BASELINE_FACTOR=s.AnnotationType=s.AnnotationReplyType=s.AnnotationPrefix=s.AnnotationMode=s.AnnotationFlag=s.AnnotationFieldFlag=s.AnnotationEditorType=s.AnnotationEditorPrefix=s.AnnotationEditorParamsType=s.AnnotationBorderStyleType=s.AnnotationActionEventType=s.AbortException=void 0,s.assert=yt,s.bytesToString=Yt,s.createValidAbsoluteUrl=Lt,s.getModificationDate=dr,s.getUuid=jr,s.getVerbosityLevel=Nt,s.info=It,s.isArrayBuffer=Ft,s.isArrayEqual=pr,s.isNodeJS=void 0,s.normalizeUnicode=xr,s.objectFromMap=nr,s.objectSize=Wt,s.setVerbosityLevel=Mt,s.shadow=jt,s.string32=rr,s.stringToBytes=Qt,s.stringToPDFString=tr,s.stringToUTF8String=ar,s.unreachable=bt,s.utf8StringToString=ir,s.warn=kt;const i=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");s.isNodeJS=i;const a=[1,0,0,1,0,0];s.IDENTITY_MATRIX=a;const o=[.001,0,0,.001,0,0];s.FONT_IDENTITY_MATRIX=o;const c=1e7;s.MAX_IMAGE_SIZE_TO_CACHE=c;const d=1.35;s.LINE_FACTOR=d;const g=.35;s.LINE_DESCENT_FACTOR=g;const h=g/d;s.BASELINE_FACTOR=h;const b={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};s.RenderingIntentFlag=b;const j={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};s.AnnotationMode=j;const _="pdfjs_internal_editor_";s.AnnotationEditorPrefix=_;const $={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};s.AnnotationEditorType=$;const rt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};s.AnnotationEditorParamsType=rt;const nt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};s.PermissionFlag=nt;const dt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};s.TextRenderingMode=dt;const st={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};s.ImageKind=st;const _e={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};s.AnnotationType=_e;const tt={GROUP:"Group",REPLY:"R"};s.AnnotationReplyType=tt;const it={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};s.AnnotationFlag=it;const ct={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};s.AnnotationFieldFlag=ct;const ot={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};s.AnnotationBorderStyleType=ot;const pt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};s.AnnotationActionEventType=pt;const et={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};s.DocumentActionEventType=et;const at={O:"PageOpen",C:"PageClose"};s.PageActionEventType=at;const ht={ERRORS:0,WARNINGS:1,INFOS:5};s.VerbosityLevel=ht;const xt={NONE:0,BINARY:1};s.CMapCompressionType=xt;const ut={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};s.OPS=ut;const gt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};s.PasswordResponses=gt;let Et=ht.WARNINGS;function Mt(lr){Number.isInteger(lr)&&(Et=lr)}function Nt(){return Et}function It(lr){Et>=ht.INFOS&&console.log(`Info: ${lr}`)}function kt(lr){Et>=ht.WARNINGS&&console.log(`Warning: ${lr}`)}function bt(lr){throw new Error(lr)}function yt(lr,qt){lr||bt(qt)}function At(lr){switch(lr==null?void 0:lr.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Lt(lr,qt=null,Kt=null){if(!lr)return null;try{if(Kt&&typeof lr=="string"){if(Kt.addDefaultProtocol&&lr.startsWith("www.")){const Ir=lr.match(/\./g);(Ir==null?void 0:Ir.length)>=2&&(lr=`http://${lr}`)}if(Kt.tryConvertEncoding)try{lr=ar(lr)}catch{}}const gr=qt?new URL(lr,qt):new URL(lr);if(At(gr))return gr}catch{}return null}function jt(lr,qt,Kt,gr=!1){return Object.defineProperty(lr,qt,{value:Kt,enumerable:!gr,configurable:!0,writable:!1}),Kt}const ft=function(){function qt(Kt,gr){this.constructor===qt&&bt("Cannot initialize BaseException."),this.message=Kt,this.name=gr}return qt.prototype=new Error,qt.constructor=qt,qt}();s.BaseException=ft;class mt extends ft{constructor(qt,Kt){super(qt,"PasswordException"),this.code=Kt}}s.PasswordException=mt;class vt extends ft{constructor(qt,Kt){super(qt,"UnknownErrorException"),this.details=Kt}}s.UnknownErrorException=vt;class _t extends ft{constructor(qt){super(qt,"InvalidPDFException")}}s.InvalidPDFException=_t;class St extends ft{constructor(qt){super(qt,"MissingPDFException")}}s.MissingPDFException=St;class Pt extends ft{constructor(qt,Kt){super(qt,"UnexpectedResponseException"),this.status=Kt}}s.UnexpectedResponseException=Pt;class Ot extends ft{constructor(qt){super(qt,"FormatError")}}s.FormatError=Ot;class Gt extends ft{constructor(qt){super(qt,"AbortException")}}s.AbortException=Gt;function Yt(lr){(typeof lr!="object"||(lr==null?void 0:lr.length)===void 0)&&bt("Invalid argument for bytesToString");const qt=lr.length,Kt=8192;if(qt<Kt)return String.fromCharCode.apply(null,lr);const gr=[];for(let Ir=0;Ir<qt;Ir+=Kt){const Cr=Math.min(Ir+Kt,qt),Dt=lr.subarray(Ir,Cr);gr.push(String.fromCharCode.apply(null,Dt))}return gr.join("")}function Qt(lr){typeof lr!="string"&&bt("Invalid argument for stringToBytes");const qt=lr.length,Kt=new Uint8Array(qt);for(let gr=0;gr<qt;++gr)Kt[gr]=lr.charCodeAt(gr)&255;return Kt}function rr(lr){return String.fromCharCode(lr>>24&255,lr>>16&255,lr>>8&255,lr&255)}function Wt(lr){return Object.keys(lr).length}function nr(lr){const qt=Object.create(null);for(const[Kt,gr]of lr)qt[Kt]=gr;return qt}function Vt(){const lr=new Uint8Array(4);return lr[0]=1,new Uint32Array(lr.buffer,0,1)[0]===1}function zt(){try{return new Function(""),!0}catch{return!1}}class wt{static get isLittleEndian(){return jt(this,"isLittleEndian",Vt())}static get isEvalSupported(){return jt(this,"isEvalSupported",zt())}static get isOffscreenCanvasSupported(){return jt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?jt(this,"platform",{isWin:!1,isMac:!1}):jt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var qt,Kt;return jt(this,"isCSSRoundSupported",(Kt=(qt=globalThis.CSS)==null?void 0:qt.supports)==null?void 0:Kt.call(qt,"width: round(1.5px, 1px)"))}}s.FeatureTest=wt;const Tt=[...Array(256).keys()].map(lr=>lr.toString(16).padStart(2,"0"));class Bt{static makeHexColor(qt,Kt,gr){return`#${Tt[qt]}${Tt[Kt]}${Tt[gr]}`}static scaleMinMax(qt,Kt){let gr;qt[0]?(qt[0]<0&&(gr=Kt[0],Kt[0]=Kt[1],Kt[1]=gr),Kt[0]*=qt[0],Kt[1]*=qt[0],qt[3]<0&&(gr=Kt[2],Kt[2]=Kt[3],Kt[3]=gr),Kt[2]*=qt[3],Kt[3]*=qt[3]):(gr=Kt[0],Kt[0]=Kt[2],Kt[2]=gr,gr=Kt[1],Kt[1]=Kt[3],Kt[3]=gr,qt[1]<0&&(gr=Kt[2],Kt[2]=Kt[3],Kt[3]=gr),Kt[2]*=qt[1],Kt[3]*=qt[1],qt[2]<0&&(gr=Kt[0],Kt[0]=Kt[1],Kt[1]=gr),Kt[0]*=qt[2],Kt[1]*=qt[2]),Kt[0]+=qt[4],Kt[1]+=qt[4],Kt[2]+=qt[5],Kt[3]+=qt[5]}static transform(qt,Kt){return[qt[0]*Kt[0]+qt[2]*Kt[1],qt[1]*Kt[0]+qt[3]*Kt[1],qt[0]*Kt[2]+qt[2]*Kt[3],qt[1]*Kt[2]+qt[3]*Kt[3],qt[0]*Kt[4]+qt[2]*Kt[5]+qt[4],qt[1]*Kt[4]+qt[3]*Kt[5]+qt[5]]}static applyTransform(qt,Kt){const gr=qt[0]*Kt[0]+qt[1]*Kt[2]+Kt[4],Ir=qt[0]*Kt[1]+qt[1]*Kt[3]+Kt[5];return[gr,Ir]}static applyInverseTransform(qt,Kt){const gr=Kt[0]*Kt[3]-Kt[1]*Kt[2],Ir=(qt[0]*Kt[3]-qt[1]*Kt[2]+Kt[2]*Kt[5]-Kt[4]*Kt[3])/gr,Cr=(-qt[0]*Kt[1]+qt[1]*Kt[0]+Kt[4]*Kt[1]-Kt[5]*Kt[0])/gr;return[Ir,Cr]}static getAxialAlignedBoundingBox(qt,Kt){const gr=this.applyTransform(qt,Kt),Ir=this.applyTransform(qt.slice(2,4),Kt),Cr=this.applyTransform([qt[0],qt[3]],Kt),Dt=this.applyTransform([qt[2],qt[1]],Kt);return[Math.min(gr[0],Ir[0],Cr[0],Dt[0]),Math.min(gr[1],Ir[1],Cr[1],Dt[1]),Math.max(gr[0],Ir[0],Cr[0],Dt[0]),Math.max(gr[1],Ir[1],Cr[1],Dt[1])]}static inverseTransform(qt){const Kt=qt[0]*qt[3]-qt[1]*qt[2];return[qt[3]/Kt,-qt[1]/Kt,-qt[2]/Kt,qt[0]/Kt,(qt[2]*qt[5]-qt[4]*qt[3])/Kt,(qt[4]*qt[1]-qt[5]*qt[0])/Kt]}static singularValueDecompose2dScale(qt){const Kt=[qt[0],qt[2],qt[1],qt[3]],gr=qt[0]*Kt[0]+qt[1]*Kt[2],Ir=qt[0]*Kt[1]+qt[1]*Kt[3],Cr=qt[2]*Kt[0]+qt[3]*Kt[2],Dt=qt[2]*Kt[1]+qt[3]*Kt[3],sr=(gr+Dt)/2,hr=Math.sqrt((gr+Dt)**2-4*(gr*Dt-Cr*Ir))/2,Er=sr+hr||1,Rr=sr-hr||1;return[Math.sqrt(Er),Math.sqrt(Rr)]}static normalizeRect(qt){const Kt=qt.slice(0);return qt[0]>qt[2]&&(Kt[0]=qt[2],Kt[2]=qt[0]),qt[1]>qt[3]&&(Kt[1]=qt[3],Kt[3]=qt[1]),Kt}static intersect(qt,Kt){const gr=Math.max(Math.min(qt[0],qt[2]),Math.min(Kt[0],Kt[2])),Ir=Math.min(Math.max(qt[0],qt[2]),Math.max(Kt[0],Kt[2]));if(gr>Ir)return null;const Cr=Math.max(Math.min(qt[1],qt[3]),Math.min(Kt[1],Kt[3])),Dt=Math.min(Math.max(qt[1],qt[3]),Math.max(Kt[1],Kt[3]));return Cr>Dt?null:[gr,Cr,Ir,Dt]}static bezierBoundingBox(qt,Kt,gr,Ir,Cr,Dt,sr,hr){const Er=[],Rr=[[],[]];let mr,Ct,Rt,$t,Zt,er,or,cr;for(let Nr=0;Nr<2;++Nr){if(Nr===0?(Ct=6*qt-12*gr+6*Cr,mr=-3*qt+9*gr-9*Cr+3*sr,Rt=3*gr-3*qt):(Ct=6*Kt-12*Ir+6*Dt,mr=-3*Kt+9*Ir-9*Dt+3*hr,Rt=3*Ir-3*Kt),Math.abs(mr)<1e-12){if(Math.abs(Ct)<1e-12)continue;$t=-Rt/Ct,0<$t&&$t<1&&Er.push($t);continue}or=Ct*Ct-4*Rt*mr,cr=Math.sqrt(or),!(or<0)&&(Zt=(-Ct+cr)/(2*mr),0<Zt&&Zt<1&&Er.push(Zt),er=(-Ct-cr)/(2*mr),0<er&&er<1&&Er.push(er))}let wr=Er.length,yr;const fr=wr;for(;wr--;)$t=Er[wr],yr=1-$t,Rr[0][wr]=yr*yr*yr*qt+3*yr*yr*$t*gr+3*yr*$t*$t*Cr+$t*$t*$t*sr,Rr[1][wr]=yr*yr*yr*Kt+3*yr*yr*$t*Ir+3*yr*$t*$t*Dt+$t*$t*$t*hr;return Rr[0][fr]=qt,Rr[1][fr]=Kt,Rr[0][fr+1]=sr,Rr[1][fr+1]=hr,Rr[0].length=Rr[1].length=fr+2,[Math.min(...Rr[0]),Math.min(...Rr[1]),Math.max(...Rr[0]),Math.max(...Rr[1])]}}s.Util=Bt;const Ht=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function tr(lr){if(lr[0]>="ï"){let Kt;if(lr[0]==="þ"&&lr[1]==="ÿ"?Kt="utf-16be":lr[0]==="ÿ"&&lr[1]==="þ"?Kt="utf-16le":lr[0]==="ï"&&lr[1]==="»"&&lr[2]==="¿"&&(Kt="utf-8"),Kt)try{const gr=new TextDecoder(Kt,{fatal:!0}),Ir=Qt(lr);return gr.decode(Ir)}catch(gr){kt(`stringToPDFString: "${gr}".`)}}const qt=[];for(let Kt=0,gr=lr.length;Kt<gr;Kt++){const Ir=Ht[lr.charCodeAt(Kt)];qt.push(Ir?String.fromCharCode(Ir):lr.charAt(Kt))}return qt.join("")}function ar(lr){return decodeURIComponent(escape(lr))}function ir(lr){return unescape(encodeURIComponent(lr))}function Ft(lr){return typeof lr=="object"&&(lr==null?void 0:lr.byteLength)!==void 0}function pr(lr,qt){if(lr.length!==qt.length)return!1;for(let Kt=0,gr=lr.length;Kt<gr;Kt++)if(lr[Kt]!==qt[Kt])return!1;return!0}function dr(lr=new Date){return[lr.getUTCFullYear().toString(),(lr.getUTCMonth()+1).toString().padStart(2,"0"),lr.getUTCDate().toString().padStart(2,"0"),lr.getUTCHours().toString().padStart(2,"0"),lr.getUTCMinutes().toString().padStart(2,"0"),lr.getUTCSeconds().toString().padStart(2,"0")].join("")}class _r{constructor(){Xt(this,Mr,!1);this.promise=new Promise((qt,Kt)=>{this.resolve=gr=>{Jt(this,Mr,!0),qt(gr)},this.reject=gr=>{Jt(this,Mr,!0),Kt(gr)}})}get settled(){return lt(this,Mr)}}Mr=new WeakMap,s.PromiseCapability=_r;let Sr=null,Lr=null;function xr(lr){return Sr||(Sr=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Lr=new Map([["ﬅ","ſt"]])),lr.replaceAll(Sr,(qt,Kt,gr)=>Kt?Kt.normalize("NFKC"):Lr.get(gr))}function jr(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const lr=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(lr);else for(let qt=0;qt<32;qt++)lr[qt]=Math.floor(Math.random()*255);return Yt(lr)}const Pr="pdfjs_internal_id_";s.AnnotationPrefix=Pr},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,i,a,o,tn,vn,g,h,b,j,_,$,rt,nt,dt,En,_e,tt,In,ct,ot;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(et){if(typeof et=="string"||et instanceof URL?et={url:et}:(0,_util.isArrayBuffer)(et)&&(et={data:et}),typeof et!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!et.url&&!et.data&&!et.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const at=new PDFDocumentLoadingTask,{docId:ht}=at,xt=et.url?getUrlProp(et.url):null,ut=et.data?getDataProp(et.data):null,gt=et.httpHeaders||null,Et=et.withCredentials===!0,Mt=et.password??null,Nt=et.range instanceof PDFDataRangeTransport?et.range:null,It=Number.isInteger(et.rangeChunkSize)&&et.rangeChunkSize>0?et.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let kt=et.worker instanceof PDFWorker?et.worker:null;const bt=et.verbosity,yt=typeof et.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(et.docBaseUrl)?et.docBaseUrl:null,At=typeof et.cMapUrl=="string"?et.cMapUrl:null,Lt=et.cMapPacked!==!1,jt=et.CMapReaderFactory||DefaultCMapReaderFactory,ft=typeof et.standardFontDataUrl=="string"?et.standardFontDataUrl:null,mt=et.StandardFontDataFactory||DefaultStandardFontDataFactory,vt=et.stopAtErrors!==!0,_t=Number.isInteger(et.maxImageSize)&&et.maxImageSize>-1?et.maxImageSize:-1,St=et.isEvalSupported!==!1,Pt=typeof et.isOffscreenCanvasSupported=="boolean"?et.isOffscreenCanvasSupported:!_util.isNodeJS,Ot=Number.isInteger(et.canvasMaxAreaInBytes)?et.canvasMaxAreaInBytes:-1,Gt=typeof et.disableFontFace=="boolean"?et.disableFontFace:_util.isNodeJS,Yt=et.fontExtraProperties===!0,Qt=et.enableXfa===!0,rr=et.ownerDocument||globalThis.document,Wt=et.disableRange===!0,nr=et.disableStream===!0,Vt=et.disableAutoFetch===!0,zt=et.pdfBug===!0,wt=Nt?Nt.length:et.length??NaN,Tt=typeof et.useSystemFonts=="boolean"?et.useSystemFonts:!_util.isNodeJS&&!Gt,Bt=typeof et.useWorkerFetch=="boolean"?et.useWorkerFetch:jt===_display_utils.DOMCMapReaderFactory&&mt===_display_utils.DOMStandardFontDataFactory&&At&&ft&&(0,_display_utils.isValidFetchUrl)(At,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(ft,document.baseURI),Ht=et.canvasFactory||new DefaultCanvasFactory({ownerDocument:rr}),tr=et.filterFactory||new DefaultFilterFactory({docId:ht,ownerDocument:rr}),ar=null;(0,_util.setVerbosityLevel)(bt);const ir={canvasFactory:Ht,filterFactory:tr};if(Bt||(ir.cMapReaderFactory=new jt({baseUrl:At,isCompressed:Lt}),ir.standardFontDataFactory=new mt({baseUrl:ft})),!kt){const dr={verbosity:bt,port:_worker_options.GlobalWorkerOptions.workerPort};kt=dr.port?PDFWorker.fromPort(dr):new PDFWorker(dr),at._worker=kt}const Ft={docId:ht,apiVersion:"3.11.174",data:ut,password:Mt,disableAutoFetch:Vt,rangeChunkSize:It,length:wt,docBaseUrl:yt,enableXfa:Qt,evaluatorOptions:{maxImageSize:_t,disableFontFace:Gt,ignoreErrors:vt,isEvalSupported:St,isOffscreenCanvasSupported:Pt,canvasMaxAreaInBytes:Ot,fontExtraProperties:Yt,useSystemFonts:Tt,cMapUrl:Bt?At:null,standardFontDataUrl:Bt?ft:null}},pr={ignoreErrors:vt,isEvalSupported:St,disableFontFace:Gt,fontExtraProperties:Yt,enableXfa:Qt,ownerDocument:rr,disableAutoFetch:Vt,pdfBug:zt,styleElement:ar};return kt.promise.then(function(){if(at.destroyed)throw new Error("Loading aborted");const dr=_fetchDocument(kt,Ft),_r=new Promise(function(Sr){let Lr;Nt?Lr=new _transport_stream.PDFDataTransportStream({length:wt,initialData:Nt.initialData,progressiveDone:Nt.progressiveDone,contentDispositionFilename:Nt.contentDispositionFilename,disableRange:Wt,disableStream:nr},Nt):ut||(Lr=(jr=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(jr):(0,_display_utils.isValidFetchUrl)(jr.url)?new _displayFetch_stream.PDFFetchStream(jr):new _displayNetwork.PDFNetworkStream(jr))({url:xt,length:wt,httpHeaders:gt,withCredentials:Et,rangeChunkSize:It,disableRange:Wt,disableStream:nr})),Sr(Lr)});return Promise.all([dr,_r]).then(function([Sr,Lr]){if(at.destroyed)throw new Error("Loading aborted");const xr=new _message_handler.MessageHandler(ht,Sr,kt.port),jr=new WorkerTransport(xr,at,Lr,pr,ir);at._transport=jr,xr.send("Ready",null)})}).catch(at._capability.reject),at}async function _fetchDocument(et,at){if(et.destroyed)throw new Error("Worker was destroyed");const ht=await et.messageHandler.sendWithPromise("GetDocRequest",at,at.data?[at.data.buffer]:null);if(et.destroyed)throw new Error("Worker was destroyed");return ht}function getUrlProp(et){if(et instanceof URL)return et.href;try{return new URL(et,window.location).href}catch{if(_util.isNodeJS&&typeof et=="string")return et}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(et){if(_util.isNodeJS&&typeof Buffer<"u"&&et instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(et instanceof Uint8Array&&et.byteLength===et.buffer.byteLength)return et;if(typeof et=="string")return(0,_util.stringToBytes)(et);if(typeof et=="object"&&!isNaN(et==null?void 0:et.length)||(0,_util.isArrayBuffer)(et))return new Uint8Array(et);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const s=class s{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${un(s,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var at,ht,xt;this.destroyed=!0;try{(at=this._worker)!=null&&at.port&&(this._worker._pendingDestroy=!0),await((ht=this._transport)==null?void 0:ht.destroy())}catch(ut){throw(xt=this._worker)!=null&&xt.port&&delete this._worker._pendingDestroy,ut}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,Xt(s,e,0);let PDFDocumentLoadingTask=s;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(at,ht,xt=!1,ut=null){this.length=at,this.initialData=ht,this.progressiveDone=xt,this.contentDispositionFilename=ut,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(at){this._rangeListeners.push(at)}addProgressListener(at){this._progressListeners.push(at)}addProgressiveReadListener(at){this._progressiveReadListeners.push(at)}addProgressiveDoneListener(at){this._progressiveDoneListeners.push(at)}onDataRange(at,ht){for(const xt of this._rangeListeners)xt(at,ht)}onDataProgress(at,ht){this._readyCapability.promise.then(()=>{for(const xt of this._progressListeners)xt(at,ht)})}onDataProgressiveRead(at){this._readyCapability.promise.then(()=>{for(const ht of this._progressiveReadListeners)ht(at)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const at of this._progressiveDoneListeners)at()})}transportReady(){this._readyCapability.resolve()}requestDataRange(at,ht){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(at,ht){this._pdfInfo=at,this._transport=ht,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(xt=>{if(!xt)return xt;const ut=[];for(const gt in xt)ut.push(...xt[gt]);return ut}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(at){return this._transport.getPage(at)}getPageIndex(at){return this._transport.getPageIndex(at)}getDestinations(){return this._transport.getDestinations()}getDestination(at){return this._transport.getDestination(at)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(at=!1){return this._transport.startCleanup(at||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(at,ht,xt,ut=!1){Xt(this,o);Xt(this,i,null);Xt(this,a,!1);this._pageIndex=at,this._pageInfo=ht,this._transport=xt,this._stats=ut?new _display_utils.StatTimer:null,this._pdfBug=ut,this.commonObjs=xt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:at,rotation:ht=this.rotate,offsetX:xt=0,offsetY:ut=0,dontFlip:gt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:at,rotation:ht,offsetX:xt,offsetY:ut,dontFlip:gt})}getAnnotations({intent:at="display"}={}){const ht=this._transport.getRenderingIntent(at);return this._transport.getAnnotations(this._pageIndex,ht.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var at;return((at=this._transport._htmlForXfa)==null?void 0:at.children[this._pageIndex])||null}render({canvasContext:at,viewport:ht,intent:xt="display",annotationMode:ut=_util.AnnotationMode.ENABLE,transform:gt=null,background:Et=null,optionalContentConfigPromise:Mt=null,annotationCanvasMap:Nt=null,pageColors:It=null,printAnnotationStorage:kt=null}){var mt,vt;(mt=this._stats)==null||mt.time("Overall");const bt=this._transport.getRenderingIntent(xt,ut,kt);Jt(this,a,!1),Ut(this,o,vn).call(this),Mt||(Mt=this._transport.getOptionalContentConfig());let yt=this._intentStates.get(bt.cacheKey);yt||(yt=Object.create(null),this._intentStates.set(bt.cacheKey,yt)),yt.streamReaderCancelTimeout&&(clearTimeout(yt.streamReaderCancelTimeout),yt.streamReaderCancelTimeout=null);const At=!!(bt.renderingIntent&_util.RenderingIntentFlag.PRINT);yt.displayReadyCapability||(yt.displayReadyCapability=new _util.PromiseCapability,yt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(vt=this._stats)==null||vt.time("Page Request"),this._pumpOperatorList(bt));const Lt=_t=>{var St,Pt;yt.renderTasks.delete(jt),(this._maybeCleanupAfterRender||At)&&Jt(this,a,!0),Ut(this,o,tn).call(this,!At),_t?(jt.capability.reject(_t),this._abortOperatorList({intentState:yt,reason:_t instanceof Error?_t:new Error(_t)})):jt.capability.resolve(),(St=this._stats)==null||St.timeEnd("Rendering"),(Pt=this._stats)==null||Pt.timeEnd("Overall")},jt=new InternalRenderTask({callback:Lt,params:{canvasContext:at,viewport:ht,transform:gt,background:Et},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Nt,operatorList:yt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!At,pdfBug:this._pdfBug,pageColors:It});(yt.renderTasks||(yt.renderTasks=new Set)).add(jt);const ft=jt.task;return Promise.all([yt.displayReadyCapability.promise,Mt]).then(([_t,St])=>{var Pt;if(this.destroyed){Lt();return}(Pt=this._stats)==null||Pt.time("Rendering"),jt.initializeGraphics({transparency:_t,optionalContentConfig:St}),jt.operatorListChanged()}).catch(Lt),ft}getOperatorList({intent:at="display",annotationMode:ht=_util.AnnotationMode.ENABLE,printAnnotationStorage:xt=null}={}){var Nt;function ut(){Et.operatorList.lastChunk&&(Et.opListReadCapability.resolve(Et.operatorList),Et.renderTasks.delete(Mt))}const gt=this._transport.getRenderingIntent(at,ht,xt,!0);let Et=this._intentStates.get(gt.cacheKey);Et||(Et=Object.create(null),this._intentStates.set(gt.cacheKey,Et));let Mt;return Et.opListReadCapability||(Mt=Object.create(null),Mt.operatorListChanged=ut,Et.opListReadCapability=new _util.PromiseCapability,(Et.renderTasks||(Et.renderTasks=new Set)).add(Mt),Et.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Nt=this._stats)==null||Nt.time("Page Request"),this._pumpOperatorList(gt)),Et.opListReadCapability.promise}streamTextContent({includeMarkedContent:at=!1,disableNormalization:ht=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:at===!0,disableNormalization:ht===!0},{highWaterMark:100,size(ut){return ut.items.length}})}getTextContent(at={}){if(this._transport._htmlForXfa)return this.getXfa().then(xt=>_xfa_text.XfaText.textContent(xt));const ht=this.streamTextContent(at);return new Promise(function(xt,ut){function gt(){Et.read().then(function({value:Nt,done:It}){if(It){xt(Mt);return}Object.assign(Mt.styles,Nt.styles),Mt.items.push(...Nt.items),gt()},ut)}const Et=ht.getReader(),Mt={items:[],styles:Object.create(null)};gt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const at=[];for(const ht of this._intentStates.values())if(this._abortOperatorList({intentState:ht,reason:new Error("Page was destroyed."),force:!0}),!ht.opListReadCapability)for(const xt of ht.renderTasks)at.push(xt.completed),xt.cancel();return this.objs.clear(),Jt(this,a,!1),Ut(this,o,vn).call(this),Promise.all(at)}cleanup(at=!1){Jt(this,a,!0);const ht=Ut(this,o,tn).call(this,!1);return at&&ht&&this._stats&&(this._stats=new _display_utils.StatTimer),ht}_startRenderPage(at,ht){var ut,gt;const xt=this._intentStates.get(ht);xt&&((ut=this._stats)==null||ut.timeEnd("Page Request"),(gt=xt.displayReadyCapability)==null||gt.resolve(at))}_renderPageChunk(at,ht){for(let xt=0,ut=at.length;xt<ut;xt++)ht.operatorList.fnArray.push(at.fnArray[xt]),ht.operatorList.argsArray.push(at.argsArray[xt]);ht.operatorList.lastChunk=at.lastChunk,ht.operatorList.separateAnnots=at.separateAnnots;for(const xt of ht.renderTasks)xt.operatorListChanged();at.lastChunk&&Ut(this,o,tn).call(this,!0)}_pumpOperatorList({renderingIntent:at,cacheKey:ht,annotationStorageSerializable:xt}){const{map:ut,transfers:gt}=xt,Mt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:at,cacheKey:ht,annotationStorage:ut},gt).getReader(),Nt=this._intentStates.get(ht);Nt.streamReader=Mt;const It=()=>{Mt.read().then(({value:kt,done:bt})=>{if(bt){Nt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(kt,Nt),It())},kt=>{if(Nt.streamReader=null,!this._transport.destroyed){if(Nt.operatorList){Nt.operatorList.lastChunk=!0;for(const bt of Nt.renderTasks)bt.operatorListChanged();Ut(this,o,tn).call(this,!0)}if(Nt.displayReadyCapability)Nt.displayReadyCapability.reject(kt);else if(Nt.opListReadCapability)Nt.opListReadCapability.reject(kt);else throw kt}})};It()}_abortOperatorList({intentState:at,reason:ht,force:xt=!1}){if(at.streamReader){if(at.streamReaderCancelTimeout&&(clearTimeout(at.streamReaderCancelTimeout),at.streamReaderCancelTimeout=null),!xt){if(at.renderTasks.size>0)return;if(ht instanceof _display_utils.RenderingCancelledException){let ut=RENDERING_CANCELLED_TIMEOUT;ht.extraDelay>0&&ht.extraDelay<1e3&&(ut+=ht.extraDelay),at.streamReaderCancelTimeout=setTimeout(()=>{at.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:at,reason:ht,force:!0})},ut);return}}if(at.streamReader.cancel(new _util.AbortException(ht.message)).catch(()=>{}),at.streamReader=null,!this._transport.destroyed){for(const[ut,gt]of this._intentStates)if(gt===at){this._intentStates.delete(ut);break}this.cleanup()}}}get stats(){return this._stats}}i=new WeakMap,a=new WeakMap,o=new WeakSet,tn=function(at=!1){if(Ut(this,o,vn).call(this),!lt(this,a)||this.destroyed)return!1;if(at)return Jt(this,i,setTimeout(()=>{Jt(this,i,null),Ut(this,o,tn).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:ht,operatorList:xt}of this._intentStates.values())if(ht.size>0||!xt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Jt(this,a,!1),!0},vn=function(){lt(this,i)&&(clearTimeout(lt(this,i)),Jt(this,i,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Xt(this,g,new Set);Xt(this,h,Promise.resolve())}postMessage(at,ht){const xt={data:structuredClone(at,ht?{transfer:ht}:null)};lt(this,h).then(()=>{for(const ut of lt(this,g))ut.call(this,xt)})}addEventListener(at,ht){lt(this,g).add(ht)}removeEventListener(at,ht){lt(this,g).delete(ht)}terminate(){lt(this,g).clear()}}g=new WeakMap,h=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const et=(b=document==null?void 0:document.currentScript)==null?void 0:b.src;et&&(PDFWorkerUtil.fallbackWorkerSrc=et.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(et,at){let ht;try{if(ht=new URL(et),!ht.origin||ht.origin==="null")return!1}catch{return!1}const xt=new URL(at,ht);return ht.origin===xt.origin},PDFWorkerUtil.createCDNWrapper=function(et){const at=`importScripts("${et}");`;return URL.createObjectURL(new Blob([at]))}}const _PDFWorker=class _PDFWorker{constructor({name:et=null,port:at=null,verbosity:ht=(0,_util.getVerbosityLevel)()}={}){var xt;if(this.name=et,this.destroyed=!1,this.verbosity=ht,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,at){if((xt=lt(_PDFWorker,j))!=null&&xt.has(at))throw new Error("Cannot use more than one PDFWorker per port.");(lt(_PDFWorker,j)||Jt(_PDFWorker,j,new WeakMap)).set(at,this),this._initializeFromPort(at);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(et){this._port=et,this._messageHandler=new _message_handler.MessageHandler("main","worker",et),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:et}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,et)||(et=PDFWorkerUtil.createCDNWrapper(new URL(et,window.location).href));const at=new Worker(et),ht=new _message_handler.MessageHandler("main","worker",at),xt=()=>{at.removeEventListener("error",ut),ht.destroy(),at.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},ut=()=>{this._webWorker||xt()};at.addEventListener("error",ut),ht.on("test",Et=>{if(at.removeEventListener("error",ut),this.destroyed){xt();return}Et?(this._messageHandler=ht,this._port=at,this._webWorker=at,this._readyCapability.resolve(),ht.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),ht.destroy(),at.terminate())}),ht.on("ready",Et=>{if(at.removeEventListener("error",ut),this.destroyed){xt();return}try{gt()}catch{this._setupFakeWorker()}});const gt=()=>{const Et=new Uint8Array;ht.send("test",Et,[Et.buffer])};gt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(et=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const at=new LoopbackPort;this._port=at;const ht=`fake${PDFWorkerUtil.fakeWorkerId++}`,xt=new _message_handler.MessageHandler(ht+"_worker",ht,at);et.setup(xt,at);const ut=new _message_handler.MessageHandler(ht,ht+"_worker",at);this._messageHandler=ut,this._readyCapability.resolve(),ut.send("configure",{verbosity:this.verbosity})}).catch(et=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${et.message}".`))})}destroy(){var et;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(et=lt(_PDFWorker,j))==null||et.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(et){var ht;if(!(et!=null&&et.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const at=(ht=lt(this,j))==null?void 0:ht.get(et.port);if(at){if(at._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return at}return new _PDFWorker(et)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var et;try{return((et=globalThis.pdfjsWorker)==null?void 0:et.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};j=new WeakMap,Xt(_PDFWorker,j);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(at,ht,xt,ut,gt){Xt(this,dt);Xt(this,_,new Map);Xt(this,$,new Map);Xt(this,rt,new Map);Xt(this,nt,null);this.messageHandler=at,this.loadingTask=ht,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:ut.ownerDocument,styleElement:ut.styleElement}),this._params=ut,this.canvasFactory=gt.canvasFactory,this.filterFactory=gt.filterFactory,this.cMapReaderFactory=gt.cMapReaderFactory,this.standardFontDataFactory=gt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=xt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(at,ht=_util.AnnotationMode.ENABLE,xt=null,ut=!1){let gt=_util.RenderingIntentFlag.DISPLAY,Et=_annotation_storage.SerializableEmpty;switch(at){case"any":gt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":gt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${at}`)}switch(ht){case _util.AnnotationMode.DISABLE:gt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:gt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:gt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Et=(gt&_util.RenderingIntentFlag.PRINT&&xt instanceof _annotation_storage.PrintAnnotationStorage?xt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${ht}`)}return ut&&(gt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:gt,cacheKey:`${gt}_${Et.hash}`,annotationStorageSerializable:Et}}destroy(){var xt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(xt=lt(this,nt))==null||xt.reject(new Error("Worker was destroyed during onPassword callback"));const at=[];for(const ut of lt(this,$).values())at.push(ut._destroy());lt(this,$).clear(),lt(this,rt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ht=this.messageHandler.sendWithPromise("Terminate",null);return at.push(ht),Promise.all(at).then(()=>{var ut;this.commonObjs.clear(),this.fontLoader.clear(),lt(this,_).clear(),this.filterFactory.destroy(),(ut=this._networkStream)==null||ut.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:at,loadingTask:ht}=this;at.on("GetReader",(xt,ut)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=gt=>{this._lastProgress={loaded:gt.loaded,total:gt.total}},ut.onPull=()=>{this._fullReader.read().then(function({value:gt,done:Et}){if(Et){ut.close();return}(0,_util.assert)(gt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),ut.enqueue(new Uint8Array(gt),1,[gt])}).catch(gt=>{ut.error(gt)})},ut.onCancel=gt=>{this._fullReader.cancel(gt),ut.ready.catch(Et=>{if(!this.destroyed)throw Et})}}),at.on("ReaderHeadersReady",xt=>{const ut=new _util.PromiseCapability,gt=this._fullReader;return gt.headersReady.then(()=>{var Et;(!gt.isStreamingSupported||!gt.isRangeSupported)&&(this._lastProgress&&((Et=ht.onProgress)==null||Et.call(ht,this._lastProgress)),gt.onProgress=Mt=>{var Nt;(Nt=ht.onProgress)==null||Nt.call(ht,{loaded:Mt.loaded,total:Mt.total})}),ut.resolve({isStreamingSupported:gt.isStreamingSupported,isRangeSupported:gt.isRangeSupported,contentLength:gt.contentLength})},ut.reject),ut.promise}),at.on("GetRangeReader",(xt,ut)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const gt=this._networkStream.getRangeReader(xt.begin,xt.end);if(!gt){ut.close();return}ut.onPull=()=>{gt.read().then(function({value:Et,done:Mt}){if(Mt){ut.close();return}(0,_util.assert)(Et instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),ut.enqueue(new Uint8Array(Et),1,[Et])}).catch(Et=>{ut.error(Et)})},ut.onCancel=Et=>{gt.cancel(Et),ut.ready.catch(Mt=>{if(!this.destroyed)throw Mt})}}),at.on("GetDoc",({pdfInfo:xt})=>{this._numPages=xt.numPages,this._htmlForXfa=xt.htmlForXfa,delete xt.htmlForXfa,ht._capability.resolve(new PDFDocumentProxy(xt,this))}),at.on("DocException",function(xt){let ut;switch(xt.name){case"PasswordException":ut=new _util.PasswordException(xt.message,xt.code);break;case"InvalidPDFException":ut=new _util.InvalidPDFException(xt.message);break;case"MissingPDFException":ut=new _util.MissingPDFException(xt.message);break;case"UnexpectedResponseException":ut=new _util.UnexpectedResponseException(xt.message,xt.status);break;case"UnknownErrorException":ut=new _util.UnknownErrorException(xt.message,xt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}ht._capability.reject(ut)}),at.on("PasswordRequest",xt=>{if(Jt(this,nt,new _util.PromiseCapability),ht.onPassword){const ut=gt=>{gt instanceof Error?lt(this,nt).reject(gt):lt(this,nt).resolve({password:gt})};try{ht.onPassword(ut,xt.code)}catch(gt){lt(this,nt).reject(gt)}}else lt(this,nt).reject(new _util.PasswordException(xt.message,xt.code));return lt(this,nt).promise}),at.on("DataLoaded",xt=>{var ut;(ut=ht.onProgress)==null||ut.call(ht,{loaded:xt.length,total:xt.length}),this.downloadInfoCapability.resolve(xt)}),at.on("StartRenderPage",xt=>{if(this.destroyed)return;lt(this,$).get(xt.pageIndex)._startRenderPage(xt.transparency,xt.cacheKey)}),at.on("commonobj",([xt,ut,gt])=>{var Et;if(!this.destroyed&&!this.commonObjs.has(xt))switch(ut){case"Font":const Mt=this._params;if("error"in gt){const kt=gt.error;(0,_util.warn)(`Error during font loading: ${kt}`),this.commonObjs.resolve(xt,kt);break}const Nt=Mt.pdfBug&&((Et=globalThis.FontInspector)!=null&&Et.enabled)?(kt,bt)=>globalThis.FontInspector.fontAdded(kt,bt):null,It=new _font_loader.FontFaceObject(gt,{isEvalSupported:Mt.isEvalSupported,disableFontFace:Mt.disableFontFace,ignoreErrors:Mt.ignoreErrors,inspectFont:Nt});this.fontLoader.bind(It).catch(kt=>at.sendWithPromise("FontFallback",{id:xt})).finally(()=>{!Mt.fontExtraProperties&&It.data&&(It.data=null),this.commonObjs.resolve(xt,It)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(xt,gt);break;default:throw new Error(`Got unknown common object type ${ut}`)}}),at.on("obj",([xt,ut,gt,Et])=>{var Nt;if(this.destroyed)return;const Mt=lt(this,$).get(ut);if(!Mt.objs.has(xt))switch(gt){case"Image":if(Mt.objs.resolve(xt,Et),Et){let It;if(Et.bitmap){const{width:kt,height:bt}=Et;It=kt*bt*4}else It=((Nt=Et.data)==null?void 0:Nt.length)||0;It>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Mt._maybeCleanupAfterRender=!0)}break;case"Pattern":Mt.objs.resolve(xt,Et);break;default:throw new Error(`Got unknown object type ${gt}`)}}),at.on("DocProgress",xt=>{var ut;this.destroyed||(ut=ht.onProgress)==null||ut.call(ht,{loaded:xt.loaded,total:xt.total})}),at.on("FetchBuiltInCMap",xt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(xt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),at.on("FetchStandardFontData",xt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(xt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var xt;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:at,transfers:ht}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:at,filename:((xt=this._fullReader)==null?void 0:xt.filename)??null},ht).finally(()=>{this.annotationStorage.resetModified()})}getPage(at){if(!Number.isInteger(at)||at<=0||at>this._numPages)return Promise.reject(new Error("Invalid page request."));const ht=at-1,xt=lt(this,rt).get(ht);if(xt)return xt;const ut=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ht}).then(gt=>{if(this.destroyed)throw new Error("Transport destroyed");const Et=new PDFPageProxy(ht,gt,this,this._params.pdfBug);return lt(this,$).set(ht,Et),Et});return lt(this,rt).set(ht,ut),ut}getPageIndex(at){return typeof at!="object"||at===null||!Number.isInteger(at.num)||at.num<0||!Number.isInteger(at.gen)||at.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:at.num,gen:at.gen})}getAnnotations(at,ht){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:at,intent:ht})}getFieldObjects(){return Ut(this,dt,En).call(this,"GetFieldObjects")}hasJSActions(){return Ut(this,dt,En).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(at){return typeof at!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:at})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Ut(this,dt,En).call(this,"GetDocJSActions")}getPageJSActions(at){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:at})}getStructTree(at){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:at})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(at=>new _optional_content_config.OptionalContentConfig(at))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const at="GetMetadata",ht=lt(this,_).get(at);if(ht)return ht;const xt=this.messageHandler.sendWithPromise(at,null).then(ut=>{var gt,Et;return{info:ut[0],metadata:ut[1]?new _metadata.Metadata(ut[1]):null,contentDispositionFilename:((gt=this._fullReader)==null?void 0:gt.filename)??null,contentLength:((Et=this._fullReader)==null?void 0:Et.contentLength)??null}});return lt(this,_).set(at,xt),xt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(at=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const ht of lt(this,$).values())if(!ht.cleanup())throw new Error(`startCleanup: Page ${ht.pageNumber} is currently rendering.`);this.commonObjs.clear(),at||this.fontLoader.clear(),lt(this,_).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:at,enableXfa:ht}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:at,enableXfa:ht})}}_=new WeakMap,$=new WeakMap,rt=new WeakMap,nt=new WeakMap,dt=new WeakSet,En=function(at,ht=null){const xt=lt(this,_).get(at);if(xt)return xt;const ut=this.messageHandler.sendWithPromise(at,ht);return lt(this,_).set(at,ut),ut};class PDFObjects{constructor(){Xt(this,tt);Xt(this,_e,Object.create(null))}get(at,ht=null){if(ht){const ut=Ut(this,tt,In).call(this,at);return ut.capability.promise.then(()=>ht(ut.data)),null}const xt=lt(this,_e)[at];if(!(xt!=null&&xt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${at}.`);return xt.data}has(at){const ht=lt(this,_e)[at];return(ht==null?void 0:ht.capability.settled)||!1}resolve(at,ht=null){const xt=Ut(this,tt,In).call(this,at);xt.data=ht,xt.capability.resolve()}clear(){var at;for(const ht in lt(this,_e)){const{data:xt}=lt(this,_e)[ht];(at=xt==null?void 0:xt.bitmap)==null||at.close()}Jt(this,_e,Object.create(null))}}_e=new WeakMap,tt=new WeakSet,In=function(at){var ht;return(ht=lt(this,_e))[at]||(ht[at]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(at){Xt(this,ct,null);Jt(this,ct,at),this.onContinue=null}get promise(){return lt(this,ct).capability.promise}cancel(at=0){lt(this,ct).cancel(null,at)}get separateAnnots(){const{separateAnnots:at}=lt(this,ct).operatorList;if(!at)return!1;const{annotationCanvasMap:ht}=lt(this,ct);return at.form||at.canvas&&(ht==null?void 0:ht.size)>0}}ct=new WeakMap,exports.RenderTask=RenderTask;const pt=class pt{constructor({callback:at,params:ht,objs:xt,commonObjs:ut,annotationCanvasMap:gt,operatorList:Et,pageIndex:Mt,canvasFactory:Nt,filterFactory:It,useRequestAnimationFrame:kt=!1,pdfBug:bt=!1,pageColors:yt=null}){this.callback=at,this.params=ht,this.objs=xt,this.commonObjs=ut,this.annotationCanvasMap=gt,this.operatorListIdx=null,this.operatorList=Et,this._pageIndex=Mt,this.canvasFactory=Nt,this.filterFactory=It,this._pdfBug=bt,this.pageColors=yt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=kt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ht.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:at=!1,optionalContentConfig:ht}){var Mt,Nt;if(this.cancelled)return;if(this._canvas){if(lt(pt,ot).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");lt(pt,ot).add(this._canvas)}this._pdfBug&&((Mt=globalThis.StepperManager)!=null&&Mt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:xt,viewport:ut,transform:gt,background:Et}=this.params;this.gfx=new _canvas.CanvasGraphics(xt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:ht},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:gt,viewport:ut,transparency:at,background:Et}),this.operatorListIdx=0,this.graphicsReady=!0,(Nt=this.graphicsReadyCallback)==null||Nt.call(this)}cancel(at=null,ht=0){var xt;this.running=!1,this.cancelled=!0,(xt=this.gfx)==null||xt.endDrawing(),lt(pt,ot).delete(this._canvas),this.callback(at||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,ht))}operatorListChanged(){var at;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(at=this.stepper)==null||at.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),lt(pt,ot).delete(this._canvas),this.callback())))}};ot=new WeakMap,Xt(pt,ot,new WeakSet);let InternalRenderTask=pt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(e,s,i)=>{var b,j,_,Cs,rt;Object.defineProperty(s,"__esModule",{value:!0}),s.SerializableEmpty=s.PrintAnnotationStorage=s.AnnotationStorage=void 0;var a=i(1),o=i(4),c=i(8);const d=Object.freeze({map:null,hash:"",transfers:void 0});s.SerializableEmpty=d;class g{constructor(){Xt(this,_);Xt(this,b,!1);Xt(this,j,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(dt,st){const _e=lt(this,j).get(dt);return _e===void 0?st:Object.assign(st,_e)}getRawValue(dt){return lt(this,j).get(dt)}remove(dt){if(lt(this,j).delete(dt),lt(this,j).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const st of lt(this,j).values())if(st instanceof o.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(dt,st){const _e=lt(this,j).get(dt);let tt=!1;if(_e!==void 0)for(const[it,ct]of Object.entries(st))_e[it]!==ct&&(tt=!0,_e[it]=ct);else tt=!0,lt(this,j).set(dt,st);tt&&Ut(this,_,Cs).call(this),st instanceof o.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(st.constructor._type)}has(dt){return lt(this,j).has(dt)}getAll(){return lt(this,j).size>0?(0,a.objectFromMap)(lt(this,j)):null}setAll(dt){for(const[st,_e]of Object.entries(dt))this.setValue(st,_e)}get size(){return lt(this,j).size}resetModified(){lt(this,b)&&(Jt(this,b,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new h(this)}get serializable(){if(lt(this,j).size===0)return d;const dt=new Map,st=new c.MurmurHash3_64,_e=[],tt=Object.create(null);let it=!1;for(const[ct,ot]of lt(this,j)){const pt=ot instanceof o.AnnotationEditor?ot.serialize(!1,tt):ot;pt&&(dt.set(ct,pt),st.update(`${ct}:${JSON.stringify(pt)}`),it||(it=!!pt.bitmap))}if(it)for(const ct of dt.values())ct.bitmap&&_e.push(ct.bitmap);return dt.size>0?{map:dt,hash:st.hexdigest(),transfers:_e}:d}}b=new WeakMap,j=new WeakMap,_=new WeakSet,Cs=function(){lt(this,b)||(Jt(this,b,!0),typeof this.onSetModified=="function"&&this.onSetModified())},s.AnnotationStorage=g;class h extends g{constructor(st){super();Xt(this,rt);const{map:_e,hash:tt,transfers:it}=st.serializable,ct=structuredClone(_e,it?{transfer:it}:null);Jt(this,rt,{map:ct,hash:tt,transfers:it})}get print(){(0,a.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return lt(this,rt)}}rt=new WeakMap,s.PrintAnnotationStorage=h},(e,s,i)=>{var h,b,j,_,$,rt,nt,dt,st,_e,tt,it,ct,ot,pt,Mn,Fn,ht,On,$n,Ns,Ps,Ts,Bn,Ds;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditor=void 0;var a=i(5),o=i(1),c=i(6);const kt=class kt{constructor(yt){Xt(this,pt);Xt(this,h,"");Xt(this,b,!1);Xt(this,j,null);Xt(this,_,null);Xt(this,$,null);Xt(this,rt,!1);Xt(this,nt,null);Xt(this,dt,this.focusin.bind(this));Xt(this,st,this.focusout.bind(this));Xt(this,_e,!1);Xt(this,tt,!1);Xt(this,it,!1);$r(this,"_initialOptions",Object.create(null));$r(this,"_uiManager",null);$r(this,"_focusEventsAllowed",!0);$r(this,"_l10nPromise",null);Xt(this,ct,!1);Xt(this,ot,kt._zIndex++);this.constructor===kt&&(0,o.unreachable)("Cannot initialize AnnotationEditor."),this.parent=yt.parent,this.id=yt.id,this.width=this.height=null,this.pageIndex=yt.parent.pageIndex,this.name=yt.name,this.div=null,this._uiManager=yt.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=yt.isCentered,this._structTreeParentId=null;const{rotation:At,rawDims:{pageWidth:Lt,pageHeight:jt,pageX:ft,pageY:mt}}=this.parent.viewport;this.rotation=At,this.pageRotation=(360+At-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Lt,jt],this.pageTranslation=[ft,mt];const[vt,_t]=this.parentDimensions;this.x=yt.x/vt,this.y=yt.y/_t,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,o.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(yt){const At=new g({id:yt.parent.getNextId(),parent:yt.parent,uiManager:yt._uiManager});At.annotationElementId=yt.annotationElementId,At.deleted=!0,At._uiManager.addToAnnotationStorage(At)}static initialize(yt,At=null){if(kt._l10nPromise||(kt._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(jt=>[jt,yt.get(jt)]))),At!=null&&At.strings)for(const jt of At.strings)kt._l10nPromise.set(jt,yt.get(jt));if(kt._borderLineWidth!==-1)return;const Lt=getComputedStyle(document.documentElement);kt._borderLineWidth=parseFloat(Lt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(yt,At){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(yt){return!1}static paste(yt,At){(0,o.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return lt(this,ct)}set _isDraggable(yt){var At;Jt(this,ct,yt),(At=this.div)==null||At.classList.toggle("draggable",yt)}center(){const[yt,At]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*At/(yt*2),this.y+=this.width*yt/(At*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*At/(yt*2),this.y-=this.width*yt/(At*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(yt){this._uiManager.addCommands(yt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=lt(this,ot)}setParent(yt){yt!==null&&(this.pageIndex=yt.pageIndex,this.pageDimensions=yt.pageDimensions),this.parent=yt}focusin(yt){this._focusEventsAllowed&&(lt(this,_e)?Jt(this,_e,!1):this.parent.setSelected(this))}focusout(yt){var Lt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const At=yt.relatedTarget;At!=null&&At.closest(`#${this.id}`)||(yt.preventDefault(),(Lt=this.parent)!=null&&Lt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(yt,At,Lt,jt){const[ft,mt]=this.parentDimensions;[Lt,jt]=this.screenToPageTranslation(Lt,jt),this.x=(yt+Lt)/ft,this.y=(At+jt)/mt,this.fixAndSetPosition()}translate(yt,At){Ut(this,pt,Mn).call(this,this.parentDimensions,yt,At)}translateInPage(yt,At){Ut(this,pt,Mn).call(this,this.pageDimensions,yt,At),this.div.scrollIntoView({block:"nearest"})}drag(yt,At){const[Lt,jt]=this.parentDimensions;if(this.x+=yt/Lt,this.y+=At/jt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:St,y:Pt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,St,Pt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:ft,y:mt}=this;const[vt,_t]=Ut(this,pt,Fn).call(this);ft+=vt,mt+=_t,this.div.style.left=`${(100*ft).toFixed(2)}%`,this.div.style.top=`${(100*mt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[yt,At]=this.pageDimensions;let{x:Lt,y:jt,width:ft,height:mt}=this;switch(ft*=yt,mt*=At,Lt*=yt,jt*=At,this.rotation){case 0:Lt=Math.max(0,Math.min(yt-ft,Lt)),jt=Math.max(0,Math.min(At-mt,jt));break;case 90:Lt=Math.max(0,Math.min(yt-mt,Lt)),jt=Math.min(At,Math.max(ft,jt));break;case 180:Lt=Math.min(yt,Math.max(ft,Lt)),jt=Math.min(At,Math.max(mt,jt));break;case 270:Lt=Math.min(yt,Math.max(mt,Lt)),jt=Math.max(0,Math.min(At-ft,jt));break}this.x=Lt/=yt,this.y=jt/=At;const[vt,_t]=Ut(this,pt,Fn).call(this);Lt+=vt,jt+=_t;const{style:St}=this.div;St.left=`${(100*Lt).toFixed(2)}%`,St.top=`${(100*jt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(yt,At){var Lt;return Ut(Lt=kt,ht,On).call(Lt,yt,At,this.parentRotation)}pageTranslationToScreen(yt,At){var Lt;return Ut(Lt=kt,ht,On).call(Lt,yt,At,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:yt,pageDimensions:[At,Lt]}=this,jt=At*yt,ft=Lt*yt;return o.FeatureTest.isCSSRoundSupported?[Math.round(jt),Math.round(ft)]:[jt,ft]}setDims(yt,At){var ft;const[Lt,jt]=this.parentDimensions;this.div.style.width=`${(100*yt/Lt).toFixed(2)}%`,lt(this,rt)||(this.div.style.height=`${(100*At/jt).toFixed(2)}%`),(ft=lt(this,j))==null||ft.classList.toggle("small",yt<kt.SMALL_EDITOR_SIZE||At<kt.SMALL_EDITOR_SIZE)}fixDims(){const{style:yt}=this.div,{height:At,width:Lt}=yt,jt=Lt.endsWith("%"),ft=!lt(this,rt)&&At.endsWith("%");if(jt&&ft)return;const[mt,vt]=this.parentDimensions;jt||(yt.width=`${(100*parseFloat(Lt)/mt).toFixed(2)}%`),!lt(this,rt)&&!ft&&(yt.height=`${(100*parseFloat(At)/vt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(lt(this,j))return;const yt=Jt(this,j,document.createElement("button"));yt.className="altText";const At=await kt._l10nPromise.get("editor_alt_text_button_label");yt.textContent=At,yt.setAttribute("aria-label",At),yt.tabIndex="0",yt.addEventListener("contextmenu",c.noContextMenu),yt.addEventListener("pointerdown",Lt=>Lt.stopPropagation()),yt.addEventListener("click",Lt=>{Lt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),yt.addEventListener("keydown",Lt=>{Lt.target===yt&&Lt.key==="Enter"&&(Lt.preventDefault(),this._uiManager.editAltText(this))}),Ut(this,pt,Bn).call(this),this.div.append(yt),kt.SMALL_EDITOR_SIZE||(kt.SMALL_EDITOR_SIZE=Math.min(128,Math.round(yt.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:lt(this,h),decorative:lt(this,b)}}set altTextData({altText:yt,decorative:At}){lt(this,h)===yt&&lt(this,b)===At||(Jt(this,h,yt),Jt(this,b,At),Ut(this,pt,Bn).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",lt(this,dt)),this.div.addEventListener("focusout",lt(this,st));const[yt,At]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*At/yt).toFixed(2)}%`,this.div.style.maxHeight=`${(100*yt/At).toFixed(2)}%`);const[Lt,jt]=this.getInitialTranslation();return this.translate(Lt,jt),(0,a.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(yt){const{isMac:At}=o.FeatureTest.platform;if(yt.button!==0||yt.ctrlKey&&At){yt.preventDefault();return}Jt(this,_e,!0),Ut(this,pt,Ds).call(this,yt)}moveInDOM(){var yt;(yt=this.parent)==null||yt.moveEditorInDOM(this)}_setParentAndPosition(yt,At,Lt){yt.changeParent(this),this.x=At,this.y=Lt,this.fixAndSetPosition()}getRect(yt,At){const Lt=this.parentScale,[jt,ft]=this.pageDimensions,[mt,vt]=this.pageTranslation,_t=yt/Lt,St=At/Lt,Pt=this.x*jt,Ot=this.y*ft,Gt=this.width*jt,Yt=this.height*ft;switch(this.rotation){case 0:return[Pt+_t+mt,ft-Ot-St-Yt+vt,Pt+_t+Gt+mt,ft-Ot-St+vt];case 90:return[Pt+St+mt,ft-Ot+_t+vt,Pt+St+Yt+mt,ft-Ot+_t+Gt+vt];case 180:return[Pt-_t-Gt+mt,ft-Ot+St+vt,Pt-_t+mt,ft-Ot+St+Yt+vt];case 270:return[Pt-St-Yt+mt,ft-Ot-_t-Gt+vt,Pt-St+mt,ft-Ot-_t+vt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(yt,At){const[Lt,jt,ft,mt]=yt,vt=ft-Lt,_t=mt-jt;switch(this.rotation){case 0:return[Lt,At-mt,vt,_t];case 90:return[Lt,At-jt,_t,vt];case 180:return[ft,At-jt,vt,_t];case 270:return[ft,At-mt,_t,vt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Jt(this,it,!0)}disableEditMode(){Jt(this,it,!1)}isInEditMode(){return lt(this,it)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var yt,At;(yt=this.div)==null||yt.addEventListener("focusin",lt(this,dt)),(At=this.div)==null||At.addEventListener("focusout",lt(this,st))}serialize(yt=!1,At=null){(0,o.unreachable)("An editor must be serializable")}static deserialize(yt,At,Lt){const jt=new this.prototype.constructor({parent:At,id:At.getNextId(),uiManager:Lt});jt.rotation=yt.rotation;const[ft,mt]=jt.pageDimensions,[vt,_t,St,Pt]=jt.getRectInCurrentCoords(yt.rect,mt);return jt.x=vt/ft,jt.y=_t/mt,jt.width=St/ft,jt.height=Pt/mt,jt}remove(){var yt;this.div.removeEventListener("focusin",lt(this,dt)),this.div.removeEventListener("focusout",lt(this,st)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(yt=lt(this,j))==null||yt.remove(),Jt(this,j,null),Jt(this,_,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Ut(this,pt,Ns).call(this),lt(this,nt).classList.remove("hidden"))}select(){var yt;this.makeResizable(),(yt=this.div)==null||yt.classList.add("selectedEditor")}unselect(){var yt,At,Lt;(yt=lt(this,nt))==null||yt.classList.add("hidden"),(At=this.div)==null||At.classList.remove("selectedEditor"),(Lt=this.div)!=null&&Lt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(yt,At){}disableEditing(){lt(this,j)&&(lt(this,j).hidden=!0)}enableEditing(){lt(this,j)&&(lt(this,j).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return lt(this,tt)}set isEditing(yt){Jt(this,tt,yt),this.parent&&(yt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(yt,At){Jt(this,rt,!0);const Lt=yt/At,{style:jt}=this.div;jt.aspectRatio=Lt,jt.height="auto"}static get MIN_SIZE(){return 16}};h=new WeakMap,b=new WeakMap,j=new WeakMap,_=new WeakMap,$=new WeakMap,rt=new WeakMap,nt=new WeakMap,dt=new WeakMap,st=new WeakMap,_e=new WeakMap,tt=new WeakMap,it=new WeakMap,ct=new WeakMap,ot=new WeakMap,pt=new WeakSet,Mn=function([yt,At],Lt,jt){[Lt,jt]=this.screenToPageTranslation(Lt,jt),this.x+=Lt/yt,this.y+=jt/At,this.fixAndSetPosition()},Fn=function(){const[yt,At]=this.parentDimensions,{_borderLineWidth:Lt}=kt,jt=Lt/yt,ft=Lt/At;switch(this.rotation){case 90:return[-jt,ft];case 180:return[jt,ft];case 270:return[jt,-ft];default:return[-jt,-ft]}},ht=new WeakSet,On=function(yt,At,Lt){switch(Lt){case 90:return[At,-yt];case 180:return[-yt,-At];case 270:return[-At,yt];default:return[yt,At]}},$n=function(yt){switch(yt){case 90:{const[At,Lt]=this.pageDimensions;return[0,-At/Lt,Lt/At,0]}case 180:return[-1,0,0,-1];case 270:{const[At,Lt]=this.pageDimensions;return[0,At/Lt,-Lt/At,0]}default:return[1,0,0,1]}},Ns=function(){if(lt(this,nt))return;Jt(this,nt,document.createElement("div")),lt(this,nt).classList.add("resizers");const yt=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||yt.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const At of yt){const Lt=document.createElement("div");lt(this,nt).append(Lt),Lt.classList.add("resizer",At),Lt.addEventListener("pointerdown",Ut(this,pt,Ps).bind(this,At)),Lt.addEventListener("contextmenu",c.noContextMenu)}this.div.prepend(lt(this,nt))},Ps=function(yt,At){At.preventDefault();const{isMac:Lt}=o.FeatureTest.platform;if(At.button!==0||At.ctrlKey&&Lt)return;const jt=Ut(this,pt,Ts).bind(this,yt),ft=this._isDraggable;this._isDraggable=!1;const mt={passive:!0,capture:!0};window.addEventListener("pointermove",jt,mt);const vt=this.x,_t=this.y,St=this.width,Pt=this.height,Ot=this.parent.div.style.cursor,Gt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(At.target).cursor;const Yt=()=>{this._isDraggable=ft,window.removeEventListener("pointerup",Yt),window.removeEventListener("blur",Yt),window.removeEventListener("pointermove",jt,mt),this.parent.div.style.cursor=Ot,this.div.style.cursor=Gt;const Qt=this.x,rr=this.y,Wt=this.width,nr=this.height;Qt===vt&&rr===_t&&Wt===St&&nr===Pt||this.addCommands({cmd:()=>{this.width=Wt,this.height=nr,this.x=Qt,this.y=rr;const[Vt,zt]=this.parentDimensions;this.setDims(Vt*Wt,zt*nr),this.fixAndSetPosition()},undo:()=>{this.width=St,this.height=Pt,this.x=vt,this.y=_t;const[Vt,zt]=this.parentDimensions;this.setDims(Vt*St,zt*Pt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Yt),window.addEventListener("blur",Yt)},Ts=function(yt,At){const[Lt,jt]=this.parentDimensions,ft=this.x,mt=this.y,vt=this.width,_t=this.height,St=kt.MIN_SIZE/Lt,Pt=kt.MIN_SIZE/jt,Ot=xr=>Math.round(xr*1e4)/1e4,Gt=Ut(this,pt,$n).call(this,this.rotation),Yt=(xr,jr)=>[Gt[0]*xr+Gt[2]*jr,Gt[1]*xr+Gt[3]*jr],Qt=Ut(this,pt,$n).call(this,360-this.rotation),rr=(xr,jr)=>[Qt[0]*xr+Qt[2]*jr,Qt[1]*xr+Qt[3]*jr];let Wt,nr,Vt=!1,zt=!1;switch(yt){case"topLeft":Vt=!0,Wt=(xr,jr)=>[0,0],nr=(xr,jr)=>[xr,jr];break;case"topMiddle":Wt=(xr,jr)=>[xr/2,0],nr=(xr,jr)=>[xr/2,jr];break;case"topRight":Vt=!0,Wt=(xr,jr)=>[xr,0],nr=(xr,jr)=>[0,jr];break;case"middleRight":zt=!0,Wt=(xr,jr)=>[xr,jr/2],nr=(xr,jr)=>[0,jr/2];break;case"bottomRight":Vt=!0,Wt=(xr,jr)=>[xr,jr],nr=(xr,jr)=>[0,0];break;case"bottomMiddle":Wt=(xr,jr)=>[xr/2,jr],nr=(xr,jr)=>[xr/2,0];break;case"bottomLeft":Vt=!0,Wt=(xr,jr)=>[0,jr],nr=(xr,jr)=>[xr,0];break;case"middleLeft":zt=!0,Wt=(xr,jr)=>[0,jr/2],nr=(xr,jr)=>[xr,jr/2];break}const wt=Wt(vt,_t),Tt=nr(vt,_t);let Bt=Yt(...Tt);const Ht=Ot(ft+Bt[0]),tr=Ot(mt+Bt[1]);let ar=1,ir=1,[Ft,pr]=this.screenToPageTranslation(At.movementX,At.movementY);if([Ft,pr]=rr(Ft/Lt,pr/jt),Vt){const xr=Math.hypot(vt,_t);ar=ir=Math.max(Math.min(Math.hypot(Tt[0]-wt[0]-Ft,Tt[1]-wt[1]-pr)/xr,1/vt,1/_t),St/vt,Pt/_t)}else zt?ar=Math.max(St,Math.min(1,Math.abs(Tt[0]-wt[0]-Ft)))/vt:ir=Math.max(Pt,Math.min(1,Math.abs(Tt[1]-wt[1]-pr)))/_t;const dr=Ot(vt*ar),_r=Ot(_t*ir);Bt=Yt(...nr(dr,_r));const Sr=Ht-Bt[0],Lr=tr-Bt[1];this.width=dr,this.height=_r,this.x=Sr,this.y=Lr,this.setDims(Lt*dr,jt*_r),this.fixAndSetPosition()},Bn=async function(){var Lt;const yt=lt(this,j);if(!yt)return;if(!lt(this,h)&&!lt(this,b)){yt.classList.remove("done"),(Lt=lt(this,_))==null||Lt.remove();return}kt._l10nPromise.get("editor_alt_text_edit_button_label").then(jt=>{yt.setAttribute("aria-label",jt)});let At=lt(this,_);if(!At){Jt(this,_,At=document.createElement("span")),At.className="tooltip",At.setAttribute("role","tooltip");const jt=At.id=`alt-text-tooltip-${this.id}`;yt.setAttribute("aria-describedby",jt);const ft=100;yt.addEventListener("mouseenter",()=>{Jt(this,$,setTimeout(()=>{Jt(this,$,null),lt(this,_).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},ft))}),yt.addEventListener("mouseleave",()=>{var mt;clearTimeout(lt(this,$)),Jt(this,$,null),(mt=lt(this,_))==null||mt.classList.remove("show")})}yt.classList.add("done"),At.innerText=lt(this,b)?await kt._l10nPromise.get("editor_alt_text_decorative_tooltip"):lt(this,h),At.parentNode||yt.append(At)},Ds=function(yt){if(!this._isDraggable)return;const At=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Lt,jt;At&&(Lt={passive:!0,capture:!0},jt=mt=>{const[vt,_t]=this.screenToPageTranslation(mt.movementX,mt.movementY);this._uiManager.dragSelectedEditors(vt,_t)},window.addEventListener("pointermove",jt,Lt));const ft=()=>{if(window.removeEventListener("pointerup",ft),window.removeEventListener("blur",ft),At&&window.removeEventListener("pointermove",jt,Lt),Jt(this,_e,!1),!this._uiManager.endDragSession()){const{isMac:mt}=o.FeatureTest.platform;yt.ctrlKey&&!mt||yt.shiftKey||yt.metaKey&&mt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",ft),window.addEventListener("blur",ft)},Xt(kt,ht),$r(kt,"_borderLineWidth",-1),$r(kt,"_colorManager",new a.ColorManager),$r(kt,"_zIndex",1),$r(kt,"SMALL_EDITOR_SIZE",0);let d=kt;s.AnnotationEditor=d;class g extends d{constructor(yt){super(yt),this.annotationElementId=yt.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,s,i)=>{var rt,nt,dt,st,_e,Un,ct,ot,pt,et,at,Ls,ut,gt,Et,Mt,Nt,It,kt,bt,yt,At,Lt,jt,ft,mt,vt,_t,St,Pt,Ot,Gt,Yt,Qt,rr,Wt,nr,Vt,zt,wt,Tt,Bt,Ht,tr,ar,ir,Ft,Is,Vn,zn,wn,Gn,Wn,Hr,dn,Ms,Fs,Hn,pn,qn;Object.defineProperty(s,"__esModule",{value:!0}),s.KeyboardManager=s.CommandManager=s.ColorManager=s.AnnotationEditorUIManager=void 0,s.bindEvents=c,s.opacityToHex=d;var a=i(1),o=i(6);function c(Cr,Dt,sr){for(const hr of sr)Dt.addEventListener(hr,Cr[hr].bind(Cr))}function d(Cr){return Math.round(Math.min(255,Math.max(1,255*Cr))).toString(16).padStart(2,"0")}class g{constructor(){Xt(this,rt,0)}getId(){return`${a.AnnotationEditorPrefix}${un(this,rt)._++}`}}rt=new WeakMap;const it=class it{constructor(){Xt(this,_e);Xt(this,nt,(0,a.getUuid)());Xt(this,dt,0);Xt(this,st,null)}static get _isSVGFittingCanvas(){const Dt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',hr=new OffscreenCanvas(1,3).getContext("2d"),Er=new Image;Er.src=Dt;const Rr=Er.decode().then(()=>(hr.drawImage(Er,0,0,1,1,0,0,1,3),new Uint32Array(hr.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,a.shadow)(this,"_isSVGFittingCanvas",Rr)}async getFromFile(Dt){const{lastModified:sr,name:hr,size:Er,type:Rr}=Dt;return Ut(this,_e,Un).call(this,`${sr}_${hr}_${Er}_${Rr}`,Dt)}async getFromUrl(Dt){return Ut(this,_e,Un).call(this,Dt,Dt)}async getFromId(Dt){lt(this,st)||Jt(this,st,new Map);const sr=lt(this,st).get(Dt);return sr?sr.bitmap?(sr.refCounter+=1,sr):sr.file?this.getFromFile(sr.file):this.getFromUrl(sr.url):null}getSvgUrl(Dt){const sr=lt(this,st).get(Dt);return sr!=null&&sr.isSvg?sr.svgUrl:null}deleteId(Dt){lt(this,st)||Jt(this,st,new Map);const sr=lt(this,st).get(Dt);sr&&(sr.refCounter-=1,sr.refCounter===0&&(sr.bitmap=null))}isValidId(Dt){return Dt.startsWith(`image_${lt(this,nt)}_`)}};nt=new WeakMap,dt=new WeakMap,st=new WeakMap,_e=new WeakSet,Un=async function(Dt,sr){lt(this,st)||Jt(this,st,new Map);let hr=lt(this,st).get(Dt);if(hr===null)return null;if(hr!=null&&hr.bitmap)return hr.refCounter+=1,hr;try{hr||(hr={bitmap:null,id:`image_${lt(this,nt)}_${un(this,dt)._++}`,refCounter:0,isSvg:!1});let Er;if(typeof sr=="string"){hr.url=sr;const Rr=await fetch(sr);if(!Rr.ok)throw new Error(Rr.statusText);Er=await Rr.blob()}else Er=hr.file=sr;if(Er.type==="image/svg+xml"){const Rr=it._isSVGFittingCanvas,mr=new FileReader,Ct=new Image,Rt=new Promise(($t,Zt)=>{Ct.onload=()=>{hr.bitmap=Ct,hr.isSvg=!0,$t()},mr.onload=async()=>{const er=hr.svgUrl=mr.result;Ct.src=await Rr?`${er}#svgView(preserveAspectRatio(none))`:er},Ct.onerror=mr.onerror=Zt});mr.readAsDataURL(Er),await Rt}else hr.bitmap=await createImageBitmap(Er);hr.refCounter=1}catch(Er){console.error(Er),hr=null}return lt(this,st).set(Dt,hr),hr&&lt(this,st).set(hr.id,hr),hr};let h=it;class b{constructor(Dt=128){Xt(this,ct,[]);Xt(this,ot,!1);Xt(this,pt);Xt(this,et,-1);Jt(this,pt,Dt)}add({cmd:Dt,undo:sr,mustExec:hr,type:Er=NaN,overwriteIfSameType:Rr=!1,keepUndo:mr=!1}){if(hr&&Dt(),lt(this,ot))return;const Ct={cmd:Dt,undo:sr,type:Er};if(lt(this,et)===-1){lt(this,ct).length>0&&(lt(this,ct).length=0),Jt(this,et,0),lt(this,ct).push(Ct);return}if(Rr&&lt(this,ct)[lt(this,et)].type===Er){mr&&(Ct.undo=lt(this,ct)[lt(this,et)].undo),lt(this,ct)[lt(this,et)]=Ct;return}const Rt=lt(this,et)+1;Rt===lt(this,pt)?lt(this,ct).splice(0,1):(Jt(this,et,Rt),Rt<lt(this,ct).length&&lt(this,ct).splice(Rt)),lt(this,ct).push(Ct)}undo(){lt(this,et)!==-1&&(Jt(this,ot,!0),lt(this,ct)[lt(this,et)].undo(),Jt(this,ot,!1),Jt(this,et,lt(this,et)-1))}redo(){lt(this,et)<lt(this,ct).length-1&&(Jt(this,et,lt(this,et)+1),Jt(this,ot,!0),lt(this,ct)[lt(this,et)].cmd(),Jt(this,ot,!1))}hasSomethingToUndo(){return lt(this,et)!==-1}hasSomethingToRedo(){return lt(this,et)<lt(this,ct).length-1}destroy(){Jt(this,ct,null)}}ct=new WeakMap,ot=new WeakMap,pt=new WeakMap,et=new WeakMap,s.CommandManager=b;class j{constructor(Dt){Xt(this,at);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:sr}=a.FeatureTest.platform;for(const[hr,Er,Rr={}]of Dt)for(const mr of hr){const Ct=mr.startsWith("mac+");sr&&Ct?(this.callbacks.set(mr.slice(4),{callback:Er,options:Rr}),this.allKeys.add(mr.split("+").at(-1))):!sr&&!Ct&&(this.callbacks.set(mr,{callback:Er,options:Rr}),this.allKeys.add(mr.split("+").at(-1)))}}exec(Dt,sr){if(!this.allKeys.has(sr.key))return;const hr=this.callbacks.get(Ut(this,at,Ls).call(this,sr));if(!hr)return;const{callback:Er,options:{bubbles:Rr=!1,args:mr=[],checker:Ct=null}}=hr;Ct&&!Ct(Dt,sr)||(Er.bind(Dt,...mr)(),Rr||(sr.stopPropagation(),sr.preventDefault()))}}at=new WeakSet,Ls=function(Dt){Dt.altKey&&this.buffer.push("alt"),Dt.ctrlKey&&this.buffer.push("ctrl"),Dt.metaKey&&this.buffer.push("meta"),Dt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Dt.key);const sr=this.buffer.join("+");return this.buffer.length=0,sr},s.KeyboardManager=j;const xt=class xt{get _colors(){const Dt=new Map([["CanvasText",null],["Canvas",null]]);return(0,o.getColorValues)(Dt),(0,a.shadow)(this,"_colors",Dt)}convert(Dt){const sr=(0,o.getRGB)(Dt);if(!window.matchMedia("(forced-colors: active)").matches)return sr;for(const[hr,Er]of this._colors)if(Er.every((Rr,mr)=>Rr===sr[mr]))return xt._colorsMapping.get(hr);return sr}getHexCode(Dt){const sr=this._colors.get(Dt);return sr?a.Util.makeHexColor(...sr):Dt}};$r(xt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let _=xt;s.ColorManager=_;const Ir=class Ir{constructor(Dt,sr,hr,Er,Rr,mr){Xt(this,Ft);Xt(this,ut,null);Xt(this,gt,new Map);Xt(this,Et,new Map);Xt(this,Mt,null);Xt(this,Nt,null);Xt(this,It,new b);Xt(this,kt,0);Xt(this,bt,new Set);Xt(this,yt,null);Xt(this,At,null);Xt(this,Lt,new Set);Xt(this,jt,null);Xt(this,ft,new g);Xt(this,mt,!1);Xt(this,vt,!1);Xt(this,_t,null);Xt(this,St,a.AnnotationEditorType.NONE);Xt(this,Pt,new Set);Xt(this,Ot,null);Xt(this,Gt,this.blur.bind(this));Xt(this,Yt,this.focus.bind(this));Xt(this,Qt,this.copy.bind(this));Xt(this,rr,this.cut.bind(this));Xt(this,Wt,this.paste.bind(this));Xt(this,nr,this.keydown.bind(this));Xt(this,Vt,this.onEditingAction.bind(this));Xt(this,zt,this.onPageChanging.bind(this));Xt(this,wt,this.onScaleChanging.bind(this));Xt(this,Tt,this.onRotationChanging.bind(this));Xt(this,Bt,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Xt(this,Ht,[0,0]);Xt(this,tr,null);Xt(this,ar,null);Xt(this,ir,null);Jt(this,ar,Dt),Jt(this,ir,sr),Jt(this,Mt,hr),this._eventBus=Er,this._eventBus._on("editingaction",lt(this,Vt)),this._eventBus._on("pagechanging",lt(this,zt)),this._eventBus._on("scalechanging",lt(this,wt)),this._eventBus._on("rotationchanging",lt(this,Tt)),Jt(this,Nt,Rr.annotationStorage),Jt(this,jt,Rr.filterFactory),Jt(this,Ot,mr),this.viewParameters={realScale:o.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Dt=Ir.prototype,sr=Rr=>{const{activeElement:mr}=document;return mr&&lt(Rr,ar).contains(mr)&&Rr.hasSomethingToControl()},hr=this.TRANSLATE_SMALL,Er=this.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new j([[["ctrl+a","mac+meta+a"],Dt.selectAll],[["ctrl+z","mac+meta+z"],Dt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Dt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Dt.delete],[["Escape","mac+Escape"],Dt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Dt.translateSelectedEditors,{args:[-hr,0],checker:sr}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Dt.translateSelectedEditors,{args:[-Er,0],checker:sr}],[["ArrowRight","mac+ArrowRight"],Dt.translateSelectedEditors,{args:[hr,0],checker:sr}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Dt.translateSelectedEditors,{args:[Er,0],checker:sr}],[["ArrowUp","mac+ArrowUp"],Dt.translateSelectedEditors,{args:[0,-hr],checker:sr}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Dt.translateSelectedEditors,{args:[0,-Er],checker:sr}],[["ArrowDown","mac+ArrowDown"],Dt.translateSelectedEditors,{args:[0,hr],checker:sr}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Dt.translateSelectedEditors,{args:[0,Er],checker:sr}]]))}destroy(){Ut(this,Ft,wn).call(this),Ut(this,Ft,Vn).call(this),this._eventBus._off("editingaction",lt(this,Vt)),this._eventBus._off("pagechanging",lt(this,zt)),this._eventBus._off("scalechanging",lt(this,wt)),this._eventBus._off("rotationchanging",lt(this,Tt));for(const Dt of lt(this,Et).values())Dt.destroy();lt(this,Et).clear(),lt(this,gt).clear(),lt(this,Lt).clear(),Jt(this,ut,null),lt(this,Pt).clear(),lt(this,It).destroy(),lt(this,Mt).destroy()}get hcmFilter(){return(0,a.shadow)(this,"hcmFilter",lt(this,Ot)?lt(this,jt).addHCMFilter(lt(this,Ot).foreground,lt(this,Ot).background):"none")}get direction(){return(0,a.shadow)(this,"direction",getComputedStyle(lt(this,ar)).direction)}editAltText(Dt){var sr;(sr=lt(this,Mt))==null||sr.editAltText(this,Dt)}onPageChanging({pageNumber:Dt}){Jt(this,kt,Dt-1)}focusMainContainer(){lt(this,ar).focus()}findParent(Dt,sr){for(const hr of lt(this,Et).values()){const{x:Er,y:Rr,width:mr,height:Ct}=hr.div.getBoundingClientRect();if(Dt>=Er&&Dt<=Er+mr&&sr>=Rr&&sr<=Rr+Ct)return hr}return null}disableUserSelect(Dt=!1){lt(this,ir).classList.toggle("noUserSelect",Dt)}addShouldRescale(Dt){lt(this,Lt).add(Dt)}removeShouldRescale(Dt){lt(this,Lt).delete(Dt)}onScaleChanging({scale:Dt}){this.commitOrRemove(),this.viewParameters.realScale=Dt*o.PixelsPerInch.PDF_TO_CSS_UNITS;for(const sr of lt(this,Lt))sr.onScaleChanging()}onRotationChanging({pagesRotation:Dt}){this.commitOrRemove(),this.viewParameters.rotation=Dt}addToAnnotationStorage(Dt){!Dt.isEmpty()&&lt(this,Nt)&&!lt(this,Nt).has(Dt.id)&&lt(this,Nt).setValue(Dt.id,Dt)}blur(){if(!this.hasSelection)return;const{activeElement:Dt}=document;for(const sr of lt(this,Pt))if(sr.div.contains(Dt)){Jt(this,_t,[sr,Dt]),sr._focusEventsAllowed=!1;break}}focus(){if(!lt(this,_t))return;const[Dt,sr]=lt(this,_t);Jt(this,_t,null),sr.addEventListener("focusin",()=>{Dt._focusEventsAllowed=!0},{once:!0}),sr.focus()}addEditListeners(){Ut(this,Ft,zn).call(this),Ut(this,Ft,Gn).call(this)}removeEditListeners(){Ut(this,Ft,wn).call(this),Ut(this,Ft,Wn).call(this)}copy(Dt){var hr;if(Dt.preventDefault(),(hr=lt(this,ut))==null||hr.commitOrRemove(),!this.hasSelection)return;const sr=[];for(const Er of lt(this,Pt)){const Rr=Er.serialize(!0);Rr&&sr.push(Rr)}sr.length!==0&&Dt.clipboardData.setData("application/pdfjs",JSON.stringify(sr))}cut(Dt){this.copy(Dt),this.delete()}paste(Dt){Dt.preventDefault();const{clipboardData:sr}=Dt;for(const Rr of sr.items)for(const mr of lt(this,At))if(mr.isHandlingMimeForPasting(Rr.type)){mr.paste(Rr,this.currentLayer);return}let hr=sr.getData("application/pdfjs");if(!hr)return;try{hr=JSON.parse(hr)}catch(Rr){(0,a.warn)(`paste: "${Rr.message}".`);return}if(!Array.isArray(hr))return;this.unselectAll();const Er=this.currentLayer;try{const Rr=[];for(const Rt of hr){const $t=Er.deserialize(Rt);if(!$t)return;Rr.push($t)}const mr=()=>{for(const Rt of Rr)Ut(this,Ft,Hn).call(this,Rt);Ut(this,Ft,qn).call(this,Rr)},Ct=()=>{for(const Rt of Rr)Rt.remove()};this.addCommands({cmd:mr,undo:Ct,mustExec:!0})}catch(Rr){(0,a.warn)(`paste: "${Rr.message}".`)}}keydown(Dt){var sr;(sr=this.getActive())!=null&&sr.shouldGetKeyboardEvents()||Ir._keyboardManager.exec(this,Dt)}onEditingAction(Dt){["undo","redo","delete","selectAll"].includes(Dt.name)&&this[Dt.name]()}setEditingState(Dt){Dt?(Ut(this,Ft,Is).call(this),Ut(this,Ft,zn).call(this),Ut(this,Ft,Gn).call(this),Ut(this,Ft,Hr).call(this,{isEditing:lt(this,St)!==a.AnnotationEditorType.NONE,isEmpty:Ut(this,Ft,pn).call(this),hasSomethingToUndo:lt(this,It).hasSomethingToUndo(),hasSomethingToRedo:lt(this,It).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ut(this,Ft,Vn).call(this),Ut(this,Ft,wn).call(this),Ut(this,Ft,Wn).call(this),Ut(this,Ft,Hr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Dt){if(!lt(this,At)){Jt(this,At,Dt);for(const sr of lt(this,At))Ut(this,Ft,dn).call(this,sr.defaultPropertiesToUpdate)}}getId(){return lt(this,ft).getId()}get currentLayer(){return lt(this,Et).get(lt(this,kt))}getLayer(Dt){return lt(this,Et).get(Dt)}get currentPageIndex(){return lt(this,kt)}addLayer(Dt){lt(this,Et).set(Dt.pageIndex,Dt),lt(this,mt)?Dt.enable():Dt.disable()}removeLayer(Dt){lt(this,Et).delete(Dt.pageIndex)}updateMode(Dt,sr=null){if(lt(this,St)!==Dt){if(Jt(this,St,Dt),Dt===a.AnnotationEditorType.NONE){this.setEditingState(!1),Ut(this,Ft,Fs).call(this);return}this.setEditingState(!0),Ut(this,Ft,Ms).call(this),this.unselectAll();for(const hr of lt(this,Et).values())hr.updateMode(Dt);if(sr){for(const hr of lt(this,gt).values())if(hr.annotationElementId===sr){this.setSelected(hr),hr.enterInEditMode();break}}}}updateToolbar(Dt){Dt!==lt(this,St)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Dt})}updateParams(Dt,sr){if(lt(this,At)){if(Dt===a.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Dt);return}for(const hr of lt(this,Pt))hr.updateParams(Dt,sr);for(const hr of lt(this,At))hr.updateDefaultParams(Dt,sr)}}enableWaiting(Dt=!1){if(lt(this,vt)!==Dt){Jt(this,vt,Dt);for(const sr of lt(this,Et).values())Dt?sr.disableClick():sr.enableClick(),sr.div.classList.toggle("waiting",Dt)}}getEditors(Dt){const sr=[];for(const hr of lt(this,gt).values())hr.pageIndex===Dt&&sr.push(hr);return sr}getEditor(Dt){return lt(this,gt).get(Dt)}addEditor(Dt){lt(this,gt).set(Dt.id,Dt)}removeEditor(Dt){var sr;lt(this,gt).delete(Dt.id),this.unselect(Dt),(!Dt.annotationElementId||!lt(this,bt).has(Dt.annotationElementId))&&((sr=lt(this,Nt))==null||sr.remove(Dt.id))}addDeletedAnnotationElement(Dt){lt(this,bt).add(Dt.annotationElementId),Dt.deleted=!0}isDeletedAnnotationElement(Dt){return lt(this,bt).has(Dt)}removeDeletedAnnotationElement(Dt){lt(this,bt).delete(Dt.annotationElementId),Dt.deleted=!1}setActiveEditor(Dt){lt(this,ut)!==Dt&&(Jt(this,ut,Dt),Dt&&Ut(this,Ft,dn).call(this,Dt.propertiesToUpdate))}toggleSelected(Dt){if(lt(this,Pt).has(Dt)){lt(this,Pt).delete(Dt),Dt.unselect(),Ut(this,Ft,Hr).call(this,{hasSelectedEditor:this.hasSelection});return}lt(this,Pt).add(Dt),Dt.select(),Ut(this,Ft,dn).call(this,Dt.propertiesToUpdate),Ut(this,Ft,Hr).call(this,{hasSelectedEditor:!0})}setSelected(Dt){for(const sr of lt(this,Pt))sr!==Dt&&sr.unselect();lt(this,Pt).clear(),lt(this,Pt).add(Dt),Dt.select(),Ut(this,Ft,dn).call(this,Dt.propertiesToUpdate),Ut(this,Ft,Hr).call(this,{hasSelectedEditor:!0})}isSelected(Dt){return lt(this,Pt).has(Dt)}unselect(Dt){Dt.unselect(),lt(this,Pt).delete(Dt),Ut(this,Ft,Hr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return lt(this,Pt).size!==0}undo(){lt(this,It).undo(),Ut(this,Ft,Hr).call(this,{hasSomethingToUndo:lt(this,It).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ut(this,Ft,pn).call(this)})}redo(){lt(this,It).redo(),Ut(this,Ft,Hr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:lt(this,It).hasSomethingToRedo(),isEmpty:Ut(this,Ft,pn).call(this)})}addCommands(Dt){lt(this,It).add(Dt),Ut(this,Ft,Hr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ut(this,Ft,pn).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Dt=[...lt(this,Pt)],sr=()=>{for(const Er of Dt)Er.remove()},hr=()=>{for(const Er of Dt)Ut(this,Ft,Hn).call(this,Er)};this.addCommands({cmd:sr,undo:hr,mustExec:!0})}commitOrRemove(){var Dt;(Dt=lt(this,ut))==null||Dt.commitOrRemove()}hasSomethingToControl(){return lt(this,ut)||this.hasSelection}selectAll(){for(const Dt of lt(this,Pt))Dt.commit();Ut(this,Ft,qn).call(this,lt(this,gt).values())}unselectAll(){if(lt(this,ut)){lt(this,ut).commitOrRemove();return}if(this.hasSelection){for(const Dt of lt(this,Pt))Dt.unselect();lt(this,Pt).clear(),Ut(this,Ft,Hr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Dt,sr,hr=!1){if(hr||this.commitOrRemove(),!this.hasSelection)return;lt(this,Ht)[0]+=Dt,lt(this,Ht)[1]+=sr;const[Er,Rr]=lt(this,Ht),mr=[...lt(this,Pt)],Ct=1e3;lt(this,tr)&&clearTimeout(lt(this,tr)),Jt(this,tr,setTimeout(()=>{Jt(this,tr,null),lt(this,Ht)[0]=lt(this,Ht)[1]=0,this.addCommands({cmd:()=>{for(const Rt of mr)lt(this,gt).has(Rt.id)&&Rt.translateInPage(Er,Rr)},undo:()=>{for(const Rt of mr)lt(this,gt).has(Rt.id)&&Rt.translateInPage(-Er,-Rr)},mustExec:!1})},Ct));for(const Rt of mr)Rt.translateInPage(Dt,sr)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Jt(this,yt,new Map);for(const Dt of lt(this,Pt))lt(this,yt).set(Dt,{savedX:Dt.x,savedY:Dt.y,savedPageIndex:Dt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!lt(this,yt))return!1;this.disableUserSelect(!1);const Dt=lt(this,yt);Jt(this,yt,null);let sr=!1;for(const[{x:Er,y:Rr,pageIndex:mr},Ct]of Dt)Ct.newX=Er,Ct.newY=Rr,Ct.newPageIndex=mr,sr||(sr=Er!==Ct.savedX||Rr!==Ct.savedY||mr!==Ct.savedPageIndex);if(!sr)return!1;const hr=(Er,Rr,mr,Ct)=>{if(lt(this,gt).has(Er.id)){const Rt=lt(this,Et).get(Ct);Rt?Er._setParentAndPosition(Rt,Rr,mr):(Er.pageIndex=Ct,Er.x=Rr,Er.y=mr)}};return this.addCommands({cmd:()=>{for(const[Er,{newX:Rr,newY:mr,newPageIndex:Ct}]of Dt)hr(Er,Rr,mr,Ct)},undo:()=>{for(const[Er,{savedX:Rr,savedY:mr,savedPageIndex:Ct}]of Dt)hr(Er,Rr,mr,Ct)},mustExec:!0}),!0}dragSelectedEditors(Dt,sr){if(lt(this,yt))for(const hr of lt(this,yt).keys())hr.drag(Dt,sr)}rebuild(Dt){if(Dt.parent===null){const sr=this.getLayer(Dt.pageIndex);sr?(sr.changeParent(Dt),sr.addOrRebuild(Dt)):(this.addEditor(Dt),this.addToAnnotationStorage(Dt),Dt.rebuild())}else Dt.parent.addOrRebuild(Dt)}isActive(Dt){return lt(this,ut)===Dt}getActive(){return lt(this,ut)}getMode(){return lt(this,St)}get imageManager(){return(0,a.shadow)(this,"imageManager",new h)}};ut=new WeakMap,gt=new WeakMap,Et=new WeakMap,Mt=new WeakMap,Nt=new WeakMap,It=new WeakMap,kt=new WeakMap,bt=new WeakMap,yt=new WeakMap,At=new WeakMap,Lt=new WeakMap,jt=new WeakMap,ft=new WeakMap,mt=new WeakMap,vt=new WeakMap,_t=new WeakMap,St=new WeakMap,Pt=new WeakMap,Ot=new WeakMap,Gt=new WeakMap,Yt=new WeakMap,Qt=new WeakMap,rr=new WeakMap,Wt=new WeakMap,nr=new WeakMap,Vt=new WeakMap,zt=new WeakMap,wt=new WeakMap,Tt=new WeakMap,Bt=new WeakMap,Ht=new WeakMap,tr=new WeakMap,ar=new WeakMap,ir=new WeakMap,Ft=new WeakSet,Is=function(){window.addEventListener("focus",lt(this,Yt)),window.addEventListener("blur",lt(this,Gt))},Vn=function(){window.removeEventListener("focus",lt(this,Yt)),window.removeEventListener("blur",lt(this,Gt))},zn=function(){window.addEventListener("keydown",lt(this,nr),{capture:!0})},wn=function(){window.removeEventListener("keydown",lt(this,nr),{capture:!0})},Gn=function(){document.addEventListener("copy",lt(this,Qt)),document.addEventListener("cut",lt(this,rr)),document.addEventListener("paste",lt(this,Wt))},Wn=function(){document.removeEventListener("copy",lt(this,Qt)),document.removeEventListener("cut",lt(this,rr)),document.removeEventListener("paste",lt(this,Wt))},Hr=function(Dt){Object.entries(Dt).some(([hr,Er])=>lt(this,Bt)[hr]!==Er)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(lt(this,Bt),Dt)})},dn=function(Dt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Dt})},Ms=function(){if(!lt(this,mt)){Jt(this,mt,!0);for(const Dt of lt(this,Et).values())Dt.enable()}},Fs=function(){if(this.unselectAll(),lt(this,mt)){Jt(this,mt,!1);for(const Dt of lt(this,Et).values())Dt.disable()}},Hn=function(Dt){const sr=lt(this,Et).get(Dt.pageIndex);sr?sr.addOrRebuild(Dt):this.addEditor(Dt)},pn=function(){if(lt(this,gt).size===0)return!0;if(lt(this,gt).size===1)for(const Dt of lt(this,gt).values())return Dt.isEmpty();return!1},qn=function(Dt){lt(this,Pt).clear();for(const sr of Dt)sr.isEmpty()||(lt(this,Pt).add(sr),sr.select());Ut(this,Ft,Hr).call(this,{hasSelectedEditor:!0})},$r(Ir,"TRANSLATE_SMALL",1),$r(Ir,"TRANSLATE_BIG",10);let $=Ir;s.AnnotationEditorUIManager=$},(e,s,i)=>{var kt,bt,yt,At,Lt,jt,ft,mt,vt,_t,St,Pt,rn,nn,Xn,jn,kn,hn,fn;Object.defineProperty(s,"__esModule",{value:!0}),s.StatTimer=s.RenderingCancelledException=s.PixelsPerInch=s.PageViewport=s.PDFDateString=s.DOMStandardFontDataFactory=s.DOMSVGFactory=s.DOMFilterFactory=s.DOMCanvasFactory=s.DOMCMapReaderFactory=void 0,s.deprecated=et,s.getColorValues=gt,s.getCurrentTransform=Et,s.getCurrentTransformInverse=Mt,s.getFilenameFromUrl=_e,s.getPdfFilenameFromUrl=tt,s.getRGB=ut,s.getXfaPageViewport=xt,s.isDataScheme=dt,s.isPdfFile=st,s.isValidFetchUrl=ct,s.loadScript=pt,s.noContextMenu=ot,s.setLayerDimensions=Nt;var a=i(7),o=i(1);const c="http://www.w3.org/2000/svg",It=class It{};$r(It,"CSS",96),$r(It,"PDF",72),$r(It,"PDF_TO_CSS_UNITS",It.CSS/It.PDF);let d=It;s.PixelsPerInch=d;class g extends a.BaseFilterFactory{constructor({docId:wt,ownerDocument:Tt=globalThis.document}={}){super();Xt(this,Pt);Xt(this,kt);Xt(this,bt);Xt(this,yt);Xt(this,At);Xt(this,Lt);Xt(this,jt);Xt(this,ft);Xt(this,mt);Xt(this,vt);Xt(this,_t);Xt(this,St,0);Jt(this,yt,wt),Jt(this,At,Tt)}addFilter(wt){if(!wt)return"none";let Tt=lt(this,Pt,rn).get(wt);if(Tt)return Tt;let Bt,Ht,tr,ar;if(wt.length===1){const dr=wt[0],_r=new Array(256);for(let Sr=0;Sr<256;Sr++)_r[Sr]=dr[Sr]/255;ar=Bt=Ht=tr=_r.join(",")}else{const[dr,_r,Sr]=wt,Lr=new Array(256),xr=new Array(256),jr=new Array(256);for(let Pr=0;Pr<256;Pr++)Lr[Pr]=dr[Pr]/255,xr[Pr]=_r[Pr]/255,jr[Pr]=Sr[Pr]/255;Bt=Lr.join(","),Ht=xr.join(","),tr=jr.join(","),ar=`${Bt}${Ht}${tr}`}if(Tt=lt(this,Pt,rn).get(ar),Tt)return lt(this,Pt,rn).set(wt,Tt),Tt;const ir=`g_${lt(this,yt)}_transfer_map_${un(this,St)._++}`,Ft=`url(#${ir})`;lt(this,Pt,rn).set(wt,Ft),lt(this,Pt,rn).set(ar,Ft);const pr=Ut(this,Pt,jn).call(this,ir);return Ut(this,Pt,hn).call(this,Bt,Ht,tr,pr),Ft}addHCMFilter(wt,Tt){var _r;const Bt=`${wt}-${Tt}`;if(lt(this,jt)===Bt)return lt(this,ft);if(Jt(this,jt,Bt),Jt(this,ft,"none"),(_r=lt(this,Lt))==null||_r.remove(),!wt||!Tt)return lt(this,ft);const Ht=Ut(this,Pt,fn).call(this,wt);wt=o.Util.makeHexColor(...Ht);const tr=Ut(this,Pt,fn).call(this,Tt);if(Tt=o.Util.makeHexColor(...tr),lt(this,Pt,nn).style.color="",wt==="#000000"&&Tt==="#ffffff"||wt===Tt)return lt(this,ft);const ar=new Array(256);for(let Sr=0;Sr<=255;Sr++){const Lr=Sr/255;ar[Sr]=Lr<=.03928?Lr/12.92:((Lr+.055)/1.055)**2.4}const ir=ar.join(","),Ft=`g_${lt(this,yt)}_hcm_filter`,pr=Jt(this,mt,Ut(this,Pt,jn).call(this,Ft));Ut(this,Pt,hn).call(this,ir,ir,ir,pr),Ut(this,Pt,Xn).call(this,pr);const dr=(Sr,Lr)=>{const xr=Ht[Sr]/255,jr=tr[Sr]/255,Pr=new Array(Lr+1);for(let Mr=0;Mr<=Lr;Mr++)Pr[Mr]=xr+Mr/Lr*(jr-xr);return Pr.join(",")};return Ut(this,Pt,hn).call(this,dr(0,5),dr(1,5),dr(2,5),pr),Jt(this,ft,`url(#${Ft})`),lt(this,ft)}addHighlightHCMFilter(wt,Tt,Bt,Ht){var jr;const tr=`${wt}-${Tt}-${Bt}-${Ht}`;if(lt(this,vt)===tr)return lt(this,_t);if(Jt(this,vt,tr),Jt(this,_t,"none"),(jr=lt(this,mt))==null||jr.remove(),!wt||!Tt)return lt(this,_t);const[ar,ir]=[wt,Tt].map(Ut(this,Pt,fn).bind(this));let Ft=Math.round(.2126*ar[0]+.7152*ar[1]+.0722*ar[2]),pr=Math.round(.2126*ir[0]+.7152*ir[1]+.0722*ir[2]),[dr,_r]=[Bt,Ht].map(Ut(this,Pt,fn).bind(this));pr<Ft&&([Ft,pr,dr,_r]=[pr,Ft,_r,dr]),lt(this,Pt,nn).style.color="";const Sr=(Pr,Mr,lr)=>{const qt=new Array(256),Kt=(pr-Ft)/lr,gr=Pr/255,Ir=(Mr-Pr)/(255*lr);let Cr=0;for(let Dt=0;Dt<=lr;Dt++){const sr=Math.round(Ft+Dt*Kt),hr=gr+Dt*Ir;for(let Er=Cr;Er<=sr;Er++)qt[Er]=hr;Cr=sr+1}for(let Dt=Cr;Dt<256;Dt++)qt[Dt]=qt[Cr-1];return qt.join(",")},Lr=`g_${lt(this,yt)}_hcm_highlight_filter`,xr=Jt(this,mt,Ut(this,Pt,jn).call(this,Lr));return Ut(this,Pt,Xn).call(this,xr),Ut(this,Pt,hn).call(this,Sr(dr[0],_r[0],5),Sr(dr[1],_r[1],5),Sr(dr[2],_r[2],5),xr),Jt(this,_t,`url(#${Lr})`),lt(this,_t)}destroy(wt=!1){wt&&(lt(this,ft)||lt(this,_t))||(lt(this,bt)&&(lt(this,bt).parentNode.parentNode.remove(),Jt(this,bt,null)),lt(this,kt)&&(lt(this,kt).clear(),Jt(this,kt,null)),Jt(this,St,0))}}kt=new WeakMap,bt=new WeakMap,yt=new WeakMap,At=new WeakMap,Lt=new WeakMap,jt=new WeakMap,ft=new WeakMap,mt=new WeakMap,vt=new WeakMap,_t=new WeakMap,St=new WeakMap,Pt=new WeakSet,rn=function(){return lt(this,kt)||Jt(this,kt,new Map)},nn=function(){if(!lt(this,bt)){const wt=lt(this,At).createElement("div"),{style:Tt}=wt;Tt.visibility="hidden",Tt.contain="strict",Tt.width=Tt.height=0,Tt.position="absolute",Tt.top=Tt.left=0,Tt.zIndex=-1;const Bt=lt(this,At).createElementNS(c,"svg");Bt.setAttribute("width",0),Bt.setAttribute("height",0),Jt(this,bt,lt(this,At).createElementNS(c,"defs")),wt.append(Bt),Bt.append(lt(this,bt)),lt(this,At).body.append(wt)}return lt(this,bt)},Xn=function(wt){const Tt=lt(this,At).createElementNS(c,"feColorMatrix");Tt.setAttribute("type","matrix"),Tt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),wt.append(Tt)},jn=function(wt){const Tt=lt(this,At).createElementNS(c,"filter");return Tt.setAttribute("color-interpolation-filters","sRGB"),Tt.setAttribute("id",wt),lt(this,Pt,nn).append(Tt),Tt},kn=function(wt,Tt,Bt){const Ht=lt(this,At).createElementNS(c,Tt);Ht.setAttribute("type","discrete"),Ht.setAttribute("tableValues",Bt),wt.append(Ht)},hn=function(wt,Tt,Bt,Ht){const tr=lt(this,At).createElementNS(c,"feComponentTransfer");Ht.append(tr),Ut(this,Pt,kn).call(this,tr,"feFuncR",wt),Ut(this,Pt,kn).call(this,tr,"feFuncG",Tt),Ut(this,Pt,kn).call(this,tr,"feFuncB",Bt)},fn=function(wt){return lt(this,Pt,nn).style.color=wt,ut(getComputedStyle(lt(this,Pt,nn)).getPropertyValue("color"))},s.DOMFilterFactory=g;class h extends a.BaseCanvasFactory{constructor({ownerDocument:zt=globalThis.document}={}){super(),this._document=zt}_createCanvas(zt,wt){const Tt=this._document.createElement("canvas");return Tt.width=zt,Tt.height=wt,Tt}}s.DOMCanvasFactory=h;async function b(Vt,zt=!1){if(ct(Vt,document.baseURI)){const wt=await fetch(Vt);if(!wt.ok)throw new Error(wt.statusText);return zt?new Uint8Array(await wt.arrayBuffer()):(0,o.stringToBytes)(await wt.text())}return new Promise((wt,Tt)=>{const Bt=new XMLHttpRequest;Bt.open("GET",Vt,!0),zt&&(Bt.responseType="arraybuffer"),Bt.onreadystatechange=()=>{if(Bt.readyState===XMLHttpRequest.DONE){if(Bt.status===200||Bt.status===0){let Ht;if(zt&&Bt.response?Ht=new Uint8Array(Bt.response):!zt&&Bt.responseText&&(Ht=(0,o.stringToBytes)(Bt.responseText)),Ht){wt(Ht);return}}Tt(new Error(Bt.statusText))}},Bt.send(null)})}class j extends a.BaseCMapReaderFactory{_fetchData(zt,wt){return b(zt,this.isCompressed).then(Tt=>({cMapData:Tt,compressionType:wt}))}}s.DOMCMapReaderFactory=j;class _ extends a.BaseStandardFontDataFactory{_fetchData(zt){return b(zt,!0)}}s.DOMStandardFontDataFactory=_;class $ extends a.BaseSVGFactory{_createSVG(zt){return document.createElementNS(c,zt)}}s.DOMSVGFactory=$;class rt{constructor({viewBox:zt,scale:wt,rotation:Tt,offsetX:Bt=0,offsetY:Ht=0,dontFlip:tr=!1}){this.viewBox=zt,this.scale=wt,this.rotation=Tt,this.offsetX=Bt,this.offsetY=Ht;const ar=(zt[2]+zt[0])/2,ir=(zt[3]+zt[1])/2;let Ft,pr,dr,_r;switch(Tt%=360,Tt<0&&(Tt+=360),Tt){case 180:Ft=-1,pr=0,dr=0,_r=1;break;case 90:Ft=0,pr=1,dr=1,_r=0;break;case 270:Ft=0,pr=-1,dr=-1,_r=0;break;case 0:Ft=1,pr=0,dr=0,_r=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}tr&&(dr=-dr,_r=-_r);let Sr,Lr,xr,jr;Ft===0?(Sr=Math.abs(ir-zt[1])*wt+Bt,Lr=Math.abs(ar-zt[0])*wt+Ht,xr=(zt[3]-zt[1])*wt,jr=(zt[2]-zt[0])*wt):(Sr=Math.abs(ar-zt[0])*wt+Bt,Lr=Math.abs(ir-zt[1])*wt+Ht,xr=(zt[2]-zt[0])*wt,jr=(zt[3]-zt[1])*wt),this.transform=[Ft*wt,pr*wt,dr*wt,_r*wt,Sr-Ft*wt*ar-dr*wt*ir,Lr-pr*wt*ar-_r*wt*ir],this.width=xr,this.height=jr}get rawDims(){const{viewBox:zt}=this;return(0,o.shadow)(this,"rawDims",{pageWidth:zt[2]-zt[0],pageHeight:zt[3]-zt[1],pageX:zt[0],pageY:zt[1]})}clone({scale:zt=this.scale,rotation:wt=this.rotation,offsetX:Tt=this.offsetX,offsetY:Bt=this.offsetY,dontFlip:Ht=!1}={}){return new rt({viewBox:this.viewBox.slice(),scale:zt,rotation:wt,offsetX:Tt,offsetY:Bt,dontFlip:Ht})}convertToViewportPoint(zt,wt){return o.Util.applyTransform([zt,wt],this.transform)}convertToViewportRectangle(zt){const wt=o.Util.applyTransform([zt[0],zt[1]],this.transform),Tt=o.Util.applyTransform([zt[2],zt[3]],this.transform);return[wt[0],wt[1],Tt[0],Tt[1]]}convertToPdfPoint(zt,wt){return o.Util.applyInverseTransform([zt,wt],this.transform)}}s.PageViewport=rt;class nt extends o.BaseException{constructor(zt,wt=0){super(zt,"RenderingCancelledException"),this.extraDelay=wt}}s.RenderingCancelledException=nt;function dt(Vt){const zt=Vt.length;let wt=0;for(;wt<zt&&Vt[wt].trim()==="";)wt++;return Vt.substring(wt,wt+5).toLowerCase()==="data:"}function st(Vt){return typeof Vt=="string"&&/\.pdf$/i.test(Vt)}function _e(Vt,zt=!1){return zt||([Vt]=Vt.split(/[#?]/,1)),Vt.substring(Vt.lastIndexOf("/")+1)}function tt(Vt,zt="document.pdf"){if(typeof Vt!="string")return zt;if(dt(Vt))return(0,o.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),zt;const wt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Tt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Bt=wt.exec(Vt);let Ht=Tt.exec(Bt[1])||Tt.exec(Bt[2])||Tt.exec(Bt[3]);if(Ht&&(Ht=Ht[0],Ht.includes("%")))try{Ht=Tt.exec(decodeURIComponent(Ht))[0]}catch{}return Ht||zt}class it{constructor(){$r(this,"started",Object.create(null));$r(this,"times",[])}time(zt){zt in this.started&&(0,o.warn)(`Timer is already running for ${zt}`),this.started[zt]=Date.now()}timeEnd(zt){zt in this.started||(0,o.warn)(`Timer has not been started for ${zt}`),this.times.push({name:zt,start:this.started[zt],end:Date.now()}),delete this.started[zt]}toString(){const zt=[];let wt=0;for(const{name:Tt}of this.times)wt=Math.max(Tt.length,wt);for(const{name:Tt,start:Bt,end:Ht}of this.times)zt.push(`${Tt.padEnd(wt)} ${Ht-Bt}ms
`);return zt.join("")}}s.StatTimer=it;function ct(Vt,zt){try{const{protocol:wt}=zt?new URL(Vt,zt):new URL(Vt);return wt==="http:"||wt==="https:"}catch{return!1}}function ot(Vt){Vt.preventDefault()}function pt(Vt,zt=!1){return new Promise((wt,Tt)=>{const Bt=document.createElement("script");Bt.src=Vt,Bt.onload=function(Ht){zt&&Bt.remove(),wt(Ht)},Bt.onerror=function(){Tt(new Error(`Cannot load script at: ${Bt.src}`))},(document.head||document.documentElement).append(Bt)})}function et(Vt){console.log("Deprecated API usage: "+Vt)}let at;class ht{static toDateObject(zt){if(!zt||typeof zt!="string")return null;at||(at=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const wt=at.exec(zt);if(!wt)return null;const Tt=parseInt(wt[1],10);let Bt=parseInt(wt[2],10);Bt=Bt>=1&&Bt<=12?Bt-1:0;let Ht=parseInt(wt[3],10);Ht=Ht>=1&&Ht<=31?Ht:1;let tr=parseInt(wt[4],10);tr=tr>=0&&tr<=23?tr:0;let ar=parseInt(wt[5],10);ar=ar>=0&&ar<=59?ar:0;let ir=parseInt(wt[6],10);ir=ir>=0&&ir<=59?ir:0;const Ft=wt[7]||"Z";let pr=parseInt(wt[8],10);pr=pr>=0&&pr<=23?pr:0;let dr=parseInt(wt[9],10)||0;return dr=dr>=0&&dr<=59?dr:0,Ft==="-"?(tr+=pr,ar+=dr):Ft==="+"&&(tr-=pr,ar-=dr),new Date(Date.UTC(Tt,Bt,Ht,tr,ar,ir))}}s.PDFDateString=ht;function xt(Vt,{scale:zt=1,rotation:wt=0}){const{width:Tt,height:Bt}=Vt.attributes.style,Ht=[0,0,parseInt(Tt),parseInt(Bt)];return new rt({viewBox:Ht,scale:zt,rotation:wt})}function ut(Vt){if(Vt.startsWith("#")){const zt=parseInt(Vt.slice(1),16);return[(zt&16711680)>>16,(zt&65280)>>8,zt&255]}return Vt.startsWith("rgb(")?Vt.slice(4,-1).split(",").map(zt=>parseInt(zt)):Vt.startsWith("rgba(")?Vt.slice(5,-1).split(",").map(zt=>parseInt(zt)).slice(0,3):((0,o.warn)(`Not a valid color format: "${Vt}"`),[0,0,0])}function gt(Vt){const zt=document.createElement("span");zt.style.visibility="hidden",document.body.append(zt);for(const wt of Vt.keys()){zt.style.color=wt;const Tt=window.getComputedStyle(zt).color;Vt.set(wt,ut(Tt))}zt.remove()}function Et(Vt){const{a:zt,b:wt,c:Tt,d:Bt,e:Ht,f:tr}=Vt.getTransform();return[zt,wt,Tt,Bt,Ht,tr]}function Mt(Vt){const{a:zt,b:wt,c:Tt,d:Bt,e:Ht,f:tr}=Vt.getTransform().invertSelf();return[zt,wt,Tt,Bt,Ht,tr]}function Nt(Vt,zt,wt=!1,Tt=!0){if(zt instanceof rt){const{pageWidth:Bt,pageHeight:Ht}=zt.rawDims,{style:tr}=Vt,ar=o.FeatureTest.isCSSRoundSupported,ir=`var(--scale-factor) * ${Bt}px`,Ft=`var(--scale-factor) * ${Ht}px`,pr=ar?`round(${ir}, 1px)`:`calc(${ir})`,dr=ar?`round(${Ft}, 1px)`:`calc(${Ft})`;!wt||zt.rotation%180===0?(tr.width=pr,tr.height=dr):(tr.width=dr,tr.height=pr)}Tt&&Vt.setAttribute("data-main-rotation",zt.rotation)}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BaseStandardFontDataFactory=s.BaseSVGFactory=s.BaseFilterFactory=s.BaseCanvasFactory=s.BaseCMapReaderFactory=void 0;var a=i(1);class o{constructor(){this.constructor===o&&(0,a.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(j){return"none"}addHCMFilter(j,_){return"none"}addHighlightHCMFilter(j,_,$,rt){return"none"}destroy(j=!1){}}s.BaseFilterFactory=o;class c{constructor(){this.constructor===c&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}create(j,_){if(j<=0||_<=0)throw new Error("Invalid canvas size");const $=this._createCanvas(j,_);return{canvas:$,context:$.getContext("2d")}}reset(j,_,$){if(!j.canvas)throw new Error("Canvas is not specified");if(_<=0||$<=0)throw new Error("Invalid canvas size");j.canvas.width=_,j.canvas.height=$}destroy(j){if(!j.canvas)throw new Error("Canvas is not specified");j.canvas.width=0,j.canvas.height=0,j.canvas=null,j.context=null}_createCanvas(j,_){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}s.BaseCanvasFactory=c;class d{constructor({baseUrl:j=null,isCompressed:_=!0}){this.constructor===d&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=j,this.isCompressed=_}async fetch({name:j}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!j)throw new Error("CMap name must be specified.");const _=this.baseUrl+j+(this.isCompressed?".bcmap":""),$=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;return this._fetchData(_,$).catch(rt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${_}`)})}_fetchData(j,_){(0,a.unreachable)("Abstract method `_fetchData` called.")}}s.BaseCMapReaderFactory=d;class g{constructor({baseUrl:j=null}){this.constructor===g&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=j}async fetch({filename:j}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!j)throw new Error("Font filename must be specified.");const _=`${this.baseUrl}${j}`;return this._fetchData(_).catch($=>{throw new Error(`Unable to load font data at: ${_}`)})}_fetchData(j){(0,a.unreachable)("Abstract method `_fetchData` called.")}}s.BaseStandardFontDataFactory=g;class h{constructor(){this.constructor===h&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}create(j,_,$=!1){if(j<=0||_<=0)throw new Error("Invalid SVG dimensions");const rt=this._createSVG("svg:svg");return rt.setAttribute("version","1.1"),$||(rt.setAttribute("width",`${j}px`),rt.setAttribute("height",`${_}px`)),rt.setAttribute("preserveAspectRatio","none"),rt.setAttribute("viewBox",`0 0 ${j} ${_}`),rt}createElement(j){if(typeof j!="string")throw new Error("Invalid SVG element type");return this._createSVG(j)}_createSVG(j){(0,a.unreachable)("Abstract method `_createSVG` called.")}}s.BaseSVGFactory=h},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MurmurHash3_64=void 0;var a=i(1);const o=3285377520,c=4294901760,d=65535;class g{constructor(b){this.h1=b?b&4294967295:o,this.h2=b?b&4294967295:o}update(b){let j,_;if(typeof b=="string"){j=new Uint8Array(b.length*2),_=0;for(let et=0,at=b.length;et<at;et++){const ht=b.charCodeAt(et);ht<=255?j[_++]=ht:(j[_++]=ht>>>8,j[_++]=ht&255)}}else if((0,a.isArrayBuffer)(b))j=b.slice(),_=j.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const $=_>>2,rt=_-$*4,nt=new Uint32Array(j.buffer,0,$);let dt=0,st=0,_e=this.h1,tt=this.h2;const it=3432918353,ct=461845907,ot=it&d,pt=ct&d;for(let et=0;et<$;et++)et&1?(dt=nt[et],dt=dt*it&c|dt*ot&d,dt=dt<<15|dt>>>17,dt=dt*ct&c|dt*pt&d,_e^=dt,_e=_e<<13|_e>>>19,_e=_e*5+3864292196):(st=nt[et],st=st*it&c|st*ot&d,st=st<<15|st>>>17,st=st*ct&c|st*pt&d,tt^=st,tt=tt<<13|tt>>>19,tt=tt*5+3864292196);switch(dt=0,rt){case 3:dt^=j[$*4+2]<<16;case 2:dt^=j[$*4+1]<<8;case 1:dt^=j[$*4],dt=dt*it&c|dt*ot&d,dt=dt<<15|dt>>>17,dt=dt*ct&c|dt*pt&d,$&1?_e^=dt:tt^=dt}this.h1=_e,this.h2=tt}hexdigest(){let b=this.h1,j=this.h2;return b^=j>>>1,b=b*3981806797&c|b*36045&d,j=j*4283543511&c|((j<<16|b>>>16)*2950163797&c)>>>16,b^=j>>>1,b=b*444984403&c|b*60499&d,j=j*3301882366&c|((j<<16|b>>>16)*3120437893&c)>>>16,b^=j>>>1,(b>>>0).toString(16).padStart(8,"0")+(j>>>0).toString(16).padStart(8,"0")}}s.MurmurHash3_64=g},(e,s,i)=>{var d;Object.defineProperty(s,"__esModule",{value:!0}),s.FontLoader=s.FontFaceObject=void 0;var a=i(1);class o{constructor({ownerDocument:h=globalThis.document,styleElement:b=null}){Xt(this,d,new Set);this._document=h,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(h){this.nativeFontFaces.add(h),this._document.fonts.add(h)}removeNativeFontFace(h){this.nativeFontFaces.delete(h),this._document.fonts.delete(h)}insertRule(h){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const b=this.styleElement.sheet;b.insertRule(h,b.cssRules.length)}clear(){for(const h of this.nativeFontFaces)this._document.fonts.delete(h);this.nativeFontFaces.clear(),lt(this,d).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(h){if(!(!h||lt(this,d).has(h.loadedName))){if((0,a.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:b,src:j,style:_}=h,$=new FontFace(b,j,_);this.addNativeFontFace($);try{await $.load(),lt(this,d).add(b)}catch{(0,a.warn)(`Cannot load system font: ${h.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace($)}return}(0,a.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(h){if(h.attached||h.missingFile&&!h.systemFontInfo)return;if(h.attached=!0,h.systemFontInfo){await this.loadSystemFont(h.systemFontInfo);return}if(this.isFontLoadingAPISupported){const j=h.createNativeFontFace();if(j){this.addNativeFontFace(j);try{await j.loaded}catch(_){throw(0,a.warn)(`Failed to load font '${j.family}': '${_}'.`),h.disableFontFace=!0,_}}return}const b=h.createFontFaceRule();if(b){if(this.insertRule(b),this.isSyncFontLoadingSupported)return;await new Promise(j=>{const _=this._queueLoadingCallback(j);this._prepareFontLoadEvent(h,_)})}}get isFontLoadingAPISupported(){var b;const h=!!((b=this._document)!=null&&b.fonts);return(0,a.shadow)(this,"isFontLoadingAPISupported",h)}get isSyncFontLoadingSupported(){let h=!1;return(a.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(h=!0),(0,a.shadow)(this,"isSyncFontLoadingSupported",h)}_queueLoadingCallback(h){function b(){for((0,a.assert)(!_.done,"completeRequest() cannot be called twice."),_.done=!0;j.length>0&&j[0].done;){const $=j.shift();setTimeout($.callback,0)}}const{loadingRequests:j}=this,_={done:!1,complete:b,callback:h};return j.push(_),_}get _loadTestFont(){const h=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,a.shadow)(this,"_loadTestFont",h)}_prepareFontLoadEvent(h,b){function j(ut,gt){return ut.charCodeAt(gt)<<24|ut.charCodeAt(gt+1)<<16|ut.charCodeAt(gt+2)<<8|ut.charCodeAt(gt+3)&255}function _(ut,gt,Et,Mt){const Nt=ut.substring(0,gt),It=ut.substring(gt+Et);return Nt+Mt+It}let $,rt;const nt=this._document.createElement("canvas");nt.width=1,nt.height=1;const dt=nt.getContext("2d");let st=0;function _e(ut,gt){if(++st>30){(0,a.warn)("Load test font never loaded."),gt();return}if(dt.font="30px "+ut,dt.fillText(".",0,20),dt.getImageData(0,0,1,1).data[3]>0){gt();return}setTimeout(_e.bind(null,ut,gt))}const tt=`lt${Date.now()}${this.loadTestFontId++}`;let it=this._loadTestFont;it=_(it,976,tt.length,tt);const ot=16,pt=1482184792;let et=j(it,ot);for($=0,rt=tt.length-3;$<rt;$+=4)et=et-pt+j(tt,$)|0;$<tt.length&&(et=et-pt+j(tt+"XXX",$)|0),it=_(it,ot,4,(0,a.string32)(et));const at=`url(data:font/opentype;base64,${btoa(it)});`,ht=`@font-face {font-family:"${tt}";src:${at}}`;this.insertRule(ht);const xt=this._document.createElement("div");xt.style.visibility="hidden",xt.style.width=xt.style.height="10px",xt.style.position="absolute",xt.style.top=xt.style.left="0px";for(const ut of[h.loadedName,tt]){const gt=this._document.createElement("span");gt.textContent="Hi",gt.style.fontFamily=ut,xt.append(gt)}this._document.body.append(xt),_e(tt,()=>{xt.remove(),b.complete()})}}d=new WeakMap,s.FontLoader=o;class c{constructor(h,{isEvalSupported:b=!0,disableFontFace:j=!1,ignoreErrors:_=!1,inspectFont:$=null}){this.compiledGlyphs=Object.create(null);for(const rt in h)this[rt]=h[rt];this.isEvalSupported=b!==!1,this.disableFontFace=j===!0,this.ignoreErrors=_===!0,this._inspectFont=$}createNativeFontFace(){var b;if(!this.data||this.disableFontFace)return null;let h;if(!this.cssFontInfo)h=new FontFace(this.loadedName,this.data,{});else{const j={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(j.style=`oblique ${this.cssFontInfo.italicAngle}deg`),h=new FontFace(this.cssFontInfo.fontFamily,this.data,j)}return(b=this._inspectFont)==null||b.call(this,this),h}createFontFaceRule(){var _;if(!this.data||this.disableFontFace)return null;const h=(0,a.bytesToString)(this.data),b=`url(data:${this.mimetype};base64,${btoa(h)});`;let j;if(!this.cssFontInfo)j=`@font-face {font-family:"${this.loadedName}";src:${b}}`;else{let $=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&($+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),j=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${$}src:${b}}`}return(_=this._inspectFont)==null||_.call(this,this,b),j}getPathGenerator(h,b){if(this.compiledGlyphs[b]!==void 0)return this.compiledGlyphs[b];let j;try{j=h.get(this.loadedName+"_path_"+b)}catch(_){if(!this.ignoreErrors)throw _;return(0,a.warn)(`getPathGenerator - ignoring character: "${_}".`),this.compiledGlyphs[b]=function($,rt){}}if(this.isEvalSupported&&a.FeatureTest.isEvalSupported){const _=[];for(const $ of j){const rt=$.args!==void 0?$.args.join(","):"";_.push("c.",$.cmd,"(",rt,`);
`)}return this.compiledGlyphs[b]=new Function("c","size",_.join(""))}return this.compiledGlyphs[b]=function(_,$){for(const rt of j)rt.cmd==="scale"&&(rt.args=[$,-$]),_[rt.cmd].apply(_,rt.args)}}}s.FontFaceObject=c},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NodeStandardFontDataFactory=s.NodeFilterFactory=s.NodeCanvasFactory=s.NodeCMapReaderFactory=void 0;var a=i(7);i(1);const o=function(b){return new Promise((j,_)=>{require$$5.readFile(b,(rt,nt)=>{if(rt||!nt){_(new Error(rt));return}j(new Uint8Array(nt))})})};class c extends a.BaseFilterFactory{}s.NodeFilterFactory=c;class d extends a.BaseCanvasFactory{_createCanvas(j,_){return require$$5.createCanvas(j,_)}}s.NodeCanvasFactory=d;class g extends a.BaseCMapReaderFactory{_fetchData(j,_){return o(j).then($=>({cMapData:$,compressionType:_}))}}s.NodeCMapReaderFactory=g;class h extends a.BaseStandardFontDataFactory{_fetchData(j){return o(j)}}s.NodeStandardFontDataFactory=h},(e,s,i)=>{var bt,Yn,Kn;Object.defineProperty(s,"__esModule",{value:!0}),s.CanvasGraphics=void 0;var a=i(1),o=i(6),c=i(12),d=i(13);const g=16,h=100,b=4096,j=15,_=10,$=1e3,rt=16;function nt(jt,ft){if(jt._removeMirroring)throw new Error("Context is already forwarding operations.");jt.__originalSave=jt.save,jt.__originalRestore=jt.restore,jt.__originalRotate=jt.rotate,jt.__originalScale=jt.scale,jt.__originalTranslate=jt.translate,jt.__originalTransform=jt.transform,jt.__originalSetTransform=jt.setTransform,jt.__originalResetTransform=jt.resetTransform,jt.__originalClip=jt.clip,jt.__originalMoveTo=jt.moveTo,jt.__originalLineTo=jt.lineTo,jt.__originalBezierCurveTo=jt.bezierCurveTo,jt.__originalRect=jt.rect,jt.__originalClosePath=jt.closePath,jt.__originalBeginPath=jt.beginPath,jt._removeMirroring=()=>{jt.save=jt.__originalSave,jt.restore=jt.__originalRestore,jt.rotate=jt.__originalRotate,jt.scale=jt.__originalScale,jt.translate=jt.__originalTranslate,jt.transform=jt.__originalTransform,jt.setTransform=jt.__originalSetTransform,jt.resetTransform=jt.__originalResetTransform,jt.clip=jt.__originalClip,jt.moveTo=jt.__originalMoveTo,jt.lineTo=jt.__originalLineTo,jt.bezierCurveTo=jt.__originalBezierCurveTo,jt.rect=jt.__originalRect,jt.closePath=jt.__originalClosePath,jt.beginPath=jt.__originalBeginPath,delete jt._removeMirroring},jt.save=function(){ft.save(),this.__originalSave()},jt.restore=function(){ft.restore(),this.__originalRestore()},jt.translate=function(vt,_t){ft.translate(vt,_t),this.__originalTranslate(vt,_t)},jt.scale=function(vt,_t){ft.scale(vt,_t),this.__originalScale(vt,_t)},jt.transform=function(vt,_t,St,Pt,Ot,Gt){ft.transform(vt,_t,St,Pt,Ot,Gt),this.__originalTransform(vt,_t,St,Pt,Ot,Gt)},jt.setTransform=function(vt,_t,St,Pt,Ot,Gt){ft.setTransform(vt,_t,St,Pt,Ot,Gt),this.__originalSetTransform(vt,_t,St,Pt,Ot,Gt)},jt.resetTransform=function(){ft.resetTransform(),this.__originalResetTransform()},jt.rotate=function(vt){ft.rotate(vt),this.__originalRotate(vt)},jt.clip=function(vt){ft.clip(vt),this.__originalClip(vt)},jt.moveTo=function(mt,vt){ft.moveTo(mt,vt),this.__originalMoveTo(mt,vt)},jt.lineTo=function(mt,vt){ft.lineTo(mt,vt),this.__originalLineTo(mt,vt)},jt.bezierCurveTo=function(mt,vt,_t,St,Pt,Ot){ft.bezierCurveTo(mt,vt,_t,St,Pt,Ot),this.__originalBezierCurveTo(mt,vt,_t,St,Pt,Ot)},jt.rect=function(mt,vt,_t,St){ft.rect(mt,vt,_t,St),this.__originalRect(mt,vt,_t,St)},jt.closePath=function(){ft.closePath(),this.__originalClosePath()},jt.beginPath=function(){ft.beginPath(),this.__originalBeginPath()}}class dt{constructor(ft){this.canvasFactory=ft,this.cache=Object.create(null)}getCanvas(ft,mt,vt){let _t;return this.cache[ft]!==void 0?(_t=this.cache[ft],this.canvasFactory.reset(_t,mt,vt)):(_t=this.canvasFactory.create(mt,vt),this.cache[ft]=_t),_t}delete(ft){delete this.cache[ft]}clear(){for(const ft in this.cache){const mt=this.cache[ft];this.canvasFactory.destroy(mt),delete this.cache[ft]}}}function st(jt,ft,mt,vt,_t,St,Pt,Ot,Gt,Yt){const[Qt,rr,Wt,nr,Vt,zt]=(0,o.getCurrentTransform)(jt);if(rr===0&&Wt===0){const Bt=Pt*Qt+Vt,Ht=Math.round(Bt),tr=Ot*nr+zt,ar=Math.round(tr),ir=(Pt+Gt)*Qt+Vt,Ft=Math.abs(Math.round(ir)-Ht)||1,pr=(Ot+Yt)*nr+zt,dr=Math.abs(Math.round(pr)-ar)||1;return jt.setTransform(Math.sign(Qt),0,0,Math.sign(nr),Ht,ar),jt.drawImage(ft,mt,vt,_t,St,0,0,Ft,dr),jt.setTransform(Qt,rr,Wt,nr,Vt,zt),[Ft,dr]}if(Qt===0&&nr===0){const Bt=Ot*Wt+Vt,Ht=Math.round(Bt),tr=Pt*rr+zt,ar=Math.round(tr),ir=(Ot+Yt)*Wt+Vt,Ft=Math.abs(Math.round(ir)-Ht)||1,pr=(Pt+Gt)*rr+zt,dr=Math.abs(Math.round(pr)-ar)||1;return jt.setTransform(0,Math.sign(rr),Math.sign(Wt),0,Ht,ar),jt.drawImage(ft,mt,vt,_t,St,0,0,dr,Ft),jt.setTransform(Qt,rr,Wt,nr,Vt,zt),[dr,Ft]}jt.drawImage(ft,mt,vt,_t,St,Pt,Ot,Gt,Yt);const wt=Math.hypot(Qt,rr),Tt=Math.hypot(Wt,nr);return[wt*Gt,Tt*Yt]}function _e(jt){const{width:ft,height:mt}=jt;if(ft>$||mt>$)return null;const vt=1e3,_t=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),St=ft+1;let Pt=new Uint8Array(St*(mt+1)),Ot,Gt,Yt;const Qt=ft+7&-8;let rr=new Uint8Array(Qt*mt),Wt=0;for(const Tt of jt.data){let Bt=128;for(;Bt>0;)rr[Wt++]=Tt&Bt?0:255,Bt>>=1}let nr=0;for(Wt=0,rr[Wt]!==0&&(Pt[0]=1,++nr),Gt=1;Gt<ft;Gt++)rr[Wt]!==rr[Wt+1]&&(Pt[Gt]=rr[Wt]?2:1,++nr),Wt++;for(rr[Wt]!==0&&(Pt[Gt]=2,++nr),Ot=1;Ot<mt;Ot++){Wt=Ot*Qt,Yt=Ot*St,rr[Wt-Qt]!==rr[Wt]&&(Pt[Yt]=rr[Wt]?1:8,++nr);let Tt=(rr[Wt]?4:0)+(rr[Wt-Qt]?8:0);for(Gt=1;Gt<ft;Gt++)Tt=(Tt>>2)+(rr[Wt+1]?4:0)+(rr[Wt-Qt+1]?8:0),_t[Tt]&&(Pt[Yt+Gt]=_t[Tt],++nr),Wt++;if(rr[Wt-Qt]!==rr[Wt]&&(Pt[Yt+Gt]=rr[Wt]?2:4,++nr),nr>vt)return null}for(Wt=Qt*(mt-1),Yt=Ot*St,rr[Wt]!==0&&(Pt[Yt]=8,++nr),Gt=1;Gt<ft;Gt++)rr[Wt]!==rr[Wt+1]&&(Pt[Yt+Gt]=rr[Wt]?4:8,++nr),Wt++;if(rr[Wt]!==0&&(Pt[Yt+Gt]=4,++nr),nr>vt)return null;const Vt=new Int32Array([0,St,-1,0,-St,0,0,0,1]),zt=new Path2D;for(Ot=0;nr&&Ot<=mt;Ot++){let Tt=Ot*St;const Bt=Tt+ft;for(;Tt<Bt&&!Pt[Tt];)Tt++;if(Tt===Bt)continue;zt.moveTo(Tt%St,Ot);const Ht=Tt;let tr=Pt[Tt];do{const ar=Vt[tr];do Tt+=ar;while(!Pt[Tt]);const ir=Pt[Tt];ir!==5&&ir!==10?(tr=ir,Pt[Tt]=0):(tr=ir&51*tr>>4,Pt[Tt]&=tr>>2|tr<<2),zt.lineTo(Tt%St,Tt/St|0),Pt[Tt]||--nr}while(Ht!==Tt);--Ot}return rr=null,Pt=null,function(Tt){Tt.save(),Tt.scale(1/ft,-1/mt),Tt.translate(0,-mt),Tt.fill(zt),Tt.beginPath(),Tt.restore()}}class tt{constructor(ft,mt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,ft,mt])}clone(){const ft=Object.create(this);return ft.clipBox=this.clipBox.slice(),ft}setCurrentPoint(ft,mt){this.x=ft,this.y=mt}updatePathMinMax(ft,mt,vt){[mt,vt]=a.Util.applyTransform([mt,vt],ft),this.minX=Math.min(this.minX,mt),this.minY=Math.min(this.minY,vt),this.maxX=Math.max(this.maxX,mt),this.maxY=Math.max(this.maxY,vt)}updateRectMinMax(ft,mt){const vt=a.Util.applyTransform(mt,ft),_t=a.Util.applyTransform(mt.slice(2),ft);this.minX=Math.min(this.minX,vt[0],_t[0]),this.minY=Math.min(this.minY,vt[1],_t[1]),this.maxX=Math.max(this.maxX,vt[0],_t[0]),this.maxY=Math.max(this.maxY,vt[1],_t[1])}updateScalingPathMinMax(ft,mt){a.Util.scaleMinMax(ft,mt),this.minX=Math.min(this.minX,mt[0]),this.maxX=Math.max(this.maxX,mt[1]),this.minY=Math.min(this.minY,mt[2]),this.maxY=Math.max(this.maxY,mt[3])}updateCurvePathMinMax(ft,mt,vt,_t,St,Pt,Ot,Gt,Yt,Qt){const rr=a.Util.bezierBoundingBox(mt,vt,_t,St,Pt,Ot,Gt,Yt);if(Qt){Qt[0]=Math.min(Qt[0],rr[0],rr[2]),Qt[1]=Math.max(Qt[1],rr[0],rr[2]),Qt[2]=Math.min(Qt[2],rr[1],rr[3]),Qt[3]=Math.max(Qt[3],rr[1],rr[3]);return}this.updateRectMinMax(ft,rr)}getPathBoundingBox(ft=c.PathType.FILL,mt=null){const vt=[this.minX,this.minY,this.maxX,this.maxY];if(ft===c.PathType.STROKE){mt||(0,a.unreachable)("Stroke bounding box must include transform.");const _t=a.Util.singularValueDecompose2dScale(mt),St=_t[0]*this.lineWidth/2,Pt=_t[1]*this.lineWidth/2;vt[0]-=St,vt[1]-=Pt,vt[2]+=St,vt[3]+=Pt}return vt}updateClipFromPath(){const ft=a.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(ft||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(ft){this.clipBox=ft,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(ft=c.PathType.FILL,mt=null){return a.Util.intersect(this.clipBox,this.getPathBoundingBox(ft,mt))}}function it(jt,ft){if(typeof ImageData<"u"&&ft instanceof ImageData){jt.putImageData(ft,0,0);return}const mt=ft.height,vt=ft.width,_t=mt%rt,St=(mt-_t)/rt,Pt=_t===0?St:St+1,Ot=jt.createImageData(vt,rt);let Gt=0,Yt;const Qt=ft.data,rr=Ot.data;let Wt,nr,Vt,zt;if(ft.kind===a.ImageKind.GRAYSCALE_1BPP){const wt=Qt.byteLength,Tt=new Uint32Array(rr.buffer,0,rr.byteLength>>2),Bt=Tt.length,Ht=vt+7>>3,tr=4294967295,ar=a.FeatureTest.isLittleEndian?4278190080:255;for(Wt=0;Wt<Pt;Wt++){for(Vt=Wt<St?rt:_t,Yt=0,nr=0;nr<Vt;nr++){const ir=wt-Gt;let Ft=0;const pr=ir>Ht?vt:ir*8-7,dr=pr&-8;let _r=0,Sr=0;for(;Ft<dr;Ft+=8)Sr=Qt[Gt++],Tt[Yt++]=Sr&128?tr:ar,Tt[Yt++]=Sr&64?tr:ar,Tt[Yt++]=Sr&32?tr:ar,Tt[Yt++]=Sr&16?tr:ar,Tt[Yt++]=Sr&8?tr:ar,Tt[Yt++]=Sr&4?tr:ar,Tt[Yt++]=Sr&2?tr:ar,Tt[Yt++]=Sr&1?tr:ar;for(;Ft<pr;Ft++)_r===0&&(Sr=Qt[Gt++],_r=128),Tt[Yt++]=Sr&_r?tr:ar,_r>>=1}for(;Yt<Bt;)Tt[Yt++]=0;jt.putImageData(Ot,0,Wt*rt)}}else if(ft.kind===a.ImageKind.RGBA_32BPP){for(nr=0,zt=vt*rt*4,Wt=0;Wt<St;Wt++)rr.set(Qt.subarray(Gt,Gt+zt)),Gt+=zt,jt.putImageData(Ot,0,nr),nr+=rt;Wt<Pt&&(zt=vt*_t*4,rr.set(Qt.subarray(Gt,Gt+zt)),jt.putImageData(Ot,0,nr))}else if(ft.kind===a.ImageKind.RGB_24BPP)for(Vt=rt,zt=vt*Vt,Wt=0;Wt<Pt;Wt++){for(Wt>=St&&(Vt=_t,zt=vt*Vt),Yt=0,nr=zt;nr--;)rr[Yt++]=Qt[Gt++],rr[Yt++]=Qt[Gt++],rr[Yt++]=Qt[Gt++],rr[Yt++]=255;jt.putImageData(Ot,0,Wt*rt)}else throw new Error(`bad image kind: ${ft.kind}`)}function ct(jt,ft){if(ft.bitmap){jt.drawImage(ft.bitmap,0,0);return}const mt=ft.height,vt=ft.width,_t=mt%rt,St=(mt-_t)/rt,Pt=_t===0?St:St+1,Ot=jt.createImageData(vt,rt);let Gt=0;const Yt=ft.data,Qt=Ot.data;for(let rr=0;rr<Pt;rr++){const Wt=rr<St?rt:_t;({srcPos:Gt}=(0,d.convertBlackAndWhiteToRGBA)({src:Yt,srcPos:Gt,dest:Qt,width:vt,height:Wt,nonBlackColor:0})),jt.putImageData(Ot,0,rr*rt)}}function ot(jt,ft){const mt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const vt of mt)jt[vt]!==void 0&&(ft[vt]=jt[vt]);jt.setLineDash!==void 0&&(ft.setLineDash(jt.getLineDash()),ft.lineDashOffset=jt.lineDashOffset)}function pt(jt){if(jt.strokeStyle=jt.fillStyle="#000000",jt.fillRule="nonzero",jt.globalAlpha=1,jt.lineWidth=1,jt.lineCap="butt",jt.lineJoin="miter",jt.miterLimit=10,jt.globalCompositeOperation="source-over",jt.font="10px sans-serif",jt.setLineDash!==void 0&&(jt.setLineDash([]),jt.lineDashOffset=0),!a.isNodeJS){const{filter:ft}=jt;ft!=="none"&&ft!==""&&(jt.filter="none")}}function et(jt,ft,mt,vt){const _t=jt.length;for(let St=3;St<_t;St+=4){const Pt=jt[St];if(Pt===0)jt[St-3]=ft,jt[St-2]=mt,jt[St-1]=vt;else if(Pt<255){const Ot=255-Pt;jt[St-3]=jt[St-3]*Pt+ft*Ot>>8,jt[St-2]=jt[St-2]*Pt+mt*Ot>>8,jt[St-1]=jt[St-1]*Pt+vt*Ot>>8}}}function at(jt,ft,mt){const vt=jt.length,_t=1/255;for(let St=3;St<vt;St+=4){const Pt=mt?mt[jt[St]]:jt[St];ft[St]=ft[St]*Pt*_t|0}}function ht(jt,ft,mt){const vt=jt.length;for(let _t=3;_t<vt;_t+=4){const St=jt[_t-3]*77+jt[_t-2]*152+jt[_t-1]*28;ft[_t]=mt?ft[_t]*mt[St>>8]>>8:ft[_t]*St>>16}}function xt(jt,ft,mt,vt,_t,St,Pt,Ot,Gt,Yt,Qt){const rr=!!St,Wt=rr?St[0]:0,nr=rr?St[1]:0,Vt=rr?St[2]:0,zt=_t==="Luminosity"?ht:at,Tt=Math.min(vt,Math.ceil(1048576/mt));for(let Bt=0;Bt<vt;Bt+=Tt){const Ht=Math.min(Tt,vt-Bt),tr=jt.getImageData(Ot-Yt,Bt+(Gt-Qt),mt,Ht),ar=ft.getImageData(Ot,Bt+Gt,mt,Ht);rr&&et(tr.data,Wt,nr,Vt),zt(tr.data,ar.data,Pt),ft.putImageData(ar,Ot,Bt+Gt)}}function ut(jt,ft,mt,vt){const _t=vt[0],St=vt[1],Pt=vt[2]-_t,Ot=vt[3]-St;Pt===0||Ot===0||(xt(ft.context,mt,Pt,Ot,ft.subtype,ft.backdrop,ft.transferMap,_t,St,ft.offsetX,ft.offsetY),jt.save(),jt.globalAlpha=1,jt.globalCompositeOperation="source-over",jt.setTransform(1,0,0,1,0,0),jt.drawImage(mt.canvas,0,0),jt.restore())}function gt(jt,ft){const mt=a.Util.singularValueDecompose2dScale(jt);mt[0]=Math.fround(mt[0]),mt[1]=Math.fround(mt[1]);const vt=Math.fround((globalThis.devicePixelRatio||1)*o.PixelsPerInch.PDF_TO_CSS_UNITS);return ft!==void 0?ft:mt[0]<=vt||mt[1]<=vt}const Et=["butt","round","square"],Mt=["miter","round","bevel"],Nt={},It={},Lt=class Lt{constructor(ft,mt,vt,_t,St,{optionalContentConfig:Pt,markedContentStack:Ot=null},Gt,Yt){Xt(this,bt);this.ctx=ft,this.current=new tt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=mt,this.objs=vt,this.canvasFactory=_t,this.filterFactory=St,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Ot||[],this.optionalContentConfig=Pt,this.cachedCanvases=new dt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Gt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Yt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(ft,mt=null){return typeof ft=="string"?ft.startsWith("g_")?this.commonObjs.get(ft):this.objs.get(ft):mt}beginDrawing({transform:ft,viewport:mt,transparency:vt=!1,background:_t=null}){const St=this.ctx.canvas.width,Pt=this.ctx.canvas.height,Ot=this.ctx.fillStyle;if(this.ctx.fillStyle=_t||"#ffffff",this.ctx.fillRect(0,0,St,Pt),this.ctx.fillStyle=Ot,vt){const Gt=this.cachedCanvases.getCanvas("transparent",St,Pt);this.compositeCtx=this.ctx,this.transparentCanvas=Gt.canvas,this.ctx=Gt.context,this.ctx.save(),this.ctx.transform(...(0,o.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),pt(this.ctx),ft&&(this.ctx.transform(...ft),this.outputScaleX=ft[0],this.outputScaleY=ft[0]),this.ctx.transform(...mt.transform),this.viewportScale=mt.scale,this.baseTransform=(0,o.getCurrentTransform)(this.ctx)}executeOperatorList(ft,mt,vt,_t){const St=ft.argsArray,Pt=ft.fnArray;let Ot=mt||0;const Gt=St.length;if(Gt===Ot)return Ot;const Yt=Gt-Ot>_&&typeof vt=="function",Qt=Yt?Date.now()+j:0;let rr=0;const Wt=this.commonObjs,nr=this.objs;let Vt;for(;;){if(_t!==void 0&&Ot===_t.nextBreakPoint)return _t.breakIt(Ot,vt),Ot;if(Vt=Pt[Ot],Vt!==a.OPS.dependency)this[Vt].apply(this,St[Ot]);else for(const zt of St[Ot]){const wt=zt.startsWith("g_")?Wt:nr;if(!wt.has(zt))return wt.get(zt,vt),Ot}if(Ot++,Ot===Gt)return Ot;if(Yt&&++rr>_){if(Date.now()>Qt)return vt(),Ot;rr=0}}}endDrawing(){Ut(this,bt,Yn).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const ft of this._cachedBitmapsMap.values()){for(const mt of ft.values())typeof HTMLCanvasElement<"u"&&mt instanceof HTMLCanvasElement&&(mt.width=mt.height=0);ft.clear()}this._cachedBitmapsMap.clear(),Ut(this,bt,Kn).call(this)}_scaleImage(ft,mt){const vt=ft.width,_t=ft.height;let St=Math.max(Math.hypot(mt[0],mt[1]),1),Pt=Math.max(Math.hypot(mt[2],mt[3]),1),Ot=vt,Gt=_t,Yt="prescale1",Qt,rr;for(;St>2&&Ot>1||Pt>2&&Gt>1;){let Wt=Ot,nr=Gt;St>2&&Ot>1&&(Wt=Ot>=16384?Math.floor(Ot/2)-1||1:Math.ceil(Ot/2),St/=Ot/Wt),Pt>2&&Gt>1&&(nr=Gt>=16384?Math.floor(Gt/2)-1||1:Math.ceil(Gt)/2,Pt/=Gt/nr),Qt=this.cachedCanvases.getCanvas(Yt,Wt,nr),rr=Qt.context,rr.clearRect(0,0,Wt,nr),rr.drawImage(ft,0,0,Ot,Gt,0,0,Wt,nr),ft=Qt.canvas,Ot=Wt,Gt=nr,Yt=Yt==="prescale1"?"prescale2":"prescale1"}return{img:ft,paintWidth:Ot,paintHeight:Gt}}_createMaskCanvas(ft){const mt=this.ctx,{width:vt,height:_t}=ft,St=this.current.fillColor,Pt=this.current.patternFill,Ot=(0,o.getCurrentTransform)(mt);let Gt,Yt,Qt,rr;if((ft.bitmap||ft.data)&&ft.count>1){const Ft=ft.bitmap||ft.data.buffer;Yt=JSON.stringify(Pt?Ot:[Ot.slice(0,4),St]),Gt=this._cachedBitmapsMap.get(Ft),Gt||(Gt=new Map,this._cachedBitmapsMap.set(Ft,Gt));const pr=Gt.get(Yt);if(pr&&!Pt){const dr=Math.round(Math.min(Ot[0],Ot[2])+Ot[4]),_r=Math.round(Math.min(Ot[1],Ot[3])+Ot[5]);return{canvas:pr,offsetX:dr,offsetY:_r}}Qt=pr}Qt||(rr=this.cachedCanvases.getCanvas("maskCanvas",vt,_t),ct(rr.context,ft));let Wt=a.Util.transform(Ot,[1/vt,0,0,-1/_t,0,0]);Wt=a.Util.transform(Wt,[1,0,0,1,0,-_t]);const nr=a.Util.applyTransform([0,0],Wt),Vt=a.Util.applyTransform([vt,_t],Wt),zt=a.Util.normalizeRect([nr[0],nr[1],Vt[0],Vt[1]]),wt=Math.round(zt[2]-zt[0])||1,Tt=Math.round(zt[3]-zt[1])||1,Bt=this.cachedCanvases.getCanvas("fillCanvas",wt,Tt),Ht=Bt.context,tr=Math.min(nr[0],Vt[0]),ar=Math.min(nr[1],Vt[1]);Ht.translate(-tr,-ar),Ht.transform(...Wt),Qt||(Qt=this._scaleImage(rr.canvas,(0,o.getCurrentTransformInverse)(Ht)),Qt=Qt.img,Gt&&Pt&&Gt.set(Yt,Qt)),Ht.imageSmoothingEnabled=gt((0,o.getCurrentTransform)(Ht),ft.interpolate),st(Ht,Qt,0,0,Qt.width,Qt.height,0,0,vt,_t),Ht.globalCompositeOperation="source-in";const ir=a.Util.transform((0,o.getCurrentTransformInverse)(Ht),[1,0,0,1,-tr,-ar]);return Ht.fillStyle=Pt?St.getPattern(mt,this,ir,c.PathType.FILL):St,Ht.fillRect(0,0,vt,_t),Gt&&!Pt&&(this.cachedCanvases.delete("fillCanvas"),Gt.set(Yt,Bt.canvas)),{canvas:Bt.canvas,offsetX:Math.round(tr),offsetY:Math.round(ar)}}setLineWidth(ft){ft!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=ft,this.ctx.lineWidth=ft}setLineCap(ft){this.ctx.lineCap=Et[ft]}setLineJoin(ft){this.ctx.lineJoin=Mt[ft]}setMiterLimit(ft){this.ctx.miterLimit=ft}setDash(ft,mt){const vt=this.ctx;vt.setLineDash!==void 0&&(vt.setLineDash(ft),vt.lineDashOffset=mt)}setRenderingIntent(ft){}setFlatness(ft){}setGState(ft){for(const[mt,vt]of ft)switch(mt){case"LW":this.setLineWidth(vt);break;case"LC":this.setLineCap(vt);break;case"LJ":this.setLineJoin(vt);break;case"ML":this.setMiterLimit(vt);break;case"D":this.setDash(vt[0],vt[1]);break;case"RI":this.setRenderingIntent(vt);break;case"FL":this.setFlatness(vt);break;case"Font":this.setFont(vt[0],vt[1]);break;case"CA":this.current.strokeAlpha=vt;break;case"ca":this.current.fillAlpha=vt,this.ctx.globalAlpha=vt;break;case"BM":this.ctx.globalCompositeOperation=vt;break;case"SMask":this.current.activeSMask=vt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(vt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const ft=this.inSMaskMode;this.current.activeSMask&&!ft?this.beginSMaskMode():!this.current.activeSMask&&ft&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const ft=this.ctx.canvas.width,mt=this.ctx.canvas.height,vt="smaskGroupAt"+this.groupLevel,_t=this.cachedCanvases.getCanvas(vt,ft,mt);this.suspendedCtx=this.ctx,this.ctx=_t.context;const St=this.ctx;St.setTransform(...(0,o.getCurrentTransform)(this.suspendedCtx)),ot(this.suspendedCtx,St),nt(St,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ot(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(ft){if(!this.current.activeSMask)return;ft?(ft[0]=Math.floor(ft[0]),ft[1]=Math.floor(ft[1]),ft[2]=Math.ceil(ft[2]),ft[3]=Math.ceil(ft[3])):ft=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const mt=this.current.activeSMask,vt=this.suspendedCtx;ut(vt,mt,this.ctx,ft),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(ot(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const ft=this.current;this.stateStack.push(ft),this.current=ft.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ot(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(ft,mt,vt,_t,St,Pt){this.ctx.transform(ft,mt,vt,_t,St,Pt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(ft,mt,vt){const _t=this.ctx,St=this.current;let Pt=St.x,Ot=St.y,Gt,Yt;const Qt=(0,o.getCurrentTransform)(_t),rr=Qt[0]===0&&Qt[3]===0||Qt[1]===0&&Qt[2]===0,Wt=rr?vt.slice(0):null;for(let nr=0,Vt=0,zt=ft.length;nr<zt;nr++)switch(ft[nr]|0){case a.OPS.rectangle:Pt=mt[Vt++],Ot=mt[Vt++];const wt=mt[Vt++],Tt=mt[Vt++],Bt=Pt+wt,Ht=Ot+Tt;_t.moveTo(Pt,Ot),wt===0||Tt===0?_t.lineTo(Bt,Ht):(_t.lineTo(Bt,Ot),_t.lineTo(Bt,Ht),_t.lineTo(Pt,Ht)),rr||St.updateRectMinMax(Qt,[Pt,Ot,Bt,Ht]),_t.closePath();break;case a.OPS.moveTo:Pt=mt[Vt++],Ot=mt[Vt++],_t.moveTo(Pt,Ot),rr||St.updatePathMinMax(Qt,Pt,Ot);break;case a.OPS.lineTo:Pt=mt[Vt++],Ot=mt[Vt++],_t.lineTo(Pt,Ot),rr||St.updatePathMinMax(Qt,Pt,Ot);break;case a.OPS.curveTo:Gt=Pt,Yt=Ot,Pt=mt[Vt+4],Ot=mt[Vt+5],_t.bezierCurveTo(mt[Vt],mt[Vt+1],mt[Vt+2],mt[Vt+3],Pt,Ot),St.updateCurvePathMinMax(Qt,Gt,Yt,mt[Vt],mt[Vt+1],mt[Vt+2],mt[Vt+3],Pt,Ot,Wt),Vt+=6;break;case a.OPS.curveTo2:Gt=Pt,Yt=Ot,_t.bezierCurveTo(Pt,Ot,mt[Vt],mt[Vt+1],mt[Vt+2],mt[Vt+3]),St.updateCurvePathMinMax(Qt,Gt,Yt,Pt,Ot,mt[Vt],mt[Vt+1],mt[Vt+2],mt[Vt+3],Wt),Pt=mt[Vt+2],Ot=mt[Vt+3],Vt+=4;break;case a.OPS.curveTo3:Gt=Pt,Yt=Ot,Pt=mt[Vt+2],Ot=mt[Vt+3],_t.bezierCurveTo(mt[Vt],mt[Vt+1],Pt,Ot,Pt,Ot),St.updateCurvePathMinMax(Qt,Gt,Yt,mt[Vt],mt[Vt+1],Pt,Ot,Pt,Ot,Wt),Vt+=4;break;case a.OPS.closePath:_t.closePath();break}rr&&St.updateScalingPathMinMax(Qt,Wt),St.setCurrentPoint(Pt,Ot)}closePath(){this.ctx.closePath()}stroke(ft=!0){const mt=this.ctx,vt=this.current.strokeColor;mt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof vt=="object"&&(vt!=null&&vt.getPattern)?(mt.save(),mt.strokeStyle=vt.getPattern(mt,this,(0,o.getCurrentTransformInverse)(mt),c.PathType.STROKE),this.rescaleAndStroke(!1),mt.restore()):this.rescaleAndStroke(!0)),ft&&this.consumePath(this.current.getClippedPathBoundingBox()),mt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(ft=!0){const mt=this.ctx,vt=this.current.fillColor,_t=this.current.patternFill;let St=!1;_t&&(mt.save(),mt.fillStyle=vt.getPattern(mt,this,(0,o.getCurrentTransformInverse)(mt),c.PathType.FILL),St=!0);const Pt=this.current.getClippedPathBoundingBox();this.contentVisible&&Pt!==null&&(this.pendingEOFill?(mt.fill("evenodd"),this.pendingEOFill=!1):mt.fill()),St&&mt.restore(),ft&&this.consumePath(Pt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Nt}eoClip(){this.pendingClip=It}beginText(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const ft=this.pendingTextPaths,mt=this.ctx;if(ft===void 0){mt.beginPath();return}mt.save(),mt.beginPath();for(const vt of ft)mt.setTransform(...vt.transform),mt.translate(vt.x,vt.y),vt.addToPath(mt,vt.fontSize);mt.restore(),mt.clip(),mt.beginPath(),delete this.pendingTextPaths}setCharSpacing(ft){this.current.charSpacing=ft}setWordSpacing(ft){this.current.wordSpacing=ft}setHScale(ft){this.current.textHScale=ft/100}setLeading(ft){this.current.leading=-ft}setFont(ft,mt){var Qt;const vt=this.commonObjs.get(ft),_t=this.current;if(!vt)throw new Error(`Can't find font for ${ft}`);if(_t.fontMatrix=vt.fontMatrix||a.FONT_IDENTITY_MATRIX,(_t.fontMatrix[0]===0||_t.fontMatrix[3]===0)&&(0,a.warn)("Invalid font matrix for font "+ft),mt<0?(mt=-mt,_t.fontDirection=-1):_t.fontDirection=1,this.current.font=vt,this.current.fontSize=mt,vt.isType3Font)return;const St=vt.loadedName||"sans-serif",Pt=((Qt=vt.systemFontInfo)==null?void 0:Qt.css)||`"${St}", ${vt.fallbackName}`;let Ot="normal";vt.black?Ot="900":vt.bold&&(Ot="bold");const Gt=vt.italic?"italic":"normal";let Yt=mt;mt<g?Yt=g:mt>h&&(Yt=h),this.current.fontSizeScale=mt/Yt,this.ctx.font=`${Gt} ${Ot} ${Yt}px ${Pt}`}setTextRenderingMode(ft){this.current.textRenderingMode=ft}setTextRise(ft){this.current.textRise=ft}moveText(ft,mt){this.current.x=this.current.lineX+=ft,this.current.y=this.current.lineY+=mt}setLeadingMoveText(ft,mt){this.setLeading(-mt),this.moveText(ft,mt)}setTextMatrix(ft,mt,vt,_t,St,Pt){this.current.textMatrix=[ft,mt,vt,_t,St,Pt],this.current.textMatrixScale=Math.hypot(ft,mt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(ft,mt,vt,_t){const St=this.ctx,Pt=this.current,Ot=Pt.font,Gt=Pt.textRenderingMode,Yt=Pt.fontSize/Pt.fontSizeScale,Qt=Gt&a.TextRenderingMode.FILL_STROKE_MASK,rr=!!(Gt&a.TextRenderingMode.ADD_TO_PATH_FLAG),Wt=Pt.patternFill&&!Ot.missingFile;let nr;(Ot.disableFontFace||rr||Wt)&&(nr=Ot.getPathGenerator(this.commonObjs,ft)),Ot.disableFontFace||Wt?(St.save(),St.translate(mt,vt),St.beginPath(),nr(St,Yt),_t&&St.setTransform(..._t),(Qt===a.TextRenderingMode.FILL||Qt===a.TextRenderingMode.FILL_STROKE)&&St.fill(),(Qt===a.TextRenderingMode.STROKE||Qt===a.TextRenderingMode.FILL_STROKE)&&St.stroke(),St.restore()):((Qt===a.TextRenderingMode.FILL||Qt===a.TextRenderingMode.FILL_STROKE)&&St.fillText(ft,mt,vt),(Qt===a.TextRenderingMode.STROKE||Qt===a.TextRenderingMode.FILL_STROKE)&&St.strokeText(ft,mt,vt)),rr&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,o.getCurrentTransform)(St),x:mt,y:vt,fontSize:Yt,addToPath:nr})}get isFontSubpixelAAEnabled(){const{context:ft}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);ft.scale(1.5,1),ft.fillText("I",0,10);const mt=ft.getImageData(0,0,10,10).data;let vt=!1;for(let _t=3;_t<mt.length;_t+=4)if(mt[_t]>0&&mt[_t]<255){vt=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",vt)}showText(ft){const mt=this.current,vt=mt.font;if(vt.isType3Font)return this.showType3Text(ft);const _t=mt.fontSize;if(_t===0)return;const St=this.ctx,Pt=mt.fontSizeScale,Ot=mt.charSpacing,Gt=mt.wordSpacing,Yt=mt.fontDirection,Qt=mt.textHScale*Yt,rr=ft.length,Wt=vt.vertical,nr=Wt?1:-1,Vt=vt.defaultVMetrics,zt=_t*mt.fontMatrix[0],wt=mt.textRenderingMode===a.TextRenderingMode.FILL&&!vt.disableFontFace&&!mt.patternFill;St.save(),St.transform(...mt.textMatrix),St.translate(mt.x,mt.y+mt.textRise),Yt>0?St.scale(Qt,-1):St.scale(Qt,1);let Tt;if(mt.patternFill){St.save();const ir=mt.fillColor.getPattern(St,this,(0,o.getCurrentTransformInverse)(St),c.PathType.FILL);Tt=(0,o.getCurrentTransform)(St),St.restore(),St.fillStyle=ir}let Bt=mt.lineWidth;const Ht=mt.textMatrixScale;if(Ht===0||Bt===0){const ir=mt.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;(ir===a.TextRenderingMode.STROKE||ir===a.TextRenderingMode.FILL_STROKE)&&(Bt=this.getSinglePixelWidth())}else Bt/=Ht;if(Pt!==1&&(St.scale(Pt,Pt),Bt/=Pt),St.lineWidth=Bt,vt.isInvalidPDFjsFont){const ir=[];let Ft=0;for(const pr of ft)ir.push(pr.unicode),Ft+=pr.width;St.fillText(ir.join(""),0,0),mt.x+=Ft*zt*Qt,St.restore(),this.compose();return}let tr=0,ar;for(ar=0;ar<rr;++ar){const ir=ft[ar];if(typeof ir=="number"){tr+=nr*ir*_t/1e3;continue}let Ft=!1;const pr=(ir.isSpace?Gt:0)+Ot,dr=ir.fontChar,_r=ir.accent;let Sr,Lr,xr=ir.width;if(Wt){const Pr=ir.vmetric||Vt,Mr=-(ir.vmetric?Pr[1]:xr*.5)*zt,lr=Pr[2]*zt;xr=Pr?-Pr[0]:xr,Sr=Mr/Pt,Lr=(tr+lr)/Pt}else Sr=tr/Pt,Lr=0;if(vt.remeasure&&xr>0){const Pr=St.measureText(dr).width*1e3/_t*Pt;if(xr<Pr&&this.isFontSubpixelAAEnabled){const Mr=xr/Pr;Ft=!0,St.save(),St.scale(Mr,1),Sr/=Mr}else xr!==Pr&&(Sr+=(xr-Pr)/2e3*_t/Pt)}if(this.contentVisible&&(ir.isInFont||vt.missingFile)){if(wt&&!_r)St.fillText(dr,Sr,Lr);else if(this.paintChar(dr,Sr,Lr,Tt),_r){const Pr=Sr+_t*_r.offset.x/Pt,Mr=Lr-_t*_r.offset.y/Pt;this.paintChar(_r.fontChar,Pr,Mr,Tt)}}const jr=Wt?xr*zt-pr*Yt:xr*zt+pr*Yt;tr+=jr,Ft&&St.restore()}Wt?mt.y-=tr:mt.x+=tr*Qt,St.restore(),this.compose()}showType3Text(ft){const mt=this.ctx,vt=this.current,_t=vt.font,St=vt.fontSize,Pt=vt.fontDirection,Ot=_t.vertical?1:-1,Gt=vt.charSpacing,Yt=vt.wordSpacing,Qt=vt.textHScale*Pt,rr=vt.fontMatrix||a.FONT_IDENTITY_MATRIX,Wt=ft.length,nr=vt.textRenderingMode===a.TextRenderingMode.INVISIBLE;let Vt,zt,wt,Tt;if(!(nr||St===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,mt.save(),mt.transform(...vt.textMatrix),mt.translate(vt.x,vt.y),mt.scale(Qt,Pt),Vt=0;Vt<Wt;++Vt){if(zt=ft[Vt],typeof zt=="number"){Tt=Ot*zt*St/1e3,this.ctx.translate(Tt,0),vt.x+=Tt*Qt;continue}const Bt=(zt.isSpace?Yt:0)+Gt,Ht=_t.charProcOperatorList[zt.operatorListId];if(!Ht){(0,a.warn)(`Type3 character "${zt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=zt,this.save(),mt.scale(St,St),mt.transform(...rr),this.executeOperatorList(Ht),this.restore()),wt=a.Util.applyTransform([zt.width,0],rr)[0]*St+Bt,mt.translate(wt,0),vt.x+=wt*Qt}mt.restore(),this.processingType3=null}}setCharWidth(ft,mt){}setCharWidthAndBounds(ft,mt,vt,_t,St,Pt){this.ctx.rect(vt,_t,St-vt,Pt-_t),this.ctx.clip(),this.endPath()}getColorN_Pattern(ft){let mt;if(ft[0]==="TilingPattern"){const vt=ft[1],_t=this.baseTransform||(0,o.getCurrentTransform)(this.ctx),St={createCanvasGraphics:Pt=>new Lt(Pt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};mt=new c.TilingPattern(ft,vt,this.ctx,St,_t)}else mt=this._getPattern(ft[1],ft[2]);return mt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(ft,mt,vt){const _t=a.Util.makeHexColor(ft,mt,vt);this.ctx.strokeStyle=_t,this.current.strokeColor=_t}setFillRGBColor(ft,mt,vt){const _t=a.Util.makeHexColor(ft,mt,vt);this.ctx.fillStyle=_t,this.current.fillColor=_t,this.current.patternFill=!1}_getPattern(ft,mt=null){let vt;return this.cachedPatterns.has(ft)?vt=this.cachedPatterns.get(ft):(vt=(0,c.getShadingPattern)(this.getObject(ft)),this.cachedPatterns.set(ft,vt)),mt&&(vt.matrix=mt),vt}shadingFill(ft){if(!this.contentVisible)return;const mt=this.ctx;this.save();const vt=this._getPattern(ft);mt.fillStyle=vt.getPattern(mt,this,(0,o.getCurrentTransformInverse)(mt),c.PathType.SHADING);const _t=(0,o.getCurrentTransformInverse)(mt);if(_t){const{width:St,height:Pt}=mt.canvas,[Ot,Gt,Yt,Qt]=a.Util.getAxialAlignedBoundingBox([0,0,St,Pt],_t);this.ctx.fillRect(Ot,Gt,Yt-Ot,Qt-Gt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,a.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,a.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(ft,mt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(ft)&&ft.length===6&&this.transform(...ft),this.baseTransform=(0,o.getCurrentTransform)(this.ctx),mt)){const vt=mt[2]-mt[0],_t=mt[3]-mt[1];this.ctx.rect(mt[0],mt[1],vt,_t),this.current.updateRectMinMax((0,o.getCurrentTransform)(this.ctx),mt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(ft){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const mt=this.ctx;ft.isolated||(0,a.info)("TODO: Support non-isolated groups."),ft.knockout&&(0,a.warn)("Knockout groups not supported.");const vt=(0,o.getCurrentTransform)(mt);if(ft.matrix&&mt.transform(...ft.matrix),!ft.bbox)throw new Error("Bounding box is required.");let _t=a.Util.getAxialAlignedBoundingBox(ft.bbox,(0,o.getCurrentTransform)(mt));const St=[0,0,mt.canvas.width,mt.canvas.height];_t=a.Util.intersect(_t,St)||[0,0,0,0];const Pt=Math.floor(_t[0]),Ot=Math.floor(_t[1]);let Gt=Math.max(Math.ceil(_t[2])-Pt,1),Yt=Math.max(Math.ceil(_t[3])-Ot,1),Qt=1,rr=1;Gt>b&&(Qt=Gt/b,Gt=b),Yt>b&&(rr=Yt/b,Yt=b),this.current.startNewPathAndClipBox([0,0,Gt,Yt]);let Wt="groupAt"+this.groupLevel;ft.smask&&(Wt+="_smask_"+this.smaskCounter++%2);const nr=this.cachedCanvases.getCanvas(Wt,Gt,Yt),Vt=nr.context;Vt.scale(1/Qt,1/rr),Vt.translate(-Pt,-Ot),Vt.transform(...vt),ft.smask?this.smaskStack.push({canvas:nr.canvas,context:Vt,offsetX:Pt,offsetY:Ot,scaleX:Qt,scaleY:rr,subtype:ft.smask.subtype,backdrop:ft.smask.backdrop,transferMap:ft.smask.transferMap||null,startTransformInverse:null}):(mt.setTransform(1,0,0,1,0,0),mt.translate(Pt,Ot),mt.scale(Qt,rr),mt.save()),ot(mt,Vt),this.ctx=Vt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(mt),this.groupLevel++}endGroup(ft){if(!this.contentVisible)return;this.groupLevel--;const mt=this.ctx,vt=this.groupStack.pop();if(this.ctx=vt,this.ctx.imageSmoothingEnabled=!1,ft.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const _t=(0,o.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(..._t);const St=a.Util.getAxialAlignedBoundingBox([0,0,mt.canvas.width,mt.canvas.height],_t);this.ctx.drawImage(mt.canvas,0,0),this.ctx.restore(),this.compose(St)}}beginAnnotation(ft,mt,vt,_t,St){if(Ut(this,bt,Yn).call(this),pt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(mt)&&mt.length===4){const Pt=mt[2]-mt[0],Ot=mt[3]-mt[1];if(St&&this.annotationCanvasMap){vt=vt.slice(),vt[4]-=mt[0],vt[5]-=mt[1],mt=mt.slice(),mt[0]=mt[1]=0,mt[2]=Pt,mt[3]=Ot;const[Gt,Yt]=a.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(this.ctx)),{viewportScale:Qt}=this,rr=Math.ceil(Pt*this.outputScaleX*Qt),Wt=Math.ceil(Ot*this.outputScaleY*Qt);this.annotationCanvas=this.canvasFactory.create(rr,Wt);const{canvas:nr,context:Vt}=this.annotationCanvas;this.annotationCanvasMap.set(ft,nr),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Vt,this.ctx.save(),this.ctx.setTransform(Gt,0,0,-Yt,0,Ot*Yt),pt(this.ctx)}else pt(this.ctx),this.ctx.rect(mt[0],mt[1],Pt,Ot),this.ctx.clip(),this.endPath()}this.current=new tt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...vt),this.transform(..._t)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Ut(this,bt,Kn).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(ft){if(!this.contentVisible)return;const mt=ft.count;ft=this.getObject(ft.data,ft),ft.count=mt;const vt=this.ctx,_t=this.processingType3;if(_t&&(_t.compiled===void 0&&(_t.compiled=_e(ft)),_t.compiled)){_t.compiled(vt);return}const St=this._createMaskCanvas(ft),Pt=St.canvas;vt.save(),vt.setTransform(1,0,0,1,0,0),vt.drawImage(Pt,St.offsetX,St.offsetY),vt.restore(),this.compose()}paintImageMaskXObjectRepeat(ft,mt,vt=0,_t=0,St,Pt){if(!this.contentVisible)return;ft=this.getObject(ft.data,ft);const Ot=this.ctx;Ot.save();const Gt=(0,o.getCurrentTransform)(Ot);Ot.transform(mt,vt,_t,St,0,0);const Yt=this._createMaskCanvas(ft);Ot.setTransform(1,0,0,1,Yt.offsetX-Gt[4],Yt.offsetY-Gt[5]);for(let Qt=0,rr=Pt.length;Qt<rr;Qt+=2){const Wt=a.Util.transform(Gt,[mt,vt,_t,St,Pt[Qt],Pt[Qt+1]]),[nr,Vt]=a.Util.applyTransform([0,0],Wt);Ot.drawImage(Yt.canvas,nr,Vt)}Ot.restore(),this.compose()}paintImageMaskXObjectGroup(ft){if(!this.contentVisible)return;const mt=this.ctx,vt=this.current.fillColor,_t=this.current.patternFill;for(const St of ft){const{data:Pt,width:Ot,height:Gt,transform:Yt}=St,Qt=this.cachedCanvases.getCanvas("maskCanvas",Ot,Gt),rr=Qt.context;rr.save();const Wt=this.getObject(Pt,St);ct(rr,Wt),rr.globalCompositeOperation="source-in",rr.fillStyle=_t?vt.getPattern(rr,this,(0,o.getCurrentTransformInverse)(mt),c.PathType.FILL):vt,rr.fillRect(0,0,Ot,Gt),rr.restore(),mt.save(),mt.transform(...Yt),mt.scale(1,-1),st(mt,Qt.canvas,0,0,Ot,Gt,0,-1,1,1),mt.restore()}this.compose()}paintImageXObject(ft){if(!this.contentVisible)return;const mt=this.getObject(ft);if(!mt){(0,a.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(mt)}paintImageXObjectRepeat(ft,mt,vt,_t){if(!this.contentVisible)return;const St=this.getObject(ft);if(!St){(0,a.warn)("Dependent image isn't ready yet");return}const Pt=St.width,Ot=St.height,Gt=[];for(let Yt=0,Qt=_t.length;Yt<Qt;Yt+=2)Gt.push({transform:[mt,0,0,vt,_t[Yt],_t[Yt+1]],x:0,y:0,w:Pt,h:Ot});this.paintInlineImageXObjectGroup(St,Gt)}applyTransferMapsToCanvas(ft){return this.current.transferMaps!=="none"&&(ft.filter=this.current.transferMaps,ft.drawImage(ft.canvas,0,0),ft.filter="none"),ft.canvas}applyTransferMapsToBitmap(ft){if(this.current.transferMaps==="none")return ft.bitmap;const{bitmap:mt,width:vt,height:_t}=ft,St=this.cachedCanvases.getCanvas("inlineImage",vt,_t),Pt=St.context;return Pt.filter=this.current.transferMaps,Pt.drawImage(mt,0,0),Pt.filter="none",St.canvas}paintInlineImageXObject(ft){if(!this.contentVisible)return;const mt=ft.width,vt=ft.height,_t=this.ctx;if(this.save(),!a.isNodeJS){const{filter:Ot}=_t;Ot!=="none"&&Ot!==""&&(_t.filter="none")}_t.scale(1/mt,-1/vt);let St;if(ft.bitmap)St=this.applyTransferMapsToBitmap(ft);else if(typeof HTMLElement=="function"&&ft instanceof HTMLElement||!ft.data)St=ft;else{const Gt=this.cachedCanvases.getCanvas("inlineImage",mt,vt).context;it(Gt,ft),St=this.applyTransferMapsToCanvas(Gt)}const Pt=this._scaleImage(St,(0,o.getCurrentTransformInverse)(_t));_t.imageSmoothingEnabled=gt((0,o.getCurrentTransform)(_t),ft.interpolate),st(_t,Pt.img,0,0,Pt.paintWidth,Pt.paintHeight,0,-vt,mt,vt),this.compose(),this.restore()}paintInlineImageXObjectGroup(ft,mt){if(!this.contentVisible)return;const vt=this.ctx;let _t;if(ft.bitmap)_t=ft.bitmap;else{const St=ft.width,Pt=ft.height,Gt=this.cachedCanvases.getCanvas("inlineImage",St,Pt).context;it(Gt,ft),_t=this.applyTransferMapsToCanvas(Gt)}for(const St of mt)vt.save(),vt.transform(...St.transform),vt.scale(1,-1),st(vt,_t,St.x,St.y,St.w,St.h,0,-1,1,1),vt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(ft){}markPointProps(ft,mt){}beginMarkedContent(ft){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(ft,mt){ft==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(mt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(ft){const mt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(ft);const vt=this.ctx;this.pendingClip&&(mt||(this.pendingClip===It?vt.clip("evenodd"):vt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),vt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const ft=(0,o.getCurrentTransform)(this.ctx);if(ft[1]===0&&ft[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(ft[0]),Math.abs(ft[3]));else{const mt=Math.abs(ft[0]*ft[3]-ft[2]*ft[1]),vt=Math.hypot(ft[0],ft[2]),_t=Math.hypot(ft[1],ft[3]);this._cachedGetSinglePixelWidth=Math.max(vt,_t)/mt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:ft}=this.current,{a:mt,b:vt,c:_t,d:St}=this.ctx.getTransform();let Pt,Ot;if(vt===0&&_t===0){const Gt=Math.abs(mt),Yt=Math.abs(St);if(Gt===Yt)if(ft===0)Pt=Ot=1/Gt;else{const Qt=Gt*ft;Pt=Ot=Qt<1?1/Qt:1}else if(ft===0)Pt=1/Gt,Ot=1/Yt;else{const Qt=Gt*ft,rr=Yt*ft;Pt=Qt<1?1/Qt:1,Ot=rr<1?1/rr:1}}else{const Gt=Math.abs(mt*St-vt*_t),Yt=Math.hypot(mt,vt),Qt=Math.hypot(_t,St);if(ft===0)Pt=Qt/Gt,Ot=Yt/Gt;else{const rr=ft*Gt;Pt=Qt>rr?Qt/rr:1,Ot=Yt>rr?Yt/rr:1}}this._cachedScaleForStroking[0]=Pt,this._cachedScaleForStroking[1]=Ot}return this._cachedScaleForStroking}rescaleAndStroke(ft){const{ctx:mt}=this,{lineWidth:vt}=this.current,[_t,St]=this.getScaleForStroking();if(mt.lineWidth=vt||1,_t===1&&St===1){mt.stroke();return}const Pt=mt.getLineDash();if(ft&&mt.save(),mt.scale(_t,St),Pt.length>0){const Ot=Math.max(_t,St);mt.setLineDash(Pt.map(Gt=>Gt/Ot)),mt.lineDashOffset/=Ot}mt.stroke(),ft&&mt.restore()}isContentVisible(){for(let ft=this.markedContentStack.length-1;ft>=0;ft--)if(!this.markedContentStack[ft].visible)return!1;return!0}};bt=new WeakSet,Yn=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Kn=function(){if(this.pageColors){const ft=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(ft!=="none"){const mt=this.ctx.filter;this.ctx.filter=ft,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=mt}}};let kt=Lt;s.CanvasGraphics=kt;for(const jt in a.OPS)kt.prototype[jt]!==void 0&&(kt.prototype[a.OPS[jt]]=kt.prototype[jt])},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TilingPattern=s.PathType=void 0,s.getShadingPattern=rt;var a=i(1),o=i(6);const c={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};s.PathType=c;function d(_e,tt){if(!tt)return;const it=tt[2]-tt[0],ct=tt[3]-tt[1],ot=new Path2D;ot.rect(tt[0],tt[1],it,ct),_e.clip(ot)}class g{constructor(){this.constructor===g&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,a.unreachable)("Abstract method `getPattern` called.")}}class h extends g{constructor(tt){super(),this._type=tt[1],this._bbox=tt[2],this._colorStops=tt[3],this._p0=tt[4],this._p1=tt[5],this._r0=tt[6],this._r1=tt[7],this.matrix=null}_createGradient(tt){let it;this._type==="axial"?it=tt.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(it=tt.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const ct of this._colorStops)it.addColorStop(ct[0],ct[1]);return it}getPattern(tt,it,ct,ot){let pt;if(ot===c.STROKE||ot===c.FILL){const et=it.current.getClippedPathBoundingBox(ot,(0,o.getCurrentTransform)(tt))||[0,0,0,0],at=Math.ceil(et[2]-et[0])||1,ht=Math.ceil(et[3]-et[1])||1,xt=it.cachedCanvases.getCanvas("pattern",at,ht,!0),ut=xt.context;ut.clearRect(0,0,ut.canvas.width,ut.canvas.height),ut.beginPath(),ut.rect(0,0,ut.canvas.width,ut.canvas.height),ut.translate(-et[0],-et[1]),ct=a.Util.transform(ct,[1,0,0,1,et[0],et[1]]),ut.transform(...it.baseTransform),this.matrix&&ut.transform(...this.matrix),d(ut,this._bbox),ut.fillStyle=this._createGradient(ut),ut.fill(),pt=tt.createPattern(xt.canvas,"no-repeat");const gt=new DOMMatrix(ct);pt.setTransform(gt)}else d(tt,this._bbox),pt=this._createGradient(tt);return pt}}function b(_e,tt,it,ct,ot,pt,et,at){const ht=tt.coords,xt=tt.colors,ut=_e.data,gt=_e.width*4;let Et;ht[it+1]>ht[ct+1]&&(Et=it,it=ct,ct=Et,Et=pt,pt=et,et=Et),ht[ct+1]>ht[ot+1]&&(Et=ct,ct=ot,ot=Et,Et=et,et=at,at=Et),ht[it+1]>ht[ct+1]&&(Et=it,it=ct,ct=Et,Et=pt,pt=et,et=Et);const Mt=(ht[it]+tt.offsetX)*tt.scaleX,Nt=(ht[it+1]+tt.offsetY)*tt.scaleY,It=(ht[ct]+tt.offsetX)*tt.scaleX,kt=(ht[ct+1]+tt.offsetY)*tt.scaleY,bt=(ht[ot]+tt.offsetX)*tt.scaleX,yt=(ht[ot+1]+tt.offsetY)*tt.scaleY;if(Nt>=yt)return;const At=xt[pt],Lt=xt[pt+1],jt=xt[pt+2],ft=xt[et],mt=xt[et+1],vt=xt[et+2],_t=xt[at],St=xt[at+1],Pt=xt[at+2],Ot=Math.round(Nt),Gt=Math.round(yt);let Yt,Qt,rr,Wt,nr,Vt,zt,wt;for(let Tt=Ot;Tt<=Gt;Tt++){if(Tt<kt){const ir=Tt<Nt?0:(Nt-Tt)/(Nt-kt);Yt=Mt-(Mt-It)*ir,Qt=At-(At-ft)*ir,rr=Lt-(Lt-mt)*ir,Wt=jt-(jt-vt)*ir}else{let ir;Tt>yt?ir=1:kt===yt?ir=0:ir=(kt-Tt)/(kt-yt),Yt=It-(It-bt)*ir,Qt=ft-(ft-_t)*ir,rr=mt-(mt-St)*ir,Wt=vt-(vt-Pt)*ir}let Bt;Tt<Nt?Bt=0:Tt>yt?Bt=1:Bt=(Nt-Tt)/(Nt-yt),nr=Mt-(Mt-bt)*Bt,Vt=At-(At-_t)*Bt,zt=Lt-(Lt-St)*Bt,wt=jt-(jt-Pt)*Bt;const Ht=Math.round(Math.min(Yt,nr)),tr=Math.round(Math.max(Yt,nr));let ar=gt*Tt+Ht*4;for(let ir=Ht;ir<=tr;ir++)Bt=(Yt-ir)/(Yt-nr),Bt<0?Bt=0:Bt>1&&(Bt=1),ut[ar++]=Qt-(Qt-Vt)*Bt|0,ut[ar++]=rr-(rr-zt)*Bt|0,ut[ar++]=Wt-(Wt-wt)*Bt|0,ut[ar++]=255}}function j(_e,tt,it){const ct=tt.coords,ot=tt.colors;let pt,et;switch(tt.type){case"lattice":const at=tt.verticesPerRow,ht=Math.floor(ct.length/at)-1,xt=at-1;for(pt=0;pt<ht;pt++){let ut=pt*at;for(let gt=0;gt<xt;gt++,ut++)b(_e,it,ct[ut],ct[ut+1],ct[ut+at],ot[ut],ot[ut+1],ot[ut+at]),b(_e,it,ct[ut+at+1],ct[ut+1],ct[ut+at],ot[ut+at+1],ot[ut+1],ot[ut+at])}break;case"triangles":for(pt=0,et=ct.length;pt<et;pt+=3)b(_e,it,ct[pt],ct[pt+1],ct[pt+2],ot[pt],ot[pt+1],ot[pt+2]);break;default:throw new Error("illegal figure")}}class _ extends g{constructor(tt){super(),this._coords=tt[2],this._colors=tt[3],this._figures=tt[4],this._bounds=tt[5],this._bbox=tt[7],this._background=tt[8],this.matrix=null}_createMeshCanvas(tt,it,ct){const at=Math.floor(this._bounds[0]),ht=Math.floor(this._bounds[1]),xt=Math.ceil(this._bounds[2])-at,ut=Math.ceil(this._bounds[3])-ht,gt=Math.min(Math.ceil(Math.abs(xt*tt[0]*1.1)),3e3),Et=Math.min(Math.ceil(Math.abs(ut*tt[1]*1.1)),3e3),Mt=xt/gt,Nt=ut/Et,It={coords:this._coords,colors:this._colors,offsetX:-at,offsetY:-ht,scaleX:1/Mt,scaleY:1/Nt},kt=gt+2*2,bt=Et+2*2,yt=ct.getCanvas("mesh",kt,bt,!1),At=yt.context,Lt=At.createImageData(gt,Et);if(it){const ft=Lt.data;for(let mt=0,vt=ft.length;mt<vt;mt+=4)ft[mt]=it[0],ft[mt+1]=it[1],ft[mt+2]=it[2],ft[mt+3]=255}for(const ft of this._figures)j(Lt,ft,It);return At.putImageData(Lt,2,2),{canvas:yt.canvas,offsetX:at-2*Mt,offsetY:ht-2*Nt,scaleX:Mt,scaleY:Nt}}getPattern(tt,it,ct,ot){d(tt,this._bbox);let pt;if(ot===c.SHADING)pt=a.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(tt));else if(pt=a.Util.singularValueDecompose2dScale(it.baseTransform),this.matrix){const at=a.Util.singularValueDecompose2dScale(this.matrix);pt=[pt[0]*at[0],pt[1]*at[1]]}const et=this._createMeshCanvas(pt,ot===c.SHADING?null:this._background,it.cachedCanvases);return ot!==c.SHADING&&(tt.setTransform(...it.baseTransform),this.matrix&&tt.transform(...this.matrix)),tt.translate(et.offsetX,et.offsetY),tt.scale(et.scaleX,et.scaleY),tt.createPattern(et.canvas,"no-repeat")}}class $ extends g{getPattern(){return"hotpink"}}function rt(_e){switch(_e[0]){case"RadialAxial":return new h(_e);case"Mesh":return new _(_e);case"Dummy":return new $}throw new Error(`Unknown IR type: ${_e[0]}`)}const nt={COLORED:1,UNCOLORED:2},st=class st{constructor(tt,it,ct,ot,pt){this.operatorList=tt[2],this.matrix=tt[3]||[1,0,0,1,0,0],this.bbox=tt[4],this.xstep=tt[5],this.ystep=tt[6],this.paintType=tt[7],this.tilingType=tt[8],this.color=it,this.ctx=ct,this.canvasGraphicsFactory=ot,this.baseTransform=pt}createPatternCanvas(tt){const it=this.operatorList,ct=this.bbox,ot=this.xstep,pt=this.ystep,et=this.paintType,at=this.tilingType,ht=this.color,xt=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+at);const ut=ct[0],gt=ct[1],Et=ct[2],Mt=ct[3],Nt=a.Util.singularValueDecompose2dScale(this.matrix),It=a.Util.singularValueDecompose2dScale(this.baseTransform),kt=[Nt[0]*It[0],Nt[1]*It[1]],bt=this.getSizeAndScale(ot,this.ctx.canvas.width,kt[0]),yt=this.getSizeAndScale(pt,this.ctx.canvas.height,kt[1]),At=tt.cachedCanvases.getCanvas("pattern",bt.size,yt.size,!0),Lt=At.context,jt=xt.createCanvasGraphics(Lt);jt.groupLevel=tt.groupLevel,this.setFillAndStrokeStyleToContext(jt,et,ht);let ft=ut,mt=gt,vt=Et,_t=Mt;return ut<0&&(ft=0,vt+=Math.abs(ut)),gt<0&&(mt=0,_t+=Math.abs(gt)),Lt.translate(-(bt.scale*ft),-(yt.scale*mt)),jt.transform(bt.scale,0,0,yt.scale,0,0),Lt.save(),this.clipBbox(jt,ft,mt,vt,_t),jt.baseTransform=(0,o.getCurrentTransform)(jt.ctx),jt.executeOperatorList(it),jt.endDrawing(),{canvas:At.canvas,scaleX:bt.scale,scaleY:yt.scale,offsetX:ft,offsetY:mt}}getSizeAndScale(tt,it,ct){tt=Math.abs(tt);const ot=Math.max(st.MAX_PATTERN_SIZE,it);let pt=Math.ceil(tt*ct);return pt>=ot?pt=ot:ct=pt/tt,{scale:ct,size:pt}}clipBbox(tt,it,ct,ot,pt){const et=ot-it,at=pt-ct;tt.ctx.rect(it,ct,et,at),tt.current.updateRectMinMax((0,o.getCurrentTransform)(tt.ctx),[it,ct,ot,pt]),tt.clip(),tt.endPath()}setFillAndStrokeStyleToContext(tt,it,ct){const ot=tt.ctx,pt=tt.current;switch(it){case nt.COLORED:const et=this.ctx;ot.fillStyle=et.fillStyle,ot.strokeStyle=et.strokeStyle,pt.fillColor=et.fillStyle,pt.strokeColor=et.strokeStyle;break;case nt.UNCOLORED:const at=a.Util.makeHexColor(ct[0],ct[1],ct[2]);ot.fillStyle=at,ot.strokeStyle=at,pt.fillColor=at,pt.strokeColor=at;break;default:throw new a.FormatError(`Unsupported paint type: ${it}`)}}getPattern(tt,it,ct,ot){let pt=ct;ot!==c.SHADING&&(pt=a.Util.transform(pt,it.baseTransform),this.matrix&&(pt=a.Util.transform(pt,this.matrix)));const et=this.createPatternCanvas(it);let at=new DOMMatrix(pt);at=at.translate(et.offsetX,et.offsetY),at=at.scale(1/et.scaleX,1/et.scaleY);const ht=tt.createPattern(et.canvas,"repeat");return ht.setTransform(at),ht}};$r(st,"MAX_PATTERN_SIZE",3e3);let dt=st;s.TilingPattern=dt},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.convertBlackAndWhiteToRGBA=c,s.convertToRGBA=o,s.grayToRGBA=g;var a=i(1);function o(h){switch(h.kind){case a.ImageKind.GRAYSCALE_1BPP:return c(h);case a.ImageKind.RGB_24BPP:return d(h)}return null}function c({src:h,srcPos:b=0,dest:j,width:_,height:$,nonBlackColor:rt=4294967295,inverseDecode:nt=!1}){const dt=a.FeatureTest.isLittleEndian?4278190080:255,[st,_e]=nt?[rt,dt]:[dt,rt],tt=_>>3,it=_&7,ct=h.length;j=new Uint32Array(j.buffer);let ot=0;for(let pt=0;pt<$;pt++){for(const at=b+tt;b<at;b++){const ht=b<ct?h[b]:255;j[ot++]=ht&128?_e:st,j[ot++]=ht&64?_e:st,j[ot++]=ht&32?_e:st,j[ot++]=ht&16?_e:st,j[ot++]=ht&8?_e:st,j[ot++]=ht&4?_e:st,j[ot++]=ht&2?_e:st,j[ot++]=ht&1?_e:st}if(it===0)continue;const et=b<ct?h[b++]:255;for(let at=0;at<it;at++)j[ot++]=et&1<<7-at?_e:st}return{srcPos:b,destPos:ot}}function d({src:h,srcPos:b=0,dest:j,destPos:_=0,width:$,height:rt}){let nt=0;const dt=h.length>>2,st=new Uint32Array(h.buffer,b,dt);if(a.FeatureTest.isLittleEndian){for(;nt<dt-2;nt+=3,_+=4){const _e=st[nt],tt=st[nt+1],it=st[nt+2];j[_]=_e|4278190080,j[_+1]=_e>>>24|tt<<8|4278190080,j[_+2]=tt>>>16|it<<16|4278190080,j[_+3]=it>>>8|4278190080}for(let _e=nt*4,tt=h.length;_e<tt;_e+=3)j[_++]=h[_e]|h[_e+1]<<8|h[_e+2]<<16|4278190080}else{for(;nt<dt-2;nt+=3,_+=4){const _e=st[nt],tt=st[nt+1],it=st[nt+2];j[_]=_e|255,j[_+1]=_e<<24|tt>>>8|255,j[_+2]=tt<<16|it>>>16|255,j[_+3]=it<<8|255}for(let _e=nt*4,tt=h.length;_e<tt;_e+=3)j[_++]=h[_e]<<24|h[_e+1]<<16|h[_e+2]<<8|255}return{srcPos:b,destPos:_}}function g(h,b){if(a.FeatureTest.isLittleEndian)for(let j=0,_=h.length;j<_;j++)b[j]=h[j]*65793|4278190080;else for(let j=0,_=h.length;j<_;j++)b[j]=h[j]*16843008|255}},(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GlobalWorkerOptions=void 0;const i=Object.create(null);s.GlobalWorkerOptions=i,i.workerPort=null,i.workerSrc=""},(e,s,i)=>{var h,Os,$s,Rn;Object.defineProperty(s,"__esModule",{value:!0}),s.MessageHandler=void 0;var a=i(1);const o={DATA:1,ERROR:2},c={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function d($){switch($ instanceof Error||typeof $=="object"&&$!==null||(0,a.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),$.name){case"AbortException":return new a.AbortException($.message);case"MissingPDFException":return new a.MissingPDFException($.message);case"PasswordException":return new a.PasswordException($.message,$.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException($.message,$.status);case"UnknownErrorException":return new a.UnknownErrorException($.message,$.details);default:return new a.UnknownErrorException($.message,$.toString())}}class g{constructor(rt,nt,dt){Xt(this,h);this.sourceName=rt,this.targetName=nt,this.comObj=dt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=st=>{const _e=st.data;if(_e.targetName!==this.sourceName)return;if(_e.stream){Ut(this,h,$s).call(this,_e);return}if(_e.callback){const it=_e.callbackId,ct=this.callbackCapabilities[it];if(!ct)throw new Error(`Cannot resolve callback ${it}`);if(delete this.callbackCapabilities[it],_e.callback===o.DATA)ct.resolve(_e.data);else if(_e.callback===o.ERROR)ct.reject(d(_e.reason));else throw new Error("Unexpected callback case");return}const tt=this.actionHandler[_e.action];if(!tt)throw new Error(`Unknown action from worker: ${_e.action}`);if(_e.callbackId){const it=this.sourceName,ct=_e.sourceName;new Promise(function(ot){ot(tt(_e.data))}).then(function(ot){dt.postMessage({sourceName:it,targetName:ct,callback:o.DATA,callbackId:_e.callbackId,data:ot})},function(ot){dt.postMessage({sourceName:it,targetName:ct,callback:o.ERROR,callbackId:_e.callbackId,reason:d(ot)})});return}if(_e.streamId){Ut(this,h,Os).call(this,_e);return}tt(_e.data)},dt.addEventListener("message",this._onComObjOnMessage)}on(rt,nt){const dt=this.actionHandler;if(dt[rt])throw new Error(`There is already an actionName called "${rt}"`);dt[rt]=nt}send(rt,nt,dt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:rt,data:nt},dt)}sendWithPromise(rt,nt,dt){const st=this.callbackId++,_e=new a.PromiseCapability;this.callbackCapabilities[st]=_e;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:rt,callbackId:st,data:nt},dt)}catch(tt){_e.reject(tt)}return _e.promise}sendWithStream(rt,nt,dt,st){const _e=this.streamId++,tt=this.sourceName,it=this.targetName,ct=this.comObj;return new ReadableStream({start:ot=>{const pt=new a.PromiseCapability;return this.streamControllers[_e]={controller:ot,startCall:pt,pullCall:null,cancelCall:null,isClosed:!1},ct.postMessage({sourceName:tt,targetName:it,action:rt,streamId:_e,data:nt,desiredSize:ot.desiredSize},st),pt.promise},pull:ot=>{const pt=new a.PromiseCapability;return this.streamControllers[_e].pullCall=pt,ct.postMessage({sourceName:tt,targetName:it,stream:c.PULL,streamId:_e,desiredSize:ot.desiredSize}),pt.promise},cancel:ot=>{(0,a.assert)(ot instanceof Error,"cancel must have a valid reason");const pt=new a.PromiseCapability;return this.streamControllers[_e].cancelCall=pt,this.streamControllers[_e].isClosed=!0,ct.postMessage({sourceName:tt,targetName:it,stream:c.CANCEL,streamId:_e,reason:d(ot)}),pt.promise}},dt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}h=new WeakSet,Os=function(rt){const nt=rt.streamId,dt=this.sourceName,st=rt.sourceName,_e=this.comObj,tt=this,it=this.actionHandler[rt.action],ct={enqueue(ot,pt=1,et){if(this.isCancelled)return;const at=this.desiredSize;this.desiredSize-=pt,at>0&&this.desiredSize<=0&&(this.sinkCapability=new a.PromiseCapability,this.ready=this.sinkCapability.promise),_e.postMessage({sourceName:dt,targetName:st,stream:c.ENQUEUE,streamId:nt,chunk:ot},et)},close(){this.isCancelled||(this.isCancelled=!0,_e.postMessage({sourceName:dt,targetName:st,stream:c.CLOSE,streamId:nt}),delete tt.streamSinks[nt])},error(ot){(0,a.assert)(ot instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,_e.postMessage({sourceName:dt,targetName:st,stream:c.ERROR,streamId:nt,reason:d(ot)}))},sinkCapability:new a.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:rt.desiredSize,ready:null};ct.sinkCapability.resolve(),ct.ready=ct.sinkCapability.promise,this.streamSinks[nt]=ct,new Promise(function(ot){ot(it(rt.data,ct))}).then(function(){_e.postMessage({sourceName:dt,targetName:st,stream:c.START_COMPLETE,streamId:nt,success:!0})},function(ot){_e.postMessage({sourceName:dt,targetName:st,stream:c.START_COMPLETE,streamId:nt,reason:d(ot)})})},$s=function(rt){const nt=rt.streamId,dt=this.sourceName,st=rt.sourceName,_e=this.comObj,tt=this.streamControllers[nt],it=this.streamSinks[nt];switch(rt.stream){case c.START_COMPLETE:rt.success?tt.startCall.resolve():tt.startCall.reject(d(rt.reason));break;case c.PULL_COMPLETE:rt.success?tt.pullCall.resolve():tt.pullCall.reject(d(rt.reason));break;case c.PULL:if(!it){_e.postMessage({sourceName:dt,targetName:st,stream:c.PULL_COMPLETE,streamId:nt,success:!0});break}it.desiredSize<=0&&rt.desiredSize>0&&it.sinkCapability.resolve(),it.desiredSize=rt.desiredSize,new Promise(function(ct){var ot;ct((ot=it.onPull)==null?void 0:ot.call(it))}).then(function(){_e.postMessage({sourceName:dt,targetName:st,stream:c.PULL_COMPLETE,streamId:nt,success:!0})},function(ct){_e.postMessage({sourceName:dt,targetName:st,stream:c.PULL_COMPLETE,streamId:nt,reason:d(ct)})});break;case c.ENQUEUE:if((0,a.assert)(tt,"enqueue should have stream controller"),tt.isClosed)break;tt.controller.enqueue(rt.chunk);break;case c.CLOSE:if((0,a.assert)(tt,"close should have stream controller"),tt.isClosed)break;tt.isClosed=!0,tt.controller.close(),Ut(this,h,Rn).call(this,tt,nt);break;case c.ERROR:(0,a.assert)(tt,"error should have stream controller"),tt.controller.error(d(rt.reason)),Ut(this,h,Rn).call(this,tt,nt);break;case c.CANCEL_COMPLETE:rt.success?tt.cancelCall.resolve():tt.cancelCall.reject(d(rt.reason)),Ut(this,h,Rn).call(this,tt,nt);break;case c.CANCEL:if(!it)break;new Promise(function(ct){var ot;ct((ot=it.onCancel)==null?void 0:ot.call(it,d(rt.reason)))}).then(function(){_e.postMessage({sourceName:dt,targetName:st,stream:c.CANCEL_COMPLETE,streamId:nt,success:!0})},function(ct){_e.postMessage({sourceName:dt,targetName:st,stream:c.CANCEL_COMPLETE,streamId:nt,reason:d(ct)})}),it.sinkCapability.reject(d(rt.reason)),it.isCancelled=!0,delete this.streamSinks[nt];break;default:throw new Error("Unexpected stream case")}},Rn=async function(rt,nt){var dt,st,_e;await Promise.allSettled([(dt=rt.startCall)==null?void 0:dt.promise,(st=rt.pullCall)==null?void 0:st.promise,(_e=rt.cancelCall)==null?void 0:_e.promise]),delete this.streamControllers[nt]},s.MessageHandler=g},(e,s,i)=>{var c,d;Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var a=i(1);class o{constructor({parsedData:h,rawData:b}){Xt(this,c);Xt(this,d);Jt(this,c,h),Jt(this,d,b)}getRaw(){return lt(this,d)}get(h){return lt(this,c).get(h)??null}getAll(){return(0,a.objectFromMap)(lt(this,c))}has(h){return lt(this,c).has(h)}}c=new WeakMap,d=new WeakMap,s.Metadata=o},(e,s,i)=>{var h,b,j,_,$,rt,Jn;Object.defineProperty(s,"__esModule",{value:!0}),s.OptionalContentConfig=void 0;var a=i(1),o=i(8);const c=Symbol("INTERNAL");class d{constructor(st,_e){Xt(this,h,!0);this.name=st,this.intent=_e}get visible(){return lt(this,h)}_setVisible(st,_e){st!==c&&(0,a.unreachable)("Internal method `_setVisible` called."),Jt(this,h,_e)}}h=new WeakMap;class g{constructor(st){Xt(this,rt);Xt(this,b,null);Xt(this,j,new Map);Xt(this,_,null);Xt(this,$,null);if(this.name=null,this.creator=null,st!==null){this.name=st.name,this.creator=st.creator,Jt(this,$,st.order);for(const _e of st.groups)lt(this,j).set(_e.id,new d(_e.name,_e.intent));if(st.baseState==="OFF")for(const _e of lt(this,j).values())_e._setVisible(c,!1);for(const _e of st.on)lt(this,j).get(_e)._setVisible(c,!0);for(const _e of st.off)lt(this,j).get(_e)._setVisible(c,!1);Jt(this,_,this.getHash())}}isVisible(st){if(lt(this,j).size===0)return!0;if(!st)return(0,a.warn)("Optional content group not defined."),!0;if(st.type==="OCG")return lt(this,j).has(st.id)?lt(this,j).get(st.id).visible:((0,a.warn)(`Optional content group not found: ${st.id}`),!0);if(st.type==="OCMD"){if(st.expression)return Ut(this,rt,Jn).call(this,st.expression);if(!st.policy||st.policy==="AnyOn"){for(const _e of st.ids){if(!lt(this,j).has(_e))return(0,a.warn)(`Optional content group not found: ${_e}`),!0;if(lt(this,j).get(_e).visible)return!0}return!1}else if(st.policy==="AllOn"){for(const _e of st.ids){if(!lt(this,j).has(_e))return(0,a.warn)(`Optional content group not found: ${_e}`),!0;if(!lt(this,j).get(_e).visible)return!1}return!0}else if(st.policy==="AnyOff"){for(const _e of st.ids){if(!lt(this,j).has(_e))return(0,a.warn)(`Optional content group not found: ${_e}`),!0;if(!lt(this,j).get(_e).visible)return!0}return!1}else if(st.policy==="AllOff"){for(const _e of st.ids){if(!lt(this,j).has(_e))return(0,a.warn)(`Optional content group not found: ${_e}`),!0;if(lt(this,j).get(_e).visible)return!1}return!0}return(0,a.warn)(`Unknown optional content policy ${st.policy}.`),!0}return(0,a.warn)(`Unknown group type ${st.type}.`),!0}setVisibility(st,_e=!0){if(!lt(this,j).has(st)){(0,a.warn)(`Optional content group not found: ${st}`);return}lt(this,j).get(st)._setVisible(c,!!_e),Jt(this,b,null)}get hasInitialVisibility(){return lt(this,_)===null||this.getHash()===lt(this,_)}getOrder(){return lt(this,j).size?lt(this,$)?lt(this,$).slice():[...lt(this,j).keys()]:null}getGroups(){return lt(this,j).size>0?(0,a.objectFromMap)(lt(this,j)):null}getGroup(st){return lt(this,j).get(st)||null}getHash(){if(lt(this,b)!==null)return lt(this,b);const st=new o.MurmurHash3_64;for(const[_e,tt]of lt(this,j))st.update(`${_e}:${tt.visible}`);return Jt(this,b,st.hexdigest())}}b=new WeakMap,j=new WeakMap,_=new WeakMap,$=new WeakMap,rt=new WeakSet,Jn=function(st){const _e=st.length;if(_e<2)return!0;const tt=st[0];for(let it=1;it<_e;it++){const ct=st[it];let ot;if(Array.isArray(ct))ot=Ut(this,rt,Jn).call(this,ct);else if(lt(this,j).has(ct))ot=lt(this,j).get(ct).visible;else return(0,a.warn)(`Optional content group not found: ${ct}`),!0;switch(tt){case"And":if(!ot)return!1;break;case"Or":if(ot)return!0;break;case"Not":return!ot;default:return!0}}return tt==="And"},s.OptionalContentConfig=g},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFDataTransportStream=void 0;var a=i(1),o=i(6);class c{constructor({length:b,initialData:j,progressiveDone:_=!1,contentDispositionFilename:$=null,disableRange:rt=!1,disableStream:nt=!1},dt){if((0,a.assert)(dt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=_,this._contentDispositionFilename=$,(j==null?void 0:j.length)>0){const st=j instanceof Uint8Array&&j.byteLength===j.buffer.byteLength?j.buffer:new Uint8Array(j).buffer;this._queuedChunks.push(st)}this._pdfDataRangeTransport=dt,this._isStreamingSupported=!nt,this._isRangeSupported=!rt,this._contentLength=b,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((st,_e)=>{this._onReceiveData({begin:st,chunk:_e})}),this._pdfDataRangeTransport.addProgressListener((st,_e)=>{this._onProgress({loaded:st,total:_e})}),this._pdfDataRangeTransport.addProgressiveReadListener(st=>{this._onReceiveData({chunk:st})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:b,chunk:j}){const _=j instanceof Uint8Array&&j.byteLength===j.buffer.byteLength?j.buffer:new Uint8Array(j).buffer;if(b===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(_):this._queuedChunks.push(_);else{const $=this._rangeReaders.some(function(rt){return rt._begin!==b?!1:(rt._enqueue(_),!0)});(0,a.assert)($,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var b;return((b=this._fullRequestReader)==null?void 0:b._loaded)??0}_onProgress(b){var j,_,$,rt;b.total===void 0?(_=(j=this._rangeReaders[0])==null?void 0:j.onProgress)==null||_.call(j,{loaded:b.loaded}):(rt=($=this._fullRequestReader)==null?void 0:$.onProgress)==null||rt.call($,{loaded:b.loaded,total:b.total})}_onProgressiveDone(){var b;(b=this._fullRequestReader)==null||b.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(b){const j=this._rangeReaders.indexOf(b);j>=0&&this._rangeReaders.splice(j,1)}getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const b=this._queuedChunks;return this._queuedChunks=null,new d(this,b,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(b,j){if(j<=this._progressiveDataLength)return null;const _=new g(this,b,j);return this._pdfDataRangeTransport.requestDataRange(b,j),this._rangeReaders.push(_),_}cancelAllRequests(b){var j;(j=this._fullRequestReader)==null||j.cancel(b);for(const _ of this._rangeReaders.slice(0))_.cancel(b);this._pdfDataRangeTransport.abort()}}s.PDFDataTransportStream=c;class d{constructor(b,j,_=!1,$=null){this._stream=b,this._done=_||!1,this._filename=(0,o.isPdfFile)($)?$:null,this._queuedChunks=j||[],this._loaded=0;for(const rt of this._queuedChunks)this._loaded+=rt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),b._fullRequestReader=this,this.onProgress=null}_enqueue(b){this._done||(this._requests.length>0?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunks.push(b),this._loaded+=b.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const b=new a.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class g{constructor(b,j,_){this._stream=b,this._begin=j,this._end=_,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(b){if(!this._done){if(this._requests.length===0)this._queuedChunk=b;else{this._requests.shift().resolve({value:b,done:!1});for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const j=this._queuedChunk;return this._queuedChunk=null,{value:j,done:!1}}if(this._done)return{value:void 0,done:!0};const b=new a.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFetchStream=void 0;var a=i(1),o=i(20);function c(_,$,rt){return{method:"GET",headers:_,signal:rt.signal,mode:"cors",credentials:$?"include":"same-origin",redirect:"follow"}}function d(_){const $=new Headers;for(const rt in _){const nt=_[rt];nt!==void 0&&$.append(rt,nt)}return $}function g(_){return _ instanceof Uint8Array?_.buffer:_ instanceof ArrayBuffer?_:((0,a.warn)(`getArrayBuffer - unexpected data format: ${_}`),new Uint8Array(_).buffer)}class h{constructor($){this.source=$,this.isHttp=/^https?:/i.test($.url),this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new b(this),this._fullRequestReader}getRangeReader($,rt){if(rt<=this._progressiveDataLength)return null;const nt=new j(this,$,rt);return this._rangeRequestReaders.push(nt),nt}cancelAllRequests($){var rt;(rt=this._fullRequestReader)==null||rt.cancel($);for(const nt of this._rangeRequestReaders.slice(0))nt.cancel($)}}s.PDFFetchStream=h;class b{constructor($){this._stream=$,this._reader=null,this._loaded=0,this._filename=null;const rt=$.source;this._withCredentials=rt.withCredentials||!1,this._contentLength=rt.length,this._headersCapability=new a.PromiseCapability,this._disableRange=rt.disableRange||!1,this._rangeChunkSize=rt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!rt.disableStream,this._isRangeSupported=!rt.disableRange,this._headers=d(this._stream.httpHeaders);const nt=rt.url;fetch(nt,c(this._headers,this._withCredentials,this._abortController)).then(dt=>{if(!(0,o.validateResponseStatus)(dt.status))throw(0,o.createResponseStatusError)(dt.status,nt);this._reader=dt.body.getReader(),this._headersCapability.resolve();const st=it=>dt.headers.get(it),{allowRangeRequests:_e,suggestedLength:tt}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:st,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=_e,this._contentLength=tt||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(st),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var nt;await this._headersCapability.promise;const{value:$,done:rt}=await this._reader.read();return rt?{value:$,done:rt}:(this._loaded+=$.byteLength,(nt=this.onProgress)==null||nt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:g($),done:!1})}cancel($){var rt;(rt=this._reader)==null||rt.cancel($),this._abortController.abort()}}class j{constructor($,rt,nt){this._stream=$,this._reader=null,this._loaded=0;const dt=$.source;this._withCredentials=dt.withCredentials||!1,this._readCapability=new a.PromiseCapability,this._isStreamingSupported=!dt.disableStream,this._abortController=new AbortController,this._headers=d(this._stream.httpHeaders),this._headers.append("Range",`bytes=${rt}-${nt-1}`);const st=dt.url;fetch(st,c(this._headers,this._withCredentials,this._abortController)).then(_e=>{if(!(0,o.validateResponseStatus)(_e.status))throw(0,o.createResponseStatusError)(_e.status,st);this._readCapability.resolve(),this._reader=_e.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var nt;await this._readCapability.promise;const{value:$,done:rt}=await this._reader.read();return rt?{value:$,done:rt}:(this._loaded+=$.byteLength,(nt=this.onProgress)==null||nt.call(this,{loaded:this._loaded}),{value:g($),done:!1})}cancel($){var rt;(rt=this._reader)==null||rt.cancel($),this._abortController.abort()}}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createResponseStatusError=h,s.extractFilenameFromHeader=g,s.validateRangeRequestCapabilities=d,s.validateResponseStatus=b;var a=i(1),o=i(21),c=i(6);function d({getResponseHeader:j,isHttp:_,rangeChunkSize:$,disableRange:rt}){const nt={allowRangeRequests:!1,suggestedLength:void 0},dt=parseInt(j("Content-Length"),10);return!Number.isInteger(dt)||(nt.suggestedLength=dt,dt<=2*$)||rt||!_||j("Accept-Ranges")!=="bytes"||(j("Content-Encoding")||"identity")!=="identity"||(nt.allowRangeRequests=!0),nt}function g(j){const _=j("Content-Disposition");if(_){let $=(0,o.getFilenameFromContentDispositionHeader)(_);if($.includes("%"))try{$=decodeURIComponent($)}catch{}if((0,c.isPdfFile)($))return $}return null}function h(j,_){return j===404||j===0&&_.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+_+'".'):new a.UnexpectedResponseException(`Unexpected server response (${j}) while retrieving PDF "${_}".`,j)}function b(j){return j===200||j===206}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFilenameFromContentDispositionHeader=o;var a=i(1);function o(c){let d=!0,g=h("filename\\*","i").exec(c);if(g){g=g[1];let dt=$(g);return dt=unescape(dt),dt=rt(dt),dt=nt(dt),j(dt)}if(g=_(c),g){const dt=nt(g);return j(dt)}if(g=h("filename","i").exec(c),g){g=g[1];let dt=$(g);return dt=nt(dt),j(dt)}function h(dt,st){return new RegExp("(?:^|;)\\s*"+dt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',st)}function b(dt,st){if(dt){if(!/^[\x00-\xFF]+$/.test(st))return st;try{const _e=new TextDecoder(dt,{fatal:!0}),tt=(0,a.stringToBytes)(st);st=_e.decode(tt),d=!1}catch{}}return st}function j(dt){return d&&/[\x80-\xff]/.test(dt)&&(dt=b("utf-8",dt),d&&(dt=b("iso-8859-1",dt))),dt}function _(dt){const st=[];let _e;const tt=h("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(_e=tt.exec(dt))!==null;){let[,ct,ot,pt]=_e;if(ct=parseInt(ct,10),ct in st){if(ct===0)break;continue}st[ct]=[ot,pt]}const it=[];for(let ct=0;ct<st.length&&ct in st;++ct){let[ot,pt]=st[ct];pt=$(pt),ot&&(pt=unescape(pt),ct===0&&(pt=rt(pt))),it.push(pt)}return it.join("")}function $(dt){if(dt.startsWith('"')){const st=dt.slice(1).split('\\"');for(let _e=0;_e<st.length;++_e){const tt=st[_e].indexOf('"');tt!==-1&&(st[_e]=st[_e].slice(0,tt),st.length=_e+1),st[_e]=st[_e].replaceAll(/\\(.)/g,"$1")}dt=st.join('"')}return dt}function rt(dt){const st=dt.indexOf("'");if(st===-1)return dt;const _e=dt.slice(0,st),it=dt.slice(st+1).replace(/^[^']*'/,"");return b(_e,it)}function nt(dt){return!dt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(dt)?dt:dt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(st,_e,tt,it){if(tt==="q"||tt==="Q")return it=it.replaceAll("_"," "),it=it.replaceAll(/=([0-9a-fA-F]{2})/g,function(ct,ot){return String.fromCharCode(parseInt(ot,16))}),b(_e,it);try{it=atob(it)}catch{}return b(_e,it)})}return""}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNetworkStream=void 0;var a=i(1),o=i(20);const c=200,d=206;function g($){const rt=$.response;return typeof rt!="string"?rt:(0,a.stringToBytes)(rt).buffer}class h{constructor(rt,nt={}){this.url=rt,this.isHttp=/^https?:/i.test(rt),this.httpHeaders=this.isHttp&&nt.httpHeaders||Object.create(null),this.withCredentials=nt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(rt,nt,dt){const st={begin:rt,end:nt};for(const _e in dt)st[_e]=dt[_e];return this.request(st)}requestFull(rt){return this.request(rt)}request(rt){const nt=new XMLHttpRequest,dt=this.currXhrId++,st=this.pendingRequests[dt]={xhr:nt};nt.open("GET",this.url),nt.withCredentials=this.withCredentials;for(const _e in this.httpHeaders){const tt=this.httpHeaders[_e];tt!==void 0&&nt.setRequestHeader(_e,tt)}return this.isHttp&&"begin"in rt&&"end"in rt?(nt.setRequestHeader("Range",`bytes=${rt.begin}-${rt.end-1}`),st.expectedStatus=d):st.expectedStatus=c,nt.responseType="arraybuffer",rt.onError&&(nt.onerror=function(_e){rt.onError(nt.status)}),nt.onreadystatechange=this.onStateChange.bind(this,dt),nt.onprogress=this.onProgress.bind(this,dt),st.onHeadersReceived=rt.onHeadersReceived,st.onDone=rt.onDone,st.onError=rt.onError,st.onProgress=rt.onProgress,nt.send(null),dt}onProgress(rt,nt){var st;const dt=this.pendingRequests[rt];dt&&((st=dt.onProgress)==null||st.call(dt,nt))}onStateChange(rt,nt){var ct,ot,pt;const dt=this.pendingRequests[rt];if(!dt)return;const st=dt.xhr;if(st.readyState>=2&&dt.onHeadersReceived&&(dt.onHeadersReceived(),delete dt.onHeadersReceived),st.readyState!==4||!(rt in this.pendingRequests))return;if(delete this.pendingRequests[rt],st.status===0&&this.isHttp){(ct=dt.onError)==null||ct.call(dt,st.status);return}const _e=st.status||c;if(!(_e===c&&dt.expectedStatus===d)&&_e!==dt.expectedStatus){(ot=dt.onError)==null||ot.call(dt,st.status);return}const it=g(st);if(_e===d){const et=st.getResponseHeader("Content-Range"),at=/bytes (\d+)-(\d+)\/(\d+)/.exec(et);dt.onDone({begin:parseInt(at[1],10),chunk:it})}else it?dt.onDone({begin:0,chunk:it}):(pt=dt.onError)==null||pt.call(dt,st.status)}getRequestXhr(rt){return this.pendingRequests[rt].xhr}isPendingRequest(rt){return rt in this.pendingRequests}abortRequest(rt){const nt=this.pendingRequests[rt].xhr;delete this.pendingRequests[rt],nt.abort()}}class b{constructor(rt){this._source=rt,this._manager=new h(rt.url,{httpHeaders:rt.httpHeaders,withCredentials:rt.withCredentials}),this._rangeChunkSize=rt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(rt){const nt=this._rangeRequestReaders.indexOf(rt);nt>=0&&this._rangeRequestReaders.splice(nt,1)}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new j(this._manager,this._source),this._fullRequestReader}getRangeReader(rt,nt){const dt=new _(this._manager,rt,nt);return dt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(dt),dt}cancelAllRequests(rt){var nt;(nt=this._fullRequestReader)==null||nt.cancel(rt);for(const dt of this._rangeRequestReaders.slice(0))dt.cancel(rt)}}s.PDFNetworkStream=b;class j{constructor(rt,nt){this._manager=rt;const dt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=nt.url,this._fullRequestId=rt.requestFull(dt),this._headersReceivedCapability=new a.PromiseCapability,this._disableRange=nt.disableRange||!1,this._contentLength=nt.length,this._rangeChunkSize=nt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const rt=this._fullRequestId,nt=this._manager.getRequestXhr(rt),dt=tt=>nt.getResponseHeader(tt),{allowRangeRequests:st,suggestedLength:_e}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:dt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});st&&(this._isRangeSupported=!0),this._contentLength=_e||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(dt),this._isRangeSupported&&this._manager.abortRequest(rt),this._headersReceivedCapability.resolve()}_onDone(rt){if(rt&&(this._requests.length>0?this._requests.shift().resolve({value:rt.chunk,done:!1}):this._cachedChunks.push(rt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const nt of this._requests)nt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(rt){this._storedError=(0,o.createResponseStatusError)(rt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const nt of this._requests)nt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(rt){var nt;(nt=this.onProgress)==null||nt.call(this,{loaded:rt.loaded,total:rt.lengthComputable?rt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const rt=new a.PromiseCapability;return this._requests.push(rt),rt.promise}cancel(rt){this._done=!0,this._headersReceivedCapability.reject(rt);for(const nt of this._requests)nt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _{constructor(rt,nt,dt){this._manager=rt;const st={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=rt.url,this._requestId=rt.requestRange(nt,dt,st),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var rt;(rt=this.onClosed)==null||rt.call(this,this)}_onDone(rt){const nt=rt.chunk;this._requests.length>0?this._requests.shift().resolve({value:nt,done:!1}):this._queuedChunk=nt,this._done=!0;for(const dt of this._requests)dt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(rt){this._storedError=(0,o.createResponseStatusError)(rt,this._url);for(const nt of this._requests)nt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(rt){var nt;this.isStreamingSupported||(nt=this.onProgress)==null||nt.call(this,{loaded:rt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const nt=this._queuedChunk;return this._queuedChunk=null,{value:nt,done:!1}}if(this._done)return{value:void 0,done:!0};const rt=new a.PromiseCapability;return this._requests.push(rt),rt.promise}cancel(rt){this._done=!0;for(const nt of this._requests)nt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNodeStream=void 0;var a=i(1),o=i(20);const c=/^file:\/\/\/[a-zA-Z]:\//;function d(dt){const st=require$$5,_e=st.parse(dt);return _e.protocol==="file:"||_e.host?_e:/^[a-z]:[/\\]/i.test(dt)?st.parse(`file:///${dt}`):(_e.host||(_e.protocol="file:"),_e)}class g{constructor(st){this.source=st,this.url=d(st.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&st.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var st;return((st=this._fullRequestReader)==null?void 0:st._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new rt(this):new _(this),this._fullRequestReader}getRangeReader(st,_e){if(_e<=this._progressiveDataLength)return null;const tt=this.isFsUrl?new nt(this,st,_e):new $(this,st,_e);return this._rangeRequestReaders.push(tt),tt}cancelAllRequests(st){var _e;(_e=this._fullRequestReader)==null||_e.cancel(st);for(const tt of this._rangeRequestReaders.slice(0))tt.cancel(st)}}s.PDFNodeStream=g;class h{constructor(st){this._url=st.url,this._done=!1,this._storedError=null,this.onProgress=null;const _e=st.source;this._contentLength=_e.length,this._loaded=0,this._filename=null,this._disableRange=_e.disableRange||!1,this._rangeChunkSize=_e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!_e.disableStream,this._isRangeSupported=!_e.disableRange,this._readableStream=null,this._readCapability=new a.PromiseCapability,this._headersCapability=new a.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var tt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const st=this._readableStream.read();return st===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=st.length,(tt=this.onProgress)==null||tt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(st).buffer,done:!1})}cancel(st){if(!this._readableStream){this._error(st);return}this._readableStream.destroy(st)}_error(st){this._storedError=st,this._readCapability.resolve()}_setReadableStream(st){this._readableStream=st,st.on("readable",()=>{this._readCapability.resolve()}),st.on("end",()=>{st.destroy(),this._done=!0,this._readCapability.resolve()}),st.on("error",_e=>{this._error(_e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class b{constructor(st){this._url=st.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new a.PromiseCapability;const _e=st.source;this._isStreamingSupported=!_e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var tt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const st=this._readableStream.read();return st===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=st.length,(tt=this.onProgress)==null||tt.call(this,{loaded:this._loaded}),{value:new Uint8Array(st).buffer,done:!1})}cancel(st){if(!this._readableStream){this._error(st);return}this._readableStream.destroy(st)}_error(st){this._storedError=st,this._readCapability.resolve()}_setReadableStream(st){this._readableStream=st,st.on("readable",()=>{this._readCapability.resolve()}),st.on("end",()=>{st.destroy(),this._done=!0,this._readCapability.resolve()}),st.on("error",_e=>{this._error(_e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function j(dt,st){return{protocol:dt.protocol,auth:dt.auth,host:dt.hostname,port:dt.port,path:dt.path,method:"GET",headers:st}}class _ extends h{constructor(st){super(st);const _e=tt=>{if(tt.statusCode===404){const pt=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=pt,this._headersCapability.reject(pt);return}this._headersCapability.resolve(),this._setReadableStream(tt);const it=pt=>this._readableStream.headers[pt.toLowerCase()],{allowRangeRequests:ct,suggestedLength:ot}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:it,isHttp:st.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ct,this._contentLength=ot||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(it)};if(this._request=null,this._url.protocol==="http:"){const tt=require$$5;this._request=tt.request(j(this._url,st.httpHeaders),_e)}else{const tt=require$$5;this._request=tt.request(j(this._url,st.httpHeaders),_e)}this._request.on("error",tt=>{this._storedError=tt,this._headersCapability.reject(tt)}),this._request.end()}}class $ extends b{constructor(st,_e,tt){super(st),this._httpHeaders={};for(const ct in st.httpHeaders){const ot=st.httpHeaders[ct];ot!==void 0&&(this._httpHeaders[ct]=ot)}this._httpHeaders.Range=`bytes=${_e}-${tt-1}`;const it=ct=>{if(ct.statusCode===404){const ot=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ot;return}this._setReadableStream(ct)};if(this._request=null,this._url.protocol==="http:"){const ct=require$$5;this._request=ct.request(j(this._url,this._httpHeaders),it)}else{const ct=require$$5;this._request=ct.request(j(this._url,this._httpHeaders),it)}this._request.on("error",ct=>{this._storedError=ct}),this._request.end()}}class rt extends h{constructor(st){super(st);let _e=decodeURIComponent(this._url.path);c.test(this._url.href)&&(_e=_e.replace(/^\//,""));const tt=require$$5;tt.lstat(_e,(it,ct)=>{if(it){it.code==="ENOENT"&&(it=new a.MissingPDFException(`Missing PDF "${_e}".`)),this._storedError=it,this._headersCapability.reject(it);return}this._contentLength=ct.size,this._setReadableStream(tt.createReadStream(_e)),this._headersCapability.resolve()})}}class nt extends b{constructor(st,_e,tt){super(st);let it=decodeURIComponent(this._url.path);c.test(this._url.href)&&(it=it.replace(/^\//,""));const ct=require$$5;this._setReadableStream(ct.createReadStream(it,{start:_e,end:tt-1}))}}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SVGGraphics=void 0;var a=i(6),o=i(1);const c={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},d="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/1999/xlink",h=["butt","round","square"],b=["miter","round","bevel"],j=function(ct,ot="",pt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!pt)return URL.createObjectURL(new Blob([ct],{type:ot}));const et="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let at=`data:${ot};base64,`;for(let ht=0,xt=ct.length;ht<xt;ht+=3){const ut=ct[ht]&255,gt=ct[ht+1]&255,Et=ct[ht+2]&255,Mt=ut>>2,Nt=(ut&3)<<4|gt>>4,It=ht+1<xt?(gt&15)<<2|Et>>6:64,kt=ht+2<xt?Et&63:64;at+=et[Mt]+et[Nt]+et[It]+et[kt]}return at},_=function(){const ct=new Uint8Array([137,80,78,71,13,10,26,10]),ot=12,pt=new Int32Array(256);for(let Et=0;Et<256;Et++){let Mt=Et;for(let Nt=0;Nt<8;Nt++)Mt=Mt&1?3988292384^Mt>>1&2147483647:Mt>>1&2147483647;pt[Et]=Mt}function et(Et,Mt,Nt){let It=-1;for(let kt=Mt;kt<Nt;kt++){const bt=(It^Et[kt])&255,yt=pt[bt];It=It>>>8^yt}return It^-1}function at(Et,Mt,Nt,It){let kt=It;const bt=Mt.length;Nt[kt]=bt>>24&255,Nt[kt+1]=bt>>16&255,Nt[kt+2]=bt>>8&255,Nt[kt+3]=bt&255,kt+=4,Nt[kt]=Et.charCodeAt(0)&255,Nt[kt+1]=Et.charCodeAt(1)&255,Nt[kt+2]=Et.charCodeAt(2)&255,Nt[kt+3]=Et.charCodeAt(3)&255,kt+=4,Nt.set(Mt,kt),kt+=Mt.length;const yt=et(Nt,It+4,kt);Nt[kt]=yt>>24&255,Nt[kt+1]=yt>>16&255,Nt[kt+2]=yt>>8&255,Nt[kt+3]=yt&255}function ht(Et,Mt,Nt){let It=1,kt=0;for(let bt=Mt;bt<Nt;++bt)It=(It+(Et[bt]&255))%65521,kt=(kt+It)%65521;return kt<<16|It}function xt(Et){if(!o.isNodeJS)return ut(Et);try{const Mt=parseInt(process.versions.node)>=8?Et:Buffer.from(Et),Nt=require$$5.deflateSync(Mt,{level:9});return Nt instanceof Uint8Array?Nt:new Uint8Array(Nt)}catch(Mt){(0,o.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Mt)}return ut(Et)}function ut(Et){let Mt=Et.length;const Nt=65535,It=Math.ceil(Mt/Nt),kt=new Uint8Array(2+Mt+It*5+4);let bt=0;kt[bt++]=120,kt[bt++]=156;let yt=0;for(;Mt>Nt;)kt[bt++]=0,kt[bt++]=255,kt[bt++]=255,kt[bt++]=0,kt[bt++]=0,kt.set(Et.subarray(yt,yt+Nt),bt),bt+=Nt,yt+=Nt,Mt-=Nt;kt[bt++]=1,kt[bt++]=Mt&255,kt[bt++]=Mt>>8&255,kt[bt++]=~Mt&65535&255,kt[bt++]=(~Mt&65535)>>8&255,kt.set(Et.subarray(yt),bt),bt+=Et.length-yt;const At=ht(Et,0,Et.length);return kt[bt++]=At>>24&255,kt[bt++]=At>>16&255,kt[bt++]=At>>8&255,kt[bt++]=At&255,kt}function gt(Et,Mt,Nt,It){const kt=Et.width,bt=Et.height;let yt,At,Lt;const jt=Et.data;switch(Mt){case o.ImageKind.GRAYSCALE_1BPP:At=0,yt=1,Lt=kt+7>>3;break;case o.ImageKind.RGB_24BPP:At=2,yt=8,Lt=kt*3;break;case o.ImageKind.RGBA_32BPP:At=6,yt=8,Lt=kt*4;break;default:throw new Error("invalid format")}const ft=new Uint8Array((1+Lt)*bt);let mt=0,vt=0;for(let Yt=0;Yt<bt;++Yt)ft[mt++]=0,ft.set(jt.subarray(vt,vt+Lt),mt),vt+=Lt,mt+=Lt;if(Mt===o.ImageKind.GRAYSCALE_1BPP&&It){mt=0;for(let Yt=0;Yt<bt;Yt++){mt++;for(let Qt=0;Qt<Lt;Qt++)ft[mt++]^=255}}const _t=new Uint8Array([kt>>24&255,kt>>16&255,kt>>8&255,kt&255,bt>>24&255,bt>>16&255,bt>>8&255,bt&255,yt,At,0,0,0]),St=xt(ft),Pt=ct.length+ot*3+_t.length+St.length,Ot=new Uint8Array(Pt);let Gt=0;return Ot.set(ct,Gt),Gt+=ct.length,at("IHDR",_t,Ot,Gt),Gt+=ot+_t.length,at("IDATA",St,Ot,Gt),Gt+=ot+St.length,at("IEND",new Uint8Array(0),Ot,Gt),j(Ot,"image/png",Nt)}return function(Mt,Nt,It){const kt=Mt.kind===void 0?o.ImageKind.GRAYSCALE_1BPP:Mt.kind;return gt(Mt,kt,Nt,It)}}();class ${constructor(){this.fontSizeScale=1,this.fontWeight=c.fontWeight,this.fontSize=0,this.textMatrix=o.IDENTITY_MATRIX,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=o.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=c.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(ot,pt){this.x=ot,this.y=pt}}function rt(ct){let ot=[];const pt=[];for(const et of ct){if(et.fn==="save"){ot.push({fnId:92,fn:"group",items:[]}),pt.push(ot),ot=ot.at(-1).items;continue}et.fn==="restore"?ot=pt.pop():ot.push(et)}return ot}function nt(ct){if(Number.isInteger(ct))return ct.toString();const ot=ct.toFixed(10);let pt=ot.length-1;if(ot[pt]!=="0")return ot;do pt--;while(ot[pt]==="0");return ot.substring(0,ot[pt]==="."?pt:pt+1)}function dt(ct){if(ct[4]===0&&ct[5]===0){if(ct[1]===0&&ct[2]===0)return ct[0]===1&&ct[3]===1?"":`scale(${nt(ct[0])} ${nt(ct[3])})`;if(ct[0]===ct[3]&&ct[1]===-ct[2]){const ot=Math.acos(ct[0])*180/Math.PI;return`rotate(${nt(ot)})`}}else if(ct[0]===1&&ct[1]===0&&ct[2]===0&&ct[3]===1)return`translate(${nt(ct[4])} ${nt(ct[5])})`;return`matrix(${nt(ct[0])} ${nt(ct[1])} ${nt(ct[2])} ${nt(ct[3])} ${nt(ct[4])} ${nt(ct[5])})`}let st=0,_e=0,tt=0;class it{constructor(ot,pt,et=!1){(0,a.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new a.DOMSVGFactory,this.current=new $,this.transformMatrix=o.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=ot,this.objs=pt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!et,this._operatorIdMapping=[];for(const at in o.OPS)this._operatorIdMapping[o.OPS[at]]=at}getObject(ot,pt=null){return typeof ot=="string"?ot.startsWith("g_")?this.commonObjs.get(ot):this.objs.get(ot):pt}save(){this.transformStack.push(this.transformMatrix);const ot=this.current;this.extraStack.push(ot),this.current=ot.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(ot){this.save(),this.executeOpTree(ot),this.restore()}loadDependencies(ot){const pt=ot.fnArray,et=ot.argsArray;for(let at=0,ht=pt.length;at<ht;at++)if(pt[at]===o.OPS.dependency)for(const xt of et[at]){const ut=xt.startsWith("g_")?this.commonObjs:this.objs,gt=new Promise(Et=>{ut.get(xt,Et)});this.current.dependencies.push(gt)}return Promise.all(this.current.dependencies)}transform(ot,pt,et,at,ht,xt){const ut=[ot,pt,et,at,ht,xt];this.transformMatrix=o.Util.transform(this.transformMatrix,ut),this.tgrp=null}getSVG(ot,pt){this.viewport=pt;const et=this._initialize(pt);return this.loadDependencies(ot).then(()=>(this.transformMatrix=o.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(ot)),et))}convertOpList(ot){const pt=this._operatorIdMapping,et=ot.argsArray,at=ot.fnArray,ht=[];for(let xt=0,ut=at.length;xt<ut;xt++){const gt=at[xt];ht.push({fnId:gt,fn:pt[gt],args:et[xt]})}return rt(ht)}executeOpTree(ot){for(const pt of ot){const et=pt.fn,at=pt.fnId,ht=pt.args;switch(at|0){case o.OPS.beginText:this.beginText();break;case o.OPS.dependency:break;case o.OPS.setLeading:this.setLeading(ht);break;case o.OPS.setLeadingMoveText:this.setLeadingMoveText(ht[0],ht[1]);break;case o.OPS.setFont:this.setFont(ht);break;case o.OPS.showText:this.showText(ht[0]);break;case o.OPS.showSpacedText:this.showText(ht[0]);break;case o.OPS.endText:this.endText();break;case o.OPS.moveText:this.moveText(ht[0],ht[1]);break;case o.OPS.setCharSpacing:this.setCharSpacing(ht[0]);break;case o.OPS.setWordSpacing:this.setWordSpacing(ht[0]);break;case o.OPS.setHScale:this.setHScale(ht[0]);break;case o.OPS.setTextMatrix:this.setTextMatrix(ht[0],ht[1],ht[2],ht[3],ht[4],ht[5]);break;case o.OPS.setTextRise:this.setTextRise(ht[0]);break;case o.OPS.setTextRenderingMode:this.setTextRenderingMode(ht[0]);break;case o.OPS.setLineWidth:this.setLineWidth(ht[0]);break;case o.OPS.setLineJoin:this.setLineJoin(ht[0]);break;case o.OPS.setLineCap:this.setLineCap(ht[0]);break;case o.OPS.setMiterLimit:this.setMiterLimit(ht[0]);break;case o.OPS.setFillRGBColor:this.setFillRGBColor(ht[0],ht[1],ht[2]);break;case o.OPS.setStrokeRGBColor:this.setStrokeRGBColor(ht[0],ht[1],ht[2]);break;case o.OPS.setStrokeColorN:this.setStrokeColorN(ht);break;case o.OPS.setFillColorN:this.setFillColorN(ht);break;case o.OPS.shadingFill:this.shadingFill(ht[0]);break;case o.OPS.setDash:this.setDash(ht[0],ht[1]);break;case o.OPS.setRenderingIntent:this.setRenderingIntent(ht[0]);break;case o.OPS.setFlatness:this.setFlatness(ht[0]);break;case o.OPS.setGState:this.setGState(ht[0]);break;case o.OPS.fill:this.fill();break;case o.OPS.eoFill:this.eoFill();break;case o.OPS.stroke:this.stroke();break;case o.OPS.fillStroke:this.fillStroke();break;case o.OPS.eoFillStroke:this.eoFillStroke();break;case o.OPS.clip:this.clip("nonzero");break;case o.OPS.eoClip:this.clip("evenodd");break;case o.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case o.OPS.paintImageXObject:this.paintImageXObject(ht[0]);break;case o.OPS.paintInlineImageXObject:this.paintInlineImageXObject(ht[0]);break;case o.OPS.paintImageMaskXObject:this.paintImageMaskXObject(ht[0]);break;case o.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(ht[0],ht[1]);break;case o.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case o.OPS.closePath:this.closePath();break;case o.OPS.closeStroke:this.closeStroke();break;case o.OPS.closeFillStroke:this.closeFillStroke();break;case o.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case o.OPS.nextLine:this.nextLine();break;case o.OPS.transform:this.transform(ht[0],ht[1],ht[2],ht[3],ht[4],ht[5]);break;case o.OPS.constructPath:this.constructPath(ht[0],ht[1]);break;case o.OPS.endPath:this.endPath();break;case 92:this.group(pt.items);break;default:(0,o.warn)(`Unimplemented operator ${et}`);break}}}setWordSpacing(ot){this.current.wordSpacing=ot}setCharSpacing(ot){this.current.charSpacing=ot}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(ot,pt,et,at,ht,xt){const ut=this.current;ut.textMatrix=ut.lineMatrix=[ot,pt,et,at,ht,xt],ut.textMatrixScale=Math.hypot(ot,pt),ut.x=ut.lineX=0,ut.y=ut.lineY=0,ut.xcoords=[],ut.ycoords=[],ut.tspan=this.svgFactory.createElement("svg:tspan"),ut.tspan.setAttributeNS(null,"font-family",ut.fontFamily),ut.tspan.setAttributeNS(null,"font-size",`${nt(ut.fontSize)}px`),ut.tspan.setAttributeNS(null,"y",nt(-ut.y)),ut.txtElement=this.svgFactory.createElement("svg:text"),ut.txtElement.append(ut.tspan)}beginText(){const ot=this.current;ot.x=ot.lineX=0,ot.y=ot.lineY=0,ot.textMatrix=o.IDENTITY_MATRIX,ot.lineMatrix=o.IDENTITY_MATRIX,ot.textMatrixScale=1,ot.tspan=this.svgFactory.createElement("svg:tspan"),ot.txtElement=this.svgFactory.createElement("svg:text"),ot.txtgrp=this.svgFactory.createElement("svg:g"),ot.xcoords=[],ot.ycoords=[]}moveText(ot,pt){const et=this.current;et.x=et.lineX+=ot,et.y=et.lineY+=pt,et.xcoords=[],et.ycoords=[],et.tspan=this.svgFactory.createElement("svg:tspan"),et.tspan.setAttributeNS(null,"font-family",et.fontFamily),et.tspan.setAttributeNS(null,"font-size",`${nt(et.fontSize)}px`),et.tspan.setAttributeNS(null,"y",nt(-et.y))}showText(ot){const pt=this.current,et=pt.font,at=pt.fontSize;if(at===0)return;const ht=pt.fontSizeScale,xt=pt.charSpacing,ut=pt.wordSpacing,gt=pt.fontDirection,Et=pt.textHScale*gt,Mt=et.vertical,Nt=Mt?1:-1,It=et.defaultVMetrics,kt=at*pt.fontMatrix[0];let bt=0;for(const Lt of ot){if(Lt===null){bt+=gt*ut;continue}else if(typeof Lt=="number"){bt+=Nt*Lt*at/1e3;continue}const jt=(Lt.isSpace?ut:0)+xt,ft=Lt.fontChar;let mt,vt,_t=Lt.width;if(Mt){let Pt;const Ot=Lt.vmetric||It;Pt=Lt.vmetric?Ot[1]:_t*.5,Pt=-Pt*kt;const Gt=Ot[2]*kt;_t=Ot?-Ot[0]:_t,mt=Pt/ht,vt=(bt+Gt)/ht}else mt=bt/ht,vt=0;(Lt.isInFont||et.missingFile)&&(pt.xcoords.push(pt.x+mt),Mt&&pt.ycoords.push(-pt.y+vt),pt.tspan.textContent+=ft);const St=Mt?_t*kt-jt*gt:_t*kt+jt*gt;bt+=St}pt.tspan.setAttributeNS(null,"x",pt.xcoords.map(nt).join(" ")),Mt?pt.tspan.setAttributeNS(null,"y",pt.ycoords.map(nt).join(" ")):pt.tspan.setAttributeNS(null,"y",nt(-pt.y)),Mt?pt.y-=bt:pt.x+=bt*Et,pt.tspan.setAttributeNS(null,"font-family",pt.fontFamily),pt.tspan.setAttributeNS(null,"font-size",`${nt(pt.fontSize)}px`),pt.fontStyle!==c.fontStyle&&pt.tspan.setAttributeNS(null,"font-style",pt.fontStyle),pt.fontWeight!==c.fontWeight&&pt.tspan.setAttributeNS(null,"font-weight",pt.fontWeight);const yt=pt.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;if(yt===o.TextRenderingMode.FILL||yt===o.TextRenderingMode.FILL_STROKE?(pt.fillColor!==c.fillColor&&pt.tspan.setAttributeNS(null,"fill",pt.fillColor),pt.fillAlpha<1&&pt.tspan.setAttributeNS(null,"fill-opacity",pt.fillAlpha)):pt.textRenderingMode===o.TextRenderingMode.ADD_TO_PATH?pt.tspan.setAttributeNS(null,"fill","transparent"):pt.tspan.setAttributeNS(null,"fill","none"),yt===o.TextRenderingMode.STROKE||yt===o.TextRenderingMode.FILL_STROKE){const Lt=1/(pt.textMatrixScale||1);this._setStrokeAttributes(pt.tspan,Lt)}let At=pt.textMatrix;pt.textRise!==0&&(At=At.slice(),At[5]+=pt.textRise),pt.txtElement.setAttributeNS(null,"transform",`${dt(At)} scale(${nt(Et)}, -1)`),pt.txtElement.setAttributeNS(d,"xml:space","preserve"),pt.txtElement.append(pt.tspan),pt.txtgrp.append(pt.txtElement),this._ensureTransformGroup().append(pt.txtElement)}setLeadingMoveText(ot,pt){this.setLeading(-pt),this.moveText(ot,pt)}addFontStyle(ot){if(!ot.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const pt=j(ot.data,ot.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${ot.loadedName}"; src: url(${pt}); }
`}setFont(ot){const pt=this.current,et=this.commonObjs.get(ot[0]);let at=ot[1];pt.font=et,this.embedFonts&&!et.missingFile&&!this.embeddedFonts[et.loadedName]&&(this.addFontStyle(et),this.embeddedFonts[et.loadedName]=et),pt.fontMatrix=et.fontMatrix||o.FONT_IDENTITY_MATRIX;let ht="normal";et.black?ht="900":et.bold&&(ht="bold");const xt=et.italic?"italic":"normal";at<0?(at=-at,pt.fontDirection=-1):pt.fontDirection=1,pt.fontSize=at,pt.fontFamily=et.loadedName,pt.fontWeight=ht,pt.fontStyle=xt,pt.tspan=this.svgFactory.createElement("svg:tspan"),pt.tspan.setAttributeNS(null,"y",nt(-pt.y)),pt.xcoords=[],pt.ycoords=[]}endText(){var pt;const ot=this.current;ot.textRenderingMode&o.TextRenderingMode.ADD_TO_PATH_FLAG&&((pt=ot.txtElement)!=null&&pt.hasChildNodes())&&(ot.element=ot.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(ot){ot>0&&(this.current.lineWidth=ot)}setLineCap(ot){this.current.lineCap=h[ot]}setLineJoin(ot){this.current.lineJoin=b[ot]}setMiterLimit(ot){this.current.miterLimit=ot}setStrokeAlpha(ot){this.current.strokeAlpha=ot}setStrokeRGBColor(ot,pt,et){this.current.strokeColor=o.Util.makeHexColor(ot,pt,et)}setFillAlpha(ot){this.current.fillAlpha=ot}setFillRGBColor(ot,pt,et){this.current.fillColor=o.Util.makeHexColor(ot,pt,et),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(ot){this.current.strokeColor=this._makeColorN_Pattern(ot)}setFillColorN(ot){this.current.fillColor=this._makeColorN_Pattern(ot)}shadingFill(ot){const{width:pt,height:et}=this.viewport,at=o.Util.inverseTransform(this.transformMatrix),[ht,xt,ut,gt]=o.Util.getAxialAlignedBoundingBox([0,0,pt,et],at),Et=this.svgFactory.createElement("svg:rect");Et.setAttributeNS(null,"x",ht),Et.setAttributeNS(null,"y",xt),Et.setAttributeNS(null,"width",ut-ht),Et.setAttributeNS(null,"height",gt-xt),Et.setAttributeNS(null,"fill",this._makeShadingPattern(ot)),this.current.fillAlpha<1&&Et.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Et)}_makeColorN_Pattern(ot){return ot[0]==="TilingPattern"?this._makeTilingPattern(ot):this._makeShadingPattern(ot)}_makeTilingPattern(ot){const pt=ot[1],et=ot[2],at=ot[3]||o.IDENTITY_MATRIX,[ht,xt,ut,gt]=ot[4],Et=ot[5],Mt=ot[6],Nt=ot[7],It=`shading${tt++}`,[kt,bt,yt,At]=o.Util.normalizeRect([...o.Util.applyTransform([ht,xt],at),...o.Util.applyTransform([ut,gt],at)]),[Lt,jt]=o.Util.singularValueDecompose2dScale(at),ft=Et*Lt,mt=Mt*jt,vt=this.svgFactory.createElement("svg:pattern");vt.setAttributeNS(null,"id",It),vt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),vt.setAttributeNS(null,"width",ft),vt.setAttributeNS(null,"height",mt),vt.setAttributeNS(null,"x",`${kt}`),vt.setAttributeNS(null,"y",`${bt}`);const _t=this.svg,St=this.transformMatrix,Pt=this.current.fillColor,Ot=this.current.strokeColor,Gt=this.svgFactory.create(yt-kt,At-bt);if(this.svg=Gt,this.transformMatrix=at,Nt===2){const Yt=o.Util.makeHexColor(...pt);this.current.fillColor=Yt,this.current.strokeColor=Yt}return this.executeOpTree(this.convertOpList(et)),this.svg=_t,this.transformMatrix=St,this.current.fillColor=Pt,this.current.strokeColor=Ot,vt.append(Gt.childNodes[0]),this.defs.append(vt),`url(#${It})`}_makeShadingPattern(ot){switch(typeof ot=="string"&&(ot=this.objs.get(ot)),ot[0]){case"RadialAxial":const pt=`shading${tt++}`,et=ot[3];let at;switch(ot[1]){case"axial":const ht=ot[4],xt=ot[5];at=this.svgFactory.createElement("svg:linearGradient"),at.setAttributeNS(null,"id",pt),at.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),at.setAttributeNS(null,"x1",ht[0]),at.setAttributeNS(null,"y1",ht[1]),at.setAttributeNS(null,"x2",xt[0]),at.setAttributeNS(null,"y2",xt[1]);break;case"radial":const ut=ot[4],gt=ot[5],Et=ot[6],Mt=ot[7];at=this.svgFactory.createElement("svg:radialGradient"),at.setAttributeNS(null,"id",pt),at.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),at.setAttributeNS(null,"cx",gt[0]),at.setAttributeNS(null,"cy",gt[1]),at.setAttributeNS(null,"r",Mt),at.setAttributeNS(null,"fx",ut[0]),at.setAttributeNS(null,"fy",ut[1]),at.setAttributeNS(null,"fr",Et);break;default:throw new Error(`Unknown RadialAxial type: ${ot[1]}`)}for(const ht of et){const xt=this.svgFactory.createElement("svg:stop");xt.setAttributeNS(null,"offset",ht[0]),xt.setAttributeNS(null,"stop-color",ht[1]),at.append(xt)}return this.defs.append(at),`url(#${pt})`;case"Mesh":return(0,o.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${ot[0]}`)}}setDash(ot,pt){this.current.dashArray=ot,this.current.dashPhase=pt}constructPath(ot,pt){const et=this.current;let at=et.x,ht=et.y,xt=[],ut=0;for(const gt of ot)switch(gt|0){case o.OPS.rectangle:at=pt[ut++],ht=pt[ut++];const Et=pt[ut++],Mt=pt[ut++],Nt=at+Et,It=ht+Mt;xt.push("M",nt(at),nt(ht),"L",nt(Nt),nt(ht),"L",nt(Nt),nt(It),"L",nt(at),nt(It),"Z");break;case o.OPS.moveTo:at=pt[ut++],ht=pt[ut++],xt.push("M",nt(at),nt(ht));break;case o.OPS.lineTo:at=pt[ut++],ht=pt[ut++],xt.push("L",nt(at),nt(ht));break;case o.OPS.curveTo:at=pt[ut+4],ht=pt[ut+5],xt.push("C",nt(pt[ut]),nt(pt[ut+1]),nt(pt[ut+2]),nt(pt[ut+3]),nt(at),nt(ht)),ut+=6;break;case o.OPS.curveTo2:xt.push("C",nt(at),nt(ht),nt(pt[ut]),nt(pt[ut+1]),nt(pt[ut+2]),nt(pt[ut+3])),at=pt[ut+2],ht=pt[ut+3],ut+=4;break;case o.OPS.curveTo3:at=pt[ut+2],ht=pt[ut+3],xt.push("C",nt(pt[ut]),nt(pt[ut+1]),nt(at),nt(ht),nt(at),nt(ht)),ut+=4;break;case o.OPS.closePath:xt.push("Z");break}xt=xt.join(" "),et.path&&ot.length>0&&ot[0]!==o.OPS.rectangle&&ot[0]!==o.OPS.moveTo?xt=et.path.getAttributeNS(null,"d")+xt:(et.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(et.path)),et.path.setAttributeNS(null,"d",xt),et.path.setAttributeNS(null,"fill","none"),et.element=et.path,et.setCurrentPoint(at,ht)}endPath(){const ot=this.current;if(ot.path=null,!this.pendingClip)return;if(!ot.element){this.pendingClip=null;return}const pt=`clippath${st++}`,et=this.svgFactory.createElement("svg:clipPath");et.setAttributeNS(null,"id",pt),et.setAttributeNS(null,"transform",dt(this.transformMatrix));const at=ot.element.cloneNode(!0);if(this.pendingClip==="evenodd"?at.setAttributeNS(null,"clip-rule","evenodd"):at.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,et.append(at),this.defs.append(et),ot.activeClipUrl){ot.clipGroup=null;for(const ht of this.extraStack)ht.clipGroup=null;et.setAttributeNS(null,"clip-path",ot.activeClipUrl)}ot.activeClipUrl=`url(#${pt})`,this.tgrp=null}clip(ot){this.pendingClip=ot}closePath(){const ot=this.current;if(ot.path){const pt=`${ot.path.getAttributeNS(null,"d")}Z`;ot.path.setAttributeNS(null,"d",pt)}}setLeading(ot){this.current.leading=-ot}setTextRise(ot){this.current.textRise=ot}setTextRenderingMode(ot){this.current.textRenderingMode=ot}setHScale(ot){this.current.textHScale=ot/100}setRenderingIntent(ot){}setFlatness(ot){}setGState(ot){for(const[pt,et]of ot)switch(pt){case"LW":this.setLineWidth(et);break;case"LC":this.setLineCap(et);break;case"LJ":this.setLineJoin(et);break;case"ML":this.setMiterLimit(et);break;case"D":this.setDash(et[0],et[1]);break;case"RI":this.setRenderingIntent(et);break;case"FL":this.setFlatness(et);break;case"Font":this.setFont(et);break;case"CA":this.setStrokeAlpha(et);break;case"ca":this.setFillAlpha(et);break;default:(0,o.warn)(`Unimplemented graphic state operator ${pt}`);break}}fill(){const ot=this.current;ot.element&&(ot.element.setAttributeNS(null,"fill",ot.fillColor),ot.element.setAttributeNS(null,"fill-opacity",ot.fillAlpha),this.endPath())}stroke(){const ot=this.current;ot.element&&(this._setStrokeAttributes(ot.element),ot.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(ot,pt=1){const et=this.current;let at=et.dashArray;pt!==1&&at.length>0&&(at=at.map(function(ht){return pt*ht})),ot.setAttributeNS(null,"stroke",et.strokeColor),ot.setAttributeNS(null,"stroke-opacity",et.strokeAlpha),ot.setAttributeNS(null,"stroke-miterlimit",nt(et.miterLimit)),ot.setAttributeNS(null,"stroke-linecap",et.lineCap),ot.setAttributeNS(null,"stroke-linejoin",et.lineJoin),ot.setAttributeNS(null,"stroke-width",nt(pt*et.lineWidth)+"px"),ot.setAttributeNS(null,"stroke-dasharray",at.map(nt).join(" ")),ot.setAttributeNS(null,"stroke-dashoffset",nt(pt*et.dashPhase)+"px")}eoFill(){var ot;(ot=this.current.element)==null||ot.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var ot;(ot=this.current.element)==null||ot.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const ot=this.svgFactory.createElement("svg:rect");ot.setAttributeNS(null,"x","0"),ot.setAttributeNS(null,"y","0"),ot.setAttributeNS(null,"width","1px"),ot.setAttributeNS(null,"height","1px"),ot.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(ot)}paintImageXObject(ot){const pt=this.getObject(ot);if(!pt){(0,o.warn)(`Dependent image with object ID ${ot} is not ready yet`);return}this.paintInlineImageXObject(pt)}paintInlineImageXObject(ot,pt){const et=ot.width,at=ot.height,ht=_(ot,this.forceDataSchema,!!pt),xt=this.svgFactory.createElement("svg:rect");xt.setAttributeNS(null,"x","0"),xt.setAttributeNS(null,"y","0"),xt.setAttributeNS(null,"width",nt(et)),xt.setAttributeNS(null,"height",nt(at)),this.current.element=xt,this.clip("nonzero");const ut=this.svgFactory.createElement("svg:image");ut.setAttributeNS(g,"xlink:href",ht),ut.setAttributeNS(null,"x","0"),ut.setAttributeNS(null,"y",nt(-at)),ut.setAttributeNS(null,"width",nt(et)+"px"),ut.setAttributeNS(null,"height",nt(at)+"px"),ut.setAttributeNS(null,"transform",`scale(${nt(1/et)} ${nt(-1/at)})`),pt?pt.append(ut):this._ensureTransformGroup().append(ut)}paintImageMaskXObject(ot){const pt=this.getObject(ot.data,ot);if(pt.bitmap){(0,o.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const et=this.current,at=pt.width,ht=pt.height,xt=et.fillColor;et.maskId=`mask${_e++}`;const ut=this.svgFactory.createElement("svg:mask");ut.setAttributeNS(null,"id",et.maskId);const gt=this.svgFactory.createElement("svg:rect");gt.setAttributeNS(null,"x","0"),gt.setAttributeNS(null,"y","0"),gt.setAttributeNS(null,"width",nt(at)),gt.setAttributeNS(null,"height",nt(ht)),gt.setAttributeNS(null,"fill",xt),gt.setAttributeNS(null,"mask",`url(#${et.maskId})`),this.defs.append(ut),this._ensureTransformGroup().append(gt),this.paintInlineImageXObject(pt,ut)}paintFormXObjectBegin(ot,pt){if(Array.isArray(ot)&&ot.length===6&&this.transform(ot[0],ot[1],ot[2],ot[3],ot[4],ot[5]),pt){const et=pt[2]-pt[0],at=pt[3]-pt[1],ht=this.svgFactory.createElement("svg:rect");ht.setAttributeNS(null,"x",pt[0]),ht.setAttributeNS(null,"y",pt[1]),ht.setAttributeNS(null,"width",nt(et)),ht.setAttributeNS(null,"height",nt(at)),this.current.element=ht,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(ot){const pt=this.svgFactory.create(ot.width,ot.height),et=this.svgFactory.createElement("svg:defs");pt.append(et),this.defs=et;const at=this.svgFactory.createElement("svg:g");return at.setAttributeNS(null,"transform",dt(ot.transform)),pt.append(at),this.svg=at,pt}_ensureClipGroup(){if(!this.current.clipGroup){const ot=this.svgFactory.createElement("svg:g");ot.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(ot),this.current.clipGroup=ot}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",dt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}s.SVGGraphics=it},(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaText=void 0;class i{static textContent(o){const c=[],d={items:c,styles:Object.create(null)};function g(h){var _;if(!h)return;let b=null;const j=h.name;if(j==="#text")b=h.value;else if(i.shouldBuildText(j))(_=h==null?void 0:h.attributes)!=null&&_.textContent?b=h.attributes.textContent:h.value&&(b=h.value);else return;if(b!==null&&c.push({str:b}),!!h.children)for(const $ of h.children)g($)}return g(o),d}static shouldBuildText(o){return!(o==="textarea"||o==="input"||o==="option"||o==="select")}}s.XfaText=i},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerRenderTask=void 0,s.renderTextLayer=dt,s.updateTextLayer=st;var a=i(1),o=i(6);const c=1e5,d=30,g=.8,h=new Map;function b(_e,tt){let it;if(tt&&a.FeatureTest.isOffscreenCanvasSupported)it=new OffscreenCanvas(_e,_e).getContext("2d",{alpha:!1});else{const ct=document.createElement("canvas");ct.width=ct.height=_e,it=ct.getContext("2d",{alpha:!1})}return it}function j(_e,tt){const it=h.get(_e);if(it)return it;const ct=b(d,tt);ct.font=`${d}px ${_e}`;const ot=ct.measureText("");let pt=ot.fontBoundingBoxAscent,et=Math.abs(ot.fontBoundingBoxDescent);if(pt){const ht=pt/(pt+et);return h.set(_e,ht),ct.canvas.width=ct.canvas.height=0,ht}ct.strokeStyle="red",ct.clearRect(0,0,d,d),ct.strokeText("g",0,0);let at=ct.getImageData(0,0,d,d).data;et=0;for(let ht=at.length-1-3;ht>=0;ht-=4)if(at[ht]>0){et=Math.ceil(ht/4/d);break}ct.clearRect(0,0,d,d),ct.strokeText("A",0,d),at=ct.getImageData(0,0,d,d).data,pt=0;for(let ht=0,xt=at.length;ht<xt;ht+=4)if(at[ht]>0){pt=d-Math.floor(ht/4/d);break}if(ct.canvas.width=ct.canvas.height=0,pt){const ht=pt/(pt+et);return h.set(_e,ht),ht}return h.set(_e,g),g}function _(_e,tt,it){const ct=document.createElement("span"),ot={angle:0,canvasWidth:0,hasText:tt.str!=="",hasEOL:tt.hasEOL,fontSize:0};_e._textDivs.push(ct);const pt=a.Util.transform(_e._transform,tt.transform);let et=Math.atan2(pt[1],pt[0]);const at=it[tt.fontName];at.vertical&&(et+=Math.PI/2);const ht=Math.hypot(pt[2],pt[3]),xt=ht*j(at.fontFamily,_e._isOffscreenCanvasSupported);let ut,gt;et===0?(ut=pt[4],gt=pt[5]-xt):(ut=pt[4]+xt*Math.sin(et),gt=pt[5]-xt*Math.cos(et));const Et="calc(var(--scale-factor)*",Mt=ct.style;_e._container===_e._rootContainer?(Mt.left=`${(100*ut/_e._pageWidth).toFixed(2)}%`,Mt.top=`${(100*gt/_e._pageHeight).toFixed(2)}%`):(Mt.left=`${Et}${ut.toFixed(2)}px)`,Mt.top=`${Et}${gt.toFixed(2)}px)`),Mt.fontSize=`${Et}${ht.toFixed(2)}px)`,Mt.fontFamily=at.fontFamily,ot.fontSize=ht,ct.setAttribute("role","presentation"),ct.textContent=tt.str,ct.dir=tt.dir,_e._fontInspectorEnabled&&(ct.dataset.fontName=tt.fontName),et!==0&&(ot.angle=et*(180/Math.PI));let Nt=!1;if(tt.str.length>1)Nt=!0;else if(tt.str!==" "&&tt.transform[0]!==tt.transform[3]){const It=Math.abs(tt.transform[0]),kt=Math.abs(tt.transform[3]);It!==kt&&Math.max(It,kt)/Math.min(It,kt)>1.5&&(Nt=!0)}Nt&&(ot.canvasWidth=at.vertical?tt.height:tt.width),_e._textDivProperties.set(ct,ot),_e._isReadableStream&&_e._layoutText(ct)}function $(_e){const{div:tt,scale:it,properties:ct,ctx:ot,prevFontSize:pt,prevFontFamily:et}=_e,{style:at}=tt;let ht="";if(ct.canvasWidth!==0&&ct.hasText){const{fontFamily:xt}=at,{canvasWidth:ut,fontSize:gt}=ct;(pt!==gt||et!==xt)&&(ot.font=`${gt*it}px ${xt}`,_e.prevFontSize=gt,_e.prevFontFamily=xt);const{width:Et}=ot.measureText(tt.textContent);Et>0&&(ht=`scaleX(${ut*it/Et})`)}ct.angle!==0&&(ht=`rotate(${ct.angle}deg) ${ht}`),ht.length>0&&(at.transform=ht)}function rt(_e){if(_e._canceled)return;const tt=_e._textDivs,it=_e._capability;if(tt.length>c){it.resolve();return}if(!_e._isReadableStream)for(const ot of tt)_e._layoutText(ot);it.resolve()}class nt{constructor({textContentSource:tt,container:it,viewport:ct,textDivs:ot,textDivProperties:pt,textContentItemsStr:et,isOffscreenCanvasSupported:at}){var Et;this._textContentSource=tt,this._isReadableStream=tt instanceof ReadableStream,this._container=this._rootContainer=it,this._textDivs=ot||[],this._textContentItemsStr=et||[],this._isOffscreenCanvasSupported=at,this._fontInspectorEnabled=!!((Et=globalThis.FontInspector)!=null&&Et.enabled),this._reader=null,this._textDivProperties=pt||new WeakMap,this._canceled=!1,this._capability=new a.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:ct.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:b(0,at)};const{pageWidth:ht,pageHeight:xt,pageX:ut,pageY:gt}=ct.rawDims;this._transform=[1,0,0,-1,-ut,gt+xt],this._pageWidth=ht,this._pageHeight=xt,(0,o.setLayerDimensions)(it,ct),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new a.AbortException("TextLayer task cancelled."))}_processItems(tt,it){for(const ct of tt){if(ct.str===void 0){if(ct.type==="beginMarkedContentProps"||ct.type==="beginMarkedContent"){const ot=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),ct.id!==null&&this._container.setAttribute("id",`${ct.id}`),ot.append(this._container)}else ct.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(ct.str),_(this,ct,it)}}_layoutText(tt){const it=this._layoutTextParams.properties=this._textDivProperties.get(tt);if(this._layoutTextParams.div=tt,$(this._layoutTextParams),it.hasText&&this._container.append(tt),it.hasEOL){const ct=document.createElement("br");ct.setAttribute("role","presentation"),this._container.append(ct)}}_render(){const tt=new a.PromiseCapability;let it=Object.create(null);if(this._isReadableStream){const ct=()=>{this._reader.read().then(({value:ot,done:pt})=>{if(pt){tt.resolve();return}Object.assign(it,ot.styles),this._processItems(ot.items,it),ct()},tt.reject)};this._reader=this._textContentSource.getReader(),ct()}else if(this._textContentSource){const{items:ct,styles:ot}=this._textContentSource;this._processItems(ct,ot),tt.resolve()}else throw new Error('No "textContentSource" parameter specified.');tt.promise.then(()=>{it=null,rt(this)},this._capability.reject)}}s.TextLayerRenderTask=nt;function dt(_e){!_e.textContentSource&&(_e.textContent||_e.textContentStream)&&((0,o.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),_e.textContentSource=_e.textContent||_e.textContentStream);const{container:tt,viewport:it}=_e,ct=getComputedStyle(tt),ot=ct.getPropertyValue("visibility"),pt=parseFloat(ct.getPropertyValue("--scale-factor"));ot==="visible"&&(!pt||Math.abs(pt-it.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const et=new nt(_e);return et._render(),et}function st({container:_e,viewport:tt,textDivs:it,textDivProperties:ct,isOffscreenCanvasSupported:ot,mustRotate:pt=!0,mustRescale:et=!0}){if(pt&&(0,o.setLayerDimensions)(_e,{rotation:tt.rotation}),et){const at=b(0,ot),xt={prevFontSize:null,prevFontFamily:null,div:null,scale:tt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:at};for(const ut of it)xt.properties=ct.get(ut),xt.div=ut,$(xt)}}},(e,s,i)=>{var j,_,$,rt,nt,dt,st,_e,tt,it,ct,Qn,Sn,Zn,es;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayer=void 0;var a=i(1),o=i(4),c=i(28),d=i(33),g=i(6),h=i(34);const ht=class ht{constructor({uiManager:ut,pageIndex:gt,div:Et,accessibilityManager:Mt,annotationLayer:Nt,viewport:It,l10n:kt}){Xt(this,ct);Xt(this,j);Xt(this,_,!1);Xt(this,$,null);Xt(this,rt,this.pointerup.bind(this));Xt(this,nt,this.pointerdown.bind(this));Xt(this,dt,new Map);Xt(this,st,!1);Xt(this,_e,!1);Xt(this,tt,!1);Xt(this,it);const bt=[c.FreeTextEditor,d.InkEditor,h.StampEditor];if(!ht._initialized){ht._initialized=!0;for(const yt of bt)yt.initialize(kt)}ut.registerEditorTypes(bt),Jt(this,it,ut),this.pageIndex=gt,this.div=Et,Jt(this,j,Mt),Jt(this,$,Nt),this.viewport=It,lt(this,it).addLayer(this)}get isEmpty(){return lt(this,dt).size===0}updateToolbar(ut){lt(this,it).updateToolbar(ut)}updateMode(ut=lt(this,it).getMode()){Ut(this,ct,es).call(this),ut===a.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),ut!==a.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",ut===a.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",ut===a.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",ut===a.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(ut){if(!ut&&lt(this,it).getMode()!==a.AnnotationEditorType.INK)return;if(!ut){for(const Et of lt(this,dt).values())if(Et.isEmpty()){Et.setInBackground();return}}Ut(this,ct,Sn).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(ut){lt(this,it).setEditingState(ut)}addCommands(ut){lt(this,it).addCommands(ut)}enable(){this.div.style.pointerEvents="auto";const ut=new Set;for(const Et of lt(this,dt).values())Et.enableEditing(),Et.annotationElementId&&ut.add(Et.annotationElementId);if(!lt(this,$))return;const gt=lt(this,$).getEditableAnnotations();for(const Et of gt){if(Et.hide(),lt(this,it).isDeletedAnnotationElement(Et.data.id)||ut.has(Et.data.id))continue;const Mt=this.deserialize(Et);Mt&&(this.addOrRebuild(Mt),Mt.enableEditing())}}disable(){var gt;Jt(this,tt,!0),this.div.style.pointerEvents="none";const ut=new Set;for(const Et of lt(this,dt).values()){if(Et.disableEditing(),!Et.annotationElementId||Et.serialize()!==null){ut.add(Et.annotationElementId);continue}(gt=this.getEditableAnnotation(Et.annotationElementId))==null||gt.show(),Et.remove()}if(lt(this,$)){const Et=lt(this,$).getEditableAnnotations();for(const Mt of Et){const{id:Nt}=Mt.data;ut.has(Nt)||lt(this,it).isDeletedAnnotationElement(Nt)||Mt.show()}}Ut(this,ct,es).call(this),this.isEmpty&&(this.div.hidden=!0),Jt(this,tt,!1)}getEditableAnnotation(ut){var gt;return((gt=lt(this,$))==null?void 0:gt.getEditableAnnotation(ut))||null}setActiveEditor(ut){lt(this,it).getActive()!==ut&&lt(this,it).setActiveEditor(ut)}enableClick(){this.div.addEventListener("pointerdown",lt(this,nt)),this.div.addEventListener("pointerup",lt(this,rt))}disableClick(){this.div.removeEventListener("pointerdown",lt(this,nt)),this.div.removeEventListener("pointerup",lt(this,rt))}attach(ut){lt(this,dt).set(ut.id,ut);const{annotationElementId:gt}=ut;gt&&lt(this,it).isDeletedAnnotationElement(gt)&&lt(this,it).removeDeletedAnnotationElement(ut)}detach(ut){var gt;lt(this,dt).delete(ut.id),(gt=lt(this,j))==null||gt.removePointerInTextLayer(ut.contentDiv),!lt(this,tt)&&ut.annotationElementId&&lt(this,it).addDeletedAnnotationElement(ut)}remove(ut){this.detach(ut),lt(this,it).removeEditor(ut),ut.div.contains(document.activeElement)&&setTimeout(()=>{lt(this,it).focusMainContainer()},0),ut.div.remove(),ut.isAttachedToDOM=!1,lt(this,_e)||this.addInkEditorIfNeeded(!1)}changeParent(ut){var gt;ut.parent!==this&&(ut.annotationElementId&&(lt(this,it).addDeletedAnnotationElement(ut.annotationElementId),o.AnnotationEditor.deleteAnnotationElement(ut),ut.annotationElementId=null),this.attach(ut),(gt=ut.parent)==null||gt.detach(ut),ut.setParent(this),ut.div&&ut.isAttachedToDOM&&(ut.div.remove(),this.div.append(ut.div)))}add(ut){if(this.changeParent(ut),lt(this,it).addEditor(ut),this.attach(ut),!ut.isAttachedToDOM){const gt=ut.render();this.div.append(gt),ut.isAttachedToDOM=!0}ut.fixAndSetPosition(),ut.onceAdded(),lt(this,it).addToAnnotationStorage(ut)}moveEditorInDOM(ut){var Et;if(!ut.isAttachedToDOM)return;const{activeElement:gt}=document;ut.div.contains(gt)&&(ut._focusEventsAllowed=!1,setTimeout(()=>{ut.div.contains(document.activeElement)?ut._focusEventsAllowed=!0:(ut.div.addEventListener("focusin",()=>{ut._focusEventsAllowed=!0},{once:!0}),gt.focus())},0)),ut._structTreeParentId=(Et=lt(this,j))==null?void 0:Et.moveElementInDOM(this.div,ut.div,ut.contentDiv,!0)}addOrRebuild(ut){ut.needsToBeRebuilt()?ut.rebuild():this.add(ut)}addUndoableEditor(ut){const gt=()=>ut._uiManager.rebuild(ut),Et=()=>{ut.remove()};this.addCommands({cmd:gt,undo:Et,mustExec:!1})}getNextId(){return lt(this,it).getId()}pasteEditor(ut,gt){lt(this,it).updateToolbar(ut),lt(this,it).updateMode(ut);const{offsetX:Et,offsetY:Mt}=Ut(this,ct,Zn).call(this),Nt=this.getNextId(),It=Ut(this,ct,Qn).call(this,{parent:this,id:Nt,x:Et,y:Mt,uiManager:lt(this,it),isCentered:!0,...gt});It&&this.add(It)}deserialize(ut){switch(ut.annotationType??ut.annotationEditorType){case a.AnnotationEditorType.FREETEXT:return c.FreeTextEditor.deserialize(ut,this,lt(this,it));case a.AnnotationEditorType.INK:return d.InkEditor.deserialize(ut,this,lt(this,it));case a.AnnotationEditorType.STAMP:return h.StampEditor.deserialize(ut,this,lt(this,it))}return null}addNewEditor(){Ut(this,ct,Sn).call(this,Ut(this,ct,Zn).call(this),!0)}setSelected(ut){lt(this,it).setSelected(ut)}toggleSelected(ut){lt(this,it).toggleSelected(ut)}isSelected(ut){return lt(this,it).isSelected(ut)}unselect(ut){lt(this,it).unselect(ut)}pointerup(ut){const{isMac:gt}=a.FeatureTest.platform;if(!(ut.button!==0||ut.ctrlKey&&gt)&&ut.target===this.div&&lt(this,st)){if(Jt(this,st,!1),!lt(this,_)){Jt(this,_,!0);return}if(lt(this,it).getMode()===a.AnnotationEditorType.STAMP){lt(this,it).unselectAll();return}Ut(this,ct,Sn).call(this,ut,!1)}}pointerdown(ut){if(lt(this,st)){Jt(this,st,!1);return}const{isMac:gt}=a.FeatureTest.platform;if(ut.button!==0||ut.ctrlKey&&gt||ut.target!==this.div)return;Jt(this,st,!0);const Et=lt(this,it).getActive();Jt(this,_,!Et||Et.isEmpty())}findNewParent(ut,gt,Et){const Mt=lt(this,it).findParent(gt,Et);return Mt===null||Mt===this?!1:(Mt.changeParent(ut),!0)}destroy(){var ut,gt;((ut=lt(this,it).getActive())==null?void 0:ut.parent)===this&&(lt(this,it).commitOrRemove(),lt(this,it).setActiveEditor(null));for(const Et of lt(this,dt).values())(gt=lt(this,j))==null||gt.removePointerInTextLayer(Et.contentDiv),Et.setParent(null),Et.isAttachedToDOM=!1,Et.div.remove();this.div=null,lt(this,dt).clear(),lt(this,it).removeLayer(this)}render({viewport:ut}){this.viewport=ut,(0,g.setLayerDimensions)(this.div,ut);for(const gt of lt(this,it).getEditors(this.pageIndex))this.add(gt);this.updateMode()}update({viewport:ut}){lt(this,it).commitOrRemove(),this.viewport=ut,(0,g.setLayerDimensions)(this.div,{rotation:ut.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:ut,pageHeight:gt}=this.viewport.rawDims;return[ut,gt]}};j=new WeakMap,_=new WeakMap,$=new WeakMap,rt=new WeakMap,nt=new WeakMap,dt=new WeakMap,st=new WeakMap,_e=new WeakMap,tt=new WeakMap,it=new WeakMap,ct=new WeakSet,Qn=function(ut){switch(lt(this,it).getMode()){case a.AnnotationEditorType.FREETEXT:return new c.FreeTextEditor(ut);case a.AnnotationEditorType.INK:return new d.InkEditor(ut);case a.AnnotationEditorType.STAMP:return new h.StampEditor(ut)}return null},Sn=function(ut,gt){const Et=this.getNextId(),Mt=Ut(this,ct,Qn).call(this,{parent:this,id:Et,x:ut.offsetX,y:ut.offsetY,uiManager:lt(this,it),isCentered:gt});return Mt&&this.add(Mt),Mt},Zn=function(){const{x:ut,y:gt,width:Et,height:Mt}=this.div.getBoundingClientRect(),Nt=Math.max(0,ut),It=Math.max(0,gt),kt=Math.min(window.innerWidth,ut+Et),bt=Math.min(window.innerHeight,gt+Mt),yt=(Nt+kt)/2-ut,At=(It+bt)/2-gt,[Lt,jt]=this.viewport.rotation%180===0?[yt,At]:[At,yt];return{offsetX:Lt,offsetY:jt}},es=function(){Jt(this,_e,!0);for(const ut of lt(this,dt).values())ut.isEmpty()&&ut.remove();Jt(this,_e,!1)},$r(ht,"_initialized",!1);let b=ht;s.AnnotationEditorLayer=b},(e,s,i)=>{var h,b,j,_,$,rt,nt,dt,st,_e,Bs,Us,Vs,mn,ts,zs,rs;Object.defineProperty(s,"__esModule",{value:!0}),s.FreeTextEditor=void 0;var a=i(1),o=i(5),c=i(4),d=i(29);const ht=class ht extends c.AnnotationEditor{constructor(gt){super({...gt,name:"freeTextEditor"});Xt(this,_e);Xt(this,h,this.editorDivBlur.bind(this));Xt(this,b,this.editorDivFocus.bind(this));Xt(this,j,this.editorDivInput.bind(this));Xt(this,_,this.editorDivKeydown.bind(this));Xt(this,$);Xt(this,rt,"");Xt(this,nt,`${this.id}-editor`);Xt(this,dt);Xt(this,st,null);Jt(this,$,gt.color||ht._defaultColor||c.AnnotationEditor._defaultLineColor),Jt(this,dt,gt.fontSize||ht._defaultFontSize)}static get _keyboardManager(){const gt=ht.prototype,Et=It=>It.isEmpty(),Mt=o.AnnotationEditorUIManager.TRANSLATE_SMALL,Nt=o.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new o.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],gt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],gt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],gt._translateEmpty,{args:[-Mt,0],checker:Et}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],gt._translateEmpty,{args:[-Nt,0],checker:Et}],[["ArrowRight","mac+ArrowRight"],gt._translateEmpty,{args:[Mt,0],checker:Et}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],gt._translateEmpty,{args:[Nt,0],checker:Et}],[["ArrowUp","mac+ArrowUp"],gt._translateEmpty,{args:[0,-Mt],checker:Et}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],gt._translateEmpty,{args:[0,-Nt],checker:Et}],[["ArrowDown","mac+ArrowDown"],gt._translateEmpty,{args:[0,Mt],checker:Et}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],gt._translateEmpty,{args:[0,Nt],checker:Et}]]))}static initialize(gt){c.AnnotationEditor.initialize(gt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Et=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Et.getPropertyValue("--freetext-padding"))}static updateDefaultParams(gt,Et){switch(gt){case a.AnnotationEditorParamsType.FREETEXT_SIZE:ht._defaultFontSize=Et;break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:ht._defaultColor=Et;break}}updateParams(gt,Et){switch(gt){case a.AnnotationEditorParamsType.FREETEXT_SIZE:Ut(this,_e,Bs).call(this,Et);break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:Ut(this,_e,Us).call(this,Et);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,ht._defaultFontSize],[a.AnnotationEditorParamsType.FREETEXT_COLOR,ht._defaultColor||c.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,lt(this,dt)],[a.AnnotationEditorParamsType.FREETEXT_COLOR,lt(this,$)]]}_translateEmpty(gt,Et){this._uiManager.translateSelectedEditors(gt,Et,!0)}getInitialTranslation(){const gt=this.parentScale;return[-ht._internalPadding*gt,-(ht._internalPadding+lt(this,dt))*gt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(a.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",lt(this,_)),this.editorDiv.addEventListener("focus",lt(this,b)),this.editorDiv.addEventListener("blur",lt(this,h)),this.editorDiv.addEventListener("input",lt(this,j)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",lt(this,nt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",lt(this,_)),this.editorDiv.removeEventListener("focus",lt(this,b)),this.editorDiv.removeEventListener("blur",lt(this,h)),this.editorDiv.removeEventListener("input",lt(this,j)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(gt){this._focusEventsAllowed&&(super.focusin(gt),gt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var gt;if(this.width){Ut(this,_e,rs).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(gt=this._initialOptions)!=null&&gt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const gt=lt(this,rt),Et=Jt(this,rt,Ut(this,_e,Vs).call(this).trimEnd());if(gt===Et)return;const Mt=Nt=>{if(Jt(this,rt,Nt),!Nt){this.remove();return}Ut(this,_e,ts).call(this),this._uiManager.rebuild(this),Ut(this,_e,mn).call(this)};this.addCommands({cmd:()=>{Mt(Et)},undo:()=>{Mt(gt)},mustExec:!1}),Ut(this,_e,mn).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(gt){this.enterInEditMode()}keydown(gt){gt.target===this.div&&gt.key==="Enter"&&(this.enterInEditMode(),gt.preventDefault())}editorDivKeydown(gt){ht._keyboardManager.exec(this,gt)}editorDivFocus(gt){this.isEditing=!0}editorDivBlur(gt){this.isEditing=!1}editorDivInput(gt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let gt,Et;this.width&&(gt=this.x,Et=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",lt(this,nt)),this.enableEditing(),c.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Nt=>{var It;return(It=this.editorDiv)==null?void 0:It.setAttribute("aria-label",Nt)}),c.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Nt=>{var It;return(It=this.editorDiv)==null?void 0:It.setAttribute("default-content",Nt)}),this.editorDiv.contentEditable=!0;const{style:Mt}=this.editorDiv;if(Mt.fontSize=`calc(${lt(this,dt)}px * var(--scale-factor))`,Mt.color=lt(this,$),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,o.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Nt,It]=this.parentDimensions;if(this.annotationElementId){const{position:kt}=lt(this,st);let[bt,yt]=this.getInitialTranslation();[bt,yt]=this.pageTranslationToScreen(bt,yt);const[At,Lt]=this.pageDimensions,[jt,ft]=this.pageTranslation;let mt,vt;switch(this.rotation){case 0:mt=gt+(kt[0]-jt)/At,vt=Et+this.height-(kt[1]-ft)/Lt;break;case 90:mt=gt+(kt[0]-jt)/At,vt=Et-(kt[1]-ft)/Lt,[bt,yt]=[yt,-bt];break;case 180:mt=gt-this.width+(kt[0]-jt)/At,vt=Et-(kt[1]-ft)/Lt,[bt,yt]=[-bt,-yt];break;case 270:mt=gt+(kt[0]-jt-this.height*Lt)/At,vt=Et+(kt[1]-ft-this.width*At)/Lt,[bt,yt]=[-yt,bt];break}this.setAt(mt*Nt,vt*It,bt,yt)}else this.setAt(gt*Nt,Et*It,this.width*Nt,this.height*It);Ut(this,_e,ts).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(gt,Et,Mt){let Nt=null;if(gt instanceof d.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:kt,fontColor:bt},rect:yt,rotation:At,id:Lt},textContent:jt,textPosition:ft,parent:{page:{pageNumber:mt}}}=gt;if(!jt||jt.length===0)return null;Nt=gt={annotationType:a.AnnotationEditorType.FREETEXT,color:Array.from(bt),fontSize:kt,value:jt.join(`
`),position:ft,pageIndex:mt-1,rect:yt,rotation:At,id:Lt,deleted:!1}}const It=super.deserialize(gt,Et,Mt);return Jt(It,dt,gt.fontSize),Jt(It,$,a.Util.makeHexColor(...gt.color)),Jt(It,rt,gt.value),It.annotationElementId=gt.id||null,Jt(It,st,Nt),It}serialize(gt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Et=ht._internalPadding*this.parentScale,Mt=this.getRect(Et,Et),Nt=c.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:lt(this,$)),It={annotationType:a.AnnotationEditorType.FREETEXT,color:Nt,fontSize:lt(this,dt),value:lt(this,rt),pageIndex:this.pageIndex,rect:Mt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return gt?It:this.annotationElementId&&!Ut(this,_e,zs).call(this,It)?null:(It.id=this.annotationElementId,It)}};h=new WeakMap,b=new WeakMap,j=new WeakMap,_=new WeakMap,$=new WeakMap,rt=new WeakMap,nt=new WeakMap,dt=new WeakMap,st=new WeakMap,_e=new WeakSet,Bs=function(gt){const Et=Nt=>{this.editorDiv.style.fontSize=`calc(${Nt}px * var(--scale-factor))`,this.translate(0,-(Nt-lt(this,dt))*this.parentScale),Jt(this,dt,Nt),Ut(this,_e,mn).call(this)},Mt=lt(this,dt);this.addCommands({cmd:()=>{Et(gt)},undo:()=>{Et(Mt)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Us=function(gt){const Et=lt(this,$);this.addCommands({cmd:()=>{Jt(this,$,this.editorDiv.style.color=gt)},undo:()=>{Jt(this,$,this.editorDiv.style.color=Et)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Vs=function(){const gt=this.editorDiv.getElementsByTagName("div");if(gt.length===0)return this.editorDiv.innerText;const Et=[];for(const Mt of gt)Et.push(Mt.innerText.replace(/\r\n?|\n/,""));return Et.join(`
`)},mn=function(){const[gt,Et]=this.parentDimensions;let Mt;if(this.isAttachedToDOM)Mt=this.div.getBoundingClientRect();else{const{currentLayer:Nt,div:It}=this,kt=It.style.display;It.style.display="hidden",Nt.div.append(this.div),Mt=It.getBoundingClientRect(),It.remove(),It.style.display=kt}this.rotation%180===this.parentRotation%180?(this.width=Mt.width/gt,this.height=Mt.height/Et):(this.width=Mt.height/gt,this.height=Mt.width/Et),this.fixAndSetPosition()},ts=function(){if(this.editorDiv.replaceChildren(),!!lt(this,rt))for(const gt of lt(this,rt).split(`
`)){const Et=document.createElement("div");Et.append(gt?document.createTextNode(gt):document.createElement("br")),this.editorDiv.append(Et)}},zs=function(gt){const{value:Et,fontSize:Mt,color:Nt,rect:It,pageIndex:kt}=lt(this,st);return gt.value!==Et||gt.fontSize!==Mt||gt.rect.some((bt,yt)=>Math.abs(bt-It[yt])>=1)||gt.color.some((bt,yt)=>bt!==Nt[yt])||gt.pageIndex!==kt},rs=function(gt=!1){if(!this.annotationElementId)return;if(Ut(this,_e,mn).call(this),!gt&&(this.width===0||this.height===0)){setTimeout(()=>Ut(this,_e,rs).call(this,!0),0);return}const Et=ht._internalPadding*this.parentScale;lt(this,st).rect=this.getRect(Et,Et)},$r(ht,"_freeTextDefaultContent",""),$r(ht,"_internalPadding",0),$r(ht,"_defaultColor",null),$r(ht,"_defaultFontSize",10),$r(ht,"_type","freetext");let g=ht;s.FreeTextEditor=g},(e,s,i)=>{var vt,St,en,Gs,Gt,Yt,Qt,rr,Wt,nr,Vt,zt,wt,Tt,Bt,Ht,tr,ar,ir,Ft,pr,dr,Ws,An,ns,ss,jr,Pr,Mr,lr,qt,Kt,gr,as,Cr,Dt,sr,hr,Hs,os;Object.defineProperty(s,"__esModule",{value:!0}),s.StampAnnotationElement=s.InkAnnotationElement=s.FreeTextAnnotationElement=s.AnnotationLayer=void 0;var a=i(1),o=i(6),c=i(3),d=i(30),g=i(31),h=i(32);const b=1e3,j=9,_=new WeakSet;function $(mr){return{width:mr[2]-mr[0],height:mr[3]-mr[1]}}class rt{static create(Ct){switch(Ct.data.annotationType){case a.AnnotationType.LINK:return new dt(Ct);case a.AnnotationType.TEXT:return new st(Ct);case a.AnnotationType.WIDGET:switch(Ct.data.fieldType){case"Tx":return new tt(Ct);case"Btn":return Ct.data.radioButton?new ot(Ct):Ct.data.checkBox?new ct(Ct):new pt(Ct);case"Ch":return new et(Ct);case"Sig":return new it(Ct)}return new _e(Ct);case a.AnnotationType.POPUP:return new at(Ct);case a.AnnotationType.FREETEXT:return new xt(Ct);case a.AnnotationType.LINE:return new ut(Ct);case a.AnnotationType.SQUARE:return new gt(Ct);case a.AnnotationType.CIRCLE:return new Et(Ct);case a.AnnotationType.POLYLINE:return new Mt(Ct);case a.AnnotationType.CARET:return new It(Ct);case a.AnnotationType.INK:return new kt(Ct);case a.AnnotationType.POLYGON:return new Nt(Ct);case a.AnnotationType.HIGHLIGHT:return new bt(Ct);case a.AnnotationType.UNDERLINE:return new yt(Ct);case a.AnnotationType.SQUIGGLY:return new At(Ct);case a.AnnotationType.STRIKEOUT:return new Lt(Ct);case a.AnnotationType.STAMP:return new jt(Ct);case a.AnnotationType.FILEATTACHMENT:return new ft(Ct);default:return new nt(Ct)}}}const _t=class _t{constructor(Ct,{isRenderable:Rt=!1,ignoreBorder:$t=!1,createQuadrilaterals:Zt=!1}={}){Xt(this,vt,!1);this.isRenderable=Rt,this.data=Ct.data,this.layer=Ct.layer,this.linkService=Ct.linkService,this.downloadManager=Ct.downloadManager,this.imageResourcesPath=Ct.imageResourcesPath,this.renderForms=Ct.renderForms,this.svgFactory=Ct.svgFactory,this.annotationStorage=Ct.annotationStorage,this.enableScripting=Ct.enableScripting,this.hasJSActions=Ct.hasJSActions,this._fieldObjects=Ct.fieldObjects,this.parent=Ct.parent,Rt&&(this.container=this._createContainer($t)),Zt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Ct,contentsObj:Rt,richText:$t}){return!!(Ct!=null&&Ct.str||Rt!=null&&Rt.str||$t!=null&&$t.str)}get hasPopupData(){return _t._hasPopupData(this.data)}_createContainer(Ct){const{data:Rt,parent:{page:$t,viewport:Zt}}=this,er=document.createElement("section");er.setAttribute("data-annotation-id",Rt.id),this instanceof _e||(er.tabIndex=b),er.style.zIndex=this.parent.zIndex++,this.data.popupRef&&er.setAttribute("aria-haspopup","dialog"),Rt.noRotate&&er.classList.add("norotate");const{pageWidth:or,pageHeight:cr,pageX:wr,pageY:yr}=Zt.rawDims;if(!Rt.rect||this instanceof at){const{rotation:Ar}=Rt;return!Rt.hasOwnCanvas&&Ar!==0&&this.setRotation(Ar,er),er}const{width:fr,height:Nr}=$(Rt.rect),br=a.Util.normalizeRect([Rt.rect[0],$t.view[3]-Rt.rect[1]+$t.view[1],Rt.rect[2],$t.view[3]-Rt.rect[3]+$t.view[1]]);if(!Ct&&Rt.borderStyle.width>0){er.style.borderWidth=`${Rt.borderStyle.width}px`;const Ar=Rt.borderStyle.horizontalCornerRadius,Tr=Rt.borderStyle.verticalCornerRadius;if(Ar>0||Tr>0){const Or=`calc(${Ar}px * var(--scale-factor)) / calc(${Tr}px * var(--scale-factor))`;er.style.borderRadius=Or}else if(this instanceof ot){const Or=`calc(${fr}px * var(--scale-factor)) / calc(${Nr}px * var(--scale-factor))`;er.style.borderRadius=Or}switch(Rt.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:er.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:er.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:er.style.borderBottomStyle="solid";break}const Fr=Rt.borderColor||null;Fr?(Jt(this,vt,!0),er.style.borderColor=a.Util.makeHexColor(Fr[0]|0,Fr[1]|0,Fr[2]|0)):er.style.borderWidth=0}er.style.left=`${100*(br[0]-wr)/or}%`,er.style.top=`${100*(br[1]-yr)/cr}%`;const{rotation:kr}=Rt;return Rt.hasOwnCanvas||kr===0?(er.style.width=`${100*fr/or}%`,er.style.height=`${100*Nr/cr}%`):this.setRotation(kr,er),er}setRotation(Ct,Rt=this.container){if(!this.data.rect)return;const{pageWidth:$t,pageHeight:Zt}=this.parent.viewport.rawDims,{width:er,height:or}=$(this.data.rect);let cr,wr;Ct%180===0?(cr=100*er/$t,wr=100*or/Zt):(cr=100*or/$t,wr=100*er/Zt),Rt.style.width=`${cr}%`,Rt.style.height=`${wr}%`,Rt.setAttribute("data-main-rotation",(360-Ct)%360)}get _commonActions(){const Ct=(Rt,$t,Zt)=>{const er=Zt.detail[Rt],or=er[0],cr=er.slice(1);Zt.target.style[$t]=d.ColorConverters[`${or}_HTML`](cr),this.annotationStorage.setValue(this.data.id,{[$t]:d.ColorConverters[`${or}_rgb`](cr)})};return(0,a.shadow)(this,"_commonActions",{display:Rt=>{const{display:$t}=Rt.detail,Zt=$t%2===1;this.container.style.visibility=Zt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Zt,noPrint:$t===1||$t===2})},print:Rt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Rt.detail.print})},hidden:Rt=>{const{hidden:$t}=Rt.detail;this.container.style.visibility=$t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:$t,noView:$t})},focus:Rt=>{setTimeout(()=>Rt.target.focus({preventScroll:!1}),0)},userName:Rt=>{Rt.target.title=Rt.detail.userName},readonly:Rt=>{Rt.target.disabled=Rt.detail.readonly},required:Rt=>{this._setRequired(Rt.target,Rt.detail.required)},bgColor:Rt=>{Ct("bgColor","backgroundColor",Rt)},fillColor:Rt=>{Ct("fillColor","backgroundColor",Rt)},fgColor:Rt=>{Ct("fgColor","color",Rt)},textColor:Rt=>{Ct("textColor","color",Rt)},borderColor:Rt=>{Ct("borderColor","borderColor",Rt)},strokeColor:Rt=>{Ct("strokeColor","borderColor",Rt)},rotation:Rt=>{const $t=Rt.detail.rotation;this.setRotation($t),this.annotationStorage.setValue(this.data.id,{rotation:$t})}})}_dispatchEventFromSandbox(Ct,Rt){const $t=this._commonActions;for(const Zt of Object.keys(Rt.detail)){const er=Ct[Zt]||$t[Zt];er==null||er(Rt)}}_setDefaultPropertiesFromJS(Ct){if(!this.enableScripting)return;const Rt=this.annotationStorage.getRawValue(this.data.id);if(!Rt)return;const $t=this._commonActions;for(const[Zt,er]of Object.entries(Rt)){const or=$t[Zt];if(or){const cr={detail:{[Zt]:er},target:Ct};or(cr),delete Rt[Zt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Ct}=this.data;if(!Ct)return;const[Rt,$t,Zt,er]=this.data.rect;if(Ct.length===1){const[,{x:Tr,y:Fr},{x:Or,y:Vr}]=Ct[0];if(Zt===Tr&&er===Fr&&Rt===Or&&$t===Vr)return}const{style:or}=this.container;let cr;if(lt(this,vt)){const{borderColor:Tr,borderWidth:Fr}=or;or.borderWidth=0,cr=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Tr}" stroke-width="${Fr}">`],this.container.classList.add("hasBorder")}const wr=Zt-Rt,yr=er-$t,{svgFactory:fr}=this,Nr=fr.createElement("svg");Nr.classList.add("quadrilateralsContainer"),Nr.setAttribute("width",0),Nr.setAttribute("height",0);const br=fr.createElement("defs");Nr.append(br);const kr=fr.createElement("clipPath"),Ar=`clippath_${this.data.id}`;kr.setAttribute("id",Ar),kr.setAttribute("clipPathUnits","objectBoundingBox"),br.append(kr);for(const[,{x:Tr,y:Fr},{x:Or,y:Vr}]of Ct){const Br=fr.createElement("rect"),qr=(Or-Rt)/wr,Xr=(er-Fr)/yr,Yr=(Tr-Or)/wr,on=(Fr-Vr)/yr;Br.setAttribute("x",qr),Br.setAttribute("y",Xr),Br.setAttribute("width",Yr),Br.setAttribute("height",on),kr.append(Br),cr==null||cr.push(`<rect vector-effect="non-scaling-stroke" x="${qr}" y="${Xr}" width="${Yr}" height="${on}"/>`)}lt(this,vt)&&(cr.push("</g></svg>')"),or.backgroundImage=cr.join("")),this.container.append(Nr),this.container.style.clipPath=`url(#${Ar})`}_createPopup(){const{container:Ct,data:Rt}=this;Ct.setAttribute("aria-haspopup","dialog");const $t=new at({data:{color:Rt.color,titleObj:Rt.titleObj,modificationDate:Rt.modificationDate,contentsObj:Rt.contentsObj,richText:Rt.richText,parentRect:Rt.rect,borderStyle:0,id:`popup_${Rt.id}`,rotation:Rt.rotation},parent:this.parent,elements:[this]});this.parent.div.append($t.render())}render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Ct,Rt=null){const $t=[];if(this._fieldObjects){const Zt=this._fieldObjects[Ct];if(Zt)for(const{page:er,id:or,exportValues:cr}of Zt){if(er===-1||or===Rt)continue;const wr=typeof cr=="string"?cr:null,yr=document.querySelector(`[data-element-id="${or}"]`);if(yr&&!_.has(yr)){(0,a.warn)(`_getElementsByName - element not allowed: ${or}`);continue}$t.push({id:or,exportValue:wr,domElement:yr})}return $t}for(const Zt of document.getElementsByName(Ct)){const{exportValue:er}=Zt,or=Zt.getAttribute("data-element-id");or!==Rt&&_.has(Zt)&&$t.push({id:or,exportValue:er,domElement:Zt})}return $t}show(){var Ct;this.container&&(this.container.hidden=!1),(Ct=this.popup)==null||Ct.maybeShow()}hide(){var Ct;this.container&&(this.container.hidden=!0),(Ct=this.popup)==null||Ct.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Ct=this.getElementsToTriggerPopup();if(Array.isArray(Ct))for(const Rt of Ct)Rt.classList.add("highlightArea");else Ct.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Ct,data:{id:Rt}}=this;this.container.addEventListener("dblclick",()=>{var $t;($t=this.linkService.eventBus)==null||$t.dispatch("switchannotationeditormode",{source:this,mode:Ct,editId:Rt})})}};vt=new WeakMap;let nt=_t;class dt extends nt{constructor(Rt,$t=null){super(Rt,{isRenderable:!0,ignoreBorder:!!($t!=null&&$t.ignoreBorder),createQuadrilaterals:!0});Xt(this,St);this.isTooltipOnly=Rt.data.isTooltipOnly}render(){const{data:Rt,linkService:$t}=this,Zt=document.createElement("a");Zt.setAttribute("data-element-id",Rt.id);let er=!1;return Rt.url?($t.addLinkAttributes(Zt,Rt.url,Rt.newWindow),er=!0):Rt.action?(this._bindNamedAction(Zt,Rt.action),er=!0):Rt.attachment?(this._bindAttachment(Zt,Rt.attachment),er=!0):Rt.setOCGState?(Ut(this,St,Gs).call(this,Zt,Rt.setOCGState),er=!0):Rt.dest?(this._bindLink(Zt,Rt.dest),er=!0):(Rt.actions&&(Rt.actions.Action||Rt.actions["Mouse Up"]||Rt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Zt,Rt),er=!0),Rt.resetForm?(this._bindResetFormAction(Zt,Rt.resetForm),er=!0):this.isTooltipOnly&&!er&&(this._bindLink(Zt,""),er=!0)),this.container.classList.add("linkAnnotation"),er&&this.container.append(Zt),this.container}_bindLink(Rt,$t){Rt.href=this.linkService.getDestinationHash($t),Rt.onclick=()=>($t&&this.linkService.goToDestination($t),!1),($t||$t==="")&&Ut(this,St,en).call(this)}_bindNamedAction(Rt,$t){Rt.href=this.linkService.getAnchorUrl(""),Rt.onclick=()=>(this.linkService.executeNamedAction($t),!1),Ut(this,St,en).call(this)}_bindAttachment(Rt,$t){Rt.href=this.linkService.getAnchorUrl(""),Rt.onclick=()=>{var Zt;return(Zt=this.downloadManager)==null||Zt.openOrDownloadData(this.container,$t.content,$t.filename),!1},Ut(this,St,en).call(this)}_bindJSAction(Rt,$t){Rt.href=this.linkService.getAnchorUrl("");const Zt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const er of Object.keys($t.actions)){const or=Zt.get(er);or&&(Rt[or]=()=>{var cr;return(cr=this.linkService.eventBus)==null||cr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:$t.id,name:er}}),!1})}Rt.onclick||(Rt.onclick=()=>!1),Ut(this,St,en).call(this)}_bindResetFormAction(Rt,$t){const Zt=Rt.onclick;if(Zt||(Rt.href=this.linkService.getAnchorUrl("")),Ut(this,St,en).call(this),!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Zt||(Rt.onclick=()=>!1);return}Rt.onclick=()=>{var Nr;Zt==null||Zt();const{fields:er,refs:or,include:cr}=$t,wr=[];if(er.length!==0||or.length!==0){const br=new Set(or);for(const kr of er){const Ar=this._fieldObjects[kr]||[];for(const{id:Tr}of Ar)br.add(Tr)}for(const kr of Object.values(this._fieldObjects))for(const Ar of kr)br.has(Ar.id)===cr&&wr.push(Ar)}else for(const br of Object.values(this._fieldObjects))wr.push(...br);const yr=this.annotationStorage,fr=[];for(const br of wr){const{id:kr}=br;switch(fr.push(kr),br.type){case"text":{const Tr=br.defaultValue||"";yr.setValue(kr,{value:Tr});break}case"checkbox":case"radiobutton":{const Tr=br.defaultValue===br.exportValues;yr.setValue(kr,{value:Tr});break}case"combobox":case"listbox":{const Tr=br.defaultValue||"";yr.setValue(kr,{value:Tr});break}default:continue}const Ar=document.querySelector(`[data-element-id="${kr}"]`);if(Ar){if(!_.has(Ar)){(0,a.warn)(`_bindResetFormAction - element not allowed: ${kr}`);continue}}else continue;Ar.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Nr=this.linkService.eventBus)==null||Nr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:fr,name:"ResetForm"}})),!1}}}St=new WeakSet,en=function(){this.container.setAttribute("data-internal-link","")},Gs=function(Rt,$t){Rt.href=this.linkService.getAnchorUrl(""),Rt.onclick=()=>(this.linkService.executeSetOCGState($t),!1),Ut(this,St,en).call(this)};class st extends nt{constructor(Ct){super(Ct,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Ct=document.createElement("img");return Ct.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Ct.alt="[{{type}} Annotation]",Ct.dataset.l10nId="text_annotation_type",Ct.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Ct),this.container}}class _e extends nt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Ct){var Rt;this.data.hasOwnCanvas&&(((Rt=Ct.previousSibling)==null?void 0:Rt.nodeName)==="CANVAS"&&(Ct.previousSibling.hidden=!0),Ct.hidden=!1)}_getKeyModifier(Ct){const{isWin:Rt,isMac:$t}=a.FeatureTest.platform;return Rt&&Ct.ctrlKey||$t&&Ct.metaKey}_setEventListener(Ct,Rt,$t,Zt,er){$t.includes("mouse")?Ct.addEventListener($t,or=>{var cr;(cr=this.linkService.eventBus)==null||cr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Zt,value:er(or),shift:or.shiftKey,modifier:this._getKeyModifier(or)}})}):Ct.addEventListener($t,or=>{var cr;if($t==="blur"){if(!Rt.focused||!or.relatedTarget)return;Rt.focused=!1}else if($t==="focus"){if(Rt.focused)return;Rt.focused=!0}er&&((cr=this.linkService.eventBus)==null||cr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Zt,value:er(or)}}))})}_setEventListeners(Ct,Rt,$t,Zt){var er,or,cr;for(const[wr,yr]of $t)(yr==="Action"||(er=this.data.actions)!=null&&er[yr])&&((yr==="Focus"||yr==="Blur")&&(Rt||(Rt={focused:!1})),this._setEventListener(Ct,Rt,wr,yr,Zt),yr==="Focus"&&!((or=this.data.actions)!=null&&or.Blur)?this._setEventListener(Ct,Rt,"blur","Blur",null):yr==="Blur"&&!((cr=this.data.actions)!=null&&cr.Focus)&&this._setEventListener(Ct,Rt,"focus","Focus",null))}_setBackgroundColor(Ct){const Rt=this.data.backgroundColor||null;Ct.style.backgroundColor=Rt===null?"transparent":a.Util.makeHexColor(Rt[0],Rt[1],Rt[2])}_setTextStyle(Ct){const Rt=["left","center","right"],{fontColor:$t}=this.data.defaultAppearanceData,Zt=this.data.defaultAppearanceData.fontSize||j,er=Ct.style;let or;const cr=2,wr=yr=>Math.round(10*yr)/10;if(this.data.multiLine){const yr=Math.abs(this.data.rect[3]-this.data.rect[1]-cr),fr=Math.round(yr/(a.LINE_FACTOR*Zt))||1,Nr=yr/fr;or=Math.min(Zt,wr(Nr/a.LINE_FACTOR))}else{const yr=Math.abs(this.data.rect[3]-this.data.rect[1]-cr);or=Math.min(Zt,wr(yr/a.LINE_FACTOR))}er.fontSize=`calc(${or}px * var(--scale-factor))`,er.color=a.Util.makeHexColor($t[0],$t[1],$t[2]),this.data.textAlignment!==null&&(er.textAlign=Rt[this.data.textAlignment])}_setRequired(Ct,Rt){Rt?Ct.setAttribute("required",!0):Ct.removeAttribute("required"),Ct.setAttribute("aria-required",Rt)}}class tt extends _e{constructor(Ct){const Rt=Ct.renderForms||!Ct.data.hasAppearance&&!!Ct.data.fieldValue;super(Ct,{isRenderable:Rt})}setPropertyOnSiblings(Ct,Rt,$t,Zt){const er=this.annotationStorage;for(const or of this._getElementsByName(Ct.name,Ct.id))or.domElement&&(or.domElement[Rt]=$t),er.setValue(or.id,{[Zt]:$t})}render(){var Zt,er;const Ct=this.annotationStorage,Rt=this.data.id;this.container.classList.add("textWidgetAnnotation");let $t=null;if(this.renderForms){const or=Ct.getValue(Rt,{value:this.data.fieldValue});let cr=or.value||"";const wr=Ct.getValue(Rt,{charLimit:this.data.maxLen}).charLimit;wr&&cr.length>wr&&(cr=cr.slice(0,wr));let yr=or.formattedValue||((Zt=this.data.textContent)==null?void 0:Zt.join(`
`))||null;yr&&this.data.comb&&(yr=yr.replaceAll(/\s+/g,""));const fr={userValue:cr,formattedValue:yr,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?($t=document.createElement("textarea"),$t.textContent=yr??cr,this.data.doNotScroll&&($t.style.overflowY="hidden")):($t=document.createElement("input"),$t.type="text",$t.setAttribute("value",yr??cr),this.data.doNotScroll&&($t.style.overflowX="hidden")),this.data.hasOwnCanvas&&($t.hidden=!0),_.add($t),$t.setAttribute("data-element-id",Rt),$t.disabled=this.data.readOnly,$t.name=this.data.fieldName,$t.tabIndex=b,this._setRequired($t,this.data.required),wr&&($t.maxLength=wr),$t.addEventListener("input",br=>{Ct.setValue(Rt,{value:br.target.value}),this.setPropertyOnSiblings($t,"value",br.target.value,"value"),fr.formattedValue=null}),$t.addEventListener("resetform",br=>{const kr=this.data.defaultFieldValue??"";$t.value=fr.userValue=kr,fr.formattedValue=null});let Nr=br=>{const{formattedValue:kr}=fr;kr!=null&&(br.target.value=kr),br.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){$t.addEventListener("focus",kr=>{if(fr.focused)return;const{target:Ar}=kr;fr.userValue&&(Ar.value=fr.userValue),fr.lastCommittedValue=Ar.value,fr.commitKey=1,fr.focused=!0}),$t.addEventListener("updatefromsandbox",kr=>{this.showElementAndHideCanvas(kr.target);const Ar={value(Tr){fr.userValue=Tr.detail.value??"",Ct.setValue(Rt,{value:fr.userValue.toString()}),Tr.target.value=fr.userValue},formattedValue(Tr){const{formattedValue:Fr}=Tr.detail;fr.formattedValue=Fr,Fr!=null&&Tr.target!==document.activeElement&&(Tr.target.value=Fr),Ct.setValue(Rt,{formattedValue:Fr})},selRange(Tr){Tr.target.setSelectionRange(...Tr.detail.selRange)},charLimit:Tr=>{var Br;const{charLimit:Fr}=Tr.detail,{target:Or}=Tr;if(Fr===0){Or.removeAttribute("maxLength");return}Or.setAttribute("maxLength",Fr);let Vr=fr.userValue;!Vr||Vr.length<=Fr||(Vr=Vr.slice(0,Fr),Or.value=fr.userValue=Vr,Ct.setValue(Rt,{value:Vr}),(Br=this.linkService.eventBus)==null||Br.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Rt,name:"Keystroke",value:Vr,willCommit:!0,commitKey:1,selStart:Or.selectionStart,selEnd:Or.selectionEnd}}))}};this._dispatchEventFromSandbox(Ar,kr)}),$t.addEventListener("keydown",kr=>{var Fr;fr.commitKey=1;let Ar=-1;if(kr.key==="Escape"?Ar=0:kr.key==="Enter"&&!this.data.multiLine?Ar=2:kr.key==="Tab"&&(fr.commitKey=3),Ar===-1)return;const{value:Tr}=kr.target;fr.lastCommittedValue!==Tr&&(fr.lastCommittedValue=Tr,fr.userValue=Tr,(Fr=this.linkService.eventBus)==null||Fr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Rt,name:"Keystroke",value:Tr,willCommit:!0,commitKey:Ar,selStart:kr.target.selectionStart,selEnd:kr.target.selectionEnd}}))});const br=Nr;Nr=null,$t.addEventListener("blur",kr=>{var Tr;if(!fr.focused||!kr.relatedTarget)return;fr.focused=!1;const{value:Ar}=kr.target;fr.userValue=Ar,fr.lastCommittedValue!==Ar&&((Tr=this.linkService.eventBus)==null||Tr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Rt,name:"Keystroke",value:Ar,willCommit:!0,commitKey:fr.commitKey,selStart:kr.target.selectionStart,selEnd:kr.target.selectionEnd}})),br(kr)}),(er=this.data.actions)!=null&&er.Keystroke&&$t.addEventListener("beforeinput",kr=>{var Xr;fr.lastCommittedValue=null;const{data:Ar,target:Tr}=kr,{value:Fr,selectionStart:Or,selectionEnd:Vr}=Tr;let Br=Or,qr=Vr;switch(kr.inputType){case"deleteWordBackward":{const Yr=Fr.substring(0,Or).match(/\w*[^\w]*$/);Yr&&(Br-=Yr[0].length);break}case"deleteWordForward":{const Yr=Fr.substring(Or).match(/^[^\w]*\w*/);Yr&&(qr+=Yr[0].length);break}case"deleteContentBackward":Or===Vr&&(Br-=1);break;case"deleteContentForward":Or===Vr&&(qr+=1);break}kr.preventDefault(),(Xr=this.linkService.eventBus)==null||Xr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Rt,name:"Keystroke",value:Fr,change:Ar||"",willCommit:!1,selStart:Br,selEnd:qr}})}),this._setEventListeners($t,fr,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],kr=>kr.target.value)}if(Nr&&$t.addEventListener("blur",Nr),this.data.comb){const kr=(this.data.rect[2]-this.data.rect[0])/wr;$t.classList.add("comb"),$t.style.letterSpacing=`calc(${kr}px * var(--scale-factor) - 1ch)`}}else $t=document.createElement("div"),$t.textContent=this.data.fieldValue,$t.style.verticalAlign="middle",$t.style.display="table-cell";return this._setTextStyle($t),this._setBackgroundColor($t),this._setDefaultPropertiesFromJS($t),this.container.append($t),this.container}}class it extends _e{constructor(Ct){super(Ct,{isRenderable:!!Ct.data.hasOwnCanvas})}}class ct extends _e{constructor(Ct){super(Ct,{isRenderable:Ct.renderForms})}render(){const Ct=this.annotationStorage,Rt=this.data,$t=Rt.id;let Zt=Ct.getValue($t,{value:Rt.exportValue===Rt.fieldValue}).value;typeof Zt=="string"&&(Zt=Zt!=="Off",Ct.setValue($t,{value:Zt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const er=document.createElement("input");return _.add(er),er.setAttribute("data-element-id",$t),er.disabled=Rt.readOnly,this._setRequired(er,this.data.required),er.type="checkbox",er.name=Rt.fieldName,Zt&&er.setAttribute("checked",!0),er.setAttribute("exportValue",Rt.exportValue),er.tabIndex=b,er.addEventListener("change",or=>{const{name:cr,checked:wr}=or.target;for(const yr of this._getElementsByName(cr,$t)){const fr=wr&&yr.exportValue===Rt.exportValue;yr.domElement&&(yr.domElement.checked=fr),Ct.setValue(yr.id,{value:fr})}Ct.setValue($t,{value:wr})}),er.addEventListener("resetform",or=>{const cr=Rt.defaultFieldValue||"Off";or.target.checked=cr===Rt.exportValue}),this.enableScripting&&this.hasJSActions&&(er.addEventListener("updatefromsandbox",or=>{const cr={value(wr){wr.target.checked=wr.detail.value!=="Off",Ct.setValue($t,{value:wr.target.checked})}};this._dispatchEventFromSandbox(cr,or)}),this._setEventListeners(er,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],or=>or.target.checked)),this._setBackgroundColor(er),this._setDefaultPropertiesFromJS(er),this.container.append(er),this.container}}class ot extends _e{constructor(Ct){super(Ct,{isRenderable:Ct.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Ct=this.annotationStorage,Rt=this.data,$t=Rt.id;let Zt=Ct.getValue($t,{value:Rt.fieldValue===Rt.buttonValue}).value;typeof Zt=="string"&&(Zt=Zt!==Rt.buttonValue,Ct.setValue($t,{value:Zt}));const er=document.createElement("input");if(_.add(er),er.setAttribute("data-element-id",$t),er.disabled=Rt.readOnly,this._setRequired(er,this.data.required),er.type="radio",er.name=Rt.fieldName,Zt&&er.setAttribute("checked",!0),er.tabIndex=b,er.addEventListener("change",or=>{const{name:cr,checked:wr}=or.target;for(const yr of this._getElementsByName(cr,$t))Ct.setValue(yr.id,{value:!1});Ct.setValue($t,{value:wr})}),er.addEventListener("resetform",or=>{const cr=Rt.defaultFieldValue;or.target.checked=cr!=null&&cr===Rt.buttonValue}),this.enableScripting&&this.hasJSActions){const or=Rt.buttonValue;er.addEventListener("updatefromsandbox",cr=>{const wr={value:yr=>{const fr=or===yr.detail.value;for(const Nr of this._getElementsByName(yr.target.name)){const br=fr&&Nr.id===$t;Nr.domElement&&(Nr.domElement.checked=br),Ct.setValue(Nr.id,{value:br})}}};this._dispatchEventFromSandbox(wr,cr)}),this._setEventListeners(er,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],cr=>cr.target.checked)}return this._setBackgroundColor(er),this._setDefaultPropertiesFromJS(er),this.container.append(er),this.container}}class pt extends dt{constructor(Ct){super(Ct,{ignoreBorder:Ct.data.hasAppearance})}render(){const Ct=super.render();Ct.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Ct.title=this.data.alternativeText);const Rt=Ct.lastChild;return this.enableScripting&&this.hasJSActions&&Rt&&(this._setDefaultPropertiesFromJS(Rt),Rt.addEventListener("updatefromsandbox",$t=>{this._dispatchEventFromSandbox({},$t)})),Ct}}class et extends _e{constructor(Ct){super(Ct,{isRenderable:Ct.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Ct=this.annotationStorage,Rt=this.data.id,$t=Ct.getValue(Rt,{value:this.data.fieldValue}),Zt=document.createElement("select");_.add(Zt),Zt.setAttribute("data-element-id",Rt),Zt.disabled=this.data.readOnly,this._setRequired(Zt,this.data.required),Zt.name=this.data.fieldName,Zt.tabIndex=b;let er=this.data.combo&&this.data.options.length>0;this.data.combo||(Zt.size=this.data.options.length,this.data.multiSelect&&(Zt.multiple=!0)),Zt.addEventListener("resetform",fr=>{const Nr=this.data.defaultFieldValue;for(const br of Zt.options)br.selected=br.value===Nr});for(const fr of this.data.options){const Nr=document.createElement("option");Nr.textContent=fr.displayValue,Nr.value=fr.exportValue,$t.value.includes(fr.exportValue)&&(Nr.setAttribute("selected",!0),er=!1),Zt.append(Nr)}let or=null;if(er){const fr=document.createElement("option");fr.value=" ",fr.setAttribute("hidden",!0),fr.setAttribute("selected",!0),Zt.prepend(fr),or=()=>{fr.remove(),Zt.removeEventListener("input",or),or=null},Zt.addEventListener("input",or)}const cr=fr=>{const Nr=fr?"value":"textContent",{options:br,multiple:kr}=Zt;return kr?Array.prototype.filter.call(br,Ar=>Ar.selected).map(Ar=>Ar[Nr]):br.selectedIndex===-1?null:br[br.selectedIndex][Nr]};let wr=cr(!1);const yr=fr=>{const Nr=fr.target.options;return Array.prototype.map.call(Nr,br=>({displayValue:br.textContent,exportValue:br.value}))};return this.enableScripting&&this.hasJSActions?(Zt.addEventListener("updatefromsandbox",fr=>{const Nr={value(br){or==null||or();const kr=br.detail.value,Ar=new Set(Array.isArray(kr)?kr:[kr]);for(const Tr of Zt.options)Tr.selected=Ar.has(Tr.value);Ct.setValue(Rt,{value:cr(!0)}),wr=cr(!1)},multipleSelection(br){Zt.multiple=!0},remove(br){const kr=Zt.options,Ar=br.detail.remove;kr[Ar].selected=!1,Zt.remove(Ar),kr.length>0&&Array.prototype.findIndex.call(kr,Fr=>Fr.selected)===-1&&(kr[0].selected=!0),Ct.setValue(Rt,{value:cr(!0),items:yr(br)}),wr=cr(!1)},clear(br){for(;Zt.length!==0;)Zt.remove(0);Ct.setValue(Rt,{value:null,items:[]}),wr=cr(!1)},insert(br){const{index:kr,displayValue:Ar,exportValue:Tr}=br.detail.insert,Fr=Zt.children[kr],Or=document.createElement("option");Or.textContent=Ar,Or.value=Tr,Fr?Fr.before(Or):Zt.append(Or),Ct.setValue(Rt,{value:cr(!0),items:yr(br)}),wr=cr(!1)},items(br){const{items:kr}=br.detail;for(;Zt.length!==0;)Zt.remove(0);for(const Ar of kr){const{displayValue:Tr,exportValue:Fr}=Ar,Or=document.createElement("option");Or.textContent=Tr,Or.value=Fr,Zt.append(Or)}Zt.options.length>0&&(Zt.options[0].selected=!0),Ct.setValue(Rt,{value:cr(!0),items:yr(br)}),wr=cr(!1)},indices(br){const kr=new Set(br.detail.indices);for(const Ar of br.target.options)Ar.selected=kr.has(Ar.index);Ct.setValue(Rt,{value:cr(!0)}),wr=cr(!1)},editable(br){br.target.disabled=!br.detail.editable}};this._dispatchEventFromSandbox(Nr,fr)}),Zt.addEventListener("input",fr=>{var br;const Nr=cr(!0);Ct.setValue(Rt,{value:Nr}),fr.preventDefault(),(br=this.linkService.eventBus)==null||br.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Rt,name:"Keystroke",value:wr,changeEx:Nr,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Zt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],fr=>fr.target.value)):Zt.addEventListener("input",function(fr){Ct.setValue(Rt,{value:cr(!0)})}),this.data.combo&&this._setTextStyle(Zt),this._setBackgroundColor(Zt),this._setDefaultPropertiesFromJS(Zt),this.container.append(Zt),this.container}}class at extends nt{constructor(Ct){const{data:Rt,elements:$t}=Ct;super(Ct,{isRenderable:nt._hasPopupData(Rt)}),this.elements=$t}render(){this.container.classList.add("popupAnnotation");const Ct=new ht({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Rt=[];for(const $t of this.elements)$t.popup=Ct,Rt.push($t.data.id),$t.addHighlightArea();return this.container.setAttribute("aria-controls",Rt.map($t=>`${a.AnnotationPrefix}${$t}`).join(",")),this.container}}class ht{constructor({container:Ct,color:Rt,elements:$t,titleObj:Zt,modificationDate:er,contentsObj:or,richText:cr,parent:wr,rect:yr,parentRect:fr,open:Nr}){Xt(this,dr);Xt(this,Gt,null);Xt(this,Yt,Ut(this,dr,Ws).bind(this));Xt(this,Qt,Ut(this,dr,ss).bind(this));Xt(this,rr,Ut(this,dr,ns).bind(this));Xt(this,Wt,Ut(this,dr,An).bind(this));Xt(this,nr,null);Xt(this,Vt,null);Xt(this,zt,null);Xt(this,wt,null);Xt(this,Tt,null);Xt(this,Bt,null);Xt(this,Ht,!1);Xt(this,tr,null);Xt(this,ar,null);Xt(this,ir,null);Xt(this,Ft,null);Xt(this,pr,!1);var kr;Jt(this,Vt,Ct),Jt(this,Ft,Zt),Jt(this,zt,or),Jt(this,ir,cr),Jt(this,Tt,wr),Jt(this,nr,Rt),Jt(this,ar,yr),Jt(this,Bt,fr),Jt(this,wt,$t);const br=o.PDFDateString.toDateObject(er);br&&Jt(this,Gt,wr.l10n.get("annotation_date_string",{date:br.toLocaleDateString(),time:br.toLocaleTimeString()})),this.trigger=$t.flatMap(Ar=>Ar.getElementsToTriggerPopup());for(const Ar of this.trigger)Ar.addEventListener("click",lt(this,Wt)),Ar.addEventListener("mouseenter",lt(this,rr)),Ar.addEventListener("mouseleave",lt(this,Qt)),Ar.classList.add("popupTriggerArea");for(const Ar of $t)(kr=Ar.container)==null||kr.addEventListener("keydown",lt(this,Yt));lt(this,Vt).hidden=!0,Nr&&Ut(this,dr,An).call(this)}render(){if(lt(this,tr))return;const{page:{view:Ct},viewport:{rawDims:{pageWidth:Rt,pageHeight:$t,pageX:Zt,pageY:er}}}=lt(this,Tt),or=Jt(this,tr,document.createElement("div"));if(or.className="popup",lt(this,nr)){const Br=or.style.outlineColor=a.Util.makeHexColor(...lt(this,nr));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?or.style.backgroundColor=`color-mix(in srgb, ${Br} 30%, white)`:or.style.backgroundColor=a.Util.makeHexColor(...lt(this,nr).map(Xr=>Math.floor(.7*(255-Xr)+Xr)))}const cr=document.createElement("span");cr.className="header";const wr=document.createElement("h1");if(cr.append(wr),{dir:wr.dir,str:wr.textContent}=lt(this,Ft),or.append(cr),lt(this,Gt)){const Br=document.createElement("span");Br.classList.add("popupDate"),lt(this,Gt).then(qr=>{Br.textContent=qr}),cr.append(Br)}const yr=lt(this,zt),fr=lt(this,ir);if(fr!=null&&fr.str&&(!(yr!=null&&yr.str)||yr.str===fr.str))h.XfaLayer.render({xfaHtml:fr.html,intent:"richText",div:or}),or.lastChild.classList.add("richText","popupContent");else{const Br=this._formatContents(yr);or.append(Br)}let Nr=!!lt(this,Bt),br=Nr?lt(this,Bt):lt(this,ar);for(const Br of lt(this,wt))if(!br||a.Util.intersect(Br.data.rect,br)!==null){br=Br.data.rect,Nr=!0;break}const kr=a.Util.normalizeRect([br[0],Ct[3]-br[1]+Ct[1],br[2],Ct[3]-br[3]+Ct[1]]),Tr=Nr?br[2]-br[0]+5:0,Fr=kr[0]+Tr,Or=kr[1],{style:Vr}=lt(this,Vt);Vr.left=`${100*(Fr-Zt)/Rt}%`,Vr.top=`${100*(Or-er)/$t}%`,lt(this,Vt).append(or)}_formatContents({str:Ct,dir:Rt}){const $t=document.createElement("p");$t.classList.add("popupContent"),$t.dir=Rt;const Zt=Ct.split(/(?:\r\n?|\n)/);for(let er=0,or=Zt.length;er<or;++er){const cr=Zt[er];$t.append(document.createTextNode(cr)),er<or-1&&$t.append(document.createElement("br"))}return $t}forceHide(){Jt(this,pr,this.isVisible),lt(this,pr)&&(lt(this,Vt).hidden=!0)}maybeShow(){lt(this,pr)&&(Jt(this,pr,!1),lt(this,Vt).hidden=!1)}get isVisible(){return lt(this,Vt).hidden===!1}}Gt=new WeakMap,Yt=new WeakMap,Qt=new WeakMap,rr=new WeakMap,Wt=new WeakMap,nr=new WeakMap,Vt=new WeakMap,zt=new WeakMap,wt=new WeakMap,Tt=new WeakMap,Bt=new WeakMap,Ht=new WeakMap,tr=new WeakMap,ar=new WeakMap,ir=new WeakMap,Ft=new WeakMap,pr=new WeakMap,dr=new WeakSet,Ws=function(Ct){Ct.altKey||Ct.shiftKey||Ct.ctrlKey||Ct.metaKey||(Ct.key==="Enter"||Ct.key==="Escape"&&lt(this,Ht))&&Ut(this,dr,An).call(this)},An=function(){Jt(this,Ht,!lt(this,Ht)),lt(this,Ht)?(Ut(this,dr,ns).call(this),lt(this,Vt).addEventListener("click",lt(this,Wt)),lt(this,Vt).addEventListener("keydown",lt(this,Yt))):(Ut(this,dr,ss).call(this),lt(this,Vt).removeEventListener("click",lt(this,Wt)),lt(this,Vt).removeEventListener("keydown",lt(this,Yt)))},ns=function(){lt(this,tr)||this.render(),this.isVisible?lt(this,Ht)&&lt(this,Vt).classList.add("focused"):(lt(this,Vt).hidden=!1,lt(this,Vt).style.zIndex=parseInt(lt(this,Vt).style.zIndex)+1e3)},ss=function(){lt(this,Vt).classList.remove("focused"),!(lt(this,Ht)||!this.isVisible)&&(lt(this,Vt).hidden=!0,lt(this,Vt).style.zIndex=parseInt(lt(this,Vt).style.zIndex)-1e3)};class xt extends nt{constructor(Ct){super(Ct,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Ct.data.textContent,this.textPosition=Ct.data.textPosition,this.annotationEditorType=a.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Ct=document.createElement("div");Ct.classList.add("annotationTextContent"),Ct.setAttribute("role","comment");for(const Rt of this.textContent){const $t=document.createElement("span");$t.textContent=Rt,Ct.append($t)}this.container.append(Ct)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}s.FreeTextAnnotationElement=xt;class ut extends nt{constructor(Rt){super(Rt,{isRenderable:!0,ignoreBorder:!0});Xt(this,jr,null)}render(){this.container.classList.add("lineAnnotation");const Rt=this.data,{width:$t,height:Zt}=$(Rt.rect),er=this.svgFactory.create($t,Zt,!0),or=Jt(this,jr,this.svgFactory.createElement("svg:line"));return or.setAttribute("x1",Rt.rect[2]-Rt.lineCoordinates[0]),or.setAttribute("y1",Rt.rect[3]-Rt.lineCoordinates[1]),or.setAttribute("x2",Rt.rect[2]-Rt.lineCoordinates[2]),or.setAttribute("y2",Rt.rect[3]-Rt.lineCoordinates[3]),or.setAttribute("stroke-width",Rt.borderStyle.width||1),or.setAttribute("stroke","transparent"),or.setAttribute("fill","transparent"),er.append(or),this.container.append(er),!Rt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return lt(this,jr)}addHighlightArea(){this.container.classList.add("highlightArea")}}jr=new WeakMap;class gt extends nt{constructor(Rt){super(Rt,{isRenderable:!0,ignoreBorder:!0});Xt(this,Pr,null)}render(){this.container.classList.add("squareAnnotation");const Rt=this.data,{width:$t,height:Zt}=$(Rt.rect),er=this.svgFactory.create($t,Zt,!0),or=Rt.borderStyle.width,cr=Jt(this,Pr,this.svgFactory.createElement("svg:rect"));return cr.setAttribute("x",or/2),cr.setAttribute("y",or/2),cr.setAttribute("width",$t-or),cr.setAttribute("height",Zt-or),cr.setAttribute("stroke-width",or||1),cr.setAttribute("stroke","transparent"),cr.setAttribute("fill","transparent"),er.append(cr),this.container.append(er),!Rt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return lt(this,Pr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pr=new WeakMap;class Et extends nt{constructor(Rt){super(Rt,{isRenderable:!0,ignoreBorder:!0});Xt(this,Mr,null)}render(){this.container.classList.add("circleAnnotation");const Rt=this.data,{width:$t,height:Zt}=$(Rt.rect),er=this.svgFactory.create($t,Zt,!0),or=Rt.borderStyle.width,cr=Jt(this,Mr,this.svgFactory.createElement("svg:ellipse"));return cr.setAttribute("cx",$t/2),cr.setAttribute("cy",Zt/2),cr.setAttribute("rx",$t/2-or/2),cr.setAttribute("ry",Zt/2-or/2),cr.setAttribute("stroke-width",or||1),cr.setAttribute("stroke","transparent"),cr.setAttribute("fill","transparent"),er.append(cr),this.container.append(er),!Rt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return lt(this,Mr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mr=new WeakMap;class Mt extends nt{constructor(Rt){super(Rt,{isRenderable:!0,ignoreBorder:!0});Xt(this,lr,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Rt=this.data,{width:$t,height:Zt}=$(Rt.rect),er=this.svgFactory.create($t,Zt,!0);let or=[];for(const wr of Rt.vertices){const yr=wr.x-Rt.rect[0],fr=Rt.rect[3]-wr.y;or.push(yr+","+fr)}or=or.join(" ");const cr=Jt(this,lr,this.svgFactory.createElement(this.svgElementName));return cr.setAttribute("points",or),cr.setAttribute("stroke-width",Rt.borderStyle.width||1),cr.setAttribute("stroke","transparent"),cr.setAttribute("fill","transparent"),er.append(cr),this.container.append(er),!Rt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return lt(this,lr)}addHighlightArea(){this.container.classList.add("highlightArea")}}lr=new WeakMap;class Nt extends Mt{constructor(Ct){super(Ct),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class It extends nt{constructor(Ct){super(Ct,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class kt extends nt{constructor(Rt){super(Rt,{isRenderable:!0,ignoreBorder:!0});Xt(this,qt,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=a.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Rt=this.data,{width:$t,height:Zt}=$(Rt.rect),er=this.svgFactory.create($t,Zt,!0);for(const or of Rt.inkLists){let cr=[];for(const yr of or){const fr=yr.x-Rt.rect[0],Nr=Rt.rect[3]-yr.y;cr.push(`${fr},${Nr}`)}cr=cr.join(" ");const wr=this.svgFactory.createElement(this.svgElementName);lt(this,qt).push(wr),wr.setAttribute("points",cr),wr.setAttribute("stroke-width",Rt.borderStyle.width||1),wr.setAttribute("stroke","transparent"),wr.setAttribute("fill","transparent"),!Rt.popupRef&&this.hasPopupData&&this._createPopup(),er.append(wr)}return this.container.append(er),this.container}getElementsToTriggerPopup(){return lt(this,qt)}addHighlightArea(){this.container.classList.add("highlightArea")}}qt=new WeakMap,s.InkAnnotationElement=kt;class bt extends nt{constructor(Ct){super(Ct,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class yt extends nt{constructor(Ct){super(Ct,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class At extends nt{constructor(Ct){super(Ct,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Lt extends nt{constructor(Ct){super(Ct,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class jt extends nt{constructor(Ct){super(Ct,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}s.StampAnnotationElement=jt;class ft extends nt{constructor(Rt){var er;super(Rt,{isRenderable:!0});Xt(this,gr);Xt(this,Kt,null);const{filename:$t,content:Zt}=this.data.file;this.filename=(0,o.getFilenameFromUrl)($t,!0),this.content=Zt,(er=this.linkService.eventBus)==null||er.dispatch("fileattachmentannotation",{source:this,filename:$t,content:Zt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Rt,data:$t}=this;let Zt;$t.hasAppearance||$t.fillAlpha===0?Zt=document.createElement("div"):(Zt=document.createElement("img"),Zt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test($t.name)?"paperclip":"pushpin"}.svg`,$t.fillAlpha&&$t.fillAlpha<1&&(Zt.style=`filter: opacity(${Math.round($t.fillAlpha*100)}%);`)),Zt.addEventListener("dblclick",Ut(this,gr,as).bind(this)),Jt(this,Kt,Zt);const{isMac:er}=a.FeatureTest.platform;return Rt.addEventListener("keydown",or=>{or.key==="Enter"&&(er?or.metaKey:or.ctrlKey)&&Ut(this,gr,as).call(this)}),!$t.popupRef&&this.hasPopupData?this._createPopup():Zt.classList.add("popupTriggerArea"),Rt.append(Zt),Rt}getElementsToTriggerPopup(){return lt(this,Kt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Kt=new WeakMap,gr=new WeakSet,as=function(){var Rt;(Rt=this.downloadManager)==null||Rt.openOrDownloadData(this.container,this.content,this.filename)};class mt{constructor({div:Ct,accessibilityManager:Rt,annotationCanvasMap:$t,l10n:Zt,page:er,viewport:or}){Xt(this,hr);Xt(this,Cr,null);Xt(this,Dt,null);Xt(this,sr,new Map);this.div=Ct,Jt(this,Cr,Rt),Jt(this,Dt,$t),this.l10n=Zt,this.page=er,this.viewport=or,this.zIndex=0,this.l10n||(this.l10n=g.NullL10n)}async render(Ct){const{annotations:Rt}=Ct,$t=this.div;(0,o.setLayerDimensions)($t,this.viewport);const Zt=new Map,er={data:null,layer:$t,linkService:Ct.linkService,downloadManager:Ct.downloadManager,imageResourcesPath:Ct.imageResourcesPath||"",renderForms:Ct.renderForms!==!1,svgFactory:new o.DOMSVGFactory,annotationStorage:Ct.annotationStorage||new c.AnnotationStorage,enableScripting:Ct.enableScripting===!0,hasJSActions:Ct.hasJSActions,fieldObjects:Ct.fieldObjects,parent:this,elements:null};for(const or of Rt){if(or.noHTML)continue;const cr=or.annotationType===a.AnnotationType.POPUP;if(cr){const fr=Zt.get(or.id);if(!fr)continue;er.elements=fr}else{const{width:fr,height:Nr}=$(or.rect);if(fr<=0||Nr<=0)continue}er.data=or;const wr=rt.create(er);if(!wr.isRenderable)continue;if(!cr&&or.popupRef){const fr=Zt.get(or.popupRef);fr?fr.push(wr):Zt.set(or.popupRef,[wr])}wr.annotationEditorType>0&&lt(this,sr).set(wr.data.id,wr);const yr=wr.render();or.hidden&&(yr.style.visibility="hidden"),Ut(this,hr,Hs).call(this,yr,or.id)}Ut(this,hr,os).call(this),await this.l10n.translate($t)}update({viewport:Ct}){const Rt=this.div;this.viewport=Ct,(0,o.setLayerDimensions)(Rt,{rotation:Ct.rotation}),Ut(this,hr,os).call(this),Rt.hidden=!1}getEditableAnnotations(){return Array.from(lt(this,sr).values())}getEditableAnnotation(Ct){return lt(this,sr).get(Ct)}}Cr=new WeakMap,Dt=new WeakMap,sr=new WeakMap,hr=new WeakSet,Hs=function(Ct,Rt){var Zt;const $t=Ct.firstChild||Ct;$t.id=`${a.AnnotationPrefix}${Rt}`,this.div.append(Ct),(Zt=lt(this,Cr))==null||Zt.moveElementInDOM(this.div,Ct,$t,!1)},os=function(){if(!lt(this,Dt))return;const Ct=this.div;for(const[Rt,$t]of lt(this,Dt)){const Zt=Ct.querySelector(`[data-annotation-id="${Rt}"]`);if(!Zt)continue;const{firstChild:er}=Zt;er?er.nodeName==="CANVAS"?er.replaceWith($t):er.before($t):Zt.append($t)}lt(this,Dt).clear()},s.AnnotationLayer=mt},(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorConverters=void 0;function i(c){return Math.floor(Math.max(0,Math.min(1,c))*255).toString(16).padStart(2,"0")}function a(c){return Math.max(0,Math.min(255,255*c))}class o{static CMYK_G([d,g,h,b]){return["G",1-Math.min(1,.3*d+.59*h+.11*g+b)]}static G_CMYK([d]){return["CMYK",0,0,0,1-d]}static G_RGB([d]){return["RGB",d,d,d]}static G_rgb([d]){return d=a(d),[d,d,d]}static G_HTML([d]){const g=i(d);return`#${g}${g}${g}`}static RGB_G([d,g,h]){return["G",.3*d+.59*g+.11*h]}static RGB_rgb(d){return d.map(a)}static RGB_HTML(d){return`#${d.map(i).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([d,g,h,b]){return["RGB",1-Math.min(1,d+b),1-Math.min(1,h+b),1-Math.min(1,g+b)]}static CMYK_rgb([d,g,h,b]){return[a(1-Math.min(1,d+b)),a(1-Math.min(1,h+b)),a(1-Math.min(1,g+b))]}static CMYK_HTML(d){const g=this.CMYK_RGB(d).slice(1);return this.RGB_HTML(g)}static RGB_CMYK([d,g,h]){const b=1-d,j=1-g,_=1-h,$=Math.min(b,j,_);return["CMYK",b,j,_,$]}}s.ColorConverters=o},(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.getL10nFallback=a;const i={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};i.print_progress_percent="{{progress}}%";function a(d,g){switch(d){case"find_match_count":d=`find_match_count[${g.total===1?"one":"other"}]`;break;case"find_match_count_limit":d=`find_match_count_limit[${g.limit===1?"one":"other"}]`;break}return i[d]||""}function o(d,g){return g?d.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(h,b)=>b in g?g[b]:"{{"+b+"}}"):d}const c={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(d,g=null,h=a(d,g)){return o(h,g)},async translate(d){}};s.NullL10n=c},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayer=void 0;var a=i(25);class o{static setupStorage(d,g,h,b,j){const _=b.getValue(g,{value:null});switch(h.name){case"textarea":if(_.value!==null&&(d.textContent=_.value),j==="print")break;d.addEventListener("input",$=>{b.setValue(g,{value:$.target.value})});break;case"input":if(h.attributes.type==="radio"||h.attributes.type==="checkbox"){if(_.value===h.attributes.xfaOn?d.setAttribute("checked",!0):_.value===h.attributes.xfaOff&&d.removeAttribute("checked"),j==="print")break;d.addEventListener("change",$=>{b.setValue(g,{value:$.target.checked?$.target.getAttribute("xfaOn"):$.target.getAttribute("xfaOff")})})}else{if(_.value!==null&&d.setAttribute("value",_.value),j==="print")break;d.addEventListener("input",$=>{b.setValue(g,{value:$.target.value})})}break;case"select":if(_.value!==null){d.setAttribute("value",_.value);for(const $ of h.children)$.attributes.value===_.value?$.attributes.selected=!0:$.attributes.hasOwnProperty("selected")&&delete $.attributes.selected}d.addEventListener("input",$=>{const rt=$.target.options,nt=rt.selectedIndex===-1?"":rt[rt.selectedIndex].value;b.setValue(g,{value:nt})});break}}static setAttributes({html:d,element:g,storage:h=null,intent:b,linkService:j}){const{attributes:_}=g,$=d instanceof HTMLAnchorElement;_.type==="radio"&&(_.name=`${_.name}-${b}`);for(const[rt,nt]of Object.entries(_))if(nt!=null)switch(rt){case"class":nt.length&&d.setAttribute(rt,nt.join(" "));break;case"dataId":break;case"id":d.setAttribute("data-element-id",nt);break;case"style":Object.assign(d.style,nt);break;case"textContent":d.textContent=nt;break;default:(!$||rt!=="href"&&rt!=="newWindow")&&d.setAttribute(rt,nt)}$&&j.addLinkAttributes(d,_.href,_.newWindow),h&&_.dataId&&this.setupStorage(d,_.dataId,g,h)}static render(d){var dt;const g=d.annotationStorage,h=d.linkService,b=d.xfaHtml,j=d.intent||"display",_=document.createElement(b.name);b.attributes&&this.setAttributes({html:_,element:b,intent:j,linkService:h});const $=[[b,-1,_]],rt=d.div;if(rt.append(_),d.viewport){const st=`matrix(${d.viewport.transform.join(",")})`;rt.style.transform=st}j!=="richText"&&rt.setAttribute("class","xfaLayer xfaFont");const nt=[];for(;$.length>0;){const[st,_e,tt]=$.at(-1);if(_e+1===st.children.length){$.pop();continue}const it=st.children[++$.at(-1)[1]];if(it===null)continue;const{name:ct}=it;if(ct==="#text"){const pt=document.createTextNode(it.value);nt.push(pt),tt.append(pt);continue}const ot=(dt=it==null?void 0:it.attributes)!=null&&dt.xmlns?document.createElementNS(it.attributes.xmlns,ct):document.createElement(ct);if(tt.append(ot),it.attributes&&this.setAttributes({html:ot,element:it,storage:g,intent:j,linkService:h}),it.children&&it.children.length>0)$.push([it,-1,ot]);else if(it.value){const pt=document.createTextNode(it.value);a.XfaText.shouldBuildText(ct)&&nt.push(pt),ot.append(pt)}}for(const st of rt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))st.setAttribute("readOnly",!0);return{textDivs:nt}}static update(d){const g=`matrix(${d.viewport.transform.join(",")})`;d.div.style.transform=g,d.div.hidden=!1}}s.XfaLayer=o},(e,s,i)=>{var b,j,_,$,rt,nt,dt,st,_e,tt,it,ct,ot,pt,et,qs,Xs,Ys,Ks,ls,Js,cs,Qs,Zs,_i,na,ga,Qr,us,_n,Cn,sn,ds,Nn,St,xa,ps,ba,_a,hs,Pn,an;Object.defineProperty(s,"__esModule",{value:!0}),s.InkEditor=void 0;var a=i(1),o=i(4),c=i(29),d=i(6),g=i(5);const nr=class nr extends o.AnnotationEditor{constructor(wt){super({...wt,name:"inkEditor"});Xt(this,et);Xt(this,b,0);Xt(this,j,0);Xt(this,_,this.canvasPointermove.bind(this));Xt(this,$,this.canvasPointerleave.bind(this));Xt(this,rt,this.canvasPointerup.bind(this));Xt(this,nt,this.canvasPointerdown.bind(this));Xt(this,dt,new Path2D);Xt(this,st,!1);Xt(this,_e,!1);Xt(this,tt,!1);Xt(this,it,null);Xt(this,ct,0);Xt(this,ot,0);Xt(this,pt,null);this.color=wt.color||null,this.thickness=wt.thickness||null,this.opacity=wt.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(wt){o.AnnotationEditor.initialize(wt,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(wt,Tt){switch(wt){case a.AnnotationEditorParamsType.INK_THICKNESS:nr._defaultThickness=Tt;break;case a.AnnotationEditorParamsType.INK_COLOR:nr._defaultColor=Tt;break;case a.AnnotationEditorParamsType.INK_OPACITY:nr._defaultOpacity=Tt/100;break}}updateParams(wt,Tt){switch(wt){case a.AnnotationEditorParamsType.INK_THICKNESS:Ut(this,et,qs).call(this,Tt);break;case a.AnnotationEditorParamsType.INK_COLOR:Ut(this,et,Xs).call(this,Tt);break;case a.AnnotationEditorParamsType.INK_OPACITY:Ut(this,et,Ys).call(this,Tt);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,nr._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,nr._defaultColor||o.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(nr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||nr._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,this.color||nr._defaultColor||o.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??nr._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Ut(this,et,_n).call(this),Ut(this,et,Cn).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ut(this,et,sn).call(this)),Ut(this,et,an).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,lt(this,it).disconnect(),Jt(this,it,null),super.remove())}setParent(wt){!this.parent&&wt?this._uiManager.removeShouldRescale(this):this.parent&&wt===null&&this._uiManager.addShouldRescale(this),super.setParent(wt)}onScaleChanging(){const[wt,Tt]=this.parentDimensions,Bt=this.width*wt,Ht=this.height*Tt;this.setDimensions(Bt,Ht)}enableEditMode(){lt(this,st)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",lt(this,nt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",lt(this,nt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){lt(this,st)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Jt(this,st,!0),this.div.classList.add("disabled"),Ut(this,et,an).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(wt){this._focusEventsAllowed&&(super.focusin(wt),this.enableEditMode())}canvasPointerdown(wt){wt.button!==0||!this.isInEditMode()||lt(this,st)||(this.setInForeground(),wt.preventDefault(),wt.type!=="mouse"&&this.div.focus(),Ut(this,et,Js).call(this,wt.offsetX,wt.offsetY))}canvasPointermove(wt){wt.preventDefault(),Ut(this,et,cs).call(this,wt.offsetX,wt.offsetY)}canvasPointerup(wt){wt.preventDefault(),Ut(this,et,us).call(this,wt)}canvasPointerleave(wt){Ut(this,et,us).call(this,wt)}get isResizable(){return!this.isEmpty()&&lt(this,st)}render(){if(this.div)return this.div;let wt,Tt;this.width&&(wt=this.x,Tt=this.y),super.render(),o.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(ir=>{var Ft;return(Ft=this.div)==null?void 0:Ft.setAttribute("aria-label",ir)});const[Bt,Ht,tr,ar]=Ut(this,et,Ks).call(this);if(this.setAt(Bt,Ht,0,0),this.setDims(tr,ar),Ut(this,et,_n).call(this),this.width){const[ir,Ft]=this.parentDimensions;this.setAspectRatio(this.width*ir,this.height*Ft),this.setAt(wt*ir,Tt*Ft,this.width*ir,this.height*Ft),Jt(this,tt,!0),Ut(this,et,sn).call(this),this.setDims(this.width*ir,this.height*Ft),Ut(this,et,Qr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ut(this,et,Cn).call(this),this.div}setDimensions(wt,Tt){const Bt=Math.round(wt),Ht=Math.round(Tt);if(lt(this,ct)===Bt&&lt(this,ot)===Ht)return;Jt(this,ct,Bt),Jt(this,ot,Ht),this.canvas.style.visibility="hidden";const[tr,ar]=this.parentDimensions;this.width=wt/tr,this.height=Tt/ar,this.fixAndSetPosition(),lt(this,st)&&Ut(this,et,ds).call(this,wt,Tt),Ut(this,et,sn).call(this),Ut(this,et,Qr).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(wt,Tt,Bt){var jr,Pr,Mr;if(wt instanceof c.InkAnnotationElement)return null;const Ht=super.deserialize(wt,Tt,Bt);Ht.thickness=wt.thickness,Ht.color=a.Util.makeHexColor(...wt.color),Ht.opacity=wt.opacity;const[tr,ar]=Ht.pageDimensions,ir=Ht.width*tr,Ft=Ht.height*ar,pr=Ht.parentScale,dr=wt.thickness/2;Jt(Ht,st,!0),Jt(Ht,ct,Math.round(ir)),Jt(Ht,ot,Math.round(Ft));const{paths:_r,rect:Sr,rotation:Lr}=wt;for(let{bezier:lr}of _r){lr=Ut(jr=nr,St,ba).call(jr,lr,Sr,Lr);const qt=[];Ht.paths.push(qt);let Kt=pr*(lr[0]-dr),gr=pr*(lr[1]-dr);for(let Cr=2,Dt=lr.length;Cr<Dt;Cr+=6){const sr=pr*(lr[Cr]-dr),hr=pr*(lr[Cr+1]-dr),Er=pr*(lr[Cr+2]-dr),Rr=pr*(lr[Cr+3]-dr),mr=pr*(lr[Cr+4]-dr),Ct=pr*(lr[Cr+5]-dr);qt.push([[Kt,gr],[sr,hr],[Er,Rr],[mr,Ct]]),Kt=mr,gr=Ct}const Ir=Ut(this,St,xa).call(this,qt);Ht.bezierPath2D.push(Ir)}const xr=Ut(Pr=Ht,et,hs).call(Pr);return Jt(Ht,j,Math.max(o.AnnotationEditor.MIN_SIZE,xr[2]-xr[0])),Jt(Ht,b,Math.max(o.AnnotationEditor.MIN_SIZE,xr[3]-xr[1])),Ut(Mr=Ht,et,ds).call(Mr,ir,Ft),Ht}serialize(){if(this.isEmpty())return null;const wt=this.getRect(0,0),Tt=o.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:a.AnnotationEditorType.INK,color:Tt,thickness:this.thickness,opacity:this.opacity,paths:Ut(this,et,_a).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,wt),pageIndex:this.pageIndex,rect:wt,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};b=new WeakMap,j=new WeakMap,_=new WeakMap,$=new WeakMap,rt=new WeakMap,nt=new WeakMap,dt=new WeakMap,st=new WeakMap,_e=new WeakMap,tt=new WeakMap,it=new WeakMap,ct=new WeakMap,ot=new WeakMap,pt=new WeakMap,et=new WeakSet,qs=function(wt){const Tt=this.thickness;this.addCommands({cmd:()=>{this.thickness=wt,Ut(this,et,an).call(this)},undo:()=>{this.thickness=Tt,Ut(this,et,an).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Xs=function(wt){const Tt=this.color;this.addCommands({cmd:()=>{this.color=wt,Ut(this,et,Qr).call(this)},undo:()=>{this.color=Tt,Ut(this,et,Qr).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Ys=function(wt){wt/=100;const Tt=this.opacity;this.addCommands({cmd:()=>{this.opacity=wt,Ut(this,et,Qr).call(this)},undo:()=>{this.opacity=Tt,Ut(this,et,Qr).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Ks=function(){const{parentRotation:wt,parentDimensions:[Tt,Bt]}=this;switch(wt){case 90:return[0,Bt,Bt,Tt];case 180:return[Tt,Bt,Tt,Bt];case 270:return[Tt,0,Bt,Tt];default:return[0,0,Tt,Bt]}},ls=function(){const{ctx:wt,color:Tt,opacity:Bt,thickness:Ht,parentScale:tr,scaleFactor:ar}=this;wt.lineWidth=Ht*tr/ar,wt.lineCap="round",wt.lineJoin="round",wt.miterLimit=10,wt.strokeStyle=`${Tt}${(0,g.opacityToHex)(Bt)}`},Js=function(wt,Tt){this.canvas.addEventListener("contextmenu",d.noContextMenu),this.canvas.addEventListener("pointerleave",lt(this,$)),this.canvas.addEventListener("pointermove",lt(this,_)),this.canvas.addEventListener("pointerup",lt(this,rt)),this.canvas.removeEventListener("pointerdown",lt(this,nt)),this.isEditing=!0,lt(this,tt)||(Jt(this,tt,!0),Ut(this,et,sn).call(this),this.thickness||(this.thickness=nr._defaultThickness),this.color||(this.color=nr._defaultColor||o.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=nr._defaultOpacity)),this.currentPath.push([wt,Tt]),Jt(this,_e,!1),Ut(this,et,ls).call(this),Jt(this,pt,()=>{Ut(this,et,_i).call(this),lt(this,pt)&&window.requestAnimationFrame(lt(this,pt))}),window.requestAnimationFrame(lt(this,pt))},cs=function(wt,Tt){const[Bt,Ht]=this.currentPath.at(-1);if(this.currentPath.length>1&&wt===Bt&&Tt===Ht)return;const tr=this.currentPath;let ar=lt(this,dt);if(tr.push([wt,Tt]),Jt(this,_e,!0),tr.length<=2){ar.moveTo(...tr[0]),ar.lineTo(wt,Tt);return}tr.length===3&&(Jt(this,dt,ar=new Path2D),ar.moveTo(...tr[0])),Ut(this,et,na).call(this,ar,...tr.at(-3),...tr.at(-2),wt,Tt)},Qs=function(){if(this.currentPath.length===0)return;const wt=this.currentPath.at(-1);lt(this,dt).lineTo(...wt)},Zs=function(wt,Tt){Jt(this,pt,null),wt=Math.min(Math.max(wt,0),this.canvas.width),Tt=Math.min(Math.max(Tt,0),this.canvas.height),Ut(this,et,cs).call(this,wt,Tt),Ut(this,et,Qs).call(this);let Bt;if(this.currentPath.length!==1)Bt=Ut(this,et,ga).call(this);else{const Ft=[wt,Tt];Bt=[[Ft,Ft.slice(),Ft.slice(),Ft]]}const Ht=lt(this,dt),tr=this.currentPath;this.currentPath=[],Jt(this,dt,new Path2D);const ar=()=>{this.allRawPaths.push(tr),this.paths.push(Bt),this.bezierPath2D.push(Ht),this.rebuild()},ir=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ut(this,et,_n).call(this),Ut(this,et,Cn).call(this)),Ut(this,et,an).call(this))};this.addCommands({cmd:ar,undo:ir,mustExec:!0})},_i=function(){if(!lt(this,_e))return;Jt(this,_e,!1);const wt=Math.ceil(this.thickness*this.parentScale),Tt=this.currentPath.slice(-3),Bt=Tt.map(ar=>ar[0]),Ht=Tt.map(ar=>ar[1]);Math.min(...Bt)-wt,Math.max(...Bt)+wt,Math.min(...Ht)-wt,Math.max(...Ht)+wt;const{ctx:tr}=this;tr.save(),tr.clearRect(0,0,this.canvas.width,this.canvas.height);for(const ar of this.bezierPath2D)tr.stroke(ar);tr.stroke(lt(this,dt)),tr.restore()},na=function(wt,Tt,Bt,Ht,tr,ar,ir){const Ft=(Tt+Ht)/2,pr=(Bt+tr)/2,dr=(Ht+ar)/2,_r=(tr+ir)/2;wt.bezierCurveTo(Ft+2*(Ht-Ft)/3,pr+2*(tr-pr)/3,dr+2*(Ht-dr)/3,_r+2*(tr-_r)/3,dr,_r)},ga=function(){const wt=this.currentPath;if(wt.length<=2)return[[wt[0],wt[0],wt.at(-1),wt.at(-1)]];const Tt=[];let Bt,[Ht,tr]=wt[0];for(Bt=1;Bt<wt.length-2;Bt++){const[Sr,Lr]=wt[Bt],[xr,jr]=wt[Bt+1],Pr=(Sr+xr)/2,Mr=(Lr+jr)/2,lr=[Ht+2*(Sr-Ht)/3,tr+2*(Lr-tr)/3],qt=[Pr+2*(Sr-Pr)/3,Mr+2*(Lr-Mr)/3];Tt.push([[Ht,tr],lr,qt,[Pr,Mr]]),[Ht,tr]=[Pr,Mr]}const[ar,ir]=wt[Bt],[Ft,pr]=wt[Bt+1],dr=[Ht+2*(ar-Ht)/3,tr+2*(ir-tr)/3],_r=[Ft+2*(ar-Ft)/3,pr+2*(ir-pr)/3];return Tt.push([[Ht,tr],dr,_r,[Ft,pr]]),Tt},Qr=function(){if(this.isEmpty()){Ut(this,et,Nn).call(this);return}Ut(this,et,ls).call(this);const{canvas:wt,ctx:Tt}=this;Tt.setTransform(1,0,0,1,0,0),Tt.clearRect(0,0,wt.width,wt.height),Ut(this,et,Nn).call(this);for(const Bt of this.bezierPath2D)Tt.stroke(Bt)},us=function(wt){this.canvas.removeEventListener("pointerleave",lt(this,$)),this.canvas.removeEventListener("pointermove",lt(this,_)),this.canvas.removeEventListener("pointerup",lt(this,rt)),this.canvas.addEventListener("pointerdown",lt(this,nt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",d.noContextMenu)},10),Ut(this,et,Zs).call(this,wt.offsetX,wt.offsetY),this.addToAnnotationStorage(),this.setInBackground()},_n=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",o.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(wt=>{var Tt;return(Tt=this.canvas)==null?void 0:Tt.setAttribute("aria-label",wt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Cn=function(){Jt(this,it,new ResizeObserver(wt=>{const Tt=wt[0].contentRect;Tt.width&&Tt.height&&this.setDimensions(Tt.width,Tt.height)})),lt(this,it).observe(this.div)},sn=function(){if(!lt(this,tt))return;const[wt,Tt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*wt),this.canvas.height=Math.ceil(this.height*Tt),Ut(this,et,Nn).call(this)},ds=function(wt,Tt){const Bt=Ut(this,et,Pn).call(this),Ht=(wt-Bt)/lt(this,j),tr=(Tt-Bt)/lt(this,b);this.scaleFactor=Math.min(Ht,tr)},Nn=function(){const wt=Ut(this,et,Pn).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+wt,this.translationY*this.scaleFactor+wt)},St=new WeakSet,xa=function(wt){const Tt=new Path2D;for(let Bt=0,Ht=wt.length;Bt<Ht;Bt++){const[tr,ar,ir,Ft]=wt[Bt];Bt===0&&Tt.moveTo(...tr),Tt.bezierCurveTo(ar[0],ar[1],ir[0],ir[1],Ft[0],Ft[1])}return Tt},ps=function(wt,Tt,Bt){const[Ht,tr,ar,ir]=Tt;switch(Bt){case 0:for(let Ft=0,pr=wt.length;Ft<pr;Ft+=2)wt[Ft]+=Ht,wt[Ft+1]=ir-wt[Ft+1];break;case 90:for(let Ft=0,pr=wt.length;Ft<pr;Ft+=2){const dr=wt[Ft];wt[Ft]=wt[Ft+1]+Ht,wt[Ft+1]=dr+tr}break;case 180:for(let Ft=0,pr=wt.length;Ft<pr;Ft+=2)wt[Ft]=ar-wt[Ft],wt[Ft+1]+=tr;break;case 270:for(let Ft=0,pr=wt.length;Ft<pr;Ft+=2){const dr=wt[Ft];wt[Ft]=ar-wt[Ft+1],wt[Ft+1]=ir-dr}break;default:throw new Error("Invalid rotation")}return wt},ba=function(wt,Tt,Bt){const[Ht,tr,ar,ir]=Tt;switch(Bt){case 0:for(let Ft=0,pr=wt.length;Ft<pr;Ft+=2)wt[Ft]-=Ht,wt[Ft+1]=ir-wt[Ft+1];break;case 90:for(let Ft=0,pr=wt.length;Ft<pr;Ft+=2){const dr=wt[Ft];wt[Ft]=wt[Ft+1]-tr,wt[Ft+1]=dr-Ht}break;case 180:for(let Ft=0,pr=wt.length;Ft<pr;Ft+=2)wt[Ft]=ar-wt[Ft],wt[Ft+1]-=tr;break;case 270:for(let Ft=0,pr=wt.length;Ft<pr;Ft+=2){const dr=wt[Ft];wt[Ft]=ir-wt[Ft+1],wt[Ft+1]=ar-dr}break;default:throw new Error("Invalid rotation")}return wt},_a=function(wt,Tt,Bt,Ht){var pr,dr;const tr=[],ar=this.thickness/2,ir=wt*Tt+ar,Ft=wt*Bt+ar;for(const _r of this.paths){const Sr=[],Lr=[];for(let xr=0,jr=_r.length;xr<jr;xr++){const[Pr,Mr,lr,qt]=_r[xr],Kt=wt*Pr[0]+ir,gr=wt*Pr[1]+Ft,Ir=wt*Mr[0]+ir,Cr=wt*Mr[1]+Ft,Dt=wt*lr[0]+ir,sr=wt*lr[1]+Ft,hr=wt*qt[0]+ir,Er=wt*qt[1]+Ft;xr===0&&(Sr.push(Kt,gr),Lr.push(Kt,gr)),Sr.push(Ir,Cr,Dt,sr,hr,Er),Lr.push(Ir,Cr),xr===jr-1&&Lr.push(hr,Er)}tr.push({bezier:Ut(pr=nr,St,ps).call(pr,Sr,Ht,this.rotation),points:Ut(dr=nr,St,ps).call(dr,Lr,Ht,this.rotation)})}return tr},hs=function(){let wt=1/0,Tt=-1/0,Bt=1/0,Ht=-1/0;for(const tr of this.paths)for(const[ar,ir,Ft,pr]of tr){const dr=a.Util.bezierBoundingBox(...ar,...ir,...Ft,...pr);wt=Math.min(wt,dr[0]),Bt=Math.min(Bt,dr[1]),Tt=Math.max(Tt,dr[2]),Ht=Math.max(Ht,dr[3])}return[wt,Bt,Tt,Ht]},Pn=function(){return lt(this,st)?Math.ceil(this.thickness*this.parentScale):0},an=function(wt=!1){if(this.isEmpty())return;if(!lt(this,st)){Ut(this,et,Qr).call(this);return}const Tt=Ut(this,et,hs).call(this),Bt=Ut(this,et,Pn).call(this);Jt(this,j,Math.max(o.AnnotationEditor.MIN_SIZE,Tt[2]-Tt[0])),Jt(this,b,Math.max(o.AnnotationEditor.MIN_SIZE,Tt[3]-Tt[1]));const Ht=Math.ceil(Bt+lt(this,j)*this.scaleFactor),tr=Math.ceil(Bt+lt(this,b)*this.scaleFactor),[ar,ir]=this.parentDimensions;this.width=Ht/ar,this.height=tr/ir,this.setAspectRatio(Ht,tr);const Ft=this.translationX,pr=this.translationY;this.translationX=-Tt[0],this.translationY=-Tt[1],Ut(this,et,sn).call(this),Ut(this,et,Qr).call(this),Jt(this,ct,Ht),Jt(this,ot,tr),this.setDims(Ht,tr);const dr=wt?Bt/this.scaleFactor/2:0;this.translate(Ft-this.translationX-dr,pr-this.translationY-dr)},Xt(nr,St),$r(nr,"_defaultColor",null),$r(nr,"_defaultOpacity",1),$r(nr,"_defaultThickness",1),$r(nr,"_type","ink");let h=nr;s.InkEditor=h},(e,s,i)=>{var h,b,j,_,$,rt,nt,dt,st,_e,tt,gn,xn,Tn,fs,$a,eo,ms,Dn,to;Object.defineProperty(s,"__esModule",{value:!0}),s.StampEditor=void 0;var a=i(1),o=i(4),c=i(6),d=i(29);const gt=class gt extends o.AnnotationEditor{constructor(Nt){super({...Nt,name:"stampEditor"});Xt(this,tt);Xt(this,h,null);Xt(this,b,null);Xt(this,j,null);Xt(this,_,null);Xt(this,$,null);Xt(this,rt,null);Xt(this,nt,null);Xt(this,dt,null);Xt(this,st,!1);Xt(this,_e,!1);Jt(this,_,Nt.bitmapUrl),Jt(this,$,Nt.bitmapFile)}static initialize(Nt){o.AnnotationEditor.initialize(Nt)}static get supportedTypes(){const Nt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,a.shadow)(this,"supportedTypes",Nt.map(It=>`image/${It}`))}static get supportedTypesStr(){return(0,a.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Nt){return this.supportedTypes.includes(Nt)}static paste(Nt,It){It.pasteEditor(a.AnnotationEditorType.STAMP,{bitmapFile:Nt.getAsFile()})}remove(){var Nt,It;lt(this,b)&&(Jt(this,h,null),this._uiManager.imageManager.deleteId(lt(this,b)),(Nt=lt(this,rt))==null||Nt.remove(),Jt(this,rt,null),(It=lt(this,nt))==null||It.disconnect(),Jt(this,nt,null)),super.remove()}rebuild(){if(!this.parent){lt(this,b)&&Ut(this,tt,Tn).call(this);return}super.rebuild(),this.div!==null&&(lt(this,b)&&Ut(this,tt,Tn).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(lt(this,j)||lt(this,h)||lt(this,_)||lt(this,$))}get isResizable(){return!0}render(){if(this.div)return this.div;let Nt,It;if(this.width&&(Nt=this.x,It=this.y),super.render(),this.div.hidden=!0,lt(this,h)?Ut(this,tt,fs).call(this):Ut(this,tt,Tn).call(this),this.width){const[kt,bt]=this.parentDimensions;this.setAt(Nt*kt,It*bt,this.width*kt,this.height*bt)}return this.div}static deserialize(Nt,It,kt){if(Nt instanceof d.StampAnnotationElement)return null;const bt=super.deserialize(Nt,It,kt),{rect:yt,bitmapUrl:At,bitmapId:Lt,isSvg:jt,accessibilityData:ft}=Nt;Lt&&kt.imageManager.isValidId(Lt)?Jt(bt,b,Lt):Jt(bt,_,At),Jt(bt,st,jt);const[mt,vt]=bt.pageDimensions;return bt.width=(yt[2]-yt[0])/mt,bt.height=(yt[3]-yt[1])/vt,ft&&(bt.altTextData=ft),bt}serialize(Nt=!1,It=null){if(this.isEmpty())return null;const kt={annotationType:a.AnnotationEditorType.STAMP,bitmapId:lt(this,b),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:lt(this,st),structTreeParentId:this._structTreeParentId};if(Nt)return kt.bitmapUrl=Ut(this,tt,Dn).call(this,!0),kt.accessibilityData=this.altTextData,kt;const{decorative:bt,altText:yt}=this.altTextData;if(!bt&&yt&&(kt.accessibilityData={type:"Figure",alt:yt}),It===null)return kt;It.stamps||(It.stamps=new Map);const At=lt(this,st)?(kt.rect[2]-kt.rect[0])*(kt.rect[3]-kt.rect[1]):null;if(!It.stamps.has(lt(this,b)))It.stamps.set(lt(this,b),{area:At,serialized:kt}),kt.bitmap=Ut(this,tt,Dn).call(this,!1);else if(lt(this,st)){const Lt=It.stamps.get(lt(this,b));At>Lt.area&&(Lt.area=At,Lt.serialized.bitmap.close(),Lt.serialized.bitmap=Ut(this,tt,Dn).call(this,!1))}return kt}};h=new WeakMap,b=new WeakMap,j=new WeakMap,_=new WeakMap,$=new WeakMap,rt=new WeakMap,nt=new WeakMap,dt=new WeakMap,st=new WeakMap,_e=new WeakMap,tt=new WeakSet,gn=function(Nt,It=!1){if(!Nt){this.remove();return}Jt(this,h,Nt.bitmap),It||(Jt(this,b,Nt.id),Jt(this,st,Nt.isSvg)),Ut(this,tt,fs).call(this)},xn=function(){Jt(this,j,null),this._uiManager.enableWaiting(!1),lt(this,rt)&&this.div.focus()},Tn=function(){if(lt(this,b)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(lt(this,b)).then(It=>Ut(this,tt,gn).call(this,It,!0)).finally(()=>Ut(this,tt,xn).call(this));return}if(lt(this,_)){const It=lt(this,_);Jt(this,_,null),this._uiManager.enableWaiting(!0),Jt(this,j,this._uiManager.imageManager.getFromUrl(It).then(kt=>Ut(this,tt,gn).call(this,kt)).finally(()=>Ut(this,tt,xn).call(this)));return}if(lt(this,$)){const It=lt(this,$);Jt(this,$,null),this._uiManager.enableWaiting(!0),Jt(this,j,this._uiManager.imageManager.getFromFile(It).then(kt=>Ut(this,tt,gn).call(this,kt)).finally(()=>Ut(this,tt,xn).call(this)));return}const Nt=document.createElement("input");Nt.type="file",Nt.accept=gt.supportedTypesStr,Jt(this,j,new Promise(It=>{Nt.addEventListener("change",async()=>{if(!Nt.files||Nt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const kt=await this._uiManager.imageManager.getFromFile(Nt.files[0]);Ut(this,tt,gn).call(this,kt)}It()}),Nt.addEventListener("cancel",()=>{this.remove(),It()})}).finally(()=>Ut(this,tt,xn).call(this))),Nt.click()},fs=function(){const{div:Nt}=this;let{width:It,height:kt}=lt(this,h);const[bt,yt]=this.pageDimensions,At=.75;if(this.width)It=this.width*bt,kt=this.height*yt;else if(It>At*bt||kt>At*yt){const mt=Math.min(At*bt/It,At*yt/kt);It*=mt,kt*=mt}const[Lt,jt]=this.parentDimensions;this.setDims(It*Lt/bt,kt*jt/yt),this._uiManager.enableWaiting(!1);const ft=Jt(this,rt,document.createElement("canvas"));Nt.append(ft),Nt.hidden=!1,Ut(this,tt,ms).call(this,It,kt),Ut(this,tt,to).call(this),lt(this,_e)||(this.parent.addUndoableEditor(this),Jt(this,_e,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},$a=function(Nt,It){var At;const[kt,bt]=this.parentDimensions;this.width=Nt/kt,this.height=It/bt,this.setDims(Nt,It),(At=this._initialOptions)!=null&&At.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,lt(this,dt)!==null&&clearTimeout(lt(this,dt)),Jt(this,dt,setTimeout(()=>{Jt(this,dt,null),Ut(this,tt,ms).call(this,Nt,It)},200))},eo=function(Nt,It){const{width:kt,height:bt}=lt(this,h);let yt=kt,At=bt,Lt=lt(this,h);for(;yt>2*Nt||At>2*It;){const jt=yt,ft=At;yt>2*Nt&&(yt=yt>=16384?Math.floor(yt/2)-1:Math.ceil(yt/2)),At>2*It&&(At=At>=16384?Math.floor(At/2)-1:Math.ceil(At/2));const mt=new OffscreenCanvas(yt,At);mt.getContext("2d").drawImage(Lt,0,0,jt,ft,0,0,yt,At),Lt=mt.transferToImageBitmap()}return Lt},ms=function(Nt,It){Nt=Math.ceil(Nt),It=Math.ceil(It);const kt=lt(this,rt);if(!kt||kt.width===Nt&&kt.height===It)return;kt.width=Nt,kt.height=It;const bt=lt(this,st)?lt(this,h):Ut(this,tt,eo).call(this,Nt,It),yt=kt.getContext("2d");yt.filter=this._uiManager.hcmFilter,yt.drawImage(bt,0,0,bt.width,bt.height,0,0,Nt,It)},Dn=function(Nt){if(Nt){if(lt(this,st)){const bt=this._uiManager.imageManager.getSvgUrl(lt(this,b));if(bt)return bt}const It=document.createElement("canvas");return{width:It.width,height:It.height}=lt(this,h),It.getContext("2d").drawImage(lt(this,h),0,0),It.toDataURL()}if(lt(this,st)){const[It,kt]=this.pageDimensions,bt=Math.round(this.width*It*c.PixelsPerInch.PDF_TO_CSS_UNITS),yt=Math.round(this.height*kt*c.PixelsPerInch.PDF_TO_CSS_UNITS),At=new OffscreenCanvas(bt,yt);return At.getContext("2d").drawImage(lt(this,h),0,0,lt(this,h).width,lt(this,h).height,0,0,bt,yt),At.transferToImageBitmap()}return structuredClone(lt(this,h))},to=function(){Jt(this,nt,new ResizeObserver(Nt=>{const It=Nt[0].contentRect;It.width&&It.height&&Ut(this,tt,$a).call(this,It.width,It.height)})),lt(this,nt).observe(this.div)},$r(gt,"_type","stamp");let g=gt;s.StampEditor=g}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var s=__webpack_module_cache__[e];if(s!==void 0)return s.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](i,i.exports,__w_pdfjs_require__),i.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return s.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return c.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return s.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return s.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return d.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return g.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return a.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return s.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return h.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return s.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return a.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return a.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return s.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return a.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return i.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return b.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return a.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return a.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return a.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return a.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return a.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return a.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return a.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return s.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return o.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return a.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return o.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return i.version}});var s=__w_pdfjs_require__(1),i=__w_pdfjs_require__(2),a=__w_pdfjs_require__(6),o=__w_pdfjs_require__(26),c=__w_pdfjs_require__(27),d=__w_pdfjs_require__(5),g=__w_pdfjs_require__(29),h=__w_pdfjs_require__(14),b=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf$1);var pdfExports=pdf$1.exports;const pdf=getDefaultExportFromCjs(pdfExports),pdfjsModule=_mergeNamespaces({__proto__:null,default:pdf},[pdfExports]),pdfjs="default"in pdfjsModule?pdf:pdfjsModule;var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function e(a,o,c,d,g,h){if(h!==ReactPropTypesSecret){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}e.isRequired=e;function s(){return e}var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:s,element:e,elementType:e,instanceOf:s,node:e,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return i.PropTypes=i,i};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var __spreadArray=function(e,s,i){if(i||arguments.length===2)for(var a=0,o=s.length,c;a<o;a++)(c||!(a in s))&&(c||(c=Array.prototype.slice.call(s,0,a)),c[a]=s[a]);return e.concat(c||Array.prototype.slice.call(s))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(e,s){var i={};return allEvents.forEach(function(a){var o=e[a];o&&(s?i[a]=function(c){return o(c,s(a))}:i[a]=o)}),i}function makeCancellablePromise(e){var s=!1,i=new Promise(function(a,o){e.then(function(c){return!s&&a(c)}).catch(function(c){return!s&&o(c)})});return{promise:i,cancel:function(){s=!0}}}function r(e){var s,i,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(s=0;s<o;s++)e[s]&&(i=r(e[s]))&&(a&&(a+=" "),a+=i)}else for(i in e)e[i]&&(a&&(a+=" "),a+=i);return a}function clsx(){for(var e,s,i=0,a="",o=arguments.length;i<o;i++)(e=arguments[i])&&(s=r(e))&&(a&&(a+=" "),a+=s);return a}var prefix$2="Invariant failed";function invariant$1(e,s){if(!e)throw new Error(prefix$2)}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1);var has=Object.prototype.hasOwnProperty;function find(e,s,i){for(i of e.keys())if(dequal(i,s))return i}function dequal(e,s){var i,a,o;if(e===s)return!0;if(e&&s&&(i=e.constructor)===s.constructor){if(i===Date)return e.getTime()===s.getTime();if(i===RegExp)return e.toString()===s.toString();if(i===Array){if((a=e.length)===s.length)for(;a--&&dequal(e[a],s[a]););return a===-1}if(i===Set){if(e.size!==s.size)return!1;for(a of e)if(o=a,o&&typeof o=="object"&&(o=find(s,o),!o)||!s.has(o))return!1;return!0}if(i===Map){if(e.size!==s.size)return!1;for(a of e)if(o=a[0],o&&typeof o=="object"&&(o=find(s,o),!o)||!dequal(a[1],s.get(o)))return!1;return!0}if(i===ArrayBuffer)e=new Uint8Array(e),s=new Uint8Array(s);else if(i===DataView){if((a=e.byteLength)===s.byteLength)for(;a--&&e.getInt8(a)===s.getInt8(a););return a===-1}if(ArrayBuffer.isView(e)){if((a=e.byteLength)===s.byteLength)for(;a--&&e[a]===s[a];);return a===-1}if(!i||typeof e=="object"){a=0;for(i in e)if(has.call(e,i)&&++a&&!has.call(s,i)||!(i in s)||!dequal(e[i],s[i]))return!1;return Object.keys(s).length===a}}return e!==e&&s!==s}const DocumentContext=reactExports.createContext(null);function Message({children:e,type:s}){return React$1.createElement("div",{className:`react-pdf__message react-pdf__message--${s}`},e)}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(s){this.pdfDocument=s}setViewer(s){this.pdfViewer=s}setExternalLinkRel(s){this.externalLinkRel=s}setExternalLinkTarget(s){this.externalLinkTarget=s}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant$1(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(s){invariant$1(this.pdfViewer),this.pdfViewer.currentPageNumber=s}get rotation(){return 0}set rotation(s){}goToDestination(s){return new Promise(i=>{invariant$1(this.pdfDocument),invariant$1(s),typeof s=="string"?this.pdfDocument.getDestination(s).then(i):Array.isArray(s)?i(s):s.then(i)}).then(i=>{invariant$1(Array.isArray(i));const a=i[0];new Promise(o=>{invariant$1(this.pdfDocument),a instanceof Object?this.pdfDocument.getPageIndex(a).then(c=>{o(c)}).catch(()=>{invariant$1(!1)}):typeof a=="number"?o(a):invariant$1(!1)}).then(o=>{const c=o+1;invariant$1(this.pdfViewer),invariant$1(c>=1&&c<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:i,pageIndex:o,pageNumber:c})})})}navigateTo(s){this.goToDestination(s)}goToPage(s){const i=s-1;invariant$1(this.pdfViewer),invariant$1(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:i,pageNumber:s})}addLinkAttributes(s,i,a){s.href=i,s.rel=this.externalLinkRel||DEFAULT_LINK_REL,s.target=a?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(e){return typeof e<"u"}function isProvided(e){return isDefined(e)&&e!==null}function isString(e){return typeof e=="string"}function isArrayBuffer(e){return e instanceof ArrayBuffer}function isBlob(e){return invariant$1(isBrowser),e instanceof Blob}function isDataURI(e){return isString(e)&&/^data:/.test(e)}function dataURItoByteString(e){invariant$1(isDataURI(e));const[s="",i=""]=e.split(",");return s.split(";").indexOf("base64")!==-1?atob(i):unescape(i)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning$1(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning$1(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(e){e&&e.cancel&&e.cancel()}function makePageCallback(e,s){return Object.defineProperty(e,"width",{get(){return this.view[2]*s},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*s},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function isCancelException(e){return e.name==="RenderingCancelledException"}function loadFromFile(e){return new Promise((s,i)=>{const a=new FileReader;a.onload=()=>{if(!a.result)return i(new Error("Error while reading a file."));s(a.result)},a.onerror=o=>{if(!o.target)return i(new Error("Error while reading a file."));const{error:c}=o.target;if(!c)return i(new Error("Error while reading a file."));switch(c.code){case c.NOT_FOUND_ERR:return i(new Error("Error while reading a file: File not found."));case c.SECURITY_ERR:return i(new Error("Error while reading a file: Security error."));case c.ABORT_ERR:return i(new Error("Error while reading a file: Aborted."));default:return i(new Error("Error while reading a file."))}},a.readAsArrayBuffer(e)})}function reducer$1(e,s){switch(s.type){case"RESOLVE":return{value:s.value,error:void 0};case"REJECT":return{value:!1,error:s.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function useResolver(){return reactExports.useReducer(reducer$1,{value:void 0,error:void 0})}const{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs,eventProps=(()=>{const e={};return allEvents.forEach(s=>{e[s]=PropTypes.func}),e})(),isTypedArray=PropTypes.oneOfType([PropTypes.instanceOf(Int8Array),PropTypes.instanceOf(Uint8Array),PropTypes.instanceOf(Uint8ClampedArray),PropTypes.instanceOf(Int16Array),PropTypes.instanceOf(Uint16Array),PropTypes.instanceOf(Int32Array),PropTypes.instanceOf(Uint32Array),PropTypes.instanceOf(Float32Array),PropTypes.instanceOf(Float64Array)]),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.arrayOf(PropTypes.number.isRequired),isTypedArray]).isRequired}),PropTypes.shape({range:PropTypes.instanceOf(PDFDataRangeTransport$1).isRequired}),PropTypes.shape({url:PropTypes.string.isRequired})];typeof Blob<"u"&&fileTypes.push(PropTypes.instanceOf(Blob));const isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes);PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);PropTypes.shape({commonObjs:PropTypes.shape({}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired});const isPageIndex=function e(s,i,a){const{[i]:o,pageNumber:c,pdf:d}=s;if(!isDefined(d))return null;if(isDefined(o)){if(typeof o!="number")return new Error(`\`${i}\` of type \`${typeof o}\` supplied to \`${a}\`, expected \`number\`.`);if(o<0)return new Error(`Expected \`${i}\` to be greater or equal to 0.`);const{numPages:g}=d;if(o+1>g)return new Error(`Expected \`${i}\` to be less or equal to ${g-1}.`)}else if(!isDefined(c))return new Error(`\`${i}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${a}\`.`);return null},isPageNumber=function e(s,i,a){const{[i]:o,pageIndex:c,pdf:d}=s;if(!isDefined(d))return null;if(isDefined(o)){if(typeof o!="number")return new Error(`\`${i}\` of type \`${typeof o}\` supplied to \`${a}\`, expected \`number\`.`);if(o<1)return new Error(`Expected \`${i}\` to be greater or equal to 1.`);const{numPages:g}=d;if(o>g)return new Error(`Expected \`${i}\` to be less or equal to ${g}.`)}else if(!isDefined(c))return new Error(`\`${i}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${a}\`.`);return null},isPdf=PropTypes.oneOfType([PropTypes.any,PropTypes.oneOf([!1])]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.exact({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","custom","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]);var __awaiter=function(e,s,i,a){function o(c){return c instanceof i?c:new i(function(d){d(c)})}return new(i||(i=Promise))(function(c,d){function g(j){try{b(a.next(j))}catch(_){d(_)}}function h(j){try{b(a.throw(j))}catch(_){d(_)}}function b(j){j.done?c(j.value):o(j.value).then(g,h)}b((a=a.apply(e,s||[])).next())})},__rest$1=function(e,s){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&s.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)s.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(i[a[o]]=e[a[o]]);return i};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(e,s)=>{switch(s){case PasswordResponses.NEED_PASSWORD:{const i=prompt("Enter the password to open this PDF file.");e(i);break}case PasswordResponses.INCORRECT_PASSWORD:{const i=prompt("Invalid password. Please try again.");e(i);break}}};function isParameterObject(e){return typeof e=="object"&&e!==null&&("data"in e||"range"in e||"url"in e)}const Document=reactExports.forwardRef(function e(s,i){var{children:a,className:o,error:c="Failed to load PDF file.",externalLinkRel:d,externalLinkTarget:g,file:h,inputRef:b,imageResourcesPath:j,loading:_="Loading PDF…",noData:$="No PDF file specified.",onItemClick:rt,onLoadError:nt,onLoadProgress:dt,onLoadSuccess:st,onPassword:_e=defaultOnPassword,onSourceError:tt,onSourceSuccess:it,options:ct,renderMode:ot,rotate:pt}=s,et=__rest$1(s,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[at,ht]=useResolver(),{value:xt,error:ut}=at,[gt,Et]=useResolver(),{value:Mt,error:Nt}=gt,It=reactExports.useRef(new LinkService),kt=reactExports.useRef([]),bt=reactExports.useRef(),yt=reactExports.useRef();reactExports.useEffect(()=>{h&&h!==bt.current&&isParameterObject(h)&&(warning$1(!dequal(h,bt.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),bt.current=h)},[h]),reactExports.useEffect(()=>{ct&&ct!==yt.current&&(warning$1(!dequal(ct,yt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),yt.current=ct)},[ct]);const At=reactExports.useRef({scrollPageIntoView:Vt=>{const{dest:zt,pageNumber:wt,pageIndex:Tt=wt-1}=Vt;if(rt){rt({dest:zt,pageIndex:Tt,pageNumber:wt});return}const Bt=kt.current[Tt];if(Bt){Bt.scrollIntoView();return}warning$1(!1,`An internal link leading to page ${wt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(i,()=>({linkService:It,pages:kt,viewer:At}),[]);function Lt(){it&&it()}function jt(){ut&&(warning$1(!1,ut.toString()),tt&&tt(ut))}function ft(){ht({type:"RESET"})}reactExports.useEffect(ft,[h,ht]);const mt=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!h)return null;if(typeof h=="string")return isDataURI(h)?{data:dataURItoByteString(h)}:(displayCORSWarning(),{url:h});if(h instanceof PDFDataRangeTransport)return{range:h};if(isArrayBuffer(h))return{data:h};if(isBrowser&&isBlob(h))return{data:yield loadFromFile(h)};if(invariant$1(typeof h=="object"),invariant$1(isParameterObject(h)),"url"in h&&typeof h.url=="string"){if(isDataURI(h.url)){const{url:Vt}=h,zt=__rest$1(h,["url"]),wt=dataURItoByteString(Vt);return Object.assign({data:wt},zt)}displayCORSWarning()}return h}),[h]);reactExports.useEffect(()=>{const Vt=makeCancellablePromise(mt());return Vt.promise.then(zt=>{ht({type:"RESOLVE",value:zt})}).catch(zt=>{ht({type:"REJECT",error:zt})}),()=>{cancelRunningTask(Vt)}},[mt,ht]),reactExports.useEffect(()=>{if(!(typeof xt>"u")){if(xt===!1){jt();return}Lt()}},[xt]);function vt(){Mt&&(st&&st(Mt),kt.current=new Array(Mt.numPages),It.current.setDocument(Mt))}function _t(){Nt&&(warning$1(!1,Nt.toString()),nt&&nt(Nt))}function St(){Et({type:"RESET"})}reactExports.useEffect(St,[Et,xt]);function Pt(){if(!xt)return;const Vt=Object.assign(Object.assign({},ct),{isEvalSupported:!1}),zt=Object.assign(Object.assign({},xt),Vt),wt=pdfjs.getDocument(zt);dt&&(wt.onProgress=dt),_e&&(wt.onPassword=_e);const Tt=wt;return Tt.promise.then(Bt=>{Et({type:"RESOLVE",value:Bt})}).catch(Bt=>{Tt.destroyed||Et({type:"REJECT",error:Bt})}),()=>{Tt.destroy()}}reactExports.useEffect(Pt,[ct,Et,xt]),reactExports.useEffect(()=>{if(!(typeof Mt>"u")){if(Mt===!1){_t();return}vt()}},[Mt]);function Ot(){It.current.setViewer(At.current),It.current.setExternalLinkRel(d),It.current.setExternalLinkTarget(g)}reactExports.useEffect(Ot,[d,g]);function Gt(Vt,zt){kt.current[Vt]=zt}function Yt(Vt){delete kt.current[Vt]}const Qt=reactExports.useMemo(()=>({imageResourcesPath:j,linkService:It.current,onItemClick:rt,pdf:Mt,registerPage:Gt,renderMode:ot,rotate:pt,unregisterPage:Yt}),[j,rt,Mt,ot,pt]),rr=reactExports.useMemo(()=>makeEventProps(et,()=>Mt),[et,Mt]);function Wt(){return React$1.createElement(DocumentContext.Provider,{value:Qt},a)}function nr(){return h?Mt==null?React$1.createElement(Message,{type:"loading"},typeof _=="function"?_():_):Mt===!1?React$1.createElement(Message,{type:"error"},typeof c=="function"?c():c):Wt():React$1.createElement(Message,{type:"no-data"},typeof $=="function"?$():$)}return React$1.createElement("div",Object.assign({className:clsx("react-pdf__Document",o),ref:b,style:{"--scale-factor":"1"}},rr),nr())}),isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=Object.assign(Object.assign({},eventProps),{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.oneOf(["_self","_blank","_parent","_top"]),file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,options:PropTypes.shape({canvasFactory:PropTypes.any,canvasMaxAreaInBytes:PropTypes.number,cMapPacked:PropTypes.bool,CMapReaderFactory:PropTypes.any,cMapUrl:PropTypes.string,disableAutoFetch:PropTypes.bool,disableFontFace:PropTypes.bool,disableRange:PropTypes.bool,disableStream:PropTypes.bool,docBaseUrl:PropTypes.string,enableXfa:PropTypes.bool,filterFactory:PropTypes.any,fontExtraProperties:PropTypes.bool,httpHeaders:PropTypes.object,isEvalSupported:PropTypes.bool,isOffscreenCanvasSupported:PropTypes.bool,length:PropTypes.number,maxImageSize:PropTypes.number,ownerDocument:PropTypes.any,password:PropTypes.string,pdfBug:PropTypes.bool,rangeChunkSize:PropTypes.number,StandardFontDataFactory:PropTypes.any,standardFontDataUrl:PropTypes.string,stopAtErrors:PropTypes.bool,useSystemFonts:PropTypes.bool,useWorkerFetch:PropTypes.bool,verbosity:PropTypes.number,withCredentials:PropTypes.bool,worker:PropTypes.any}),rotate:PropTypes.number});function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];var i=e.filter(Boolean);if(i.length<=1){var a=i[0];return a||null}return function(c){i.forEach(function(d){typeof d=="function"?d(c):d&&(d.current=c)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(e){return e in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(e){return"children"in e}function isStructTreeNodeWithOnlyContentChild(e){return isStructTreeNode(e)?e.children.length===1&&0 in e.children&&"id"in e.children[0]:!1}function getRoleAttributes(e){const s={};if(isStructTreeNode(e)){const{role:i}=e,a=i.match(HEADING_PATTERN);if(a)s.role="heading",s["aria-level"]=Number(a[1]);else if(isPdfRole(i)){const o=PDF_ROLE_TO_HTML_ROLE[i];o&&(s.role=o)}}return s}function getBaseAttributes(e){const s={};if(isStructTreeNode(e)){if(e.alt!==void 0&&(s["aria-label"]=e.alt),e.lang!==void 0&&(s.lang=e.lang),isStructTreeNodeWithOnlyContentChild(e)){const[i]=e.children;if(i){const a=getBaseAttributes(i);return Object.assign(Object.assign({},s),a)}}}else"id"in e&&(s["aria-owns"]=e.id);return s}function getAttributes(e){return e?Object.assign(Object.assign({},getRoleAttributes(e)),getBaseAttributes(e)):null}function StructTreeItem({className:e,node:s}){const i=reactExports.useMemo(()=>getAttributes(s),[s]),a=reactExports.useMemo(()=>!isStructTreeNode(s)||isStructTreeNodeWithOnlyContentChild(s)?null:s.children.map((o,c)=>React$1.createElement(StructTreeItem,{key:c,node:o})),[s]);return React$1.createElement("span",Object.assign({className:e},i),a)}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const e=usePageContext();invariant$1(e);const{onGetStructTreeError:s,onGetStructTreeSuccess:i}=e,[a,o]=useResolver(),{value:c,error:d}=a,{customTextRenderer:g,page:h}=e;function b(){c&&i&&i(c)}function j(){d&&(warning$1(!1,d.toString()),s&&s(d))}function _(){o({type:"RESET"})}reactExports.useEffect(_,[o,h]);function $(){if(g||!h)return;const rt=makeCancellablePromise(h.getStructTree()),nt=rt;return rt.promise.then(dt=>{o({type:"RESOLVE",value:dt})}).catch(dt=>{o({type:"REJECT",error:dt})}),()=>cancelRunningTask(nt)}return reactExports.useEffect($,[g,h,o]),reactExports.useEffect(()=>{if(c!==void 0){if(c===!1){j();return}b()}},[c]),c?React$1.createElement(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:c}):null}const ANNOTATION_MODE=pdfjs.AnnotationMode;function PageCanvas(e){const s=usePageContext();invariant$1(s);const i=Object.assign(Object.assign({},s),e),{_className:a,canvasBackground:o,devicePixelRatio:c=getDevicePixelRatio(),onRenderError:d,onRenderSuccess:g,page:h,renderForms:b,renderTextLayer:j,rotate:_,scale:$}=i,{canvasRef:rt}=e;invariant$1(h);const nt=reactExports.useRef(null);function dt(){h&&g&&g(makePageCallback(h,$))}function st(ot){isCancelException(ot)||(warning$1(!1,ot.toString()),d&&d(ot))}const _e=reactExports.useMemo(()=>h.getViewport({scale:$*c,rotation:_}),[c,h,_,$]),tt=reactExports.useMemo(()=>h.getViewport({scale:$,rotation:_}),[h,_,$]);function it(){if(!h)return;h.cleanup();const{current:ot}=nt;if(!ot)return;ot.width=_e.width,ot.height=_e.height,ot.style.width=`${Math.floor(tt.width)}px`,ot.style.height=`${Math.floor(tt.height)}px`,ot.style.visibility="hidden";const pt={annotationMode:b?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:ot.getContext("2d",{alpha:!1}),viewport:_e};o&&(pt.background=o);const et=h.render(pt),at=et;return et.promise.then(()=>{ot.style.visibility="",dt()}).catch(st),()=>cancelRunningTask(at)}reactExports.useEffect(it,[o,nt,c,h,b,_e,tt]);const ct=reactExports.useCallback(()=>{const{current:ot}=nt;ot&&(ot.width=0,ot.height=0)},[nt]);return reactExports.useEffect(()=>ct,[ct]),React$1.createElement("canvas",{className:`${a}__canvas`,dir:"ltr",ref:mergeRefs(rt,nt),style:{display:"block",userSelect:"none"}},j?React$1.createElement(StructTree,null):null)}function PageSVG(){const e=usePageContext();invariant$1(e);const{_className:s,onRenderSuccess:i,onRenderError:a,page:o,rotate:c,scale:d}=e;invariant$1(o);const[g,h]=useResolver(),{value:b,error:j}=g;function _(){o&&i&&i(makePageCallback(o,d))}function $(){j&&(isCancelException(j)||(warning$1(!1,j.toString()),a&&a(j)))}const rt=reactExports.useMemo(()=>o.getViewport({scale:d,rotation:c}),[o,c,d]);function nt(){h({type:"RESET"})}reactExports.useEffect(nt,[o,h,rt]);function dt(){if(!o)return;const it=makeCancellablePromise(o.getOperatorList());return it.promise.then(ct=>{new pdfjs.SVGGraphics(o.commonObjs,o.objs).getSVG(ct,rt).then(pt=>{if(!(pt instanceof SVGElement))throw new Error("getSVG returned unexpected result.");h({type:"RESOLVE",value:pt})}).catch(pt=>{h({type:"REJECT",error:pt})})}).catch(ct=>{h({type:"REJECT",error:ct})}),()=>cancelRunningTask(it)}reactExports.useEffect(dt,[o,h,rt]),reactExports.useEffect(()=>{if(b!==void 0){if(b===!1){$();return}_()}},[b]);function st(it){if(!it||!b)return;it.firstElementChild||it.appendChild(b);const{width:ct,height:ot}=rt;b.setAttribute("width",`${ct}`),b.setAttribute("height",`${ot}`)}const{width:_e,height:tt}=rt;return React$1.createElement("div",{className:`${s}__svg`,ref:it=>st(it),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:_e,height:tt,userSelect:"none"}})}function isTextItem(e){return"str"in e}function TextLayer(){const e=usePageContext();invariant$1(e);const{customTextRenderer:s,onGetTextError:i,onGetTextSuccess:a,onRenderTextLayerError:o,onRenderTextLayerSuccess:c,page:d,pageIndex:g,pageNumber:h,rotate:b,scale:j}=e;invariant$1(d);const[_,$]=useResolver(),{value:rt,error:nt}=_,dt=reactExports.useRef(null),st=reactExports.useRef();warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function _e(){rt&&a&&a(rt)}function tt(){nt&&(warning$1(!1,nt.toString()),i&&i(nt))}function it(){$({type:"RESET"})}reactExports.useEffect(it,[d,$]);function ct(){if(!d)return;const ut=makeCancellablePromise(d.getTextContent()),gt=ut;return ut.promise.then(Et=>{$({type:"RESOLVE",value:Et})}).catch(Et=>{$({type:"REJECT",error:Et})}),()=>cancelRunningTask(gt)}reactExports.useEffect(ct,[d,$]),reactExports.useEffect(()=>{if(rt!==void 0){if(rt===!1){tt();return}_e()}},[rt]);const ot=reactExports.useCallback(()=>{c&&c()},[c]),pt=reactExports.useCallback(ut=>{warning$1(!1,ut.toString()),o&&o(ut)},[o]);function et(){const ut=st.current;ut&&ut.classList.add("active")}function at(){const ut=st.current;ut&&ut.classList.remove("active")}const ht=reactExports.useMemo(()=>d.getViewport({scale:j,rotation:b}),[d,b,j]);function xt(){if(!d||!rt)return;const{current:ut}=dt;if(!ut)return;ut.innerHTML="";const gt=d.streamTextContent({includeMarkedContent:!0}),Et={container:ut,textContentSource:gt,viewport:ht},Mt=pdfjs.renderTextLayer(Et),Nt=Mt;return Mt.promise.then(()=>{const It=document.createElement("div");It.className="endOfContent",ut.append(It),st.current=It;const kt=ut.querySelectorAll('[role="presentation"]');if(s){let bt=0;rt.items.forEach((yt,At)=>{if(!isTextItem(yt))return;const Lt=kt[bt];if(!Lt)return;const jt=s(Object.assign({pageIndex:g,pageNumber:h,itemIndex:At},yt));Lt.innerHTML=jt,bt+=yt.str&&yt.hasEOL?2:1})}ot()}).catch(pt),()=>cancelRunningTask(Nt)}return reactExports.useLayoutEffect(xt,[s,pt,ot,d,g,h,rt,ht]),React$1.createElement("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:at,onMouseDown:et,ref:dt})}function AnnotationLayer(){const e=useDocumentContext(),s=usePageContext();invariant$1(s);const i=Object.assign(Object.assign({},e),s),{imageResourcesPath:a,linkService:o,onGetAnnotationsError:c,onGetAnnotationsSuccess:d,onRenderAnnotationLayerError:g,onRenderAnnotationLayerSuccess:h,page:b,pdf:j,renderForms:_,rotate:$,scale:rt=1}=i;invariant$1(j),invariant$1(b),invariant$1(o);const[nt,dt]=useResolver(),{value:st,error:_e}=nt,tt=reactExports.useRef(null);warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function it(){st&&d&&d(st)}function ct(){_e&&(warning$1(!1,_e.toString()),c&&c(_e))}function ot(){dt({type:"RESET"})}reactExports.useEffect(ot,[dt,b]);function pt(){if(!b)return;const ut=makeCancellablePromise(b.getAnnotations()),gt=ut;return ut.promise.then(Et=>{dt({type:"RESOLVE",value:Et})}).catch(Et=>{dt({type:"REJECT",error:Et})}),()=>{cancelRunningTask(gt)}}reactExports.useEffect(pt,[dt,b,_]),reactExports.useEffect(()=>{if(st!==void 0){if(st===!1){ct();return}it()}},[st]);function et(){h&&h()}function at(ut){warning$1(!1,`${ut}`),g&&g(ut)}const ht=reactExports.useMemo(()=>b.getViewport({scale:rt,rotation:$}),[b,$,rt]);function xt(){if(!j||!b||!o||!st)return;const{current:ut}=tt;if(!ut)return;const gt=ht.clone({dontFlip:!0}),Et={accessibilityManager:null,annotationCanvasMap:null,div:ut,l10n:null,page:b,viewport:gt},Mt={annotations:st,annotationStorage:j.annotationStorage,div:ut,downloadManager:null,imageResourcesPath:a,linkService:o,page:b,renderForms:_,viewport:gt};ut.innerHTML="";try{new pdfjs.AnnotationLayer(Et).render(Mt),et()}catch(Nt){at(Nt)}return()=>{}}return reactExports.useEffect(xt,[st,a,o,b,_,ht]),React$1.createElement("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:tt})}var __rest=function(e,s){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&s.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)s.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(i[a[o]]=e[a[o]]);return i};const defaultScale=1,Page=function e(s){const i=useDocumentContext(),a=Object.assign(Object.assign({},i),s),{_className:o="react-pdf__Page",_enableRegisterUnregisterPage:c=!0,canvasBackground:d,canvasRef:g,children:h,className:b,customRenderer:j,customTextRenderer:_,devicePixelRatio:$,error:rt="Failed to load the page.",height:nt,inputRef:dt,loading:st="Loading page…",noData:_e="No page specified.",onGetAnnotationsError:tt,onGetAnnotationsSuccess:it,onGetStructTreeError:ct,onGetStructTreeSuccess:ot,onGetTextError:pt,onGetTextSuccess:et,onLoadError:at,onLoadSuccess:ht,onRenderAnnotationLayerError:xt,onRenderAnnotationLayerSuccess:ut,onRenderError:gt,onRenderSuccess:Et,onRenderTextLayerError:Mt,onRenderTextLayerSuccess:Nt,pageIndex:It,pageNumber:kt,pdf:bt,registerPage:yt,renderAnnotationLayer:At=!0,renderForms:Lt=!1,renderMode:jt="canvas",renderTextLayer:ft=!0,rotate:mt,scale:vt=defaultScale,unregisterPage:_t,width:St}=a,Pt=__rest(a,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ot,Gt]=useResolver(),{value:Yt,error:Qt}=Ot,rr=reactExports.useRef(null);invariant$1(bt);const Wt=isProvided(kt)?kt-1:It??null,nr=kt??(isProvided(It)?It+1:null),Vt=mt??(Yt?Yt.rotate:null),zt=reactExports.useMemo(()=>{if(!Yt)return null;let jr=1;const Pr=vt??defaultScale;if(St||nt){const Mr=Yt.getViewport({scale:1,rotation:Vt});St?jr=St/Mr.width:nt&&(jr=nt/Mr.height)}return Pr*jr},[nt,Yt,Vt,vt,St]);function wt(){return()=>{isProvided(Wt)&&c&&_t&&_t(Wt)}}reactExports.useEffect(wt,[c,bt,Wt,_t]);function Tt(){if(ht){if(!Yt||!zt)return;ht(makePageCallback(Yt,zt))}if(c&&yt){if(!isProvided(Wt)||!rr.current)return;yt(Wt,rr.current)}}function Bt(){Qt&&(warning$1(!1,Qt.toString()),at&&at(Qt))}function Ht(){Gt({type:"RESET"})}reactExports.useEffect(Ht,[Gt,bt,Wt]);function tr(){if(!bt||!nr)return;const jr=makeCancellablePromise(bt.getPage(nr)),Pr=jr;return jr.promise.then(Mr=>{Gt({type:"RESOLVE",value:Mr})}).catch(Mr=>{Gt({type:"REJECT",error:Mr})}),()=>cancelRunningTask(Pr)}reactExports.useEffect(tr,[Gt,bt,Wt,nr,yt]),reactExports.useEffect(()=>{if(Yt!==void 0){if(Yt===!1){Bt();return}Tt()}},[Yt,zt]);const ar=reactExports.useMemo(()=>Yt&&isProvided(Wt)&&nr&&isProvided(Vt)&&isProvided(zt)?{_className:o,canvasBackground:d,customTextRenderer:_,devicePixelRatio:$,onGetAnnotationsError:tt,onGetAnnotationsSuccess:it,onGetStructTreeError:ct,onGetStructTreeSuccess:ot,onGetTextError:pt,onGetTextSuccess:et,onRenderAnnotationLayerError:xt,onRenderAnnotationLayerSuccess:ut,onRenderError:gt,onRenderSuccess:Et,onRenderTextLayerError:Mt,onRenderTextLayerSuccess:Nt,page:Yt,pageIndex:Wt,pageNumber:nr,renderForms:Lt,renderTextLayer:ft,rotate:Vt,scale:zt}:null,[o,d,_,$,tt,it,ct,ot,pt,et,xt,ut,gt,Et,Mt,Nt,Yt,Wt,nr,Lt,ft,Vt,zt]),ir=reactExports.useMemo(()=>makeEventProps(Pt,()=>Yt&&(zt?makePageCallback(Yt,zt):void 0)),[Pt,Yt,zt]),Ft=`${Wt}@${zt}/${Vt}`,pr=`${Wt}/${Vt}`;function dr(){switch(jt){case"custom":return invariant$1(j),React$1.createElement(j,{key:`${Ft}_custom`});case"none":return null;case"svg":return React$1.createElement(PageSVG,{key:`${pr}_svg`});case"canvas":default:return React$1.createElement(PageCanvas,{key:`${Ft}_canvas`,canvasRef:g})}}function _r(){return ft?React$1.createElement(TextLayer,{key:`${Ft}_text`}):null}function Sr(){return At?React$1.createElement(AnnotationLayer,{key:`${Ft}_annotations`}):null}function Lr(){return React$1.createElement(PageContext.Provider,{value:ar},dr(),_r(),Sr(),h)}function xr(){return nr?bt===null||Yt===void 0||Yt===null?React$1.createElement(Message,{type:"loading"},typeof st=="function"?st():st):bt===!1||Yt===!1?React$1.createElement(Message,{type:"error"},typeof rt=="function"?rt():rt):Lr():React$1.createElement(Message,{type:"no-data"},typeof _e=="function"?_e():_e)}return React$1.createElement("div",Object.assign({className:clsx(o,b),"data-page-number":nr,ref:mergeRefs(dt,rr),style:{"--scale-factor":`${zt}`,backgroundColor:d||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},ir),xr())},isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Page.propTypes=Object.assign(Object.assign({},eventProps),{canvasBackground:PropTypes.string,canvasRef:isRef,children:PropTypes.node,className:isClassName,customRenderer:PropTypes.func,customTextRenderer:PropTypes.func,devicePixelRatio:PropTypes.number,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,onRenderTextLayerError:PropTypes.func,onRenderTextLayerSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,width:PropTypes.number});displayWorkerWarning();pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";pdfjs.GlobalWorkerOptions.workerSrc=`//unpkg.com/pdfjs-dist@${pdfjs.version}/build/pdf.worker.min.js`;function PDFViewer({isOpen:e,onClose:s,pdfUrl:i,title:a}){const[o,c]=reactExports.useState(0),[d,g]=reactExports.useState(1),[h,b]=reactExports.useState(1),[j,_]=reactExports.useState(!0),[$,rt]=reactExports.useState(""),nt=({numPages:ot})=>{c(ot),_(!1),rt("")},dt=ot=>{rt("Failed to load PDF document"),_(!1),console.error("PDF load error:",ot)},st=()=>{g(ot=>Math.max(1,ot-1))},_e=()=>{g(ot=>Math.min(o,ot+1))},tt=()=>{b(ot=>Math.min(3,ot+.2))},it=()=>{b(ot=>Math.max(.5,ot-.2))},ct=()=>{b(1)};return!e||!i?null:jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-2xl max-w-4xl max-h-[90vh] w-full mx-4 flex flex-col border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a||"Script Preview"}),o>0&&jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Page ",d," of ",o]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 mr-4",children:[jsxRuntimeExports.jsx("button",{onClick:it,className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors",title:"Zoom Out",children:jsxRuntimeExports.jsx(ZoomOut,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),jsxRuntimeExports.jsxs("button",{onClick:ct,className:"px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors",title:"Reset Zoom",children:[Math.round(h*100),"%"]}),jsxRuntimeExports.jsx("button",{onClick:tt,className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors",title:"Zoom In",children:jsxRuntimeExports.jsx(ZoomIn,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]}),jsxRuntimeExports.jsx("a",{href:i,download:!0,className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors",title:"Download PDF",children:jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),jsxRuntimeExports.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-auto bg-gray-100 dark:bg-dark-900 p-4",children:[j&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading PDF..."})]})}),$&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-red-600 dark:text-red-400 mb-2",children:"Error loading PDF"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:$})]})}),!j&&!$&&jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx(Document,{file:i,onLoadSuccess:nt,onLoadError:dt,className:"shadow-lg",children:jsxRuntimeExports.jsx(Page,{pageNumber:d,scale:h,className:"border border-gray-300 dark:border-dark-600"})})})]}),o>1&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-4 p-4 border-t border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("button",{onClick:st,disabled:d<=1,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-dark-700 hover:bg-gray-200 dark:hover:bg-dark-600 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors",children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-white",children:"Previous"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"number",min:1,max:o,value:d,onChange:ot=>{const pt=parseInt(ot.target.value);pt>=1&&pt<=o&&g(pt)},className:"w-16 px-2 py-1 text-center border border-gray-300 dark:border-dark-600 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white"}),jsxRuntimeExports.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["of ",o]})]}),jsxRuntimeExports.jsxs("button",{onClick:_e,disabled:d>=o,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-dark-700 hover:bg-gray-200 dark:hover:bg-dark-600 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-white",children:"Next"}),jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"})]})]})]})})}const themeAtom=atom("light"),activityFiltersAtom=atom({}),scriptFiltersAtom=atom({}),lessonFiltersAtom=atom({skillLevels:[],activityTypes:[],playOrCraftTypes:[],search:""}),userFiltersAtom=atom({}),activitiesAtom=atom([]),scriptsAtom=atom([]),filteredActivitiesAtom=atom([]),savedLessonsAtom=atom([]),usersAtom=atom([]),userStatsAtom=atom({totalUsers:0,activeUsers:0,teacherCount:0,adminCount:0,studentCount:0,newUsersThisMonth:0,subscribedUsers:0,totalRevenue:0}),activitiesLoadingAtom=atom(!1),scriptsLoadingAtom=atom(!1),savedLessonsLoadingAtom=atom(!1),usersLoadingAtom=atom(!1),selectedActivityAtom=atom(null),selectedScriptAtom=atom(null),selectedUserAtom=atom(null),activeTabAtom=atom("generate"),showCreateModalAtom=atom(!1),showSaveLessonModalAtom=atom(!1),showUserModalAtom=atom(!1),sidebarCollapsedAtom=atom(!1),activityViewModeAtom=atom("card"),scriptViewModeAtom=atom("card"),lessonPlanningViewModeAtom=atom("card"),currentLessonPlanAtom=atom({warmUp:null,mainActivities:[],coolDown:null,totalDuration:0,estimatedTime:"0 min"}),lessonGenerationStateAtom=atom("idle"),selectedPdfUrlAtom=atom(null),pdfViewerOpenAtom=atom(!1),authStateAtom=atom({user:null,isAuthenticated:!1,isLoading:!1,error:null}),showAuthModalAtom=atom(!1),authModeAtom=atom("signin");function useTheme(){const[e,s]=useAtom(themeAtom);return reactExports.useEffect(()=>{const a=localStorage.getItem("activityhub-theme");if(a)s(a);else{const o=window.matchMedia("(prefers-color-scheme: dark)").matches;s(o?"dark":"light")}},[s]),reactExports.useEffect(()=>{const a=document.documentElement;e==="dark"?a.classList.add("dark"):a.classList.remove("dark"),localStorage.setItem("activityhub-theme",e)},[e]),{theme:e,toggleTheme:()=>{s(e==="light"?"dark":"light")}}}function ThemeToggle(){const{theme:e,toggleTheme:s}=useTheme();return jsxRuntimeExports.jsx("button",{onClick:s,className:"relative p-2 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200 group",title:`Switch to ${e==="light"?"dark":"light"} mode`,children:jsxRuntimeExports.jsxs("div",{className:"relative w-5 h-5",children:[jsxRuntimeExports.jsx(Sun,{className:`absolute inset-0 w-5 h-5 text-yellow-500 transition-all duration-300 ${e==="light"?"opacity-100 rotate-0 scale-100":"opacity-0 rotate-90 scale-75"}`}),jsxRuntimeExports.jsx(Moon,{className:`absolute inset-0 w-5 h-5 text-blue-400 transition-all duration-300 ${e==="dark"?"opacity-100 rotate-0 scale-100":"opacity-0 -rotate-90 scale-75"}`})]})})}function UserMenu({user:e,onSignOut:s,onEditProfile:i}){const[a,o]=reactExports.useState(!1),c=g=>({teacher:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",admin:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",student:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"})[g]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",d=g=>({teacher:"👩‍🏫",admin:"👑",student:"🎓"})[g]||"👤";return jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>o(!a),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-teal-600 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsxs("span",{className:"text-white text-sm font-medium",children:[e.firstName.charAt(0),e.lastName.charAt(0)]})}),jsxRuntimeExports.jsxs("div",{className:"text-left hidden sm:block",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[e.firstName," ",e.lastName]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.email})]}),jsxRuntimeExports.jsx(ChevronDown,{className:`w-4 h-4 text-gray-400 dark:text-gray-500 transition-transform duration-200 ${a?"rotate-180":""}`})]}),a&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)}),jsxRuntimeExports.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white dark:bg-dark-800 rounded-lg shadow-lg dark:shadow-xl shadow-gray-200 dark:shadow-black/20 border border-gray-200 dark:border-dark-700 z-20 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-teal-600 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsxs("span",{className:"text-white font-medium",children:[e.firstName.charAt(0),e.lastName.charAt(0)]})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white",children:[e.firstName," ",e.lastName]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[jsxRuntimeExports.jsx("span",{className:"text-lg",children:d(e.role)}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${c(e.role)}`,children:e.role.charAt(0).toUpperCase()+e.role.slice(1)})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:e.email})]}),e.organization&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Building,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:e.organization})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:["Joined ",new Date(e.createdAt).toLocaleDateString()]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{i(),o(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors duration-200",children:[jsxRuntimeExports.jsx(Settings,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Edit Profile"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{s(),o(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-left text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors duration-200",children:[jsxRuntimeExports.jsx(LogOut,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Sign Out"})]})]})]})]})]})}const userRoles$3=[{value:"teacher",label:"Teacher"},{value:"admin",label:"Administrator"},{value:"student",label:"Student"}];function EditProfileModal({isOpen:e,onClose:s,user:i,onSave:a,loading:o}){const[c,d]=reactExports.useState({firstName:i.firstName,lastName:i.lastName,email:i.email,role:i.role,organization:i.organization||""}),g=async b=>{b.preventDefault(),await a(c),s()},h=()=>{d({firstName:i.firstName,lastName:i.lastName,email:i.email,role:i.role,organization:i.organization||""}),s()};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-teal-600 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(User,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Edit Profile"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Update your account information"})]})]}),jsxRuntimeExports.jsx("button",{onClick:h,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["First Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:c.firstName,onChange:b=>d({...c,firstName:b.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Last Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:c.lastName,onChange:b=>d({...c,lastName:b.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Email Address ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"email",required:!0,value:c.email,onChange:b=>d({...c,email:b.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Role ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("select",{value:c.role,onChange:b=>d({...c,role:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:userRoles$3.map(b=>jsxRuntimeExports.jsx("option",{value:b.value,children:b.label},b.value))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Organization"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Building,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",value:c.organization,onChange:b=>d({...c,organization:b.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200",placeholder:"Your school or organization"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:h,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:o,className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-blue-600 to-teal-600 text-white rounded-lg hover:from-blue-700 hover:to-teal-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg",children:[o?jsxRuntimeExports.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Save Changes"})]})]})]})]})}):null}function ownKeys(e,s){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);s&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),i.push.apply(i,a)}return i}function _objectSpread2(e){for(var s=1;s<arguments.length;s++){var i=arguments[s]!=null?arguments[s]:{};s%2?ownKeys(Object(i),!0).forEach(function(a){_defineProperty(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function _typeof(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(s){return typeof s}:_typeof=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof(e)}function _defineProperty(e,s,i){return s in e?Object.defineProperty(e,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[s]=i,e}function _objectWithoutPropertiesLoose(e,s){if(e==null)return{};var i={},a=Object.keys(e),o,c;for(c=0;c<a.length;c++)o=a[c],!(s.indexOf(o)>=0)&&(i[o]=e[o]);return i}function _objectWithoutProperties(e,s){if(e==null)return{};var i=_objectWithoutPropertiesLoose(e,s),a,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)a=c[o],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function _slicedToArray(e,s){return _arrayWithHoles(e)||_iterableToArrayLimit(e,s)||_unsupportedIterableToArray(e,s)||_nonIterableRest()}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,s){var i=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(i!=null){var a=[],o=!0,c=!1,d,g;try{for(i=i.call(e);!(o=(d=i.next()).done)&&(a.push(d.value),!(s&&a.length===s));o=!0);}catch(h){c=!0,g=h}finally{try{!o&&i.return!=null&&i.return()}finally{if(c)throw g}}return a}}function _unsupportedIterableToArray(e,s){if(e){if(typeof e=="string")return _arrayLikeToArray(e,s);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(e,s)}}function _arrayLikeToArray(e,s){(s==null||s>e.length)&&(s=e.length);for(var i=0,a=new Array(s);i<s;i++)a[i]=e[i];return a}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var useAttachEvent=function e(s,i,a){var o=!!a,c=React$1.useRef(a);React$1.useEffect(function(){c.current=a},[a]),React$1.useEffect(function(){if(!o||!s)return function(){};var d=function(){c.current&&c.current.apply(c,arguments)};return s.on(i,d),function(){s.off(i,d)}},[o,i,s,c])},usePrevious$1=function e(s){var i=React$1.useRef(s);return React$1.useEffect(function(){i.current=s},[s]),i.current},isUnknownObject=function e(s){return s!==null&&_typeof(s)==="object"},isPromise=function e(s){return isUnknownObject(s)&&typeof s.then=="function"},isStripe=function e(s){return isUnknownObject(s)&&typeof s.elements=="function"&&typeof s.createToken=="function"&&typeof s.createPaymentMethod=="function"&&typeof s.confirmCardPayment=="function"},PLAIN_OBJECT_STR="[object Object]",isEqual$3=function e(s,i){if(!isUnknownObject(s)||!isUnknownObject(i))return s===i;var a=Array.isArray(s),o=Array.isArray(i);if(a!==o)return!1;var c=Object.prototype.toString.call(s)===PLAIN_OBJECT_STR,d=Object.prototype.toString.call(i)===PLAIN_OBJECT_STR;if(c!==d)return!1;if(!c&&!a)return s===i;var g=Object.keys(s),h=Object.keys(i);if(g.length!==h.length)return!1;for(var b={},j=0;j<g.length;j+=1)b[g[j]]=!0;for(var _=0;_<h.length;_+=1)b[h[_]]=!0;var $=Object.keys(b);if($.length!==g.length)return!1;var rt=s,nt=i,dt=function(_e){return e(rt[_e],nt[_e])};return $.every(dt)},extractAllowedOptionsUpdates=function e(s,i,a){return isUnknownObject(s)?Object.keys(s).reduce(function(o,c){var d=!isUnknownObject(i)||!isEqual$3(s[c],i[c]);return a.includes(c)?(d&&console.warn("Unsupported prop change: options.".concat(c," is not a mutable property.")),o):d?_objectSpread2(_objectSpread2({},o||{}),{},_defineProperty({},c,s[c])):o},null):null},INVALID_STRIPE_ERROR$2="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",validateStripe=function e(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:INVALID_STRIPE_ERROR$2;if(s===null||isStripe(s))return s;throw new Error(i)},parseStripeProp=function e(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:INVALID_STRIPE_ERROR$2;if(isPromise(s))return{tag:"async",stripePromise:Promise.resolve(s).then(function(o){return validateStripe(o,i)})};var a=validateStripe(s,i);return a===null?{tag:"empty"}:{tag:"sync",stripe:a}},registerWithStripeJs=function e(s){!s||!s._registerWrapper||!s.registerAppInfo||(s._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),s.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},ElementsContext=React$1.createContext(null);ElementsContext.displayName="ElementsContext";var parseElementsContext=function e(s,i){if(!s)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(i," in an <Elements> provider."));return s},Elements=function e(s){var i=s.stripe,a=s.options,o=s.children,c=React$1.useMemo(function(){return parseStripeProp(i)},[i]),d=React$1.useState(function(){return{stripe:c.tag==="sync"?c.stripe:null,elements:c.tag==="sync"?c.stripe.elements(a):null}}),g=_slicedToArray(d,2),h=g[0],b=g[1];React$1.useEffect(function(){var $=!0,rt=function(dt){b(function(st){return st.stripe?st:{stripe:dt,elements:dt.elements(a)}})};return c.tag==="async"&&!h.stripe?c.stripePromise.then(function(nt){nt&&$&&rt(nt)}):c.tag==="sync"&&!h.stripe&&rt(c.stripe),function(){$=!1}},[c,h,a]);var j=usePrevious$1(i);React$1.useEffect(function(){j!==null&&j!==i&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[j,i]);var _=usePrevious$1(a);return React$1.useEffect(function(){if(h.elements){var $=extractAllowedOptionsUpdates(a,_,["clientSecret","fonts"]);$&&h.elements.update($)}},[a,_,h.elements]),React$1.useEffect(function(){registerWithStripeJs(h.stripe)},[h.stripe]),React$1.createElement(ElementsContext.Provider,{value:h},o)};Elements.propTypes={stripe:PropTypes.any,options:PropTypes.object};var useElementsContextWithUseCase=function e(s){var i=React$1.useContext(ElementsContext);return parseElementsContext(i,s)},useElements=function e(){var s=useElementsContextWithUseCase("calls useElements()"),i=s.elements;return i};PropTypes.func.isRequired;var CheckoutSdkContext=React$1.createContext(null);CheckoutSdkContext.displayName="CheckoutSdkContext";var parseCheckoutSdkContext=function e(s,i){if(!s)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(i," in an <CheckoutProvider> provider."));return s},CheckoutContext=React$1.createContext(null);CheckoutContext.displayName="CheckoutContext";PropTypes.any,PropTypes.shape({fetchClientSecret:PropTypes.func.isRequired,elementsOptions:PropTypes.object}).isRequired;var useElementsOrCheckoutSdkContextWithUseCase=function e(s){var i=React$1.useContext(CheckoutSdkContext),a=React$1.useContext(ElementsContext);if(i&&a)throw new Error("You cannot wrap the part of your app that ".concat(s," in both <CheckoutProvider> and <Elements> providers."));return i?parseCheckoutSdkContext(i,s):parseElementsContext(a,s)},_excluded=["mode"],capitalized=function e(s){return s.charAt(0).toUpperCase()+s.slice(1)},createElementComponent=function e(s,i){var a="".concat(capitalized(s),"Element"),o=function(h){var b=h.id,j=h.className,_=h.options,$=_===void 0?{}:_,rt=h.onBlur,nt=h.onFocus,dt=h.onReady,st=h.onChange,_e=h.onEscape,tt=h.onClick,it=h.onLoadError,ct=h.onLoaderStart,ot=h.onNetworksChange,pt=h.onConfirm,et=h.onCancel,at=h.onShippingAddressChange,ht=h.onShippingRateChange,xt=useElementsOrCheckoutSdkContextWithUseCase("mounts <".concat(a,">")),ut="elements"in xt?xt.elements:null,gt="checkoutSdk"in xt?xt.checkoutSdk:null,Et=React$1.useState(null),Mt=_slicedToArray(Et,2),Nt=Mt[0],It=Mt[1],kt=React$1.useRef(null),bt=React$1.useRef(null);useAttachEvent(Nt,"blur",rt),useAttachEvent(Nt,"focus",nt),useAttachEvent(Nt,"escape",_e),useAttachEvent(Nt,"click",tt),useAttachEvent(Nt,"loaderror",it),useAttachEvent(Nt,"loaderstart",ct),useAttachEvent(Nt,"networkschange",ot),useAttachEvent(Nt,"confirm",pt),useAttachEvent(Nt,"cancel",et),useAttachEvent(Nt,"shippingaddresschange",at),useAttachEvent(Nt,"shippingratechange",ht),useAttachEvent(Nt,"change",st);var yt;dt&&(s==="expressCheckout"?yt=dt:yt=function(){dt(Nt)}),useAttachEvent(Nt,"ready",yt),React$1.useLayoutEffect(function(){if(kt.current===null&&bt.current!==null&&(ut||gt)){var Lt=null;if(gt)switch(s){case"payment":Lt=gt.createPaymentElement($);break;case"address":if("mode"in $){var jt=$.mode,ft=_objectWithoutProperties($,_excluded);if(jt==="shipping")Lt=gt.createShippingAddressElement(ft);else if(jt==="billing")Lt=gt.createBillingAddressElement(ft);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":Lt=gt.createExpressCheckoutElement($);break;case"currencySelector":Lt=gt.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(a,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else ut&&(Lt=ut.create(s,$));kt.current=Lt,It(Lt),Lt&&Lt.mount(bt.current)}},[ut,gt,$]);var At=usePrevious$1($);return React$1.useEffect(function(){if(kt.current){var Lt=extractAllowedOptionsUpdates($,At,["paymentRequest"]);Lt&&"update"in kt.current&&kt.current.update(Lt)}},[$,At]),React$1.useLayoutEffect(function(){return function(){if(kt.current&&typeof kt.current.destroy=="function")try{kt.current.destroy(),kt.current=null}catch{}}},[]),React$1.createElement("div",{id:b,className:j,ref:bt})},c=function(h){useElementsOrCheckoutSdkContextWithUseCase("mounts <".concat(a,">"));var b=h.id,j=h.className;return React$1.createElement("div",{id:b,className:j})},d=i?c:o;return d.propTypes={id:PropTypes.string,className:PropTypes.string,onChange:PropTypes.func,onBlur:PropTypes.func,onFocus:PropTypes.func,onReady:PropTypes.func,onEscape:PropTypes.func,onClick:PropTypes.func,onLoadError:PropTypes.func,onLoaderStart:PropTypes.func,onNetworksChange:PropTypes.func,onConfirm:PropTypes.func,onCancel:PropTypes.func,onShippingAddressChange:PropTypes.func,onShippingRateChange:PropTypes.func,options:PropTypes.object},d.displayName=a,d.__elementType=s,d},isServer=typeof window>"u",EmbeddedCheckoutContext=React$1.createContext(null);EmbeddedCheckoutContext.displayName="EmbeddedCheckoutProviderContext";var useStripe=function e(){var s=useElementsOrCheckoutSdkContextWithUseCase("calls useStripe()"),i=s.stripe;return i};createElementComponent("auBankAccount",isServer);createElementComponent("card",isServer);createElementComponent("cardNumber",isServer);createElementComponent("cardExpiry",isServer);createElementComponent("cardCvc",isServer);createElementComponent("fpxBank",isServer);createElementComponent("iban",isServer);createElementComponent("idealBank",isServer);createElementComponent("p24Bank",isServer);createElementComponent("epsBank",isServer);var PaymentElement=createElementComponent("payment",isServer);createElementComponent("expressCheckout",isServer);createElementComponent("currencySelector",isServer);createElementComponent("paymentRequestButton",isServer);createElementComponent("linkAuthentication",isServer);createElementComponent("address",isServer);createElementComponent("shippingAddress",isServer);createElementComponent("paymentMethodMessaging",isServer);createElementComponent("affirmMessage",isServer);createElementComponent("afterpayClearpayMessage",isServer);const stripePromise=loadStripe("pk_test_51RZbgpHJfFjCNpvusQZhCnbWanbuxIE2cyrNZuJ2I02nFnWl45SkhClG0XLb3UwhXoCUWVTFYxJMkRfWTqWPbghD001v7bAUPj"),API_BASE_URL="/api";function PaymentForm({onSuccess:e,onError:s,loading:i,onBack:a}){const o=useStripe(),c=useElements(),[d,g]=reactExports.useState(""),h=async b=>{if(b.preventDefault(),!(!o||!c))try{const{error:j}=await o.confirmPayment({elements:c,confirmParams:{return_url:window.location.origin}});if(j)g(j.message||"Payment failed"),s(j.message||"Payment failed");else{const{paymentMethod:_}=await o.createPaymentMethod({elements:c});if(_)e(_.id);else throw new Error("Failed to create payment method")}}catch(j){const _=j instanceof Error?j.message:"Payment failed";g(_),s(_)}};return jsxRuntimeExports.jsxs("form",{onSubmit:h,className:"space-y-6",children:[jsxRuntimeExports.jsx(PaymentElement,{}),d&&jsxRuntimeExports.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-red-800 dark:text-red-300",children:d})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:a,className:"flex-1 py-3 px-4 border border-gray-300 dark:border-dark-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:"Back to Plans"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:!o||i,className:"flex-1 py-3 px-4 bg-gradient-to-r from-rose-500 to-purple-600 text-white rounded-lg hover:from-rose-600 hover:to-purple-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[i?jsxRuntimeExports.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):jsxRuntimeExports.jsx(CreditCard,{className:"w-5 h-5"}),i?"Processing...":"Subscribe Now"]})]})]})}function SubscriptionModal({isOpen:e,onClose:s,currentSubscription:i,onSubscriptionUpdate:a,isAdmin:o,userId:c}){var Mt,Nt,It;if(o)return null;const[d,g]=reactExports.useState([]),[h,b]=reactExports.useState(!1),[j,_]=reactExports.useState(""),[$,rt]=reactExports.useState(""),[nt,dt]=reactExports.useState("plans"),[st,_e]=reactExports.useState(5),[tt,it]=reactExports.useState("");reactExports.useEffect(()=>{e&&ct()},[e]);const ct=async()=>{try{const kt=await StripeService.getPlans();g(kt)}catch{rt("Failed to load subscription plans")}},ot=async kt=>{_(kt),b(!0);try{const bt=await fetch(`${API_BASE_URL}/stripe/create-payment-intent`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${AuthService.getAuthToken()}`},body:JSON.stringify({planId:kt})}),{clientSecret:yt}=await bt.json();it(yt),dt("payment")}catch{rt("Failed to initialize payment")}finally{b(!1)}},pt=()=>{dt("additional-lessons")},et=async()=>{if(i){b(!0),rt("");try{const kt=await StripeService.purchaseAdditionalLessons(c,st);a(kt),s()}catch(kt){rt(kt instanceof Error?kt.message:"Purchase failed")}finally{b(!1)}}},at=async kt=>{if(j){dt("processing"),b(!0),rt("");try{let bt;i?bt=await StripeService.updateSubscription(c,j):bt=await StripeService.createSubscription(c,j,kt);let yt=0,At=null;for(;yt<5;)try{if(At=await StripeService.getUserSubscription(c),At&&At.status==="active")break;await new Promise(Lt=>setTimeout(Lt,1e3)),yt++}catch(Lt){console.error("Error fetching updated subscription:",Lt);break}a(At||bt),s()}catch(bt){rt(bt instanceof Error?bt.message:"Subscription failed"),dt("payment")}finally{b(!1)}}},ht=kt=>{switch(kt){case"romeo":return jsxRuntimeExports.jsx(Heart,{className:"w-6 h-6"});case"juliet":return jsxRuntimeExports.jsx(Crown,{className:"w-6 h-6"});default:return jsxRuntimeExports.jsx(CreditCard,{className:"w-6 h-6"})}},xt=kt=>{switch(kt){case"romeo":return"from-rose-500 to-pink-600";case"juliet":return"from-purple-500 to-indigo-600";default:return"from-gray-500 to-gray-600"}},ut=kt=>(i==null?void 0:i.plan.id)===kt,gt=()=>i&&StripeService.canPurchaseAdditionalLessons(i)&&i.plan.id==="romeo",Et=()=>{dt("plans"),_(""),rt(""),_e(5),s()};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-rose-500 to-purple-600 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Heart,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:nt==="plans"?"Choose Your Plan":nt==="payment"?"Payment Details":nt==="additional-lessons"?"Buy Additional Lessons":"Processing Payment"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:nt==="plans"?"Romeo & Juliet themed lesson planning":nt==="payment"?"Complete your subscription":nt==="additional-lessons"?"Add more lessons to your Romeo plan":"Please wait while we process your payment"})]})]}),jsxRuntimeExports.jsx("button",{onClick:Et,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[nt==="plans"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[i&&jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-rose-50 to-purple-50 dark:from-rose-900/20 dark:to-purple-900/20 border border-rose-200 dark:border-rose-800 rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-rose-500 to-purple-600 rounded-lg flex items-center justify-center",children:ht(i.plan.id)}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"font-medium text-rose-900 dark:text-rose-300",children:["Current Plan: ",i.plan.name]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-rose-700 dark:text-rose-400",children:StripeService.getRemainingLessons(i)===-1?"Unlimited lessons remaining":`${StripeService.getRemainingLessons(i)} lessons remaining this month`})]})]}),gt()&&jsxRuntimeExports.jsxs("button",{onClick:pt,className:"flex items-center gap-2 bg-rose-600 text-white px-4 py-2 rounded-lg hover:bg-rose-700 transition-colors text-sm font-medium",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Buy More Lessons"]})]})}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:d.map(kt=>jsxRuntimeExports.jsxs("div",{className:`relative bg-white dark:bg-dark-700 border-2 rounded-xl p-6 transition-all duration-200 hover:shadow-lg dark:hover:shadow-xl hover:shadow-gray-200 dark:hover:shadow-black/20 ${kt.isPopular?"border-purple-500 dark:border-purple-400 shadow-lg dark:shadow-xl":"border-gray-200 dark:border-dark-600 hover:border-gray-300 dark:hover:border-dark-500"} ${ut(kt.id)?"ring-2 ring-rose-500 dark:ring-rose-400":""}`,children:[kt.isPopular&&jsxRuntimeExports.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:jsxRuntimeExports.jsxs("span",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 text-white px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[jsxRuntimeExports.jsx(Star,{className:"w-3 h-3"}),"Most Popular"]})}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${xt(kt.id)} rounded-xl flex items-center justify-center mx-auto mb-4`,children:jsxRuntimeExports.jsx("div",{className:"text-white",children:ht(kt.id)})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:kt.name}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:kt.description}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("span",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:["$",kt.price]}),jsxRuntimeExports.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["/",kt.interval]}),kt.allowAdditionalLessons&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["+ $",kt.additionalLessonPrice," per extra lesson"]})]}),jsxRuntimeExports.jsx("ul",{className:"space-y-3 mb-6 text-left",children:kt.features.map((bt,yt)=>jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx(Check,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:bt})]},yt))}),ut(kt.id)?jsxRuntimeExports.jsx("button",{disabled:!0,className:"w-full py-3 px-4 bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 rounded-lg font-medium cursor-not-allowed",children:"Current Plan"}):jsxRuntimeExports.jsx("button",{onClick:()=>ot(kt.id),className:`w-full py-3 px-4 rounded-lg font-medium transition-all duration-200 ${kt.isPopular?"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white shadow-md hover:shadow-lg":"bg-gradient-to-r from-rose-500 to-pink-600 hover:from-rose-600 hover:to-pink-700 text-white shadow-md hover:shadow-lg"}`,children:i?"Switch to This Plan":"Get Started"})]})]},kt.id))}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-rose-50 to-purple-50 dark:from-rose-900/20 dark:to-purple-900/20 rounded-lg p-6",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Heart,{className:"w-5 h-5 text-rose-500"}),"Why Romeo & Juliet?"]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-rose-100 dark:bg-rose-900/30 rounded-lg flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(Heart,{className:"w-4 h-4 text-rose-600 dark:text-rose-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Romeo Plan"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Perfect for teachers starting their drama education journey. Like Romeo's passionate but measured approach to love, this plan gives you a solid foundation with the flexibility to grow."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(Crown,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Juliet Plan"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"For educators who want it all. Like Juliet's bold and unlimited devotion, this plan provides complete access to every resource and feature we offer."})]})]})]})]})]}),nt==="additional-lessons"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6 max-w-md mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-rose-500 to-pink-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(ShoppingCart,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Buy Additional Lessons"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Add more lessons to your Romeo plan for just $",(i==null?void 0:i.plan.additionalLessonPrice)||3," each"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-rose-50 dark:bg-rose-900/20 border border-rose-200 dark:border-rose-800 rounded-lg p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-rose-900 dark:text-rose-300",children:"Current Lessons"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-rose-700 dark:text-rose-400",children:[i?StripeService.getRemainingLessons(i):0," remaining"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-rose-900 dark:text-rose-300",children:"Additional Purchased"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-rose-700 dark:text-rose-400",children:[(i==null?void 0:i.additionalLessonsPurchased)||0," lessons"]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Number of Additional Lessons"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>_e(Math.max(1,st-1)),className:"w-10 h-10 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg flex items-center justify-center transition-colors",children:"-"}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",max:"50",value:st,onChange:kt=>_e(Math.max(1,parseInt(kt.target.value)||1)),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white text-center"}),jsxRuntimeExports.jsx("button",{onClick:()=>_e(Math.min(50,st+1)),className:"w-10 h-10 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg flex items-center justify-center transition-colors",children:"+"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 dark:bg-dark-700 rounded-lg p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[st," lesson",st>1?"s":""," × $",(i==null?void 0:i.plan.additionalLessonPrice)||3]}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["$",(((i==null?void 0:i.plan.additionalLessonPrice)||3)*st).toFixed(2)]})]}),jsxRuntimeExports.jsx("div",{className:"border-t border-gray-200 dark:border-dark-600 pt-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Total"}),jsxRuntimeExports.jsxs("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["$",(((i==null?void 0:i.plan.additionalLessonPrice)||3)*st).toFixed(2)]})]})})]}),$&&jsxRuntimeExports.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-red-800 dark:text-red-300",children:$})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>dt("plans"),className:"flex-1 py-3 px-4 border border-gray-300 dark:border-dark-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:"Back"}),jsxRuntimeExports.jsxs("button",{onClick:et,disabled:h,className:"flex-1 py-3 px-4 bg-gradient-to-r from-rose-500 to-pink-600 text-white rounded-lg hover:from-rose-600 hover:to-pink-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[h?jsxRuntimeExports.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):jsxRuntimeExports.jsx(ShoppingCart,{className:"w-5 h-5"}),h?"Processing...":"Purchase Lessons"]})]})]}),nt==="payment"&&tt&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[j&&jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-rose-50 to-purple-50 dark:from-rose-900/20 dark:to-purple-900/20 border border-rose-200 dark:border-rose-800 rounded-lg p-4",children:[jsxRuntimeExports.jsxs("h3",{className:"font-medium text-rose-900 dark:text-rose-300 mb-2",children:["Selected Plan: ",(Mt=d.find(kt=>kt.id===j))==null?void 0:Mt.name]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-rose-700 dark:text-rose-400",children:["$",(Nt=d.find(kt=>kt.id===j))==null?void 0:Nt.price,"/",(It=d.find(kt=>kt.id===j))==null?void 0:It.interval]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Payment Information"}),jsxRuntimeExports.jsx(Elements,{stripe:stripePromise,options:{clientSecret:tt},children:jsxRuntimeExports.jsx(PaymentForm,{onSuccess:at,onError:rt,loading:h,onBack:()=>dt("plans")})})]})]}),nt==="processing"&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-rose-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6",children:jsxRuntimeExports.jsx("div",{className:"w-8 h-8 border-2 border-white border-t-transparent rounded-full animate-spin"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Processing Your Subscription"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Please wait while we set up your account..."})]})]})]})}):null}function SubscriptionBanner({subscription:e,onUpgrade:s,isAdmin:i}){if(i)return jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 text-white p-4 rounded-lg mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Crown,{className:"w-6 h-6"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Admin Subscription - Unlimited Access"}),jsxRuntimeExports.jsx("p",{className:"text-sm opacity-90",children:"You have full access to all features with your admin privileges"})]})]})});if(!e)return jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-rose-500 to-purple-600 text-white p-4 rounded-lg mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Heart,{className:"w-6 h-6"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Start Your Drama Education Journey"}),jsxRuntimeExports.jsx("p",{className:"text-sm opacity-90",children:"Choose Romeo or Juliet plan to begin creating amazing lesson plans"})]})]}),jsxRuntimeExports.jsx("button",{onClick:s,className:"bg-white text-rose-600 px-4 py-2 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"View Plans"})]})});const a=StripeService.getRemainingLessons(e),o=a===-1,c=!o&&a<=2,d=!o&&a===0,g=StripeService.canPurchaseAdditionalLessons(e);return e.status!=="active"?jsxRuntimeExports.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-800 dark:text-red-300 p-4 rounded-lg mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(AlertTriangle,{className:"w-6 h-6"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Subscription Issue"}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["Your subscription is ",e.status,". Please update your payment method."]})]})]}),jsxRuntimeExports.jsx("button",{onClick:s,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-red-700 transition-colors",children:"Fix Now"})]})}):d?jsxRuntimeExports.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 text-orange-800 dark:text-orange-300 p-4 rounded-lg mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(AlertTriangle,{className:"w-6 h-6"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Lesson Limit Reached"}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["You've used all your lessons this month.",g?" Buy more lessons or upgrade to Juliet plan!":" Upgrade to Juliet plan for unlimited access!"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[g&&jsxRuntimeExports.jsxs("button",{onClick:s,className:"flex items-center gap-1 bg-rose-600 text-white px-3 py-2 rounded-lg font-medium hover:bg-rose-700 transition-colors text-sm",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Buy Lessons"]}),jsxRuntimeExports.jsx("button",{onClick:s,className:"bg-orange-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-orange-700 transition-colors text-sm",children:"Upgrade"})]})]})}):c?jsxRuntimeExports.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 text-yellow-800 dark:text-yellow-300 p-4 rounded-lg mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(AlertTriangle,{className:"w-6 h-6"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Running Low on Lessons"}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["Only ",a," lesson",a===1?"":"s"," remaining this month",g&&" - buy more for just $3 each!"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[g&&jsxRuntimeExports.jsxs("button",{onClick:s,className:"flex items-center gap-1 bg-rose-600 text-white px-3 py-2 rounded-lg font-medium hover:bg-rose-700 transition-colors text-sm",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Buy More"]}),jsxRuntimeExports.jsx("button",{onClick:s,className:"bg-yellow-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-yellow-700 transition-colors text-sm",children:"Upgrade"})]})]})}):o?jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 text-white p-4 rounded-lg mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Crown,{className:"w-6 h-6"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold",children:[e.plan.name," - Unlimited Access"]}),jsxRuntimeExports.jsx("p",{className:"text-sm opacity-90",children:"Generate unlimited lessons with your premium subscription"})]})]})}):jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-rose-50 to-purple-50 dark:from-rose-900/20 dark:to-purple-900/20 border border-rose-200 dark:border-rose-800 text-rose-800 dark:text-rose-300 p-4 rounded-lg mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Heart,{className:"w-6 h-6"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold",children:[e.plan.name," Active"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[a," lesson",a===1?"":"s"," remaining this month"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[g&&jsxRuntimeExports.jsxs("button",{onClick:s,className:"flex items-center gap-1 bg-rose-600 text-white px-3 py-2 rounded-lg font-medium hover:bg-rose-700 transition-colors text-sm",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Buy More"]}),jsxRuntimeExports.jsx("button",{onClick:s,className:"bg-rose-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-rose-700 transition-colors text-sm",children:"Manage"})]})]})})}const userRoles$2=[{value:"teacher",label:"Teacher",icon:jsxRuntimeExports.jsx(GraduationCap,{className:"w-4 h-4"}),color:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"},{value:"admin",label:"Administrator",icon:jsxRuntimeExports.jsx(Shield,{className:"w-4 h-4"}),color:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400"},{value:"student",label:"Student",icon:jsxRuntimeExports.jsx(User,{className:"w-4 h-4"}),color:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"}];function UserManagementPanel({users:e,filters:s,onFiltersChange:i,onCreateUser:a,onEditUser:o,onDeleteUser:c,onToggleUserStatus:d,loading:g}){const[h,b]=reactExports.useState([]),[j,_]=reactExports.useState(null),$=(it,ct)=>{i({...s,[it]:ct||void 0})},rt=it=>userRoles$2.find(ct=>ct.value===it)||userRoles$2[0],nt=it=>new Date(it).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),dt=it=>{if(!it)return"Never";const ct=new Date(it),pt=Math.floor((new Date().getTime()-ct.getTime())/(1e3*60*60*24));return pt===0?"Today":pt===1?"Yesterday":pt<7?`${pt} days ago`:nt(ct)},st=it=>{b(ct=>ct.includes(it)?ct.filter(ot=>ot!==it):[...ct,it])},_e=()=>{b(e.map(it=>it.id))},tt=()=>{b([])};return g?jsxRuntimeExports.jsx("div",{className:"space-y-4",children:jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 p-6 transition-colors duration-200",children:jsxRuntimeExports.jsxs("div",{className:"animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded mb-4 w-1/4"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:[...Array(5)].map((it,ct)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3"}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})]},ct))})]})})}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"User Management"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage user accounts and permissions"})]}),jsxRuntimeExports.jsxs("button",{onClick:a,className:"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-teal-600 text-white px-4 py-2 rounded-lg hover:from-blue-700 hover:to-teal-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Add User"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx(Filter,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Filters"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search users...",value:s.search||"",onChange:it=>$("search",it.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("select",{value:s.role||"",onChange:it=>$("role",it.target.value),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Roles"}),userRoles$2.map(it=>jsxRuntimeExports.jsx("option",{value:it.value,children:it.label},it.value))]}),jsxRuntimeExports.jsxs("select",{value:s.isActive===void 0?"":s.isActive.toString(),onChange:it=>$("isActive",it.target.value===""?void 0:it.target.value==="true"),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Status"}),jsxRuntimeExports.jsx("option",{value:"true",children:"Active"}),jsxRuntimeExports.jsx("option",{value:"false",children:"Inactive"})]}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Filter by organization...",value:s.organization||"",onChange:it=>$("organization",it.target.value),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]})]}),h.length>0&&jsxRuntimeExports.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 transition-colors duration-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-blue-800 dark:text-blue-300 font-medium",children:[h.length," user",h.length>1?"s":""," selected"]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:jsxRuntimeExports.jsx("button",{onClick:tt,className:"px-3 py-1 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm transition-colors",children:"Clear Selection"})})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-sm border border-gray-200 dark:border-dark-700 overflow-hidden transition-colors duration-200",children:[jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 dark:bg-dark-700 border-b border-gray-200 dark:border-dark-600",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left",children:jsxRuntimeExports.jsx("input",{type:"checkbox",checked:h.length===e.length&&e.length>0,onChange:h.length===e.length?tt:_e,className:"w-4 h-4 text-blue-600 border-gray-300 dark:border-dark-600 rounded focus:ring-blue-500 bg-white dark:bg-dark-700"})}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"User"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Role"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Organization"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Login"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Created"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white dark:bg-dark-800 divide-y divide-gray-200 dark:divide-dark-700",children:e.map(it=>{const ct=rt(it.role);return jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsx("input",{type:"checkbox",checked:h.includes(it.id),onChange:()=>st(it.id),className:"w-4 h-4 text-blue-600 border-gray-300 dark:border-dark-600 rounded focus:ring-blue-500 bg-white dark:bg-dark-700"})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-teal-600 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsxs("span",{className:"text-white text-sm font-medium",children:[it.firstName.charAt(0),it.lastName.charAt(0)]})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[it.firstName," ",it.lastName]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Mail,{className:"w-3 h-3"}),it.email]})]})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${ct.color}`,children:[ct.icon,ct.label]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-900 dark:text-white flex items-center gap-1",children:it.organization?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Building,{className:"w-3 h-3 text-gray-400 dark:text-gray-500"}),it.organization]}):jsxRuntimeExports.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"No organization"})})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${it.isActive?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:[it.isActive?jsxRuntimeExports.jsx(UserCheck,{className:"w-3 h-3"}):jsxRuntimeExports.jsx(UserX,{className:"w-3 h-3"}),it.isActive?"Active":"Inactive"]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:dt(it.lastLoginAt)}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-3 h-3"}),nt(it.createdAt)]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-right",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("button",{onClick:()=>_(j===it.id?null:it.id),className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-600 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(MoreVertical,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),j===it.id&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>_(null)}),jsxRuntimeExports.jsx("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white dark:bg-dark-700 rounded-lg shadow-lg dark:shadow-xl shadow-gray-200 dark:shadow-black/20 border border-gray-200 dark:border-dark-600 z-20 transition-colors duration-200",children:jsxRuntimeExports.jsxs("div",{className:"py-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{o(it),_(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-dark-600 transition-colors",children:[jsxRuntimeExports.jsx(SquarePen,{className:"w-4 h-4"}),"Edit User"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{d(it.id),_(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-dark-600 transition-colors",children:[it.isActive?jsxRuntimeExports.jsx(EyeOff,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"}),it.isActive?"Deactivate":"Activate"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{c(it.id),_(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-left text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 transition-colors",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"}),"Delete User"]})]})})]})]})})]},it.id)})})]})}),e.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Users,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No users found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:Object.keys(s).some(it=>s[it])?"Try adjusting your filters to see more users.":"Get started by creating your first user account."}),!Object.keys(s).some(it=>s[it])&&jsxRuntimeExports.jsx("button",{onClick:a,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Create User"})]})]})]})}function UserStatsPanel({stats:e,loading:s}){const i=[{title:"Total Users",value:e.totalUsers,icon:jsxRuntimeExports.jsx(Users,{className:"w-6 h-6"}),color:"bg-blue-500",bgColor:"bg-blue-50 dark:bg-blue-900/20",textColor:"text-blue-600 dark:text-blue-400"},{title:"Active Users",value:e.activeUsers,icon:jsxRuntimeExports.jsx(UserCheck,{className:"w-6 h-6"}),color:"bg-green-500",bgColor:"bg-green-50 dark:bg-green-900/20",textColor:"text-green-600 dark:text-green-400"},{title:"Teachers",value:e.teacherCount,icon:jsxRuntimeExports.jsx(GraduationCap,{className:"w-6 h-6"}),color:"bg-purple-500",bgColor:"bg-purple-50 dark:bg-purple-900/20",textColor:"text-purple-600 dark:text-purple-400"},{title:"Administrators",value:e.adminCount,icon:jsxRuntimeExports.jsx(Shield,{className:"w-6 h-6"}),color:"bg-orange-500",bgColor:"bg-orange-50 dark:bg-orange-900/20",textColor:"text-orange-600 dark:text-orange-400"},{title:"Students",value:e.studentCount,icon:jsxRuntimeExports.jsx(User,{className:"w-6 h-6"}),color:"bg-teal-500",bgColor:"bg-teal-50 dark:bg-teal-900/20",textColor:"text-teal-600 dark:text-teal-400"},{title:"New This Month",value:e.newUsersThisMonth,icon:jsxRuntimeExports.jsx(TrendingUp,{className:"w-6 h-6"}),color:"bg-pink-500",bgColor:"bg-pink-50 dark:bg-pink-900/20",textColor:"text-pink-600 dark:text-pink-400"},{title:"Subscribed Users",value:e.subscribedUsers,icon:jsxRuntimeExports.jsx(CreditCard,{className:"w-6 h-6"}),color:"bg-indigo-500",bgColor:"bg-indigo-50 dark:bg-indigo-900/20",textColor:"text-indigo-600 dark:text-indigo-400"},{title:"Monthly Revenue",value:`$${e.totalRevenue.toFixed(2)}`,icon:jsxRuntimeExports.jsx(DollarSign,{className:"w-6 h-6"}),color:"bg-emerald-500",bgColor:"bg-emerald-50 dark:bg-emerald-900/20",textColor:"text-emerald-600 dark:text-emerald-400"}];return s?jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-8 gap-4 mb-6",children:[...Array(8)].map((a,o)=>jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-lg border border-gray-200 dark:border-dark-700 animate-pulse",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-2 w-20"}),jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-12"})]}),jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-lg"})]})},o))}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-8 gap-4 mb-6",children:i.map((a,o)=>jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-lg border border-gray-200 dark:border-dark-700 hover:shadow-md dark:hover:shadow-xl hover:shadow-gray-200 dark:hover:shadow-black/20 transition-all duration-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:a.title}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.value})]}),jsxRuntimeExports.jsx("div",{className:`w-12 h-12 ${a.bgColor} rounded-lg flex items-center justify-center`,children:jsxRuntimeExports.jsx("div",{className:a.textColor,children:a.icon})})]})},o))})}const userRoles$1=[{value:"teacher",label:"Teacher",description:"Create and manage activities and lessons",icon:jsxRuntimeExports.jsx(GraduationCap,{className:"w-4 h-4"})},{value:"admin",label:"Administrator",description:"Full access to all features and user management",icon:jsxRuntimeExports.jsx(Shield,{className:"w-4 h-4"})},{value:"student",label:"Student",description:"View and participate in activities",icon:jsxRuntimeExports.jsx(User,{className:"w-4 h-4"})}];function CreateUserModal({isOpen:e,onClose:s,onCreate:i,editUser:a,loading:o}){const[c,d]=reactExports.useState({firstName:(a==null?void 0:a.firstName)||"",lastName:(a==null?void 0:a.lastName)||"",email:(a==null?void 0:a.email)||"",role:(a==null?void 0:a.role)||"teacher",organization:(a==null?void 0:a.organization)||"",isActive:(a==null?void 0:a.isActive)??!0}),g=async b=>{b.preventDefault(),await i(c),h()},h=()=>{d({firstName:"",lastName:"",email:"",role:"teacher",organization:"",isActive:!0}),s()};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-teal-600 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(User,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:a?"Edit User":"Create New User"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a?"Update user information":"Add a new user to the system"})]})]}),jsxRuntimeExports.jsx("button",{onClick:h,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["First Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:c.firstName,onChange:b=>d({...c,firstName:b.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",placeholder:"John"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Last Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:c.lastName,onChange:b=>d({...c,lastName:b.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",placeholder:"Doe"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Email Address ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"email",required:!0,value:c.email,onChange:b=>d({...c,email:b.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200",placeholder:"john.doe@example.com"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:["Role ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:userRoles$1.map(b=>jsxRuntimeExports.jsxs("label",{className:"flex items-start cursor-pointer group",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"role",value:b.value,checked:c.role===b.value,onChange:j=>d({...c,role:j.target.value}),className:"w-4 h-4 text-blue-600 border-gray-300 dark:border-dark-600 rounded mt-1 focus:ring-blue-500 bg-white dark:bg-dark-700"}),jsxRuntimeExports.jsxs("div",{className:"ml-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400 dark:text-gray-500 group-hover:text-blue-500 dark:group-hover:text-blue-400 transition-colors",children:b.icon}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:b.label})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:b.description})]})]},b.value))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Organization"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Building,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",value:c.organization,onChange:b=>d({...c,organization:b.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200",placeholder:"School or organization name"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:c.isActive,onChange:b=>d({...c,isActive:b.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 dark:border-dark-600 rounded focus:ring-blue-500 bg-white dark:bg-dark-700"}),jsxRuntimeExports.jsxs("div",{className:"ml-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx(UserCheck,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Active Account"})]})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 ml-7",children:"Inactive users cannot sign in to the system"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:h,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:o,className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-blue-600 to-teal-600 text-white rounded-lg hover:from-blue-700 hover:to-teal-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg",children:[o?jsxRuntimeExports.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):jsxRuntimeExports.jsx(User,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:a?"Update User":"Create User"})]})]})]})]})}):null}function setRef(e,s){if(typeof e=="function")return e(s);e!=null&&(e.current=s)}function composeRefs(...e){return s=>{let i=!1;const a=e.map(o=>{const c=setRef(o,s);return!i&&typeof c=="function"&&(i=!0),c});if(i)return()=>{for(let o=0;o<a.length;o++){const c=a[o];typeof c=="function"?c():setRef(e[o],null)}}}}function createSlot(e){const s=createSlotClone(e),i=reactExports.forwardRef((a,o)=>{const{children:c,...d}=a,g=reactExports.Children.toArray(c),h=g.find(isSlottable);if(h){const b=h.props.children,j=g.map(_=>_===h?reactExports.Children.count(b)>1?reactExports.Children.only(null):reactExports.isValidElement(b)?b.props.children:null:_);return jsxRuntimeExports.jsx(s,{...d,ref:o,children:reactExports.isValidElement(b)?reactExports.cloneElement(b,void 0,j):null})}return jsxRuntimeExports.jsx(s,{...d,ref:o,children:c})});return i.displayName=`${e}.Slot`,i}var Slot=createSlot("Slot");function createSlotClone(e){const s=reactExports.forwardRef((i,a)=>{const{children:o,...c}=i;if(reactExports.isValidElement(o)){const d=getElementRef(o),g=mergeProps(c,o.props);return o.type!==reactExports.Fragment&&(g.ref=a?composeRefs(a,d):d),reactExports.cloneElement(o,g)}return reactExports.Children.count(o)>1?reactExports.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function isSlottable(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(e,s){const i={...s};for(const a in s){const o=e[a],c=s[a];/^on[A-Z]/.test(a)?o&&c?i[a]=(...g)=>{const h=c(...g);return o(...g),h}:o&&(i[a]=o):a==="style"?i[a]={...o,...c}:a==="className"&&(i[a]=[o,c].filter(Boolean).join(" "))}return{...e,...i}}function getElementRef(e){var a,o;let s=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,i=s&&"isReactWarning"in s&&s.isReactWarning;return i?e.ref:(s=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,i=s&&"isReactWarning"in s&&s.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}const falsyToString=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cx=clsx,cva=(e,s)=>i=>{var a;if((s==null?void 0:s.variants)==null)return cx(e,i==null?void 0:i.class,i==null?void 0:i.className);const{variants:o,defaultVariants:c}=s,d=Object.keys(o).map(b=>{const j=i==null?void 0:i[b],_=c==null?void 0:c[b];if(j===null)return null;const $=falsyToString(j)||falsyToString(_);return o[b][$]}),g=i&&Object.entries(i).reduce((b,j)=>{let[_,$]=j;return $===void 0||(b[_]=$),b},{}),h=s==null||(a=s.compoundVariants)===null||a===void 0?void 0:a.reduce((b,j)=>{let{class:_,className:$,...rt}=j;return Object.entries(rt).every(nt=>{let[dt,st]=nt;return Array.isArray(st)?st.includes({...c,...g}[dt]):{...c,...g}[dt]===st})?[...b,_,$]:b},[]);return cx(e,d,h,i==null?void 0:i.class,i==null?void 0:i.className)},CLASS_PART_SEPARATOR="-",createClassGroupUtils=e=>{const s=createClassMap(e),{conflictingClassGroups:i,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:d=>{const g=d.split(CLASS_PART_SEPARATOR);return g[0]===""&&g.length!==1&&g.shift(),getGroupRecursive(g,s)||getGroupIdForArbitraryProperty(d)},getConflictingClassGroupIds:(d,g)=>{const h=i[d]||[];return g&&a[d]?[...h,...a[d]]:h}}},getGroupRecursive=(e,s)=>{var d;if(e.length===0)return s.classGroupId;const i=e[0],a=s.nextPart.get(i),o=a?getGroupRecursive(e.slice(1),a):void 0;if(o)return o;if(s.validators.length===0)return;const c=e.join(CLASS_PART_SEPARATOR);return(d=s.validators.find(({validator:g})=>g(c)))==null?void 0:d.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=e=>{if(arbitraryPropertyRegex.test(e)){const s=arbitraryPropertyRegex.exec(e)[1],i=s==null?void 0:s.substring(0,s.indexOf(":"));if(i)return"arbitrary.."+i}},createClassMap=e=>{const{theme:s,classGroups:i}=e,a={nextPart:new Map,validators:[]};for(const o in i)processClassesRecursively(i[o],a,o,s);return a},processClassesRecursively=(e,s,i,a)=>{e.forEach(o=>{if(typeof o=="string"){const c=o===""?s:getPart(s,o);c.classGroupId=i;return}if(typeof o=="function"){if(isThemeGetter(o)){processClassesRecursively(o(a),s,i,a);return}s.validators.push({validator:o,classGroupId:i});return}Object.entries(o).forEach(([c,d])=>{processClassesRecursively(d,getPart(s,c),i,a)})})},getPart=(e,s)=>{let i=e;return s.split(CLASS_PART_SEPARATOR).forEach(a=>{i.nextPart.has(a)||i.nextPart.set(a,{nextPart:new Map,validators:[]}),i=i.nextPart.get(a)}),i},isThemeGetter=e=>e.isThemeGetter,createLruCache=e=>{if(e<1)return{get:()=>{},set:()=>{}};let s=0,i=new Map,a=new Map;const o=(c,d)=>{i.set(c,d),s++,s>e&&(s=0,a=i,i=new Map)};return{get(c){let d=i.get(c);if(d!==void 0)return d;if((d=a.get(c))!==void 0)return o(c,d),d},set(c,d){i.has(c)?i.set(c,d):o(c,d)}}},IMPORTANT_MODIFIER="!",MODIFIER_SEPARATOR=":",MODIFIER_SEPARATOR_LENGTH=MODIFIER_SEPARATOR.length,createParseClassName=e=>{const{prefix:s,experimentalParseClassName:i}=e;let a=o=>{const c=[];let d=0,g=0,h=0,b;for(let nt=0;nt<o.length;nt++){let dt=o[nt];if(d===0&&g===0){if(dt===MODIFIER_SEPARATOR){c.push(o.slice(h,nt)),h=nt+MODIFIER_SEPARATOR_LENGTH;continue}if(dt==="/"){b=nt;continue}}dt==="["?d++:dt==="]"?d--:dt==="("?g++:dt===")"&&g--}const j=c.length===0?o:o.substring(h),_=stripImportantModifier(j),$=_!==j,rt=b&&b>h?b-h:void 0;return{modifiers:c,hasImportantModifier:$,baseClassName:_,maybePostfixModifierPosition:rt}};if(s){const o=s+MODIFIER_SEPARATOR,c=a;a=d=>d.startsWith(o)?c(d.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(i){const o=a;a=c=>i({className:c,parseClassName:o})}return a},stripImportantModifier=e=>e.endsWith(IMPORTANT_MODIFIER)?e.substring(0,e.length-1):e.startsWith(IMPORTANT_MODIFIER)?e.substring(1):e,createSortModifiers=e=>{const s=Object.fromEntries(e.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const o=[];let c=[];return a.forEach(d=>{d[0]==="["||s[d]?(o.push(...c.sort(),d),c=[]):c.push(d)}),o.push(...c.sort()),o}},createConfigUtils=e=>({cache:createLruCache(e.cacheSize),parseClassName:createParseClassName(e),sortModifiers:createSortModifiers(e),...createClassGroupUtils(e)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(e,s)=>{const{parseClassName:i,getClassGroupId:a,getConflictingClassGroupIds:o,sortModifiers:c}=s,d=[],g=e.trim().split(SPLIT_CLASSES_REGEX);let h="";for(let b=g.length-1;b>=0;b-=1){const j=g[b],{isExternal:_,modifiers:$,hasImportantModifier:rt,baseClassName:nt,maybePostfixModifierPosition:dt}=i(j);if(_){h=j+(h.length>0?" "+h:h);continue}let st=!!dt,_e=a(st?nt.substring(0,dt):nt);if(!_e){if(!st){h=j+(h.length>0?" "+h:h);continue}if(_e=a(nt),!_e){h=j+(h.length>0?" "+h:h);continue}st=!1}const tt=c($).join(":"),it=rt?tt+IMPORTANT_MODIFIER:tt,ct=it+_e;if(d.includes(ct))continue;d.push(ct);const ot=o(_e,st);for(let pt=0;pt<ot.length;++pt){const et=ot[pt];d.push(it+et)}h=j+(h.length>0?" "+h:h)}return h};function twJoin(){let e=0,s,i,a="";for(;e<arguments.length;)(s=arguments[e++])&&(i=toValue(s))&&(a&&(a+=" "),a+=i);return a}const toValue=e=>{if(typeof e=="string")return e;let s,i="";for(let a=0;a<e.length;a++)e[a]&&(s=toValue(e[a]))&&(i&&(i+=" "),i+=s);return i};function createTailwindMerge(e,...s){let i,a,o,c=d;function d(h){const b=s.reduce((j,_)=>_(j),e());return i=createConfigUtils(b),a=i.cache.get,o=i.cache.set,c=g,g(h)}function g(h){const b=a(h);if(b)return b;const j=mergeClassList(h,i);return o(h,j),j}return function(){return c(twJoin.apply(null,arguments))}}const fromTheme=e=>{const s=i=>i[e]||[];return s.isThemeGetter=!0,s},arbitraryValueRegex=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,arbitraryVariableRegex=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fractionRegex=/^\d+\/\d+$/,tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isFraction=e=>fractionRegex.test(e),isNumber=e=>!!e&&!Number.isNaN(Number(e)),isInteger=e=>!!e&&Number.isInteger(Number(e)),isPercent=e=>e.endsWith("%")&&isNumber(e.slice(0,-1)),isTshirtSize=e=>tshirtUnitRegex.test(e),isAny=()=>!0,isLengthOnly=e=>lengthUnitRegex.test(e)&&!colorFunctionRegex.test(e),isNever=()=>!1,isShadow=e=>shadowRegex.test(e),isImage=e=>imageRegex.test(e),isAnyNonArbitrary=e=>!isArbitraryValue(e)&&!isArbitraryVariable(e),isArbitrarySize=e=>getIsArbitraryValue(e,isLabelSize,isNever),isArbitraryValue=e=>arbitraryValueRegex.test(e),isArbitraryLength=e=>getIsArbitraryValue(e,isLabelLength,isLengthOnly),isArbitraryNumber=e=>getIsArbitraryValue(e,isLabelNumber,isNumber),isArbitraryPosition=e=>getIsArbitraryValue(e,isLabelPosition,isNever),isArbitraryImage=e=>getIsArbitraryValue(e,isLabelImage,isImage),isArbitraryShadow=e=>getIsArbitraryValue(e,isLabelShadow,isShadow),isArbitraryVariable=e=>arbitraryVariableRegex.test(e),isArbitraryVariableLength=e=>getIsArbitraryVariable(e,isLabelLength),isArbitraryVariableFamilyName=e=>getIsArbitraryVariable(e,isLabelFamilyName),isArbitraryVariablePosition=e=>getIsArbitraryVariable(e,isLabelPosition),isArbitraryVariableSize=e=>getIsArbitraryVariable(e,isLabelSize),isArbitraryVariableImage=e=>getIsArbitraryVariable(e,isLabelImage),isArbitraryVariableShadow=e=>getIsArbitraryVariable(e,isLabelShadow,!0),getIsArbitraryValue=(e,s,i)=>{const a=arbitraryValueRegex.exec(e);return a?a[1]?s(a[1]):i(a[2]):!1},getIsArbitraryVariable=(e,s,i=!1)=>{const a=arbitraryVariableRegex.exec(e);return a?a[1]?s(a[1]):i:!1},isLabelPosition=e=>e==="position"||e==="percentage",isLabelImage=e=>e==="image"||e==="url",isLabelSize=e=>e==="length"||e==="size"||e==="bg-size",isLabelLength=e=>e==="length",isLabelNumber=e=>e==="number",isLabelFamilyName=e=>e==="family-name",isLabelShadow=e=>e==="shadow",getDefaultConfig=()=>{const e=fromTheme("color"),s=fromTheme("font"),i=fromTheme("text"),a=fromTheme("font-weight"),o=fromTheme("tracking"),c=fromTheme("leading"),d=fromTheme("breakpoint"),g=fromTheme("container"),h=fromTheme("spacing"),b=fromTheme("radius"),j=fromTheme("shadow"),_=fromTheme("inset-shadow"),$=fromTheme("text-shadow"),rt=fromTheme("drop-shadow"),nt=fromTheme("blur"),dt=fromTheme("perspective"),st=fromTheme("aspect"),_e=fromTheme("ease"),tt=fromTheme("animate"),it=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ct=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ot=()=>[...ct(),isArbitraryVariable,isArbitraryValue],pt=()=>["auto","hidden","clip","visible","scroll"],et=()=>["auto","contain","none"],at=()=>[isArbitraryVariable,isArbitraryValue,h],ht=()=>[isFraction,"full","auto",...at()],xt=()=>[isInteger,"none","subgrid",isArbitraryVariable,isArbitraryValue],ut=()=>["auto",{span:["full",isInteger,isArbitraryVariable,isArbitraryValue]},isInteger,isArbitraryVariable,isArbitraryValue],gt=()=>[isInteger,"auto",isArbitraryVariable,isArbitraryValue],Et=()=>["auto","min","max","fr",isArbitraryVariable,isArbitraryValue],Mt=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Nt=()=>["start","end","center","stretch","center-safe","end-safe"],It=()=>["auto",...at()],kt=()=>[isFraction,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...at()],bt=()=>[e,isArbitraryVariable,isArbitraryValue],yt=()=>[...ct(),isArbitraryVariablePosition,isArbitraryPosition,{position:[isArbitraryVariable,isArbitraryValue]}],At=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Lt=()=>["auto","cover","contain",isArbitraryVariableSize,isArbitrarySize,{size:[isArbitraryVariable,isArbitraryValue]}],jt=()=>[isPercent,isArbitraryVariableLength,isArbitraryLength],ft=()=>["","none","full",b,isArbitraryVariable,isArbitraryValue],mt=()=>["",isNumber,isArbitraryVariableLength,isArbitraryLength],vt=()=>["solid","dashed","dotted","double"],_t=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],St=()=>[isNumber,isPercent,isArbitraryVariablePosition,isArbitraryPosition],Pt=()=>["","none",nt,isArbitraryVariable,isArbitraryValue],Ot=()=>["none",isNumber,isArbitraryVariable,isArbitraryValue],Gt=()=>["none",isNumber,isArbitraryVariable,isArbitraryValue],Yt=()=>[isNumber,isArbitraryVariable,isArbitraryValue],Qt=()=>[isFraction,"full",...at()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[isTshirtSize],breakpoint:[isTshirtSize],color:[isAny],container:[isTshirtSize],"drop-shadow":[isTshirtSize],ease:["in","out","in-out"],font:[isAnyNonArbitrary],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[isTshirtSize],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[isTshirtSize],shadow:[isTshirtSize],spacing:["px",isNumber],text:[isTshirtSize],"text-shadow":[isTshirtSize],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",isFraction,isArbitraryValue,isArbitraryVariable,st]}],container:["container"],columns:[{columns:[isNumber,isArbitraryValue,isArbitraryVariable,g]}],"break-after":[{"break-after":it()}],"break-before":[{"break-before":it()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ot()}],overflow:[{overflow:pt()}],"overflow-x":[{"overflow-x":pt()}],"overflow-y":[{"overflow-y":pt()}],overscroll:[{overscroll:et()}],"overscroll-x":[{"overscroll-x":et()}],"overscroll-y":[{"overscroll-y":et()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ht()}],"inset-x":[{"inset-x":ht()}],"inset-y":[{"inset-y":ht()}],start:[{start:ht()}],end:[{end:ht()}],top:[{top:ht()}],right:[{right:ht()}],bottom:[{bottom:ht()}],left:[{left:ht()}],visibility:["visible","invisible","collapse"],z:[{z:[isInteger,"auto",isArbitraryVariable,isArbitraryValue]}],basis:[{basis:[isFraction,"full","auto",g,...at()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[isNumber,isFraction,"auto","initial","none",isArbitraryValue]}],grow:[{grow:["",isNumber,isArbitraryVariable,isArbitraryValue]}],shrink:[{shrink:["",isNumber,isArbitraryVariable,isArbitraryValue]}],order:[{order:[isInteger,"first","last","none",isArbitraryVariable,isArbitraryValue]}],"grid-cols":[{"grid-cols":xt()}],"col-start-end":[{col:ut()}],"col-start":[{"col-start":gt()}],"col-end":[{"col-end":gt()}],"grid-rows":[{"grid-rows":xt()}],"row-start-end":[{row:ut()}],"row-start":[{"row-start":gt()}],"row-end":[{"row-end":gt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Et()}],"auto-rows":[{"auto-rows":Et()}],gap:[{gap:at()}],"gap-x":[{"gap-x":at()}],"gap-y":[{"gap-y":at()}],"justify-content":[{justify:[...Mt(),"normal"]}],"justify-items":[{"justify-items":[...Nt(),"normal"]}],"justify-self":[{"justify-self":["auto",...Nt()]}],"align-content":[{content:["normal",...Mt()]}],"align-items":[{items:[...Nt(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Nt(),{baseline:["","last"]}]}],"place-content":[{"place-content":Mt()}],"place-items":[{"place-items":[...Nt(),"baseline"]}],"place-self":[{"place-self":["auto",...Nt()]}],p:[{p:at()}],px:[{px:at()}],py:[{py:at()}],ps:[{ps:at()}],pe:[{pe:at()}],pt:[{pt:at()}],pr:[{pr:at()}],pb:[{pb:at()}],pl:[{pl:at()}],m:[{m:It()}],mx:[{mx:It()}],my:[{my:It()}],ms:[{ms:It()}],me:[{me:It()}],mt:[{mt:It()}],mr:[{mr:It()}],mb:[{mb:It()}],ml:[{ml:It()}],"space-x":[{"space-x":at()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":at()}],"space-y-reverse":["space-y-reverse"],size:[{size:kt()}],w:[{w:[g,"screen",...kt()]}],"min-w":[{"min-w":[g,"screen","none",...kt()]}],"max-w":[{"max-w":[g,"screen","none","prose",{screen:[d]},...kt()]}],h:[{h:["screen","lh",...kt()]}],"min-h":[{"min-h":["screen","lh","none",...kt()]}],"max-h":[{"max-h":["screen","lh",...kt()]}],"font-size":[{text:["base",i,isArbitraryVariableLength,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,isArbitraryVariable,isArbitraryNumber]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",isPercent,isArbitraryValue]}],"font-family":[{font:[isArbitraryVariableFamilyName,isArbitraryValue,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,isArbitraryVariable,isArbitraryValue]}],"line-clamp":[{"line-clamp":[isNumber,"none",isArbitraryVariable,isArbitraryNumber]}],leading:[{leading:[c,...at()]}],"list-image":[{"list-image":["none",isArbitraryVariable,isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",isArbitraryVariable,isArbitraryValue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:bt()}],"text-color":[{text:bt()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...vt(),"wavy"]}],"text-decoration-thickness":[{decoration:[isNumber,"from-font","auto",isArbitraryVariable,isArbitraryLength]}],"text-decoration-color":[{decoration:bt()}],"underline-offset":[{"underline-offset":[isNumber,"auto",isArbitraryVariable,isArbitraryValue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:at()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryVariable,isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryVariable,isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:yt()}],"bg-repeat":[{bg:At()}],"bg-size":[{bg:Lt()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},isInteger,isArbitraryVariable,isArbitraryValue],radial:["",isArbitraryVariable,isArbitraryValue],conic:[isInteger,isArbitraryVariable,isArbitraryValue]},isArbitraryVariableImage,isArbitraryImage]}],"bg-color":[{bg:bt()}],"gradient-from-pos":[{from:jt()}],"gradient-via-pos":[{via:jt()}],"gradient-to-pos":[{to:jt()}],"gradient-from":[{from:bt()}],"gradient-via":[{via:bt()}],"gradient-to":[{to:bt()}],rounded:[{rounded:ft()}],"rounded-s":[{"rounded-s":ft()}],"rounded-e":[{"rounded-e":ft()}],"rounded-t":[{"rounded-t":ft()}],"rounded-r":[{"rounded-r":ft()}],"rounded-b":[{"rounded-b":ft()}],"rounded-l":[{"rounded-l":ft()}],"rounded-ss":[{"rounded-ss":ft()}],"rounded-se":[{"rounded-se":ft()}],"rounded-ee":[{"rounded-ee":ft()}],"rounded-es":[{"rounded-es":ft()}],"rounded-tl":[{"rounded-tl":ft()}],"rounded-tr":[{"rounded-tr":ft()}],"rounded-br":[{"rounded-br":ft()}],"rounded-bl":[{"rounded-bl":ft()}],"border-w":[{border:mt()}],"border-w-x":[{"border-x":mt()}],"border-w-y":[{"border-y":mt()}],"border-w-s":[{"border-s":mt()}],"border-w-e":[{"border-e":mt()}],"border-w-t":[{"border-t":mt()}],"border-w-r":[{"border-r":mt()}],"border-w-b":[{"border-b":mt()}],"border-w-l":[{"border-l":mt()}],"divide-x":[{"divide-x":mt()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":mt()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...vt(),"hidden","none"]}],"divide-style":[{divide:[...vt(),"hidden","none"]}],"border-color":[{border:bt()}],"border-color-x":[{"border-x":bt()}],"border-color-y":[{"border-y":bt()}],"border-color-s":[{"border-s":bt()}],"border-color-e":[{"border-e":bt()}],"border-color-t":[{"border-t":bt()}],"border-color-r":[{"border-r":bt()}],"border-color-b":[{"border-b":bt()}],"border-color-l":[{"border-l":bt()}],"divide-color":[{divide:bt()}],"outline-style":[{outline:[...vt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[isNumber,isArbitraryVariable,isArbitraryValue]}],"outline-w":[{outline:["",isNumber,isArbitraryVariableLength,isArbitraryLength]}],"outline-color":[{outline:bt()}],shadow:[{shadow:["","none",j,isArbitraryVariableShadow,isArbitraryShadow]}],"shadow-color":[{shadow:bt()}],"inset-shadow":[{"inset-shadow":["none",_,isArbitraryVariableShadow,isArbitraryShadow]}],"inset-shadow-color":[{"inset-shadow":bt()}],"ring-w":[{ring:mt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:bt()}],"ring-offset-w":[{"ring-offset":[isNumber,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":bt()}],"inset-ring-w":[{"inset-ring":mt()}],"inset-ring-color":[{"inset-ring":bt()}],"text-shadow":[{"text-shadow":["none",$,isArbitraryVariableShadow,isArbitraryShadow]}],"text-shadow-color":[{"text-shadow":bt()}],opacity:[{opacity:[isNumber,isArbitraryVariable,isArbitraryValue]}],"mix-blend":[{"mix-blend":[..._t(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":_t()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[isNumber]}],"mask-image-linear-from-pos":[{"mask-linear-from":St()}],"mask-image-linear-to-pos":[{"mask-linear-to":St()}],"mask-image-linear-from-color":[{"mask-linear-from":bt()}],"mask-image-linear-to-color":[{"mask-linear-to":bt()}],"mask-image-t-from-pos":[{"mask-t-from":St()}],"mask-image-t-to-pos":[{"mask-t-to":St()}],"mask-image-t-from-color":[{"mask-t-from":bt()}],"mask-image-t-to-color":[{"mask-t-to":bt()}],"mask-image-r-from-pos":[{"mask-r-from":St()}],"mask-image-r-to-pos":[{"mask-r-to":St()}],"mask-image-r-from-color":[{"mask-r-from":bt()}],"mask-image-r-to-color":[{"mask-r-to":bt()}],"mask-image-b-from-pos":[{"mask-b-from":St()}],"mask-image-b-to-pos":[{"mask-b-to":St()}],"mask-image-b-from-color":[{"mask-b-from":bt()}],"mask-image-b-to-color":[{"mask-b-to":bt()}],"mask-image-l-from-pos":[{"mask-l-from":St()}],"mask-image-l-to-pos":[{"mask-l-to":St()}],"mask-image-l-from-color":[{"mask-l-from":bt()}],"mask-image-l-to-color":[{"mask-l-to":bt()}],"mask-image-x-from-pos":[{"mask-x-from":St()}],"mask-image-x-to-pos":[{"mask-x-to":St()}],"mask-image-x-from-color":[{"mask-x-from":bt()}],"mask-image-x-to-color":[{"mask-x-to":bt()}],"mask-image-y-from-pos":[{"mask-y-from":St()}],"mask-image-y-to-pos":[{"mask-y-to":St()}],"mask-image-y-from-color":[{"mask-y-from":bt()}],"mask-image-y-to-color":[{"mask-y-to":bt()}],"mask-image-radial":[{"mask-radial":[isArbitraryVariable,isArbitraryValue]}],"mask-image-radial-from-pos":[{"mask-radial-from":St()}],"mask-image-radial-to-pos":[{"mask-radial-to":St()}],"mask-image-radial-from-color":[{"mask-radial-from":bt()}],"mask-image-radial-to-color":[{"mask-radial-to":bt()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ct()}],"mask-image-conic-pos":[{"mask-conic":[isNumber]}],"mask-image-conic-from-pos":[{"mask-conic-from":St()}],"mask-image-conic-to-pos":[{"mask-conic-to":St()}],"mask-image-conic-from-color":[{"mask-conic-from":bt()}],"mask-image-conic-to-color":[{"mask-conic-to":bt()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:yt()}],"mask-repeat":[{mask:At()}],"mask-size":[{mask:Lt()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",isArbitraryVariable,isArbitraryValue]}],filter:[{filter:["","none",isArbitraryVariable,isArbitraryValue]}],blur:[{blur:Pt()}],brightness:[{brightness:[isNumber,isArbitraryVariable,isArbitraryValue]}],contrast:[{contrast:[isNumber,isArbitraryVariable,isArbitraryValue]}],"drop-shadow":[{"drop-shadow":["","none",rt,isArbitraryVariableShadow,isArbitraryShadow]}],"drop-shadow-color":[{"drop-shadow":bt()}],grayscale:[{grayscale:["",isNumber,isArbitraryVariable,isArbitraryValue]}],"hue-rotate":[{"hue-rotate":[isNumber,isArbitraryVariable,isArbitraryValue]}],invert:[{invert:["",isNumber,isArbitraryVariable,isArbitraryValue]}],saturate:[{saturate:[isNumber,isArbitraryVariable,isArbitraryValue]}],sepia:[{sepia:["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-filter":[{"backdrop-filter":["","none",isArbitraryVariable,isArbitraryValue]}],"backdrop-blur":[{"backdrop-blur":Pt()}],"backdrop-brightness":[{"backdrop-brightness":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-contrast":[{"backdrop-contrast":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-invert":[{"backdrop-invert":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-opacity":[{"backdrop-opacity":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-saturate":[{"backdrop-saturate":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-sepia":[{"backdrop-sepia":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":at()}],"border-spacing-x":[{"border-spacing-x":at()}],"border-spacing-y":[{"border-spacing-y":at()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",isArbitraryVariable,isArbitraryValue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[isNumber,"initial",isArbitraryVariable,isArbitraryValue]}],ease:[{ease:["linear","initial",_e,isArbitraryVariable,isArbitraryValue]}],delay:[{delay:[isNumber,isArbitraryVariable,isArbitraryValue]}],animate:[{animate:["none",tt,isArbitraryVariable,isArbitraryValue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[dt,isArbitraryVariable,isArbitraryValue]}],"perspective-origin":[{"perspective-origin":ot()}],rotate:[{rotate:Ot()}],"rotate-x":[{"rotate-x":Ot()}],"rotate-y":[{"rotate-y":Ot()}],"rotate-z":[{"rotate-z":Ot()}],scale:[{scale:Gt()}],"scale-x":[{"scale-x":Gt()}],"scale-y":[{"scale-y":Gt()}],"scale-z":[{"scale-z":Gt()}],"scale-3d":["scale-3d"],skew:[{skew:Yt()}],"skew-x":[{"skew-x":Yt()}],"skew-y":[{"skew-y":Yt()}],transform:[{transform:[isArbitraryVariable,isArbitraryValue,"","none","gpu","cpu"]}],"transform-origin":[{origin:ot()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Qt()}],"translate-x":[{"translate-x":Qt()}],"translate-y":[{"translate-y":Qt()}],"translate-z":[{"translate-z":Qt()}],"translate-none":["translate-none"],accent:[{accent:bt()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:bt()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryVariable,isArbitraryValue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":at()}],"scroll-mx":[{"scroll-mx":at()}],"scroll-my":[{"scroll-my":at()}],"scroll-ms":[{"scroll-ms":at()}],"scroll-me":[{"scroll-me":at()}],"scroll-mt":[{"scroll-mt":at()}],"scroll-mr":[{"scroll-mr":at()}],"scroll-mb":[{"scroll-mb":at()}],"scroll-ml":[{"scroll-ml":at()}],"scroll-p":[{"scroll-p":at()}],"scroll-px":[{"scroll-px":at()}],"scroll-py":[{"scroll-py":at()}],"scroll-ps":[{"scroll-ps":at()}],"scroll-pe":[{"scroll-pe":at()}],"scroll-pt":[{"scroll-pt":at()}],"scroll-pr":[{"scroll-pr":at()}],"scroll-pb":[{"scroll-pb":at()}],"scroll-pl":[{"scroll-pl":at()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryVariable,isArbitraryValue]}],fill:[{fill:["none",...bt()]}],"stroke-w":[{stroke:[isNumber,isArbitraryVariableLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:["none",...bt()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...e){return twMerge(clsx(e))}const buttonVariants=cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button=reactExports.forwardRef(({className:e,variant:s,size:i,asChild:a=!1,...o},c)=>{const d=a?Slot:"button";return jsxRuntimeExports.jsx(d,{className:cn(buttonVariants({variant:s,size:i,className:e})),ref:c,...o})});Button.displayName="Button";const Card=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("div",{ref:i,className:cn("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));Card.displayName="Card";const CardHeader=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("div",{ref:i,className:cn("flex flex-col space-y-1.5 p-6",e),...s}));CardHeader.displayName="CardHeader";const CardTitle=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("h3",{ref:i,className:cn("text-2xl font-semibold leading-none tracking-tight",e),...s}));CardTitle.displayName="CardTitle";const CardDescription=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("p",{ref:i,className:cn("text-sm text-muted-foreground",e),...s}));CardDescription.displayName="CardDescription";const CardContent=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("div",{ref:i,className:cn("p-6 pt-0",e),...s}));CardContent.displayName="CardContent";const CardFooter=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("div",{ref:i,className:cn("flex items-center p-6 pt-0",e),...s}));CardFooter.displayName="CardFooter";const LandingPage=({onSignIn:e,onSignUp:s,onShowLessons:i})=>{const a=[{icon:Target,title:"Purpose-Driven",description:"Every lesson is designed with clear learning objectives and outcomes in mind."},{icon:Heart,title:"Inclusive Learning",description:"We believe drama education should be accessible to students of all backgrounds and abilities."},{icon:Award,title:"Quality Content",description:"Our lessons are crafted by experienced educators and continuously refined."}];return jsxRuntimeExports.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-purple-500/20 rounded-full mix-blend-multiply filter blur-xl animate-float",style:{animationDelay:"0s"}}),jsxRuntimeExports.jsx("div",{className:"absolute top-40 right-10 w-72 h-72 bg-pink-500/20 rounded-full mix-blend-multiply filter blur-xl animate-float",style:{animationDelay:"2s"}}),jsxRuntimeExports.jsx("div",{className:"absolute -top-8 left-1/2 w-72 h-72 bg-yellow-500/20 rounded-full mix-blend-multiply filter blur-xl animate-float",style:{animationDelay:"4s"}})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.8)), url('juliet.png')"}}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"p-6 flex justify-between items-center backdrop-blur-sm bg-white/5 border-b border-white/10",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 group",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Theater,{className:"w-8 h-8 text-purple-400 group-hover:text-purple-300 transition-all duration-300 group-hover:scale-110"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-purple-400/20 rounded-full blur-md group-hover:bg-purple-300/30 transition-all duration-300"})]}),jsxRuntimeExports.jsx("span",{className:"text-2xl font-bold text-white group-hover:text-purple-100 transition-colors duration-300",children:"JulietLessons"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",onClick:e,className:"text-white hover:bg-white/10 border border-white/20 hover:border-white/40 transition-all duration-300 hover:scale-105 backdrop-blur-sm",children:"Sign In"}),jsxRuntimeExports.jsx(Button,{onClick:s,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white shadow-lg hover:shadow-purple-500/25 transition-all duration-300 hover:scale-105",children:"Sign Up"})]})]}),jsxRuntimeExports.jsx("main",{className:"flex-1 flex items-center justify-center px-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8 animate-fade-in",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(GraduationCap,{className:"w-12 h-12 text-purple-400 animate-float"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-purple-400/30 blur-lg rounded-full animate-pulse"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-8 h-8 text-yellow-400 animate-bounce"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-yellow-400/30 blur-md rounded-full animate-ping"})]})]}),jsxRuntimeExports.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white mb-6 leading-tight",children:[jsxRuntimeExports.jsx("span",{className:"inline-block hover:scale-105 transition-transform duration-300",children:"Craft"})," ",jsxRuntimeExports.jsx("span",{className:"inline-block hover:scale-105 transition-transform duration-300",children:"Perfect"}),jsxRuntimeExports.jsx("span",{className:"block bg-gradient-to-r from-purple-400 via-pink-400 to-yellow-400 bg-clip-text text-transparent animate-pulse",children:"Drama Lessons"})]}),jsxRuntimeExports.jsx("p",{className:"text-xl md:text-2xl text-gray-200 mb-8 leading-relaxed max-w-3xl mx-auto hover:text-white transition-colors duration-300",children:"Generate engaging, structured drama lessons tailored to your students' experience level. From warm-ups to cool-downs, create the perfect theatrical learning experience."})]}),jsxRuntimeExports.jsx("div",{className:"animate-fade-in mb-16",style:{animationDelay:"0.3s"},children:jsxRuntimeExports.jsxs(Button,{onClick:i,size:"lg",className:"relative bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white text-lg px-12 py-4 h-auto font-semibold shadow-2xl transform hover:scale-110 transition-all duration-300 overflow-hidden group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400 to-pink-400 opacity-0 group-hover:opacity-20 transition-opacity duration-300"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-white/10 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700 skew-x-12"}),jsxRuntimeExports.jsx(Theater,{className:"w-6 h-6 mr-3 group-hover:rotate-12 transition-transform duration-300"}),jsxRuntimeExports.jsx("span",{className:"relative z-10",children:"Generate Lessons"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-md bg-purple-500/20 blur-xl group-hover:bg-purple-400/40 transition-all duration-300"})]})}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-3 gap-8 animate-fade-in",style:{animationDelay:"0.6s"},children:[jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-6 rounded-lg border border-white/10 hover:border-purple-400/50 transition-all duration-300 hover:scale-105 hover:shadow-2xl hover:shadow-purple-500/20",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-purple-500/40 transition-all duration-300 group-hover:scale-110",children:jsxRuntimeExports.jsx(GraduationCap,{className:"w-6 h-6 text-purple-400 group-hover:text-purple-300"})}),jsxRuntimeExports.jsx("h3",{className:"text-white font-semibold mb-2 group-hover:text-purple-200 transition-colors",children:"Level-Based"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm group-hover:text-white transition-colors",children:"Activities matched to your students' experience level"})]}),jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-6 rounded-lg border border-white/10 hover:border-pink-400/50 transition-all duration-300 hover:scale-105 hover:shadow-2xl hover:shadow-pink-500/20",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-pink-500/20 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-pink-500/40 transition-all duration-300 group-hover:scale-110",children:jsxRuntimeExports.jsx(Theater,{className:"w-6 h-6 text-pink-400 group-hover:text-pink-300"})}),jsxRuntimeExports.jsx("h3",{className:"text-white font-semibold mb-2 group-hover:text-pink-200 transition-colors",children:"Structured Flow"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm group-hover:text-white transition-colors",children:"Warm-up, main activity, and cool-down sequences"})]}),jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-6 rounded-lg border border-white/10 hover:border-yellow-400/50 transition-all duration-300 hover:scale-105 hover:shadow-2xl hover:shadow-yellow-500/20",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-yellow-500/20 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-yellow-500/40 transition-all duration-300 group-hover:scale-110",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-6 h-6 text-yellow-400 group-hover:text-yellow-300"})}),jsxRuntimeExports.jsx("h3",{className:"text-white font-semibold mb-2 group-hover:text-yellow-200 transition-colors",children:"Instant Generation"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm group-hover:text-white transition-colors",children:"Get complete lesson plans in seconds"})]})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 bg-gradient-to-b from-transparent via-background/80 to-background",children:[jsxRuntimeExports.jsxs("section",{className:"py-16 px-6 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-900/10 to-pink-900/10 backdrop-blur-sm"}),jsxRuntimeExports.jsx("div",{className:"container mx-auto max-w-4xl relative z-10",children:jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-purple-500/30 hover:border-purple-400/50 transition-all duration-500 hover:scale-[1.02] hover:shadow-2xl hover:shadow-purple-500/20",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-3xl gradient-text text-center animate-fade-in",children:jsxRuntimeExports.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-white text-center",children:["Our ",jsxRuntimeExports.jsx("span",{className:"bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Story"})]})})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-6 text-lg leading-relaxed",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-300 hover:text-purple-100 transition-colors duration-300",children:"Born from the collaboration between seasoned drama educators and innovative technologists, our platform addresses a critical need in the creative education space: the time-consuming process of developing structured, engaging drama lessons."}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 hover:text-purple-100 transition-colors duration-300",children:"We recognized that while drama teachers are incredibly creative and passionate, they often struggle with the administrative burden of lesson planning, especially when trying to adapt content for different age groups and skill levels."}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 hover:text-purple-100 transition-colors duration-300",children:"Our AI-powered lesson generator doesn't replace the educator's creativity—it amplifies it, providing a structured foundation that teachers can build upon and customize for their unique classroom needs."})]})]})})]}),jsxRuntimeExports.jsxs("section",{className:"py-16 px-6 bg-gradient-to-br from-purple-50/5 to-pink-50/5 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 backdrop-blur-sm"}),jsxRuntimeExports.jsxs("div",{className:"container mx-auto max-w-6xl relative z-10",children:[jsxRuntimeExports.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-8 text-center",children:["Our ",jsxRuntimeExports.jsx("span",{className:"bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Values"})]}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:a.map((o,c)=>jsxRuntimeExports.jsxs(Card,{className:"group glass-effect border-purple-500/30 text-center hover:border-purple-400/50 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-purple-500/20",style:{animationDelay:`${c*.2}s`},children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-purple-500/20 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-purple-500/40 transition-all duration-300 group-hover:scale-110 group-hover:rotate-12",children:jsxRuntimeExports.jsx(o.icon,{className:"w-8 h-8 text-purple-400 group-hover:text-purple-300"})}),jsxRuntimeExports.jsx(CardTitle,{className:"text-xl text-gray-100 group-hover:text-purple-200 transition-colors",children:o.title})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-gray-300 group-hover:text-white transition-colors",children:o.description})})]},c))})]})]}),jsxRuntimeExports.jsxs("section",{className:"py-24 px-6 relative overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-gradient-to-r from-purple-500/20 to-blue-500/20 rounded-full mix-blend-multiply filter blur-3xl animate-pulse-slow"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-gradient-to-r from-pink-500/20 to-violet-500/20 rounded-full mix-blend-multiply filter blur-3xl animate-pulse-slow",style:{animationDelay:"2s"}}),jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-gradient-to-r from-yellow-500/10 to-orange-500/10 rounded-full mix-blend-multiply filter blur-2xl animate-bounce-slow"})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-10",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-12 gap-4 h-full",children:Array.from({length:144}).map((o,c)=>jsxRuntimeExports.jsx("div",{className:"bg-white/5 rounded animate-shimmer",style:{animationDelay:`${c%12*.1}s`}},c))})}),jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto relative z-10",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-20",children:[jsxRuntimeExports.jsxs("div",{className:"relative inline-block mb-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-5xl md:text-6xl font-bold text-white animate-fade-in relative z-10",children:["How It"," ",jsxRuntimeExports.jsxs("span",{className:"relative",children:[jsxRuntimeExports.jsx("span",{className:"rounded-md px-2 bg-gradient-to-r from-purple-400 via-pink-400 to-yellow-400 bg-clip-text text-transparent animate-glow",children:"Works"}),jsxRuntimeExports.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-purple-400/30 via-pink-400/30 to-yellow-400/30 blur-xl rounded-lg animate-pulse"})]})]}),jsxRuntimeExports.jsx("div",{className:"absolute -top-4 -right-4",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-8 h-8 text-yellow-400 animate-spin",style:{animationDuration:"3s"}})}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-2 -left-6",children:jsxRuntimeExports.jsx(Zap,{className:"w-6 h-6 text-purple-400 animate-bounce"})})]}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed animate-fade-in",style:{animationDelay:"0.3s"},children:"Creating professional drama lessons has never been easier. Follow these simple steps to transform your teaching experience."})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-3 gap-16",children:[jsxRuntimeExports.jsxs("div",{className:"text-center group animate-fade-in relative",style:{animationDelay:"0.4s"},children:[jsxRuntimeExports.jsxs("div",{className:"relative mb-8",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/20 to-purple-600/20 rounded-full blur-2xl group-hover:blur-xl transition-all duration-500 animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-2 bg-gradient-to-r from-purple-400/10 to-purple-500/10 rounded-full blur-xl group-hover:blur-lg transition-all duration-500"}),jsxRuntimeExports.jsxs("div",{className:"relative w-24 h-24 bg-gradient-to-br from-purple-600 via-purple-700 to-purple-800 rounded-full flex items-center justify-center mx-auto group-hover:scale-125 transition-all duration-500 shadow-2xl group-hover:shadow-purple-500/50 border-2 border-purple-400/30 group-hover:border-purple-300/60",children:[jsxRuntimeExports.jsx("span",{className:"text-3xl font-bold text-white relative z-10 group-hover:scale-110 transition-transform duration-300",children:"1"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent rounded-full"})]}),jsxRuntimeExports.jsx("div",{className:"absolute -top-2 -right-2 w-3 h-3 bg-purple-400 rounded-full animate-ping"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-1 -left-3 w-2 h-2 bg-pink-400 rounded-full animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 -right-4 w-1 h-1 bg-yellow-400 rounded-full animate-bounce"})]}),jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-semibold text-white mb-6 group-hover:text-purple-200 transition-colors duration-300 relative",children:["Choose Your Settings",jsxRuntimeExports.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-0 h-0.5 bg-gradient-to-r from-purple-400 to-pink-400 group-hover:w-full transition-all duration-500"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors duration-300 leading-relaxed",children:"Select age group, experience level, and lesson focus to customize your drama activities with precision."})]}),jsxRuntimeExports.jsxs("div",{className:"text-center group animate-fade-in relative",style:{animationDelay:"0.6s"},children:[jsxRuntimeExports.jsxs("div",{className:"relative mb-8",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-500/20 to-pink-600/20 rounded-full blur-2xl group-hover:blur-xl transition-all duration-500 animate-pulse",style:{animationDelay:"1s"}}),jsxRuntimeExports.jsx("div",{className:"absolute inset-2 bg-gradient-to-r from-pink-400/10 to-pink-500/10 rounded-full blur-xl group-hover:blur-lg transition-all duration-500"}),jsxRuntimeExports.jsxs("div",{className:"relative w-24 h-24 bg-gradient-to-br from-pink-600 via-pink-700 to-pink-800 rounded-full flex items-center justify-center mx-auto group-hover:scale-125 transition-all duration-500 shadow-2xl group-hover:shadow-pink-500/50 border-2 border-pink-400/30 group-hover:border-pink-300/60",children:[jsxRuntimeExports.jsx("span",{className:"text-3xl font-bold text-white relative z-10 group-hover:scale-110 transition-transform duration-300",children:"2"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent rounded-full"})]}),jsxRuntimeExports.jsx("div",{className:"absolute -top-3 -left-2 w-3 h-3 bg-pink-400 rounded-full animate-ping",style:{animationDelay:"0.5s"}}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-2 -right-2 w-2 h-2 bg-purple-400 rounded-full animate-pulse",style:{animationDelay:"1s"}}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-1 h-1 bg-yellow-400 rounded-full animate-bounce",style:{animationDelay:"1.5s"}})]}),jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-semibold text-white mb-6 group-hover:text-pink-200 transition-colors duration-300 relative",children:["Generate Instantly",jsxRuntimeExports.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-0 h-0.5 bg-gradient-to-r from-pink-400 to-yellow-400 group-hover:w-full transition-all duration-500"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors duration-300 leading-relaxed",children:"Our AI creates a complete lesson plan with warm-ups, main activities, and cool-downs in seconds."})]}),jsxRuntimeExports.jsxs("div",{className:"text-center group animate-fade-in relative",style:{animationDelay:"0.8s"},children:[jsxRuntimeExports.jsxs("div",{className:"relative mb-8",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/20 to-yellow-600/20 rounded-full blur-2xl group-hover:blur-xl transition-all duration-500 animate-pulse",style:{animationDelay:"2s"}}),jsxRuntimeExports.jsx("div",{className:"absolute inset-2 bg-gradient-to-r from-yellow-400/10 to-yellow-500/10 rounded-full blur-xl group-hover:blur-lg transition-all duration-500"}),jsxRuntimeExports.jsxs("div",{className:"relative w-24 h-24 bg-gradient-to-br from-yellow-600 via-yellow-700 to-yellow-800 rounded-full flex items-center justify-center mx-auto group-hover:scale-125 transition-all duration-500 shadow-2xl group-hover:shadow-yellow-500/50 border-2 border-yellow-400/30 group-hover:border-yellow-300/60",children:[jsxRuntimeExports.jsx("span",{className:"text-3xl font-bold text-white relative z-10 group-hover:scale-110 transition-transform duration-300",children:"3"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent rounded-full"})]}),jsxRuntimeExports.jsx("div",{className:"absolute -top-1 -right-3 w-3 h-3 bg-yellow-400 rounded-full animate-ping",style:{animationDelay:"1s"}}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-3 -left-1 w-2 h-2 bg-orange-400 rounded-full animate-pulse",style:{animationDelay:"1.5s"}}),jsxRuntimeExports.jsx("div",{className:"absolute top-1/4 -left-4 w-1 h-1 bg-pink-400 rounded-full animate-bounce",style:{animationDelay:"2s"}})]}),jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-semibold text-white mb-6 group-hover:text-yellow-200 transition-colors duration-300 relative",children:["Teach & Engage",jsxRuntimeExports.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-0 h-0.5 bg-gradient-to-r from-yellow-400 to-orange-400 group-hover:w-full transition-all duration-500"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors duration-300 leading-relaxed",children:"Use your personalized lesson plan to create memorable theatrical experiences for your students."})]})]}),jsxRuntimeExports.jsx("div",{className:"hidden md:block absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full max-w-4xl",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-1/6 w-1/3 h-0.5 bg-gradient-to-r from-purple-400/50 to-pink-400/50 animate-shimmer"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-1/6 w-1/3 h-0.5 bg-gradient-to-r from-pink-400/50 to-yellow-400/50 animate-shimmer",style:{animationDelay:"1s"}})]})})]})]}),jsxRuntimeExports.jsxs("section",{className:"py-24 px-6 bg-gradient-to-r from-purple-900/20 to-pink-900/20 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 backdrop-blur-sm"}),jsxRuntimeExports.jsx("div",{className:"max-w-6xl mx-auto relative z-10",children:jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"animate-fade-in",children:[jsxRuntimeExports.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-8",children:["Why Choose ",jsxRuntimeExports.jsx("span",{className:"bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"JulietLessons?"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 group",children:[jsxRuntimeExports.jsx(CheckCircle,{className:"w-6 h-6 text-green-400 mt-1 flex-shrink-0 group-hover:scale-110 transition-transform duration-300"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2 group-hover:text-green-200 transition-colors",children:"Save Hours of Planning"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Generate complete lesson plans in seconds instead of spending hours researching and planning."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 group",children:[jsxRuntimeExports.jsx(CheckCircle,{className:"w-6 h-6 text-green-400 mt-1 flex-shrink-0 group-hover:scale-110 transition-transform duration-300"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2 group-hover:text-green-200 transition-colors",children:"Age-Appropriate Content"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Every activity is carefully tailored to your students' age group and experience level."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 group",children:[jsxRuntimeExports.jsx(CheckCircle,{className:"w-6 h-6 text-green-400 mt-1 flex-shrink-0 group-hover:scale-110 transition-transform duration-300"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2 group-hover:text-green-200 transition-colors",children:"Professional Structure"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Each lesson follows proven pedagogical principles with clear warm-up, main, and cool-down phases."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 group",children:[jsxRuntimeExports.jsx(CheckCircle,{className:"w-6 h-6 text-green-400 mt-1 flex-shrink-0 group-hover:scale-110 transition-transform duration-300"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2 group-hover:text-green-200 transition-colors",children:"Endless Variety"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Never run out of fresh ideas with our vast database of drama activities and exercises."})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-6 rounded-lg border border-white/10 hover:border-purple-400/50 transition-all duration-300 hover:scale-105 hover:shadow-xl hover:shadow-purple-500/20",children:[jsxRuntimeExports.jsx(Clock,{className:"w-10 h-10 text-purple-400 mb-4 group-hover:scale-110 transition-transform duration-300"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mb-2 group-hover:text-purple-200 transition-colors",children:"Immediately"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Create a complete lesson using auto generation"})]}),jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-6 rounded-lg border border-white/10 hover:border-pink-400/50 transition-all duration-300 hover:scale-105 hover:shadow-xl hover:shadow-pink-500/20",children:[jsxRuntimeExports.jsx(Users,{className:"w-10 h-10 text-pink-400 mb-4 group-hover:scale-110 transition-transform duration-300"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mb-2 group-hover:text-pink-200 transition-colors",children:"10K+"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Educators using our platform"})]}),jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-6 rounded-lg border border-white/10 hover:border-yellow-400/50 transition-all duration-300 hover:scale-105 hover:shadow-xl hover:shadow-yellow-500/20",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-10 h-10 text-yellow-400 mb-4 group-hover:scale-110 transition-transform duration-300"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mb-2 group-hover:text-yellow-200 transition-colors",children:"500+"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Unique drama activities"})]}),jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-6 rounded-lg border border-white/10 hover:border-green-400/50 transition-all duration-300 hover:scale-105 hover:shadow-xl hover:shadow-green-500/20",children:[jsxRuntimeExports.jsx(Star,{className:"w-10 h-10 text-green-400 mb-4 group-hover:scale-110 transition-transform duration-300"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mb-2 group-hover:text-green-200 transition-colors",children:"4.9/5"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Average user rating"})]})]})]})})]}),jsxRuntimeExports.jsxs("section",{className:"py-24 px-6 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900/10 to-pink-900/10"}),jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto relative z-10",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-16",children:[jsxRuntimeExports.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6 animate-fade-in",children:["What Educators ",jsxRuntimeExports.jsx("span",{className:"bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Say"})]}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Join thousands of drama teachers who are transforming their lesson planning."})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-8 rounded-lg border border-white/10 hover:border-purple-400/50 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-purple-500/20 animate-fade-in",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((o,c)=>jsxRuntimeExports.jsx(Star,{className:"w-5 h-5 text-yellow-400 fill-current group-hover:scale-110 transition-transform duration-300",style:{transitionDelay:`${c*.1}s`}},c))}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 mb-6 italic group-hover:text-white transition-colors",children:'"JulietLessons has revolutionized my teaching. I can create engaging lessons in minutes instead of hours. My students love the variety!"'}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:jsxRuntimeExports.jsx("span",{className:"text-white font-bold",children:"SM"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-white font-semibold group-hover:text-purple-200 transition-colors",children:"Sarah Mitchell"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm group-hover:text-gray-300 transition-colors",children:"High School Drama Teacher"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-8 rounded-lg border border-white/10 hover:border-pink-400/50 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-pink-500/20 animate-fade-in",style:{animationDelay:"0.2s"},children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((o,c)=>jsxRuntimeExports.jsx(Star,{className:"w-5 h-5 text-yellow-400 fill-current group-hover:scale-110 transition-transform duration-300",style:{transitionDelay:`${c*.1}s`}},c))}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 mb-6 italic group-hover:text-white transition-colors",children:'"The age-appropriate content is spot on. Every lesson is perfectly structured and my elementary students are always engaged."'}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-pink-600 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:jsxRuntimeExports.jsx("span",{className:"text-white font-bold",children:"MR"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-white font-semibold group-hover:text-pink-200 transition-colors",children:"Michael Rodriguez"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm group-hover:text-gray-300 transition-colors",children:"Elementary Arts Coordinator"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-8 rounded-lg border border-white/10 hover:border-yellow-400/50 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-yellow-500/20 animate-fade-in",style:{animationDelay:"0.4s"},children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((o,c)=>jsxRuntimeExports.jsx(Star,{className:"w-5 h-5 text-yellow-400 fill-current group-hover:scale-110 transition-transform duration-300",style:{transitionDelay:`${c*.1}s`}},c))}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 mb-6 italic group-hover:text-white transition-colors",children:'"As a new teacher, this platform gave me the confidence to deliver professional drama lessons from day one. Absolutely incredible!"'}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-yellow-600 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:jsxRuntimeExports.jsx("span",{className:"text-white font-bold",children:"EL"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-white font-semibold group-hover:text-yellow-200 transition-colors",children:"Emily Lane"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm group-hover:text-gray-300 transition-colors",children:"Community Theater Director"})]})]})]})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"py-24 px-6 bg-gradient-to-r from-purple-900/40 to-pink-900/40 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 backdrop-blur-sm"}),jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[jsxRuntimeExports.jsxs("h2",{className:"text-4xl md:text-6xl font-bold text-white mb-6 animate-fade-in",children:["Ready to Transform Your",jsxRuntimeExports.jsx("span",{className:"block bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent animate-pulse",children:"Drama Teaching?"})]}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"Join thousands of educators who are already creating amazing drama lessons with our AI-powered platform."}),jsxRuntimeExports.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:jsxRuntimeExports.jsxs(Button,{onClick:i,size:"lg",className:"relative bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white text-xl px-12 py-6 h-auto font-semibold shadow-2xl transform hover:scale-110 transition-all duration-300 overflow-hidden group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400 to-pink-400 opacity-0 group-hover:opacity-30 transition-opacity duration-300"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-white/10 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700 skew-x-12"}),jsxRuntimeExports.jsx(Theater,{className:"w-6 h-6 mr-3 group-hover:rotate-12 transition-transform duration-300"}),jsxRuntimeExports.jsx("span",{className:"relative z-10",children:"Generate Lessons"}),jsxRuntimeExports.jsx(ArrowRight,{className:"w-6 h-6 ml-3 group-hover:translate-x-2 transition-transform duration-300"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-md bg-purple-500/20 blur-xl group-hover:bg-purple-400/40 transition-all duration-300"})]})})]})]}),jsxRuntimeExports.jsxs("footer",{className:"p-6 text-center border-t border-white/10 backdrop-blur-sm bg-white/5",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-6 mb-4",children:[jsxRuntimeExports.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-all duration-300 hover:scale-105",children:"Home"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"•"}),jsxRuntimeExports.jsx("a",{href:"#",onClick:e,className:"text-gray-400 hover:text-white transition-all duration-300 hover:scale-105",children:"Sign In"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"•"}),jsxRuntimeExports.jsx("a",{href:"#",onClick:s,className:"text-gray-400 hover:text-white transition-all duration-300 hover:scale-105",children:"Sign Up"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm hover:text-white transition-colors duration-300",children:"Empowering drama educators with intelligent lesson planning"})]})]})]})},userRoles=[{value:"teacher",label:"Teacher",description:"Create and manage activities and lessons"},{value:"student",label:"Student",description:"View and participate in activities"}];function AuthModal({isOpen:e,onClose:s,mode:i,onModeChange:a,onSignIn:o,onSignUp:c,loading:d,error:g}){const[h,b]=reactExports.useState(!1),[j,_]=reactExports.useState({email:"",password:"",firstName:"",lastName:"",role:"teacher",organization:""}),$=async st=>{st.preventDefault(),i==="signin"?await o({email:j.email,password:j.password}):await c({email:j.email,password:j.password,firstName:j.firstName,lastName:j.lastName,role:j.role,organization:j.organization||void 0})},rt=()=>{_({email:"",password:"",firstName:"",lastName:"",role:"teacher",organization:""}),b(!1)},nt=st=>{rt(),a(st)},dt=()=>{rt(),s()};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-teal-600 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(User,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:i==="signin"?"Welcome Back":"Join JulietLessons"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:i==="signin"?"Sign in to your account":"Create your account to get started"})]})]}),jsxRuntimeExports.jsx("button",{onClick:dt,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})]}),g&&jsxRuntimeExports.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border-b border-red-100 dark:border-red-800",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-red-800 dark:text-red-300",children:g})}),jsxRuntimeExports.jsxs("form",{onSubmit:$,className:"p-6 space-y-4",children:[i==="signup"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["First Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:j.firstName,onChange:st=>_({...j,firstName:st.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",placeholder:"John"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Last Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:j.lastName,onChange:st=>_({...j,lastName:st.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",placeholder:"Doe"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Role ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:userRoles.map(st=>jsxRuntimeExports.jsxs("label",{className:"flex items-start cursor-pointer group",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"role",value:st.value,checked:j.role===st.value,onChange:_e=>_({...j,role:_e.target.value}),className:"w-4 h-4 text-blue-600 border-gray-300 dark:border-dark-600 rounded mt-1 focus:ring-blue-500 bg-white dark:bg-dark-700 transition-colors duration-200"}),jsxRuntimeExports.jsxs("div",{className:"ml-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(UserCheck,{className:"w-4 h-4 text-gray-400 dark:text-gray-500 group-hover:text-blue-500 dark:group-hover:text-blue-400"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:st.label})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:st.description})]})]},st.value))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Organization"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Building,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",value:j.organization,onChange:st=>_({...j,organization:st.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200",placeholder:"Your school or organization"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Email Address ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"email",required:!0,value:j.email,onChange:st=>_({...j,email:st.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200",placeholder:"you@example.com"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Password ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Lock,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:h?"text":"password",required:!0,value:j.password,onChange:st=>_({...j,password:st.target.value}),className:"w-full pl-10 pr-12 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200",placeholder:i==="signin"?"Enter your password":"Create a password (min 6 characters)",minLength:i==="signup"?6:void 0}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>b(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:h?jsxRuntimeExports.jsx(EyeOff,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"})})]}),i==="signup"&&jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Password must be at least 6 characters long"})]}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:d,className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-teal-600 text-white py-3 rounded-lg hover:from-blue-700 hover:to-teal-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg",children:[d?jsxRuntimeExports.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):jsxRuntimeExports.jsx(User,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:d?i==="signin"?"Signing In...":"Creating Account...":i==="signin"?"Sign In":"Create Account"})]})]}),jsxRuntimeExports.jsx("div",{className:"p-6 bg-gray-50 dark:bg-dark-700 border-t border-gray-200 dark:border-dark-600 rounded-b-xl transition-colors duration-200",children:jsxRuntimeExports.jsxs("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:[i==="signin"?"Don't have an account? ":"Already have an account? ",jsxRuntimeExports.jsx("button",{onClick:()=>nt(i==="signin"?"signup":"signin"),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-medium transition-colors",children:i==="signin"?"Sign up":"Sign in"})]})})]})}):null}const LandingPageWrapper=()=>{const[e,s]=useAtom(showAuthModalAtom),[i,a]=useAtom(authModeAtom),[o,c]=useAtom(authStateAtom),d=()=>{a("signin"),s(!0)},g=()=>{a("signup"),s(!0)},h=()=>{a("signin"),s(!0)},b=async _=>{c($=>({...$,isLoading:!0,error:null}));try{const{user:$}=await AuthService.signIn(_);try{const rt=await StripeService.getUserSubscription($.id);c({user:{...$,subscription:rt||void 0},isAuthenticated:!0,isLoading:!1,error:null})}catch{c({user:$,isAuthenticated:!0,isLoading:!1,error:null})}s(!1)}catch($){c(rt=>({...rt,isLoading:!1,error:$ instanceof Error?$.message:"Sign in failed"}))}},j=async _=>{c($=>({...$,isLoading:!0,error:null}));try{const{user:$}=await AuthService.signUp(_);c({user:$,isAuthenticated:!0,isLoading:!1,error:null}),s(!1)}catch($){c(rt=>({...rt,isLoading:!1,error:$ instanceof Error?$.message:"Sign up failed"}))}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LandingPage,{onSignIn:d,onSignUp:g,onShowLessons:h}),jsxRuntimeExports.jsx(AuthModal,{isOpen:e,onClose:()=>s(!1),mode:i,onModeChange:a,onSignIn:b,onSignUp:j,loading:o.isLoading,error:o.error})]})};function GenerateLesson({lessonId:e=null,onClearView:s}){var Et,Mt,Nt,It,kt;const[i,a]=reactExports.useState(null),[o,c]=reactExports.useState(!1),[d,g]=reactExports.useState(!1),[h,b]=reactExports.useState(!1),[j,_]=reactExports.useState(!1),[$,rt]=reactExports.useState(!1),[nt,dt]=reactExports.useState(!1),[st,_e]=reactExports.useState(!1);reactExports.useEffect(()=>{e&&(c(!0),fetch(`/api/lessons/${e}`).then(bt=>{if(!bt.ok)throw new Error(`Status ${bt.status}`);return bt.json()}).then(bt=>a(bt)).catch(bt=>console.error("Error fetching lesson by ID:",bt)).finally(()=>c(!1)))},[e]);const tt=async()=>{s&&s(),c(!0);try{const bt=await fetch("/api/lessons/random");if(!bt.ok)throw new Error(`Status ${bt.status}`);const yt=await bt.json();a(yt)}catch(bt){console.error("Error fetching random lesson:",bt)}finally{c(!1)}},it=((Et=i==null?void 0:i.lesson_parts)==null?void 0:Et.filter(bt=>bt.section_type==="warm_up"))||[],ct=((Mt=i==null?void 0:i.lesson_parts)==null?void 0:Mt.filter(bt=>bt.section_type==="bridge_activity"))||[],ot=((Nt=i==null?void 0:i.lesson_parts)==null?void 0:Nt.filter(bt=>bt.section_type==="main_activity"))||[],pt=((It=i==null?void 0:i.lesson_parts)==null?void 0:It.filter(bt=>bt.section_type==="end_of_lesson"))||[],et=((kt=i==null?void 0:i.lesson_parts)==null?void 0:kt.filter(bt=>bt.section_type==="script"))||[],at=it.reduce((bt,yt)=>bt+(yt.time||0),0),ht=ct.reduce((bt,yt)=>bt+(yt.time||0),0),xt=ot.reduce((bt,yt)=>bt+(yt.time||0),0),ut=pt.reduce((bt,yt)=>bt+(yt.time||0),0),gt=bt=>bt.slice().sort((yt,At)=>(yt.position||0)-(At.position||0));return jsxRuntimeExports.jsxs("div",{className:"lesson-page",children:[jsxRuntimeExports.jsx("aside",{className:"lesson-sidebar",children:i&&jsxRuntimeExports.jsx("button",{className:"sidebar-generate-btn",onClick:tt,disabled:o,children:o?"Loading…":"Generate Again"})}),jsxRuntimeExports.jsx("div",{className:"lesson-content",children:i?jsxRuntimeExports.jsxs("div",{className:"lesson-details",children:[jsxRuntimeExports.jsx("div",{className:"lesson-star-block",children:jsxRuntimeExports.jsx("h1",{className:"lesson-title showman",children:i.title})}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-700 rounded-lg shadow-sm mb-6 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Lesson Objective"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:i.objective})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-700 rounded-lg shadow-sm mb-6 p-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer select-none flex justify-between",onClick:()=>g(!d),children:["At a Glance ",jsxRuntimeExports.jsx("span",{children:d?"▲":"▼"})]}),d&&jsxRuntimeExports.jsx("ul",{className:"mt-4 space-y-2 list-disc list-inside text-gray-700 dark:text-gray-300",children:i.at_a_glance.map((bt,yt)=>jsxRuntimeExports.jsx("li",{children:bt},yt))})]}),it.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-700 rounded-lg shadow-sm mb-6 p-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer select-none flex justify-between",onClick:()=>b(!h),children:["Warm Ups — ",at," min ",jsxRuntimeExports.jsx("span",{children:h?"▲":"▼"})]}),h&&jsxRuntimeExports.jsx("ul",{className:"mt-4 space-y-4 text-gray-700 dark:text-gray-300",children:gt(it).map((bt,yt)=>jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsxs("strong",{children:["Part ",yt+1,":"]})," ",bt.title,bt.body&&jsxRuntimeExports.jsx("p",{className:"mt-1 italic text-gray-600 dark:text-gray-400",children:bt.body})]},yt))}),jsxRuntimeExports.jsx("div",{className:"mt-4 space-y-2",children:gt(it).flatMap((bt,yt)=>(bt.file_infos||[]).map((At,Lt)=>jsxRuntimeExports.jsxs("a",{href:At.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700 text-white px-4 py-2 rounded-md transition-colors",children:["📄 ",At.filename]},`warmup-pdf-${yt}-${Lt}`)))})]}),ct.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-700 rounded-lg shadow-sm mb-6 p-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer select-none flex justify-between",onClick:()=>_(!j),children:["Bridge Activities — ",ht," min ",jsxRuntimeExports.jsx("span",{children:j?"▲":"▼"})]}),j&&jsxRuntimeExports.jsx("ul",{className:"mt-4 space-y-4 text-gray-700 dark:text-gray-300",children:gt(ct).map((bt,yt)=>jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsxs("strong",{children:["Part ",yt+1,":"]})," ",bt.title,bt.body&&jsxRuntimeExports.jsx("p",{className:"mt-1 italic text-gray-600 dark:text-gray-400",children:bt.body})]},yt))}),jsxRuntimeExports.jsx("div",{className:"mt-4 space-y-2",children:gt(ct).flatMap((bt,yt)=>(bt.file_infos||[]).map((At,Lt)=>jsxRuntimeExports.jsxs("a",{href:At.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700 text-white px-4 py-2 rounded-md transition-colors",children:["📄 ",At.filename]},`bridge-pdf-${yt}-${Lt}`)))})]}),ot.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-700 rounded-lg shadow-sm mb-6 p-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer select-none flex justify-between",onClick:()=>rt(!$),children:["Main Activities — ",xt," min ",jsxRuntimeExports.jsx("span",{children:$?"▲":"▼"})]}),$&&jsxRuntimeExports.jsx("ul",{className:"mt-4 space-y-4 text-gray-700 dark:text-gray-300",children:gt(ot).map((bt,yt)=>jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsxs("strong",{children:["Part ",yt+1,":"]})," ",bt.title,bt.body&&jsxRuntimeExports.jsx("p",{className:"mt-1 italic text-gray-600 dark:text-gray-400",children:bt.body})]},yt))}),jsxRuntimeExports.jsx("div",{className:"mt-4 space-y-2",children:gt(ot).flatMap((bt,yt)=>(bt.file_infos||[]).map((At,Lt)=>jsxRuntimeExports.jsxs("a",{href:At.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700 text-white px-4 py-2 rounded-md transition-colors",children:["📄 ",At.filename]},`main-pdf-${yt}-${Lt}`)))})]}),pt.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-700 rounded-lg shadow-sm mb-6 p-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer select-none flex justify-between",onClick:()=>dt(!nt),children:["End of Lesson — ",ut," min ",jsxRuntimeExports.jsx("span",{children:nt?"▲":"▼"})]}),nt&&jsxRuntimeExports.jsx("ul",{className:"mt-4 space-y-4 text-gray-700 dark:text-gray-300",children:gt(pt).map((bt,yt)=>jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsxs("strong",{children:["Part ",yt+1,":"]})," ",bt.title,bt.body&&jsxRuntimeExports.jsx("p",{className:"mt-1 italic text-gray-600 dark:text-gray-400",children:bt.body})]},yt))}),jsxRuntimeExports.jsx("div",{className:"mt-4 space-y-2",children:gt(pt).flatMap((bt,yt)=>(bt.file_infos||[]).map((At,Lt)=>jsxRuntimeExports.jsxs("a",{href:At.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700 text-white px-4 py-2 rounded-md transition-colors",children:["📄 ",At.filename]},`end-pdf-${yt}-${Lt}`)))})]}),et.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-700 rounded-lg shadow-sm mb-6 p-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer select-none flex justify-between",onClick:()=>_e(!st),children:["Scripts ",jsxRuntimeExports.jsx("span",{children:st?"▲":"▼"})]}),st&&jsxRuntimeExports.jsx("ul",{className:"mt-4 space-y-4 text-gray-700 dark:text-gray-300",children:gt(et).map((bt,yt)=>jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsxs("strong",{children:["Part ",yt+1,":"]})," ",bt.title,bt.body&&jsxRuntimeExports.jsx("p",{className:"mt-1 italic text-gray-600 dark:text-gray-400",children:bt.body})]},yt))}),jsxRuntimeExports.jsx("div",{className:"mt-4 space-y-2",children:gt(et).flatMap((bt,yt)=>(bt.file_infos||[]).map((At,Lt)=>jsxRuntimeExports.jsxs("a",{href:At.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700 text-white px-4 py-2 rounded-md transition-colors",children:["📄 ",At.filename]},`script-pdf-${yt}-${Lt}`)))})]})]}):jsxRuntimeExports.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-700 rounded-lg shadow-sm w-full max-w-md p-8 space-y-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white text-center",children:"Juliet’s Generator"}),jsxRuntimeExports.jsx("button",{onClick:tt,disabled:o,className:"w-full bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50",children:o?"Generating…":"Generate Random Lesson"})]})})})]})}const SECTION_LABELS$1={warm_up:"Warm Ups",bridge_activity:"Bridge Activities",main_activity:"Main Activities",end_of_lesson:"End Of Lesson",script:"Scripts"},AGE_GROUPS=["Young","Middle","Older","All"],LEVELS=["Toe Tipper","Green Horn","Semi-Pro","Seasoned Veteran(all)"];function NewLessonPart(){const[e,s]=reactExports.useState(!1),[i,a]=reactExports.useState(""),[o,c]=reactExports.useState(""),[d,g]=reactExports.useState(""),[h,b]=reactExports.useState(""),[j,_]=reactExports.useState(""),[$,rt]=reactExports.useState(""),[nt,dt]=reactExports.useState([{file:null}]),[st,_e]=reactExports.useState(!1),tt=()=>{a(""),c(""),g(""),b(""),_(""),rt(""),dt([{file:null}])},it=()=>{tt(),s(!1)},ct=(et,at)=>{const ht=[...nt];ht[et].file=at[0]||null,et===ht.length-1&&at[0]&&ht.push({file:null}),dt(ht)},ot=et=>{const at=nt.filter((ht,xt)=>xt!==et);dt(at.length?at:[{file:null}])},pt=async()=>{if(!i||!o.trim()||!d.trim()){alert("Please complete all required fields.");return}const et=new FormData;et.append("lesson_part[section_type]",i),et.append("lesson_part[title]",o),et.append("lesson_part[body]",d),et.append("lesson_part[time]",h),et.append("lesson_part[age_group]",j),et.append("lesson_part[level]",$),nt.forEach(at=>at.file&&et.append("lesson_part[files][]",at.file)),_e(!0);try{const at=await fetch("/api/lesson_parts",{method:"POST",body:et});if(!at.ok)throw new Error(`Status ${at.status}`);await at.json(),alert("Lesson part saved!"),tt(),s(!1)}catch(at){console.error(at),alert("Save failed. See console.")}finally{_e(!1)}};return jsxRuntimeExports.jsxs("div",{className:"flex flex-1 overflow-hidden bg-gray-50 dark:bg-dark-900 transition-colors duration-200",children:[jsxRuntimeExports.jsx("aside",{className:"w-64 bg-white dark:bg-dark-800 border-r border-gray-200 dark:border-dark-700 p-4 flex-shrink-0",children:jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Sidebar"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[jsxRuntimeExports.jsx("div",{className:"p-6 bg-white dark:bg-dark-800 border-b border-gray-200 dark:border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer",onClick:()=>!e&&s(!0),role:e?void 0:"button",tabIndex:e?void 0:0,onKeyPress:et=>!e&&et.key==="Enter"&&s(!0),children:[!e&&jsxRuntimeExports.jsx("div",{className:"text-4xl font-bold text-green-500",children:"+"}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e?"New Lesson Part":"Create a Lesson Part"})]})}),e&&jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-auto p-6 max-w-2xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Section"}),jsxRuntimeExports.jsxs("select",{value:i,onChange:et=>a(et.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg bg-white dark:bg-dark-700 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Section…"}),Object.entries(SECTION_LABELS$1).map(([et,at])=>jsxRuntimeExports.jsx("option",{value:et,children:at},et))]})]}),i&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title"}),jsxRuntimeExports.jsx("input",{type:"text",value:o,onChange:et=>c(et.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg bg-white dark:bg-dark-700 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Body"}),jsxRuntimeExports.jsx("textarea",{rows:3,value:d,onChange:et=>g(et.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg bg-white dark:bg-dark-700 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Time (minutes)"}),jsxRuntimeExports.jsx("input",{type:"number",value:h,onChange:et=>b(et.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg bg-white dark:bg-dark-700 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Age Group"}),jsxRuntimeExports.jsxs("select",{value:j,onChange:et=>_(et.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg bg-white dark:bg-dark-700 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Age Group…"}),AGE_GROUPS.map(et=>jsxRuntimeExports.jsx("option",{value:et,children:et},et))]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Level"}),jsxRuntimeExports.jsxs("select",{value:$,onChange:et=>rt(et.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg bg-white dark:bg-dark-700 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Level…"}),LEVELS.map(et=>jsxRuntimeExports.jsx("option",{value:et,children:et},et))]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Attachments (PDF)"}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:nt.map((et,at)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"application/pdf",onChange:ht=>ct(at,ht.target.files),className:"text-gray-700 dark:text-gray-200"}),et.file&&jsxRuntimeExports.jsxs("div",{className:"flex items-center bg-blue-50 dark:bg-blue-900/20 px-3 py-1 rounded-lg",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:et.file.name}),jsxRuntimeExports.jsx("button",{onClick:()=>ot(at),className:"ml-2 text-red-600 dark:text-red-400 hover:text-red-800",children:"✕"})]})]},at))})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center space-x-4",children:[jsxRuntimeExports.jsx("button",{onClick:pt,disabled:st,className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white px-6 py-2 rounded-lg shadow transition-colors duration-200 disabled:opacity-50",children:st?"Saving…":"Save"}),jsxRuntimeExports.jsx("button",{onClick:it,disabled:st,className:"bg-gray-300 dark:bg-dark-700 hover:bg-gray-400 dark:hover:bg-dark-600 text-gray-900 dark:text-gray-200 px-6 py-2 rounded-lg transition-colors duration-200 disabled:opacity-50",children:"Cancel"})]})]})]})]})]})}function formatProdErrorMessage(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject(e){if(typeof e!="object"||e===null)return!1;let s=e;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(e)===s||Object.getPrototypeOf(e)===null}function createStore$1(e,s,i){if(typeof e!="function")throw new Error(formatProdErrorMessage(2));if(typeof s=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage(0));if(typeof s=="function"&&typeof i>"u"&&(i=s,s=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(formatProdErrorMessage(1));return i(createStore$1)(e,s)}let a=e,o=s,c=new Map,d=c,g=0,h=!1;function b(){d===c&&(d=new Map,c.forEach((st,_e)=>{d.set(_e,st)}))}function j(){if(h)throw new Error(formatProdErrorMessage(3));return o}function _(st){if(typeof st!="function")throw new Error(formatProdErrorMessage(4));if(h)throw new Error(formatProdErrorMessage(5));let _e=!0;b();const tt=g++;return d.set(tt,st),function(){if(_e){if(h)throw new Error(formatProdErrorMessage(6));_e=!1,b(),d.delete(tt),c=null}}}function $(st){if(!isPlainObject(st))throw new Error(formatProdErrorMessage(7));if(typeof st.type>"u")throw new Error(formatProdErrorMessage(8));if(typeof st.type!="string")throw new Error(formatProdErrorMessage(17));if(h)throw new Error(formatProdErrorMessage(9));try{h=!0,o=a(o,st)}finally{h=!1}return(c=d).forEach(tt=>{tt()}),st}function rt(st){if(typeof st!="function")throw new Error(formatProdErrorMessage(10));a=st,$({type:actionTypes_default.REPLACE})}function nt(){const st=_;return{subscribe(_e){if(typeof _e!="object"||_e===null)throw new Error(formatProdErrorMessage(11));function tt(){const ct=_e;ct.next&&ct.next(j())}return tt(),{unsubscribe:st(tt)}},[symbol_observable_default](){return this}}}return $({type:actionTypes_default.INIT}),{dispatch:$,subscribe:_,getState:j,replaceReducer:rt,[symbol_observable_default]:nt}}function bindActionCreator(e,s){return function(...i){return s(e.apply(this,i))}}function bindActionCreators$1(e,s){if(typeof e=="function")return bindActionCreator(e,s);if(typeof e!="object"||e===null)throw new Error(formatProdErrorMessage(16));const i={};for(const a in e){const o=e[a];typeof o=="function"&&(i[a]=bindActionCreator(o,s))}return i}function compose(...e){return e.length===0?s=>s:e.length===1?e[0]:e.reduce((s,i)=>(...a)=>s(i(...a)))}function applyMiddleware(...e){return s=>(i,a)=>{const o=s(i,a);let c=()=>{throw new Error(formatProdErrorMessage(15))};const d={getState:o.getState,dispatch:(h,...b)=>c(h,...b)},g=e.map(h=>h(d));return c=compose(...g)(o.dispatch),{...o,dispatch:c}}}var useSyncExternalStoreWithSelector_production={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports;function is$1(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var objectIs=typeof Object.is=="function"?Object.is:is$1,useSyncExternalStore=React.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo$1=React.useMemo,useDebugValue=React.useDebugValue;useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector=function(e,s,i,a,o){var c=useRef(null);if(c.current===null){var d={hasValue:!1,value:null};c.current=d}else d=c.current;c=useMemo$1(function(){function h(rt){if(!b){if(b=!0,j=rt,rt=a(rt),o!==void 0&&d.hasValue){var nt=d.value;if(o(nt,rt))return _=nt}return _=rt}if(nt=_,objectIs(j,rt))return nt;var dt=a(rt);return o!==void 0&&o(nt,dt)?(j=rt,nt):(j=rt,_=dt)}var b=!1,j,_,$=i===void 0?null:i;return[function(){return h(s())},$===null?void 0:function(){return h($())}]},[s,i,a,o]);var g=useSyncExternalStore(e,c[0],c[1]);return useEffect(function(){d.hasValue=!0,d.value=g},[g]),useDebugValue(g),g};var IS_REACT_19=reactExports.version.startsWith("19"),REACT_ELEMENT_TYPE=Symbol.for(IS_REACT_19?"react.transitional.element":"react.element"),REACT_PORTAL_TYPE=Symbol.for("react.portal"),REACT_FRAGMENT_TYPE=Symbol.for("react.fragment"),REACT_STRICT_MODE_TYPE=Symbol.for("react.strict_mode"),REACT_PROFILER_TYPE=Symbol.for("react.profiler"),REACT_CONSUMER_TYPE=Symbol.for("react.consumer"),REACT_CONTEXT_TYPE=Symbol.for("react.context"),REACT_FORWARD_REF_TYPE=Symbol.for("react.forward_ref"),REACT_SUSPENSE_TYPE=Symbol.for("react.suspense"),REACT_SUSPENSE_LIST_TYPE=Symbol.for("react.suspense_list"),REACT_MEMO_TYPE=Symbol.for("react.memo"),REACT_LAZY_TYPE=Symbol.for("react.lazy"),ForwardRef=REACT_FORWARD_REF_TYPE,Memo=REACT_MEMO_TYPE;function typeOf(e){if(typeof e=="object"&&e!==null){const{$$typeof:s}=e;switch(s){case REACT_ELEMENT_TYPE:switch(e=e.type,e){case REACT_FRAGMENT_TYPE:case REACT_PROFILER_TYPE:case REACT_STRICT_MODE_TYPE:case REACT_SUSPENSE_TYPE:case REACT_SUSPENSE_LIST_TYPE:return e;default:switch(e=e&&e.$$typeof,e){case REACT_CONTEXT_TYPE:case REACT_FORWARD_REF_TYPE:case REACT_LAZY_TYPE:case REACT_MEMO_TYPE:return e;case REACT_CONSUMER_TYPE:return e;default:return s}}case REACT_PORTAL_TYPE:return s}}}function isMemo(e){return typeOf(e)===REACT_MEMO_TYPE}function pureFinalPropsSelectorFactory(e,s,i,a,{areStatesEqual:o,areOwnPropsEqual:c,areStatePropsEqual:d}){let g=!1,h,b,j,_,$;function rt(tt,it){return h=tt,b=it,j=e(h,b),_=s(a,b),$=i(j,_,b),g=!0,$}function nt(){return j=e(h,b),s.dependsOnOwnProps&&(_=s(a,b)),$=i(j,_,b),$}function dt(){return e.dependsOnOwnProps&&(j=e(h,b)),s.dependsOnOwnProps&&(_=s(a,b)),$=i(j,_,b),$}function st(){const tt=e(h,b),it=!d(tt,j);return j=tt,it&&($=i(j,_,b)),$}function _e(tt,it){const ct=!c(it,b),ot=!o(tt,h,it,b);return h=tt,b=it,ct&&ot?nt():ct?dt():ot?st():$}return function(it,ct){return g?_e(it,ct):rt(it,ct)}}function finalPropsSelectorFactory(e,{initMapStateToProps:s,initMapDispatchToProps:i,initMergeProps:a,...o}){const c=s(e,o),d=i(e,o),g=a(e,o);return pureFinalPropsSelectorFactory(c,d,g,e,o)}function bindActionCreators(e,s){const i={};for(const a in e){const o=e[a];typeof o=="function"&&(i[a]=(...c)=>s(o(...c)))}return i}function wrapMapToPropsConstant(e){return function(i){const a=e(i);function o(){return a}return o.dependsOnOwnProps=!1,o}}function getDependsOnOwnProps(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function wrapMapToPropsFunc(e,s){return function(a,{displayName:o}){const c=function(g,h){return c.dependsOnOwnProps?c.mapToProps(g,h):c.mapToProps(g,void 0)};return c.dependsOnOwnProps=!0,c.mapToProps=function(g,h){c.mapToProps=e,c.dependsOnOwnProps=getDependsOnOwnProps(e);let b=c(g,h);return typeof b=="function"&&(c.mapToProps=b,c.dependsOnOwnProps=getDependsOnOwnProps(b),b=c(g,h)),b},c}}function createInvalidArgFactory(e,s){return(i,a)=>{throw new Error(`Invalid value of type ${typeof e} for ${s} argument when connecting component ${a.wrappedComponentName}.`)}}function mapDispatchToPropsFactory(e){return e&&typeof e=="object"?wrapMapToPropsConstant(s=>bindActionCreators(e,s)):e?typeof e=="function"?wrapMapToPropsFunc(e):createInvalidArgFactory(e,"mapDispatchToProps"):wrapMapToPropsConstant(s=>({dispatch:s}))}function mapStateToPropsFactory(e){return e?typeof e=="function"?wrapMapToPropsFunc(e):createInvalidArgFactory(e,"mapStateToProps"):wrapMapToPropsConstant(()=>({}))}function defaultMergeProps(e,s,i){return{...i,...e,...s}}function wrapMergePropsFunc(e){return function(i,{displayName:a,areMergedPropsEqual:o}){let c=!1,d;return function(h,b,j){const _=e(h,b,j);return c?o(_,d)||(d=_):(c=!0,d=_),d}}}function mergePropsFactory(e){return e?typeof e=="function"?wrapMergePropsFunc(e):createInvalidArgFactory(e,"mergeProps"):()=>defaultMergeProps}function defaultNoopBatch(e){e()}function createListenerCollection(){let e=null,s=null;return{clear(){e=null,s=null},notify(){defaultNoopBatch(()=>{let i=e;for(;i;)i.callback(),i=i.next})},get(){const i=[];let a=e;for(;a;)i.push(a),a=a.next;return i},subscribe(i){let a=!0;const o=s={callback:i,next:null,prev:s};return o.prev?o.prev.next=o:e=o,function(){!a||e===null||(a=!1,o.next?o.next.prev=o.prev:s=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(e,s){let i,a=nullListeners,o=0,c=!1;function d(dt){j();const st=a.subscribe(dt);let _e=!1;return()=>{_e||(_e=!0,st(),_())}}function g(){a.notify()}function h(){nt.onStateChange&&nt.onStateChange()}function b(){return c}function j(){o++,i||(i=s?s.addNestedSub(h):e.subscribe(h),a=createListenerCollection())}function _(){o--,i&&o===0&&(i(),i=void 0,a.clear(),a=nullListeners)}function $(){c||(c=!0,j())}function rt(){c&&(c=!1,_())}const nt={addNestedSub:d,notifyNestedSubs:g,handleChangeWrapper:h,isSubscribed:b,trySubscribe:$,tryUnsubscribe:rt,getListeners:()=>a};return nt}var canUseDOM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isDOM=canUseDOM(),isRunningInReactNative=()=>typeof navigator<"u"&&navigator.product==="ReactNative",isReactNative=isRunningInReactNative(),getUseIsomorphicLayoutEffect=()=>isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,useIsomorphicLayoutEffect$1=getUseIsomorphicLayoutEffect();function is(e,s){return e===s?e!==0||s!==0||1/e===1/s:e!==e&&s!==s}function shallowEqual(e,s){if(is(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;const i=Object.keys(e),a=Object.keys(s);if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(!Object.prototype.hasOwnProperty.call(s,i[o])||!is(e[i[o]],s[i[o]]))return!1;return!0}var REACT_STATICS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={[ForwardRef]:FORWARD_REF_STATICS,[Memo]:MEMO_STATICS};function getStatics(e){return isMemo(e)?MEMO_STATICS:TYPE_STATICS[e.$$typeof]||REACT_STATICS}var defineProperty=Object.defineProperty,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf,objectPrototype=Object.prototype;function hoistNonReactStatics(e,s){if(typeof s!="string"){if(objectPrototype){const c=getPrototypeOf(s);c&&c!==objectPrototype&&hoistNonReactStatics(e,c)}let i=getOwnPropertyNames(s);getOwnPropertySymbols&&(i=i.concat(getOwnPropertySymbols(s)));const a=getStatics(e),o=getStatics(s);for(let c=0;c<i.length;++c){const d=i[c];if(!KNOWN_STATICS[d]&&!(o&&o[d])&&!(a&&a[d])){const g=getOwnPropertyDescriptor(s,d);try{defineProperty(e,d,g)}catch{}}}}return e}var ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!reactExports.createContext)return{};const e=gT[ContextKey]??(gT[ContextKey]=new Map);let s=e.get(reactExports.createContext);return s||(s=reactExports.createContext(null),e.set(reactExports.createContext,s)),s}var ReactReduxContext=getContext(),NO_SUBSCRIPTION_ARRAY=[null,null];function useIsomorphicLayoutEffectWithArgs(e,s,i){useIsomorphicLayoutEffect$1(()=>e(...s),i)}function captureWrapperProps(e,s,i,a,o,c){e.current=a,i.current=!1,o.current&&(o.current=null,c())}function subscribeUpdates(e,s,i,a,o,c,d,g,h,b,j){if(!e)return()=>{};let _=!1,$=null;const rt=()=>{if(_||!g.current)return;const dt=s.getState();let st,_e;try{st=a(dt,o.current)}catch(tt){_e=tt,$=tt}_e||($=null),st===c.current?d.current||b():(c.current=st,h.current=st,d.current=!0,j())};return i.onStateChange=rt,i.trySubscribe(),rt(),()=>{if(_=!0,i.tryUnsubscribe(),i.onStateChange=null,$)throw $}}function strictEqual(e,s){return e===s}function connect(e,s,i,{pure:a,areStatesEqual:o=strictEqual,areOwnPropsEqual:c=shallowEqual,areStatePropsEqual:d=shallowEqual,areMergedPropsEqual:g=shallowEqual,forwardRef:h=!1,context:b=ReactReduxContext}={}){const j=b,_=mapStateToPropsFactory(e),$=mapDispatchToPropsFactory(s),rt=mergePropsFactory(i),nt=!!e;return st=>{const _e=st.displayName||st.name||"Component",tt=`Connect(${_e})`,it={shouldHandleStateChanges:nt,displayName:tt,wrappedComponentName:_e,WrappedComponent:st,initMapStateToProps:_,initMapDispatchToProps:$,initMergeProps:rt,areStatesEqual:o,areStatePropsEqual:d,areOwnPropsEqual:c,areMergedPropsEqual:g};function ct(et){const[at,ht,xt]=reactExports.useMemo(()=>{const{reactReduxForwardedRef:Qt,...rr}=et;return[et.context,Qt,rr]},[et]),ut=reactExports.useMemo(()=>{let Qt=j;return at!=null&&at.Consumer,Qt},[at,j]),gt=reactExports.useContext(ut),Et=!!et.store&&!!et.store.getState&&!!et.store.dispatch,Mt=!!gt&&!!gt.store,Nt=Et?et.store:gt.store,It=Mt?gt.getServerState:Nt.getState,kt=reactExports.useMemo(()=>finalPropsSelectorFactory(Nt.dispatch,it),[Nt]),[bt,yt]=reactExports.useMemo(()=>{if(!nt)return NO_SUBSCRIPTION_ARRAY;const Qt=createSubscription(Nt,Et?void 0:gt.subscription),rr=Qt.notifyNestedSubs.bind(Qt);return[Qt,rr]},[Nt,Et,gt]),At=reactExports.useMemo(()=>Et?gt:{...gt,subscription:bt},[Et,gt,bt]),Lt=reactExports.useRef(void 0),jt=reactExports.useRef(xt),ft=reactExports.useRef(void 0),mt=reactExports.useRef(!1),vt=reactExports.useRef(!1),_t=reactExports.useRef(void 0);useIsomorphicLayoutEffect$1(()=>(vt.current=!0,()=>{vt.current=!1}),[]);const St=reactExports.useMemo(()=>()=>ft.current&&xt===jt.current?ft.current:kt(Nt.getState(),xt),[Nt,xt]),Pt=reactExports.useMemo(()=>rr=>bt?subscribeUpdates(nt,Nt,bt,kt,jt,Lt,mt,vt,ft,yt,rr):()=>{},[bt]);useIsomorphicLayoutEffectWithArgs(captureWrapperProps,[jt,Lt,mt,xt,ft,yt]);let Ot;try{Ot=reactExports.useSyncExternalStore(Pt,St,It?()=>kt(It(),xt):St)}catch(Qt){throw _t.current&&(Qt.message+=`
The error may be correlated with this previous error:
${_t.current.stack}

`),Qt}useIsomorphicLayoutEffect$1(()=>{_t.current=void 0,ft.current=void 0,Lt.current=Ot});const Gt=reactExports.useMemo(()=>reactExports.createElement(st,{...Ot,ref:ht}),[ht,st,Ot]);return reactExports.useMemo(()=>nt?reactExports.createElement(ut.Provider,{value:At},Gt):Gt,[ut,Gt,At])}const pt=reactExports.memo(ct);if(pt.WrappedComponent=st,pt.displayName=ct.displayName=tt,h){const at=reactExports.forwardRef(function(xt,ut){return reactExports.createElement(pt,{...xt,reactReduxForwardedRef:ut})});return at.displayName=tt,at.WrappedComponent=st,hoistNonReactStatics(at,st)}return hoistNonReactStatics(pt,st)}}var connect_default=connect;function Provider(e){const{children:s,context:i,serverState:a,store:o}=e,c=reactExports.useMemo(()=>{const h=createSubscription(o);return{store:o,subscription:h,getServerState:a?()=>a:void 0}},[o,a]),d=reactExports.useMemo(()=>o.getState(),[o]);useIsomorphicLayoutEffect$1(()=>{const{subscription:h}=c;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),d!==o.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[c,d]);const g=i||ReactReduxContext;return reactExports.createElement(g.Provider,{value:c},s)}var Provider_default=Provider,getRect=function e(s){var i=s.top,a=s.right,o=s.bottom,c=s.left,d=a-c,g=o-i,h={top:i,right:a,bottom:o,left:c,width:d,height:g,x:c,y:i,center:{x:(a+c)/2,y:(o+i)/2}};return h},expand=function e(s,i){return{top:s.top-i.top,left:s.left-i.left,bottom:s.bottom+i.bottom,right:s.right+i.right}},shrink=function e(s,i){return{top:s.top+i.top,left:s.left+i.left,bottom:s.bottom-i.bottom,right:s.right-i.right}},shift=function e(s,i){return{top:s.top+i.y,left:s.left+i.x,bottom:s.bottom+i.y,right:s.right+i.x}},noSpacing$1={top:0,right:0,bottom:0,left:0},createBox=function e(s){var i=s.borderBox,a=s.margin,o=a===void 0?noSpacing$1:a,c=s.border,d=c===void 0?noSpacing$1:c,g=s.padding,h=g===void 0?noSpacing$1:g,b=getRect(expand(i,o)),j=getRect(shrink(i,d)),_=getRect(shrink(j,h));return{marginBox:b,borderBox:getRect(i),paddingBox:j,contentBox:_,margin:o,border:d,padding:h}},parse=function e(s){var i=s.slice(0,-2),a=s.slice(-2);if(a!=="px")return 0;var o=Number(i);return isNaN(o)&&invariant$1(!1),o},getWindowScroll$1=function e(){return{x:window.pageXOffset,y:window.pageYOffset}},offset=function e(s,i){var a=s.borderBox,o=s.border,c=s.margin,d=s.padding,g=shift(a,i);return createBox({borderBox:g,border:o,margin:c,padding:d})},withScroll=function e(s,i){return i===void 0&&(i=getWindowScroll$1()),offset(s,i)},calculateBox=function e(s,i){var a={top:parse(i.marginTop),right:parse(i.marginRight),bottom:parse(i.marginBottom),left:parse(i.marginLeft)},o={top:parse(i.paddingTop),right:parse(i.paddingRight),bottom:parse(i.paddingBottom),left:parse(i.paddingLeft)},c={top:parse(i.borderTopWidth),right:parse(i.borderRightWidth),bottom:parse(i.borderBottomWidth),left:parse(i.borderLeftWidth)};return createBox({borderBox:s,margin:a,padding:o,border:c})},getBox=function e(s){var i=s.getBoundingClientRect(),a=window.getComputedStyle(s);return calculateBox(i,a)},rafSchd=function e(s){var i=[],a=null,o=function(){for(var d=arguments.length,g=new Array(d),h=0;h<d;h++)g[h]=arguments[h];i=g,!a&&(a=requestAnimationFrame(function(){a=null,s.apply(void 0,i)}))};return o.cancel=function(){a&&(cancelAnimationFrame(a),a=null)},o};function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var a in i)({}).hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},_extends.apply(null,arguments)}function log(e,s){}log.bind(null,"warn");log.bind(null,"error");function noop$2(){}function getOptions(e,s){return{...e,...s}}function bindEvents(e,s,i){const a=s.map(o=>{const c=getOptions(i,o.options);return e.addEventListener(o.eventName,o.fn,c),function(){e.removeEventListener(o.eventName,o.fn,c)}});return function(){a.forEach(c=>{c()})}}const prefix$1="Invariant failed";class RbdInvariant extends Error{}RbdInvariant.prototype.toString=function e(){return this.message};function invariant(e,s){throw new RbdInvariant(prefix$1)}class ErrorBoundary extends React$1.Component{constructor(...s){super(...s),this.callbacks=null,this.unbind=noop$2,this.onWindowError=i=>{const a=this.getCallbacks();a.isDragging()&&a.tryAbort(),i.error instanceof RbdInvariant&&i.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=i=>{this.callbacks=i}}componentDidMount(){this.unbind=bindEvents(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(s){if(s instanceof RbdInvariant){this.setState({});return}throw s}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const dragHandleUsageInstructions=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,position=e=>e+1,onDragStart=e=>`
  You have lifted an item in position ${position(e.source.index)}
`,withLocation=(e,s)=>{const i=e.droppableId===s.droppableId,a=position(e.index),o=position(s.index);return i?`
      You have moved the item from position ${a}
      to position ${o}
    `:`
    You have moved the item from position ${a}
    in list ${e.droppableId}
    to list ${s.droppableId}
    in position ${o}
  `},withCombine=(e,s,i)=>s.droppableId===i.droppableId?`
      The item ${e}
      has been combined with ${i.draggableId}`:`
      The item ${e}
      in list ${s.droppableId}
      has been combined with ${i.draggableId}
      in list ${i.droppableId}
    `,onDragUpdate=e=>{const s=e.destination;if(s)return withLocation(e.source,s);const i=e.combine;return i?withCombine(e.draggableId,e.source,i):"You are over an area that cannot be dropped on"},returnedToStart=e=>`
  The item has returned to its starting position
  of ${position(e.index)}
`,onDragEnd=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${returnedToStart(e.source)}
    `;const s=e.destination,i=e.combine;return s?`
      You have dropped the item.
      ${withLocation(e.source,s)}
    `:i?`
      You have dropped the item.
      ${withCombine(e.draggableId,e.source,i)}
    `:`
    The item has been dropped while not over a drop area.
    ${returnedToStart(e.source)}
  `},preset={dragHandleUsageInstructions,onDragStart,onDragUpdate,onDragEnd};function isEqual$2(e,s){return!!(e===s||Number.isNaN(e)&&Number.isNaN(s))}function areInputsEqual(e,s){if(e.length!==s.length)return!1;for(let i=0;i<e.length;i++)if(!isEqual$2(e[i],s[i]))return!1;return!0}function useMemo(e,s){const i=reactExports.useState(()=>({inputs:s,result:e()}))[0],a=reactExports.useRef(!0),o=reactExports.useRef(i),d=a.current||!!(s&&o.current.inputs&&areInputsEqual(s,o.current.inputs))?o.current:{inputs:s,result:e()};return reactExports.useEffect(()=>{a.current=!1,o.current=d},[d]),d.result}function useCallback(e,s){return useMemo(()=>e,s)}const origin={x:0,y:0},add=(e,s)=>({x:e.x+s.x,y:e.y+s.y}),subtract=(e,s)=>({x:e.x-s.x,y:e.y-s.y}),isEqual$1=(e,s)=>e.x===s.x&&e.y===s.y,negate=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),patch=(e,s,i=0)=>e==="x"?{x:s,y:i}:{x:i,y:s},distance=(e,s)=>Math.sqrt((s.x-e.x)**2+(s.y-e.y)**2),closest$1=(e,s)=>Math.min(...s.map(i=>distance(e,i))),apply=e=>s=>({x:e(s.x),y:e(s.y)});var executeClip=(e,s)=>{const i=getRect({top:Math.max(s.top,e.top),right:Math.min(s.right,e.right),bottom:Math.min(s.bottom,e.bottom),left:Math.max(s.left,e.left)});return i.width<=0||i.height<=0?null:i};const offsetByPosition=(e,s)=>({top:e.top+s.y,left:e.left+s.x,bottom:e.bottom+s.y,right:e.right+s.x}),getCorners=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],noSpacing={top:0,right:0,bottom:0,left:0},scroll$1=(e,s)=>s?offsetByPosition(e,s.scroll.diff.displacement):e,increase=(e,s,i)=>i&&i.increasedBy?{...e,[s.end]:e[s.end]+i.increasedBy[s.line]}:e,clip=(e,s)=>s&&s.shouldClipSubject?executeClip(s.pageMarginBox,e):getRect(e);var getSubject=({page:e,withPlaceholder:s,axis:i,frame:a})=>{const o=scroll$1(e.marginBox,a),c=increase(o,i,s),d=clip(c,a);return{page:e,withPlaceholder:s,active:d}},scrollDroppable=(e,s)=>{e.frame||invariant();const i=e.frame,a=subtract(s,i.scroll.initial),o=negate(a),c={...i,scroll:{initial:i.scroll.initial,current:s,diff:{value:a,displacement:o},max:i.scroll.max}},d=getSubject({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:c});return{...e,frame:c,subject:d}};function memoizeOne(e,s=areInputsEqual){let i=null;function a(...o){if(i&&i.lastThis===this&&s(o,i.lastArgs))return i.lastResult;const c=e.apply(this,o);return i={lastResult:c,lastArgs:o,lastThis:this},c}return a.clear=function(){i=null},a}const toDroppableMap=memoizeOne(e=>e.reduce((s,i)=>(s[i.descriptor.id]=i,s),{})),toDraggableMap=memoizeOne(e=>e.reduce((s,i)=>(s[i.descriptor.id]=i,s),{})),toDroppableList=memoizeOne(e=>Object.values(e)),toDraggableList=memoizeOne(e=>Object.values(e));var getDraggablesInsideDroppable=memoizeOne((e,s)=>toDraggableList(s).filter(a=>e===a.descriptor.droppableId).sort((a,o)=>a.descriptor.index-o.descriptor.index));function tryGetDestination(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function tryGetCombine(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var removeDraggableFromList=memoizeOne((e,s)=>s.filter(i=>i.descriptor.id!==e.descriptor.id)),moveToNextCombine=({isMovingForward:e,draggable:s,destination:i,insideDestination:a,previousImpact:o})=>{if(!i.isCombineEnabled||!tryGetDestination(o))return null;function d(rt){const nt={type:"COMBINE",combine:{draggableId:rt,droppableId:i.descriptor.id}};return{...o,at:nt}}const g=o.displaced.all,h=g.length?g[0]:null;if(e)return h?d(h):null;const b=removeDraggableFromList(s,a);if(!h){if(!b.length)return null;const rt=b[b.length-1];return d(rt.descriptor.id)}const j=b.findIndex(rt=>rt.descriptor.id===h);j===-1&&invariant();const _=j-1;if(_<0)return null;const $=b[_];return d($.descriptor.id)},isHomeOf=(e,s)=>e.descriptor.droppableId===s.descriptor.id;const noDisplacedBy={point:origin,value:0},emptyGroups={invisible:{},visible:{},all:[]},noImpact={displaced:emptyGroups,displacedBy:noDisplacedBy,at:null};var isWithin=(e,s)=>i=>e<=i&&i<=s,isPartiallyVisibleThroughFrame=e=>{const s=isWithin(e.top,e.bottom),i=isWithin(e.left,e.right);return a=>{if(s(a.top)&&s(a.bottom)&&i(a.left)&&i(a.right))return!0;const c=s(a.top)||s(a.bottom),d=i(a.left)||i(a.right);if(c&&d)return!0;const h=a.top<e.top&&a.bottom>e.bottom,b=a.left<e.left&&a.right>e.right;return h&&b?!0:h&&d||b&&c}},isTotallyVisibleThroughFrame=e=>{const s=isWithin(e.top,e.bottom),i=isWithin(e.left,e.right);return a=>s(a.top)&&s(a.bottom)&&i(a.left)&&i(a.right)};const vertical={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},horizontal={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var isTotallyVisibleThroughFrameOnAxis=e=>s=>{const i=isWithin(s.top,s.bottom),a=isWithin(s.left,s.right);return o=>e===vertical?i(o.top)&&i(o.bottom):a(o.left)&&a(o.right)};const getDroppableDisplaced=(e,s)=>{const i=s.frame?s.frame.scroll.diff.displacement:origin;return offsetByPosition(e,i)},isVisibleInDroppable=(e,s,i)=>s.subject.active?i(s.subject.active)(e):!1,isVisibleInViewport=(e,s,i)=>i(s)(e),isVisible$1=({target:e,destination:s,viewport:i,withDroppableDisplacement:a,isVisibleThroughFrameFn:o})=>{const c=a?getDroppableDisplaced(e,s):e;return isVisibleInDroppable(c,s,o)&&isVisibleInViewport(c,i,o)},isPartiallyVisible=e=>isVisible$1({...e,isVisibleThroughFrameFn:isPartiallyVisibleThroughFrame}),isTotallyVisible=e=>isVisible$1({...e,isVisibleThroughFrameFn:isTotallyVisibleThroughFrame}),isTotallyVisibleOnAxis=e=>isVisible$1({...e,isVisibleThroughFrameFn:isTotallyVisibleThroughFrameOnAxis(e.destination.axis)}),getShouldAnimate=(e,s,i)=>{if(typeof i=="boolean")return i;if(!s)return!0;const{invisible:a,visible:o}=s;if(a[e])return!1;const c=o[e];return c?c.shouldAnimate:!0};function getTarget(e,s){const i=e.page.marginBox,a={top:s.point.y,right:0,bottom:0,left:s.point.x};return getRect(expand(i,a))}function getDisplacementGroups({afterDragging:e,destination:s,displacedBy:i,viewport:a,forceShouldAnimate:o,last:c}){return e.reduce(function(g,h){const b=getTarget(h,i),j=h.descriptor.id;if(g.all.push(j),!isPartiallyVisible({target:b,destination:s,viewport:a,withDroppableDisplacement:!0}))return g.invisible[h.descriptor.id]=!0,g;const $=getShouldAnimate(j,c,o),rt={draggableId:j,shouldAnimate:$};return g.visible[j]=rt,g},{all:[],visible:{},invisible:{}})}function getIndexOfLastItem(e,s){if(!e.length)return 0;const i=e[e.length-1].descriptor.index;return s.inHomeList?i:i+1}function goAtEnd({insideDestination:e,inHomeList:s,displacedBy:i,destination:a}){const o=getIndexOfLastItem(e,{inHomeList:s});return{displaced:emptyGroups,displacedBy:i,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:o}}}}function calculateReorderImpact({draggable:e,insideDestination:s,destination:i,viewport:a,displacedBy:o,last:c,index:d,forceShouldAnimate:g}){const h=isHomeOf(e,i);if(d==null)return goAtEnd({insideDestination:s,inHomeList:h,displacedBy:o,destination:i});const b=s.find(nt=>nt.descriptor.index===d);if(!b)return goAtEnd({insideDestination:s,inHomeList:h,displacedBy:o,destination:i});const j=removeDraggableFromList(e,s),_=s.indexOf(b),$=j.slice(_);return{displaced:getDisplacementGroups({afterDragging:$,destination:i,displacedBy:o,last:c,viewport:a.frame,forceShouldAnimate:g}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:d}}}}function didStartAfterCritical(e,s){return!!s.effected[e]}var fromCombine=({isMovingForward:e,destination:s,draggables:i,combine:a,afterCritical:o})=>{if(!s.isCombineEnabled)return null;const c=a.draggableId,g=i[c].descriptor.index;return didStartAfterCritical(c,o)?e?g:g-1:e?g+1:g},fromReorder=({isMovingForward:e,isInHomeList:s,insideDestination:i,location:a})=>{if(!i.length)return null;const o=a.index,c=e?o+1:o-1,d=i[0].descriptor.index,g=i[i.length-1].descriptor.index,h=s?g:g+1;return c<d||c>h?null:c},moveToNextIndex=({isMovingForward:e,isInHomeList:s,draggable:i,draggables:a,destination:o,insideDestination:c,previousImpact:d,viewport:g,afterCritical:h})=>{const b=d.at;if(b||invariant(),b.type==="REORDER"){const _=fromReorder({isMovingForward:e,isInHomeList:s,location:b.destination,insideDestination:c});return _==null?null:calculateReorderImpact({draggable:i,insideDestination:c,destination:o,viewport:g,last:d.displaced,displacedBy:d.displacedBy,index:_})}const j=fromCombine({isMovingForward:e,destination:o,displaced:d.displaced,draggables:a,combine:b.combine,afterCritical:h});return j==null?null:calculateReorderImpact({draggable:i,insideDestination:c,destination:o,viewport:g,last:d.displaced,displacedBy:d.displacedBy,index:j})},getCombinedItemDisplacement=({displaced:e,afterCritical:s,combineWith:i,displacedBy:a})=>{const o=!!(e.visible[i]||e.invisible[i]);return didStartAfterCritical(i,s)?o?origin:negate(a.point):o?a.point:origin},whenCombining=({afterCritical:e,impact:s,draggables:i})=>{const a=tryGetCombine(s);a||invariant();const o=a.draggableId,c=i[o].page.borderBox.center,d=getCombinedItemDisplacement({displaced:s.displaced,afterCritical:e,combineWith:o,displacedBy:s.displacedBy});return add(c,d)};const distanceFromStartToBorderBoxCenter=(e,s)=>s.margin[e.start]+s.borderBox[e.size]/2,distanceFromEndToBorderBoxCenter=(e,s)=>s.margin[e.end]+s.borderBox[e.size]/2,getCrossAxisBorderBoxCenter=(e,s,i)=>s[e.crossAxisStart]+i.margin[e.crossAxisStart]+i.borderBox[e.crossAxisSize]/2,goAfter=({axis:e,moveRelativeTo:s,isMoving:i})=>patch(e.line,s.marginBox[e.end]+distanceFromStartToBorderBoxCenter(e,i),getCrossAxisBorderBoxCenter(e,s.marginBox,i)),goBefore=({axis:e,moveRelativeTo:s,isMoving:i})=>patch(e.line,s.marginBox[e.start]-distanceFromEndToBorderBoxCenter(e,i),getCrossAxisBorderBoxCenter(e,s.marginBox,i)),goIntoStart=({axis:e,moveInto:s,isMoving:i})=>patch(e.line,s.contentBox[e.start]+distanceFromStartToBorderBoxCenter(e,i),getCrossAxisBorderBoxCenter(e,s.contentBox,i));var whenReordering=({impact:e,draggable:s,draggables:i,droppable:a,afterCritical:o})=>{const c=getDraggablesInsideDroppable(a.descriptor.id,i),d=s.page,g=a.axis;if(!c.length)return goIntoStart({axis:g,moveInto:a.page,isMoving:d});const{displaced:h,displacedBy:b}=e,j=h.all[0];if(j){const $=i[j];if(didStartAfterCritical(j,o))return goBefore({axis:g,moveRelativeTo:$.page,isMoving:d});const rt=offset($.page,b.point);return goBefore({axis:g,moveRelativeTo:rt,isMoving:d})}const _=c[c.length-1];if(_.descriptor.id===s.descriptor.id)return d.borderBox.center;if(didStartAfterCritical(_.descriptor.id,o)){const $=offset(_.page,negate(o.displacedBy.point));return goAfter({axis:g,moveRelativeTo:$,isMoving:d})}return goAfter({axis:g,moveRelativeTo:_.page,isMoving:d})},withDroppableDisplacement=(e,s)=>{const i=e.frame;return i?add(s,i.scroll.diff.displacement):s};const getResultWithoutDroppableDisplacement=({impact:e,draggable:s,droppable:i,draggables:a,afterCritical:o})=>{const c=s.page.borderBox.center,d=e.at;return!i||!d?c:d.type==="REORDER"?whenReordering({impact:e,draggable:s,draggables:a,droppable:i,afterCritical:o}):whenCombining({impact:e,draggables:a,afterCritical:o})};var getPageBorderBoxCenterFromImpact=e=>{const s=getResultWithoutDroppableDisplacement(e),i=e.droppable;return i?withDroppableDisplacement(i,s):s},scrollViewport=(e,s)=>{const i=subtract(s,e.scroll.initial),a=negate(i);return{frame:getRect({top:s.y,bottom:s.y+e.frame.height,left:s.x,right:s.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:s,diff:{value:i,displacement:a}}}};function getDraggables$1(e,s){return e.map(i=>s[i])}function tryGetVisible(e,s){for(let i=0;i<s.length;i++){const a=s[i].visible[e];if(a)return a}return null}var speculativelyIncrease=({impact:e,viewport:s,destination:i,draggables:a,maxScrollChange:o})=>{const c=scrollViewport(s,add(s.scroll.current,o)),d=i.frame?scrollDroppable(i,add(i.frame.scroll.current,o)):i,g=e.displaced,h=getDisplacementGroups({afterDragging:getDraggables$1(g.all,a),destination:i,displacedBy:e.displacedBy,viewport:c.frame,last:g,forceShouldAnimate:!1}),b=getDisplacementGroups({afterDragging:getDraggables$1(g.all,a),destination:d,displacedBy:e.displacedBy,viewport:s.frame,last:g,forceShouldAnimate:!1}),j={},_={},$=[g,h,b];return g.all.forEach(nt=>{const dt=tryGetVisible(nt,$);if(dt){_[nt]=dt;return}j[nt]=!0}),{...e,displaced:{all:g.all,invisible:j,visible:_}}},withViewportDisplacement=(e,s)=>add(e.scroll.diff.displacement,s),getClientFromPageBorderBoxCenter=({pageBorderBoxCenter:e,draggable:s,viewport:i})=>{const a=withViewportDisplacement(i,e),o=subtract(a,s.page.borderBox.center);return add(s.client.borderBox.center,o)},isTotallyVisibleInNewLocation=({draggable:e,destination:s,newPageBorderBoxCenter:i,viewport:a,withDroppableDisplacement:o,onlyOnMainAxis:c=!1})=>{const d=subtract(i,e.page.borderBox.center),h={target:offsetByPosition(e.page.borderBox,d),destination:s,withDroppableDisplacement:o,viewport:a};return c?isTotallyVisibleOnAxis(h):isTotallyVisible(h)},moveToNextPlace=({isMovingForward:e,draggable:s,destination:i,draggables:a,previousImpact:o,viewport:c,previousPageBorderBoxCenter:d,previousClientSelection:g,afterCritical:h})=>{if(!i.isEnabled)return null;const b=getDraggablesInsideDroppable(i.descriptor.id,a),j=isHomeOf(s,i),_=moveToNextCombine({isMovingForward:e,draggable:s,destination:i,insideDestination:b,previousImpact:o})||moveToNextIndex({isMovingForward:e,isInHomeList:j,draggable:s,draggables:a,destination:i,insideDestination:b,previousImpact:o,viewport:c,afterCritical:h});if(!_)return null;const $=getPageBorderBoxCenterFromImpact({impact:_,draggable:s,droppable:i,draggables:a,afterCritical:h});if(isTotallyVisibleInNewLocation({draggable:s,destination:i,newPageBorderBoxCenter:$,viewport:c.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:getClientFromPageBorderBoxCenter({pageBorderBoxCenter:$,draggable:s,viewport:c}),impact:_,scrollJumpRequest:null};const nt=subtract($,d),dt=speculativelyIncrease({impact:_,viewport:c,destination:i,draggables:a,maxScrollChange:nt});return{clientSelection:g,impact:dt,scrollJumpRequest:nt}};const getKnownActive=e=>{const s=e.subject.active;return s||invariant(),s};var getBestCrossAxisDroppable=({isMovingForward:e,pageBorderBoxCenter:s,source:i,droppables:a,viewport:o})=>{const c=i.subject.active;if(!c)return null;const d=i.axis,g=isWithin(c[d.start],c[d.end]),h=toDroppableList(a).filter(j=>j!==i).filter(j=>j.isEnabled).filter(j=>!!j.subject.active).filter(j=>isPartiallyVisibleThroughFrame(o.frame)(getKnownActive(j))).filter(j=>{const _=getKnownActive(j);return e?c[d.crossAxisEnd]<_[d.crossAxisEnd]:_[d.crossAxisStart]<c[d.crossAxisStart]}).filter(j=>{const _=getKnownActive(j),$=isWithin(_[d.start],_[d.end]);return g(_[d.start])||g(_[d.end])||$(c[d.start])||$(c[d.end])}).sort((j,_)=>{const $=getKnownActive(j)[d.crossAxisStart],rt=getKnownActive(_)[d.crossAxisStart];return e?$-rt:rt-$}).filter((j,_,$)=>getKnownActive(j)[d.crossAxisStart]===getKnownActive($[0])[d.crossAxisStart]);if(!h.length)return null;if(h.length===1)return h[0];const b=h.filter(j=>isWithin(getKnownActive(j)[d.start],getKnownActive(j)[d.end])(s[d.line]));return b.length===1?b[0]:b.length>1?b.sort((j,_)=>getKnownActive(j)[d.start]-getKnownActive(_)[d.start])[0]:h.sort((j,_)=>{const $=closest$1(s,getCorners(getKnownActive(j))),rt=closest$1(s,getCorners(getKnownActive(_)));return $!==rt?$-rt:getKnownActive(j)[d.start]-getKnownActive(_)[d.start]})[0]};const getCurrentPageBorderBoxCenter=(e,s)=>{const i=e.page.borderBox.center;return didStartAfterCritical(e.descriptor.id,s)?subtract(i,s.displacedBy.point):i},getCurrentPageBorderBox=(e,s)=>{const i=e.page.borderBox;return didStartAfterCritical(e.descriptor.id,s)?offsetByPosition(i,negate(s.displacedBy.point)):i};var getClosestDraggable=({pageBorderBoxCenter:e,viewport:s,destination:i,insideDestination:a,afterCritical:o})=>a.filter(d=>isTotallyVisible({target:getCurrentPageBorderBox(d,o),destination:i,viewport:s.frame,withDroppableDisplacement:!0})).sort((d,g)=>{const h=distance(e,withDroppableDisplacement(i,getCurrentPageBorderBoxCenter(d,o))),b=distance(e,withDroppableDisplacement(i,getCurrentPageBorderBoxCenter(g,o)));return h<b?-1:b<h?1:d.descriptor.index-g.descriptor.index})[0]||null,getDisplacedBy=memoizeOne(function e(s,i){const a=i[s.line];return{value:a,point:patch(s.line,a)}});const getRequiredGrowthForPlaceholder=(e,s,i)=>{const a=e.axis;if(e.descriptor.mode==="virtual")return patch(a.line,s[a.line]);const o=e.subject.page.contentBox[a.size],h=getDraggablesInsideDroppable(e.descriptor.id,i).reduce((b,j)=>b+j.client.marginBox[a.size],0)+s[a.line]-o;return h<=0?null:patch(a.line,h)},withMaxScroll=(e,s)=>({...e,scroll:{...e.scroll,max:s}}),addPlaceholder=(e,s,i)=>{const a=e.frame;isHomeOf(s,e)&&invariant(),e.subject.withPlaceholder&&invariant();const o=getDisplacedBy(e.axis,s.displaceBy).point,c=getRequiredGrowthForPlaceholder(e,o,i),d={placeholderSize:o,increasedBy:c,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!a){const j=getSubject({page:e.subject.page,withPlaceholder:d,axis:e.axis,frame:e.frame});return{...e,subject:j}}const g=c?add(a.scroll.max,c):a.scroll.max,h=withMaxScroll(a,g),b=getSubject({page:e.subject.page,withPlaceholder:d,axis:e.axis,frame:h});return{...e,subject:b,frame:h}},removePlaceholder=e=>{const s=e.subject.withPlaceholder;s||invariant();const i=e.frame;if(!i){const d=getSubject({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:d}}const a=s.oldFrameMaxScroll;a||invariant();const o=withMaxScroll(i,a),c=getSubject({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:c,frame:o}};var moveToNewDroppable=({previousPageBorderBoxCenter:e,moveRelativeTo:s,insideDestination:i,draggable:a,draggables:o,destination:c,viewport:d,afterCritical:g})=>{if(!s){if(i.length)return null;const _={displaced:emptyGroups,displacedBy:noDisplacedBy,at:{type:"REORDER",destination:{droppableId:c.descriptor.id,index:0}}},$=getPageBorderBoxCenterFromImpact({impact:_,draggable:a,droppable:c,draggables:o,afterCritical:g}),rt=isHomeOf(a,c)?c:addPlaceholder(c,a,o);return isTotallyVisibleInNewLocation({draggable:a,destination:rt,newPageBorderBoxCenter:$,viewport:d.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?_:null}const h=e[c.axis.line]<=s.page.borderBox.center[c.axis.line],b=(()=>{const _=s.descriptor.index;return s.descriptor.id===a.descriptor.id||h?_:_+1})(),j=getDisplacedBy(c.axis,a.displaceBy);return calculateReorderImpact({draggable:a,insideDestination:i,destination:c,viewport:d,displacedBy:j,last:emptyGroups,index:b})},moveCrossAxis=({isMovingForward:e,previousPageBorderBoxCenter:s,draggable:i,isOver:a,draggables:o,droppables:c,viewport:d,afterCritical:g})=>{const h=getBestCrossAxisDroppable({isMovingForward:e,pageBorderBoxCenter:s,source:a,droppables:c,viewport:d});if(!h)return null;const b=getDraggablesInsideDroppable(h.descriptor.id,o),j=getClosestDraggable({pageBorderBoxCenter:s,viewport:d,destination:h,insideDestination:b,afterCritical:g}),_=moveToNewDroppable({previousPageBorderBoxCenter:s,destination:h,draggable:i,draggables:o,moveRelativeTo:j,insideDestination:b,viewport:d,afterCritical:g});if(!_)return null;const $=getPageBorderBoxCenterFromImpact({impact:_,draggable:i,droppable:h,draggables:o,afterCritical:g});return{clientSelection:getClientFromPageBorderBoxCenter({pageBorderBoxCenter:$,draggable:i,viewport:d}),impact:_,scrollJumpRequest:null}},whatIsDraggedOver=e=>{const s=e.at;return s?s.type==="REORDER"?s.destination.droppableId:s.combine.droppableId:null};const getDroppableOver$1=(e,s)=>{const i=whatIsDraggedOver(e);return i?s[i]:null};var moveInDirection=({state:e,type:s})=>{const i=getDroppableOver$1(e.impact,e.dimensions.droppables),a=!!i,o=e.dimensions.droppables[e.critical.droppable.id],c=i||o,d=c.axis.direction,g=d==="vertical"&&(s==="MOVE_UP"||s==="MOVE_DOWN")||d==="horizontal"&&(s==="MOVE_LEFT"||s==="MOVE_RIGHT");if(g&&!a)return null;const h=s==="MOVE_DOWN"||s==="MOVE_RIGHT",b=e.dimensions.draggables[e.critical.draggable.id],j=e.current.page.borderBoxCenter,{draggables:_,droppables:$}=e.dimensions;return g?moveToNextPlace({isMovingForward:h,previousPageBorderBoxCenter:j,draggable:b,destination:c,draggables:_,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):moveCrossAxis({isMovingForward:h,previousPageBorderBoxCenter:j,draggable:b,isOver:c,draggables:_,droppables:$,viewport:e.viewport,afterCritical:e.afterCritical})};function isMovementAllowed(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function isPositionInFrame(e){const s=isWithin(e.top,e.bottom),i=isWithin(e.left,e.right);return function(o){return s(o.y)&&i(o.x)}}function getHasOverlap(e,s){return e.left<s.right&&e.right>s.left&&e.top<s.bottom&&e.bottom>s.top}function getFurthestAway({pageBorderBox:e,draggable:s,candidates:i}){const a=s.page.borderBox.center,o=i.map(c=>{const d=c.axis,g=patch(c.axis.line,e.center[d.line],c.page.borderBox.center[d.crossAxisLine]);return{id:c.descriptor.id,distance:distance(a,g)}}).sort((c,d)=>d.distance-c.distance);return o[0]?o[0].id:null}function getDroppableOver({pageBorderBox:e,draggable:s,droppables:i}){const a=toDroppableList(i).filter(o=>{if(!o.isEnabled)return!1;const c=o.subject.active;if(!c||!getHasOverlap(e,c))return!1;if(isPositionInFrame(c)(e.center))return!0;const d=o.axis,g=c.center[d.crossAxisLine],h=e[d.crossAxisStart],b=e[d.crossAxisEnd],j=isWithin(c[d.crossAxisStart],c[d.crossAxisEnd]),_=j(h),$=j(b);return!_&&!$?!0:_?h<g:b>g});return a.length?a.length===1?a[0].descriptor.id:getFurthestAway({pageBorderBox:e,draggable:s,candidates:a}):null}const offsetRectByPosition=(e,s)=>getRect(offsetByPosition(e,s));var withDroppableScroll=(e,s)=>{const i=e.frame;return i?offsetRectByPosition(s,i.scroll.diff.value):s};function getIsDisplaced({displaced:e,id:s}){return!!(e.visible[s]||e.invisible[s])}function atIndex({draggable:e,closest:s,inHomeList:i}){return s?i&&s.descriptor.index>e.descriptor.index?s.descriptor.index-1:s.descriptor.index:null}var getReorderImpact=({pageBorderBoxWithDroppableScroll:e,draggable:s,destination:i,insideDestination:a,last:o,viewport:c,afterCritical:d})=>{const g=i.axis,h=getDisplacedBy(i.axis,s.displaceBy),b=h.value,j=e[g.start],_=e[g.end],rt=removeDraggableFromList(s,a).find(dt=>{const st=dt.descriptor.id,_e=dt.page.borderBox.center[g.line],tt=didStartAfterCritical(st,d),it=getIsDisplaced({displaced:o,id:st});return tt?it?_<=_e:j<_e-b:it?_<=_e+b:j<_e})||null,nt=atIndex({draggable:s,closest:rt,inHomeList:isHomeOf(s,i)});return calculateReorderImpact({draggable:s,insideDestination:a,destination:i,viewport:c,last:o,displacedBy:h,index:nt})};const combineThresholdDivisor=4;var getCombineImpact=({draggable:e,pageBorderBoxWithDroppableScroll:s,previousImpact:i,destination:a,insideDestination:o,afterCritical:c})=>{if(!a.isCombineEnabled)return null;const d=a.axis,g=getDisplacedBy(a.axis,e.displaceBy),h=g.value,b=s[d.start],j=s[d.end],$=removeDraggableFromList(e,o).find(nt=>{const dt=nt.descriptor.id,st=nt.page.borderBox,tt=st[d.size]/combineThresholdDivisor,it=didStartAfterCritical(dt,c),ct=getIsDisplaced({displaced:i.displaced,id:dt});return it?ct?j>st[d.start]+tt&&j<st[d.end]-tt:b>st[d.start]-h+tt&&b<st[d.end]-h-tt:ct?j>st[d.start]+h+tt&&j<st[d.end]+h-tt:b>st[d.start]+tt&&b<st[d.end]-tt});return $?{displacedBy:g,displaced:i.displaced,at:{type:"COMBINE",combine:{draggableId:$.descriptor.id,droppableId:a.descriptor.id}}}:null},getDragImpact=({pageOffset:e,draggable:s,draggables:i,droppables:a,previousImpact:o,viewport:c,afterCritical:d})=>{const g=offsetRectByPosition(s.page.borderBox,e),h=getDroppableOver({pageBorderBox:g,draggable:s,droppables:a});if(!h)return noImpact;const b=a[h],j=getDraggablesInsideDroppable(b.descriptor.id,i),_=withDroppableScroll(b,g);return getCombineImpact({pageBorderBoxWithDroppableScroll:_,draggable:s,previousImpact:o,destination:b,insideDestination:j,afterCritical:d})||getReorderImpact({pageBorderBoxWithDroppableScroll:_,draggable:s,destination:b,insideDestination:j,last:o.displaced,viewport:c,afterCritical:d})},patchDroppableMap=(e,s)=>({...e,[s.descriptor.id]:s});const clearUnusedPlaceholder=({previousImpact:e,impact:s,droppables:i})=>{const a=whatIsDraggedOver(e),o=whatIsDraggedOver(s);if(!a||a===o)return i;const c=i[a];if(!c.subject.withPlaceholder)return i;const d=removePlaceholder(c);return patchDroppableMap(i,d)};var recomputePlaceholders=({draggable:e,draggables:s,droppables:i,previousImpact:a,impact:o})=>{const c=clearUnusedPlaceholder({previousImpact:a,impact:o,droppables:i}),d=whatIsDraggedOver(o);if(!d)return c;const g=i[d];if(isHomeOf(e,g)||g.subject.withPlaceholder)return c;const h=addPlaceholder(g,e,s);return patchDroppableMap(c,h)},update=({state:e,clientSelection:s,dimensions:i,viewport:a,impact:o,scrollJumpRequest:c})=>{const d=a||e.viewport,g=i||e.dimensions,h=s||e.current.client.selection,b=subtract(h,e.initial.client.selection),j={offset:b,selection:h,borderBoxCenter:add(e.initial.client.borderBoxCenter,b)},_={selection:add(j.selection,d.scroll.current),borderBoxCenter:add(j.borderBoxCenter,d.scroll.current),offset:add(j.offset,d.scroll.diff.value)},$={client:j,page:_};if(e.phase==="COLLECTING")return{...e,dimensions:g,viewport:d,current:$};const rt=g.draggables[e.critical.draggable.id],nt=o||getDragImpact({pageOffset:_.offset,draggable:rt,draggables:g.draggables,droppables:g.droppables,previousImpact:e.impact,viewport:d,afterCritical:e.afterCritical}),dt=recomputePlaceholders({draggable:rt,impact:nt,previousImpact:e.impact,draggables:g.draggables,droppables:g.droppables});return{...e,current:$,dimensions:{draggables:g.draggables,droppables:dt},impact:nt,viewport:d,scrollJumpRequest:c||null,forceShouldAnimate:c?!1:null}};function getDraggables(e,s){return e.map(i=>s[i])}var recompute=({impact:e,viewport:s,draggables:i,destination:a,forceShouldAnimate:o})=>{const c=e.displaced,d=getDraggables(c.all,i),g=getDisplacementGroups({afterDragging:d,destination:a,displacedBy:e.displacedBy,viewport:s.frame,forceShouldAnimate:o,last:c});return{...e,displaced:g}},getClientBorderBoxCenter=({impact:e,draggable:s,droppable:i,draggables:a,viewport:o,afterCritical:c})=>{const d=getPageBorderBoxCenterFromImpact({impact:e,draggable:s,draggables:a,droppable:i,afterCritical:c});return getClientFromPageBorderBoxCenter({pageBorderBoxCenter:d,draggable:s,viewport:o})},refreshSnap=({state:e,dimensions:s,viewport:i})=>{e.movementMode!=="SNAP"&&invariant();const a=e.impact,o=i||e.viewport,c=s||e.dimensions,{draggables:d,droppables:g}=c,h=d[e.critical.draggable.id],b=whatIsDraggedOver(a);b||invariant();const j=g[b],_=recompute({impact:a,viewport:o,destination:j,draggables:d}),$=getClientBorderBoxCenter({impact:_,draggable:h,droppable:j,draggables:d,viewport:o,afterCritical:e.afterCritical});return update({impact:_,clientSelection:$,state:e,dimensions:c,viewport:o})},getHomeLocation=e=>({index:e.index,droppableId:e.droppableId}),getLiftEffect=({draggable:e,home:s,draggables:i,viewport:a})=>{const o=getDisplacedBy(s.axis,e.displaceBy),c=getDraggablesInsideDroppable(s.descriptor.id,i),d=c.indexOf(e);d===-1&&invariant();const g=c.slice(d+1),h=g.reduce(($,rt)=>($[rt.descriptor.id]=!0,$),{}),b={inVirtualList:s.descriptor.mode==="virtual",displacedBy:o,effected:h};return{impact:{displaced:getDisplacementGroups({afterDragging:g,destination:s,displacedBy:o,last:null,viewport:a.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:getHomeLocation(e.descriptor)}},afterCritical:b}},patchDimensionMap=(e,s)=>({draggables:e.draggables,droppables:patchDroppableMap(e.droppables,s)}),offsetDraggable=({draggable:e,offset:s,initialWindowScroll:i})=>{const a=offset(e.client,s),o=withScroll(a,i);return{...e,placeholder:{...e.placeholder,client:a},client:a,page:o}},getFrame=e=>{const s=e.frame;return s||invariant(),s},adjustAdditionsForScrollChanges=({additions:e,updatedDroppables:s,viewport:i})=>{const a=i.scroll.diff.value;return e.map(o=>{const c=o.descriptor.droppableId,d=s[c],h=getFrame(d).scroll.diff.value,b=add(a,h);return offsetDraggable({draggable:o,offset:b,initialWindowScroll:i.scroll.initial})})},publishWhileDraggingInVirtual=({state:e,published:s})=>{const i=s.modified.map(_e=>{const tt=e.dimensions.droppables[_e.droppableId];return scrollDroppable(tt,_e.scroll)}),a={...e.dimensions.droppables,...toDroppableMap(i)},o=toDraggableMap(adjustAdditionsForScrollChanges({additions:s.additions,updatedDroppables:a,viewport:e.viewport})),c={...e.dimensions.draggables,...o};s.removals.forEach(_e=>{delete c[_e]});const d={droppables:a,draggables:c},g=whatIsDraggedOver(e.impact),h=g?d.droppables[g]:null,b=d.draggables[e.critical.draggable.id],j=d.droppables[e.critical.droppable.id],{impact:_,afterCritical:$}=getLiftEffect({draggable:b,home:j,draggables:c,viewport:e.viewport}),rt=h&&h.isCombineEnabled?e.impact:_,nt=getDragImpact({pageOffset:e.current.page.offset,draggable:d.draggables[e.critical.draggable.id],draggables:d.draggables,droppables:d.droppables,previousImpact:rt,viewport:e.viewport,afterCritical:$}),dt={...e,phase:"DRAGGING",impact:nt,onLiftImpact:_,dimensions:d,afterCritical:$,forceShouldAnimate:!1};return e.phase==="COLLECTING"?dt:{...dt,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const isSnapping=e=>e.movementMode==="SNAP",postDroppableChange=(e,s,i)=>{const a=patchDimensionMap(e.dimensions,s);return!isSnapping(e)||i?update({state:e,dimensions:a}):refreshSnap({state:e,dimensions:a})};function removeScrollJumpRequest(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const idle$2={phase:"IDLE",completed:null,shouldFlush:!1};var reducer=(e=idle$2,s)=>{if(s.type==="FLUSH")return{...idle$2,shouldFlush:!0};if(s.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&invariant();const{critical:i,clientSelection:a,viewport:o,dimensions:c,movementMode:d}=s.payload,g=c.draggables[i.draggable.id],h=c.droppables[i.droppable.id],b={selection:a,borderBoxCenter:g.client.borderBox.center,offset:origin},j={client:b,page:{selection:add(b.selection,o.scroll.initial),borderBoxCenter:add(b.selection,o.scroll.initial),offset:add(b.selection,o.scroll.diff.value)}},_=toDroppableList(c.droppables).every(dt=>!dt.isFixedOnPage),{impact:$,afterCritical:rt}=getLiftEffect({draggable:g,home:h,draggables:c.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:i,movementMode:d,dimensions:c,initial:j,current:j,isWindowScrollAllowed:_,impact:$,afterCritical:rt,onLiftImpact:$,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(s.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&invariant(),{...e,phase:"COLLECTING"});if(s.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||invariant(),publishWhileDraggingInVirtual({state:e,published:s.payload});if(s.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;isMovementAllowed(e)||invariant();const{client:i}=s.payload;return isEqual$1(i,e.current.client.selection)?e:update({state:e,clientSelection:i,impact:isSnapping(e)?e.impact:null})}if(s.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return removeScrollJumpRequest(e);isMovementAllowed(e)||invariant();const{id:i,newScroll:a}=s.payload,o=e.dimensions.droppables[i];if(!o)return e;const c=scrollDroppable(o,a);return postDroppableChange(e,c,!1)}if(s.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;isMovementAllowed(e)||invariant();const{id:i,isEnabled:a}=s.payload,o=e.dimensions.droppables[i];o||invariant(),o.isEnabled===a&&invariant();const c={...o,isEnabled:a};return postDroppableChange(e,c,!0)}if(s.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;isMovementAllowed(e)||invariant();const{id:i,isCombineEnabled:a}=s.payload,o=e.dimensions.droppables[i];o||invariant(),o.isCombineEnabled===a&&invariant();const c={...o,isCombineEnabled:a};return postDroppableChange(e,c,!0)}if(s.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;isMovementAllowed(e)||invariant(),e.isWindowScrollAllowed||invariant();const i=s.payload.newScroll;if(isEqual$1(e.viewport.scroll.current,i))return removeScrollJumpRequest(e);const a=scrollViewport(e.viewport,i);return isSnapping(e)?refreshSnap({state:e,viewport:a}):update({state:e,viewport:a})}if(s.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!isMovementAllowed(e))return e;const i=s.payload.maxScroll;if(isEqual$1(i,e.viewport.scroll.max))return e;const a={...e.viewport,scroll:{...e.viewport.scroll,max:i}};return{...e,viewport:a}}if(s.type==="MOVE_UP"||s.type==="MOVE_DOWN"||s.type==="MOVE_LEFT"||s.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&invariant();const i=moveInDirection({state:e,type:s.type});return i?update({state:e,impact:i.impact,clientSelection:i.clientSelection,scrollJumpRequest:i.scrollJumpRequest}):e}if(s.type==="DROP_PENDING"){const i=s.payload.reason;return e.phase!=="COLLECTING"&&invariant(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:i}}if(s.type==="DROP_ANIMATE"){const{completed:i,dropDuration:a,newHomeClientOffset:o}=s.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||invariant(),{phase:"DROP_ANIMATING",completed:i,dropDuration:a,newHomeClientOffset:o,dimensions:e.dimensions}}if(s.type==="DROP_COMPLETE"){const{completed:i}=s.payload;return{phase:"IDLE",completed:i,shouldFlush:!1}}return e};function guard(e,s){return e instanceof Object&&"type"in e&&e.type===s}const beforeInitialCapture=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),lift$1=e=>({type:"LIFT",payload:e}),initialPublish=e=>({type:"INITIAL_PUBLISH",payload:e}),publishWhileDragging=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),collectionStarting=()=>({type:"COLLECTION_STARTING",payload:null}),updateDroppableScroll=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),updateDroppableIsEnabled=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),updateDroppableIsCombineEnabled=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),move=e=>({type:"MOVE",payload:e}),moveByWindowScroll=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),updateViewportMaxScroll=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),moveUp=()=>({type:"MOVE_UP",payload:null}),moveDown=()=>({type:"MOVE_DOWN",payload:null}),moveRight=()=>({type:"MOVE_RIGHT",payload:null}),moveLeft=()=>({type:"MOVE_LEFT",payload:null}),flush=()=>({type:"FLUSH",payload:null}),animateDrop=e=>({type:"DROP_ANIMATE",payload:e}),completeDrop=e=>({type:"DROP_COMPLETE",payload:e}),drop=e=>({type:"DROP",payload:e}),dropPending=e=>({type:"DROP_PENDING",payload:e}),dropAnimationFinished=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var lift=e=>({getState:s,dispatch:i})=>a=>o=>{if(!guard(o,"LIFT")){a(o);return}const{id:c,clientSelection:d,movementMode:g}=o.payload,h=s();h.phase==="DROP_ANIMATING"&&i(completeDrop({completed:h.completed})),s().phase!=="IDLE"&&invariant(),i(flush()),i(beforeInitialCapture({draggableId:c,movementMode:g}));const j={draggableId:c,scrollOptions:{shouldPublishImmediately:g==="SNAP"}},{critical:_,dimensions:$,viewport:rt}=e.startPublishing(j);i(initialPublish({critical:_,dimensions:$,clientSelection:d,movementMode:g,viewport:rt}))},style=e=>()=>s=>i=>{guard(i,"INITIAL_PUBLISH")&&e.dragging(),guard(i,"DROP_ANIMATE")&&e.dropping(i.payload.completed.result.reason),(guard(i,"FLUSH")||guard(i,"DROP_COMPLETE"))&&e.resting(),s(i)};const curves={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},combine={opacity:{drop:0,combining:.7},scale:{drop:.75}},timings={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},outOfTheWayTiming=`${timings.outOfTheWay}s ${curves.outOfTheWay}`,transitions={fluid:`opacity ${outOfTheWayTiming}`,snap:`transform ${outOfTheWayTiming}, opacity ${outOfTheWayTiming}`,drop:e=>{const s=`${e}s ${curves.drop}`;return`transform ${s}, opacity ${s}`},outOfTheWay:`transform ${outOfTheWayTiming}`,placeholder:`height ${outOfTheWayTiming}, width ${outOfTheWayTiming}, margin ${outOfTheWayTiming}`},moveTo=e=>isEqual$1(e,origin)?void 0:`translate(${e.x}px, ${e.y}px)`,transforms={moveTo,drop:(e,s)=>{const i=moveTo(e);if(i)return s?`${i} scale(${combine.scale.drop})`:i}},{minDropTime,maxDropTime}=timings,dropTimeRange=maxDropTime-minDropTime,maxDropTimeAtDistance=1500,cancelDropModifier=.6;var getDropDuration=({current:e,destination:s,reason:i})=>{const a=distance(e,s);if(a<=0)return minDropTime;if(a>=maxDropTimeAtDistance)return maxDropTime;const o=a/maxDropTimeAtDistance,c=minDropTime+dropTimeRange*o,d=i==="CANCEL"?c*cancelDropModifier:c;return Number(d.toFixed(2))},getNewHomeClientOffset=({impact:e,draggable:s,dimensions:i,viewport:a,afterCritical:o})=>{const{draggables:c,droppables:d}=i,g=whatIsDraggedOver(e),h=g?d[g]:null,b=d[s.descriptor.droppableId],j=getClientBorderBoxCenter({impact:e,draggable:s,draggables:c,afterCritical:o,droppable:h||b,viewport:a});return subtract(j,s.client.borderBox.center)},getDropImpact=({draggables:e,reason:s,lastImpact:i,home:a,viewport:o,onLiftImpact:c})=>!i.at||s!=="DROP"?{impact:recompute({draggables:e,impact:c,destination:a,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:i.at.type==="REORDER"?{impact:i,didDropInsideDroppable:!0}:{impact:{...i,displaced:emptyGroups},didDropInsideDroppable:!0};const dropMiddleware=({getState:e,dispatch:s})=>i=>a=>{if(!guard(a,"DROP")){i(a);return}const o=e(),c=a.payload.reason;if(o.phase==="COLLECTING"){s(dropPending({reason:c}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&invariant(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||invariant();const g=o.critical,h=o.dimensions,b=h.draggables[o.critical.draggable.id],{impact:j,didDropInsideDroppable:_}=getDropImpact({reason:c,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),$=_?tryGetDestination(j):null,rt=_?tryGetCombine(j):null,nt={index:g.draggable.index,droppableId:g.droppable.id},dt={draggableId:b.descriptor.id,type:b.descriptor.type,source:nt,reason:c,mode:o.movementMode,destination:$,combine:rt},st=getNewHomeClientOffset({impact:j,draggable:b,dimensions:h,viewport:o.viewport,afterCritical:o.afterCritical}),_e={critical:o.critical,afterCritical:o.afterCritical,result:dt,impact:j};if(!(!isEqual$1(o.current.client.offset,st)||!!dt.combine)){s(completeDrop({completed:_e}));return}const it=getDropDuration({current:o.current.client.offset,destination:st,reason:c});s(animateDrop({newHomeClientOffset:st,dropDuration:it,completed:_e}))};var getWindowScroll=()=>({x:window.pageXOffset,y:window.pageYOffset});function getWindowScrollBinding(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:s=>{s.target!==window&&s.target!==window.document||e()}}}function getScrollListener({onWindowScroll:e}){function s(){e(getWindowScroll())}const i=rafSchd(s),a=getWindowScrollBinding(i);let o=noop$2;function c(){return o!==noop$2}function d(){c()&&invariant(),o=bindEvents(window,[a])}function g(){c()||invariant(),i.cancel(),o(),o=noop$2}return{start:d,stop:g,isActive:c}}const shouldStop$1=e=>guard(e,"DROP_COMPLETE")||guard(e,"DROP_ANIMATE")||guard(e,"FLUSH"),scrollListener=e=>{const s=getScrollListener({onWindowScroll:i=>{e.dispatch(moveByWindowScroll({newScroll:i}))}});return i=>a=>{!s.isActive()&&guard(a,"INITIAL_PUBLISH")&&s.start(),s.isActive()&&shouldStop$1(a)&&s.stop(),i(a)}};var getExpiringAnnounce=e=>{let s=!1,i=!1;const a=setTimeout(()=>{i=!0}),o=c=>{s||i||(s=!0,e(c),clearTimeout(a))};return o.wasCalled=()=>s,o},getAsyncMarshal=()=>{const e=[],s=o=>{const c=e.findIndex(g=>g.timerId===o);c===-1&&invariant();const[d]=e.splice(c,1);d.callback()};return{add:o=>{const c=setTimeout(()=>s(c)),d={timerId:c,callback:o};e.push(d)},flush:()=>{if(!e.length)return;const o=[...e];e.length=0,o.forEach(c=>{clearTimeout(c.timerId),c.callback()})}}};const areLocationsEqual=(e,s)=>e==null&&s==null?!0:e==null||s==null?!1:e.droppableId===s.droppableId&&e.index===s.index,isCombineEqual=(e,s)=>e==null&&s==null?!0:e==null||s==null?!1:e.draggableId===s.draggableId&&e.droppableId===s.droppableId,isCriticalEqual=(e,s)=>{if(e===s)return!0;const i=e.draggable.id===s.draggable.id&&e.draggable.droppableId===s.draggable.droppableId&&e.draggable.type===s.draggable.type&&e.draggable.index===s.draggable.index,a=e.droppable.id===s.droppable.id&&e.droppable.type===s.droppable.type;return i&&a},withTimings=(e,s)=>{s()},getDragStart=(e,s)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:s});function execute(e,s,i,a){if(!e){i(a(s));return}const o=getExpiringAnnounce(i);e(s,{announce:o}),o.wasCalled()||i(a(s))}var getPublisher=(e,s)=>{const i=getAsyncMarshal();let a=null;const o=(_,$)=>{a&&invariant(),withTimings("onBeforeCapture",()=>{const rt=e().onBeforeCapture;rt&&rt({draggableId:_,mode:$})})},c=(_,$)=>{a&&invariant(),withTimings("onBeforeDragStart",()=>{const rt=e().onBeforeDragStart;rt&&rt(getDragStart(_,$))})},d=(_,$)=>{a&&invariant();const rt=getDragStart(_,$);a={mode:$,lastCritical:_,lastLocation:rt.source,lastCombine:null},i.add(()=>{withTimings("onDragStart",()=>execute(e().onDragStart,rt,s,preset.onDragStart))})},g=(_,$)=>{const rt=tryGetDestination($),nt=tryGetCombine($);a||invariant();const dt=!isCriticalEqual(_,a.lastCritical);dt&&(a.lastCritical=_);const st=!areLocationsEqual(a.lastLocation,rt);st&&(a.lastLocation=rt);const _e=!isCombineEqual(a.lastCombine,nt);if(_e&&(a.lastCombine=nt),!dt&&!st&&!_e)return;const tt={...getDragStart(_,a.mode),combine:nt,destination:rt};i.add(()=>{withTimings("onDragUpdate",()=>execute(e().onDragUpdate,tt,s,preset.onDragUpdate))})},h=()=>{a||invariant(),i.flush()},b=_=>{a||invariant(),a=null,withTimings("onDragEnd",()=>execute(e().onDragEnd,_,s,preset.onDragEnd))};return{beforeCapture:o,beforeStart:c,start:d,update:g,flush:h,drop:b,abort:()=>{if(!a)return;const _={...getDragStart(a.lastCritical,a.mode),combine:null,destination:null,reason:"CANCEL"};b(_)}}},responders=(e,s)=>{const i=getPublisher(e,s);return a=>o=>c=>{if(guard(c,"BEFORE_INITIAL_CAPTURE")){i.beforeCapture(c.payload.draggableId,c.payload.movementMode);return}if(guard(c,"INITIAL_PUBLISH")){const g=c.payload.critical;i.beforeStart(g,c.payload.movementMode),o(c),i.start(g,c.payload.movementMode);return}if(guard(c,"DROP_COMPLETE")){const g=c.payload.completed.result;i.flush(),o(c),i.drop(g);return}if(o(c),guard(c,"FLUSH")){i.abort();return}const d=a.getState();d.phase==="DRAGGING"&&i.update(d.critical,d.impact)}};const dropAnimationFinishMiddleware=e=>s=>i=>{if(!guard(i,"DROP_ANIMATION_FINISHED")){s(i);return}const a=e.getState();a.phase!=="DROP_ANIMATING"&&invariant(),e.dispatch(completeDrop({completed:a.completed}))},dropAnimationFlushOnScrollMiddleware=e=>{let s=null,i=null;function a(){i&&(cancelAnimationFrame(i),i=null),s&&(s(),s=null)}return o=>c=>{if((guard(c,"FLUSH")||guard(c,"DROP_COMPLETE")||guard(c,"DROP_ANIMATION_FINISHED"))&&a(),o(c),!guard(c,"DROP_ANIMATE"))return;const d={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(dropAnimationFinished())}};i=requestAnimationFrame(()=>{i=null,s=bindEvents(window,[d])})}};var dimensionMarshalStopper=e=>()=>s=>i=>{(guard(i,"DROP_COMPLETE")||guard(i,"FLUSH")||guard(i,"DROP_ANIMATE"))&&e.stopPublishing(),s(i)},focus=e=>{let s=!1;return()=>i=>a=>{if(guard(a,"INITIAL_PUBLISH")){s=!0,e.tryRecordFocus(a.payload.critical.draggable.id),i(a),e.tryRestoreFocusRecorded();return}if(i(a),!!s){if(guard(a,"FLUSH")){s=!1,e.tryRestoreFocusRecorded();return}if(guard(a,"DROP_COMPLETE")){s=!1;const o=a.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const shouldStop=e=>guard(e,"DROP_COMPLETE")||guard(e,"DROP_ANIMATE")||guard(e,"FLUSH");var autoScroll=e=>s=>i=>a=>{if(shouldStop(a)){e.stop(),i(a);return}if(guard(a,"INITIAL_PUBLISH")){i(a);const o=s.getState();o.phase!=="DRAGGING"&&invariant(),e.start(o);return}i(a),e.scroll(s.getState())};const pendingDrop=e=>s=>i=>{if(s(i),!guard(i,"PUBLISH_WHILE_DRAGGING"))return;const a=e.getState();a.phase==="DROP_PENDING"&&(a.isWaiting||e.dispatch(drop({reason:a.reason})))},composeEnhancers=compose;var createStore=({dimensionMarshal:e,focusMarshal:s,styleMarshal:i,getResponders:a,announce:o,autoScroller:c})=>createStore$1(reducer,composeEnhancers(applyMiddleware(style(i),dimensionMarshalStopper(e),lift(e),dropMiddleware,dropAnimationFinishMiddleware,dropAnimationFlushOnScrollMiddleware,pendingDrop,autoScroll(c),scrollListener,focus(s),responders(a,o))));const clean$1=()=>({additions:{},removals:{},modified:{}});function createPublisher({registry:e,callbacks:s}){let i=clean$1(),a=null;const o=()=>{a||(s.collectionStarting(),a=requestAnimationFrame(()=>{a=null;const{additions:h,removals:b,modified:j}=i,_=Object.keys(h).map(nt=>e.draggable.getById(nt).getDimension(origin)).sort((nt,dt)=>nt.descriptor.index-dt.descriptor.index),$=Object.keys(j).map(nt=>{const st=e.droppable.getById(nt).callbacks.getScrollWhileDragging();return{droppableId:nt,scroll:st}}),rt={additions:_,removals:Object.keys(b),modified:$};i=clean$1(),s.publish(rt)}))};return{add:h=>{const b=h.descriptor.id;i.additions[b]=h,i.modified[h.descriptor.droppableId]=!0,i.removals[b]&&delete i.removals[b],o()},remove:h=>{const b=h.descriptor;i.removals[b.id]=!0,i.modified[b.droppableId]=!0,i.additions[b.id]&&delete i.additions[b.id],o()},stop:()=>{a&&(cancelAnimationFrame(a),a=null,i=clean$1())}}}var getMaxScroll=({scrollHeight:e,scrollWidth:s,height:i,width:a})=>{const o=subtract({x:s,y:e},{x:a,y:i});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},getDocumentElement=()=>{const e=document.documentElement;return e||invariant(),e},getMaxWindowScroll=()=>{const e=getDocumentElement();return getMaxScroll({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},getViewport=()=>{const e=getWindowScroll(),s=getMaxWindowScroll(),i=e.y,a=e.x,o=getDocumentElement(),c=o.clientWidth,d=o.clientHeight,g=a+c,h=i+d;return{frame:getRect({top:i,left:a,right:g,bottom:h}),scroll:{initial:e,current:e,max:s,diff:{value:origin,displacement:origin}}}},getInitialPublish=({critical:e,scrollOptions:s,registry:i})=>{const a=getViewport(),o=a.scroll.current,c=e.droppable,d=i.droppable.getAllByType(c.type).map(j=>j.callbacks.getDimensionAndWatchScroll(o,s)),g=i.draggable.getAllByType(e.draggable.type).map(j=>j.getDimension(o));return{dimensions:{draggables:toDraggableMap(g),droppables:toDroppableMap(d)},critical:e,viewport:a}};function shouldPublishUpdate(e,s,i){return!(i.descriptor.id===s.id||i.descriptor.type!==s.type||e.droppable.getById(i.descriptor.droppableId).descriptor.mode!=="virtual")}var createDimensionMarshal=(e,s)=>{let i=null;const a=createPublisher({callbacks:{publish:s.publishWhileDragging,collectionStarting:s.collectionStarting},registry:e}),o=($,rt)=>{e.droppable.exists($)||invariant(),i&&s.updateDroppableIsEnabled({id:$,isEnabled:rt})},c=($,rt)=>{i&&(e.droppable.exists($)||invariant(),s.updateDroppableIsCombineEnabled({id:$,isCombineEnabled:rt}))},d=($,rt)=>{i&&(e.droppable.exists($)||invariant(),s.updateDroppableScroll({id:$,newScroll:rt}))},g=($,rt)=>{i&&e.droppable.getById($).callbacks.scroll(rt)},h=()=>{if(!i)return;a.stop();const $=i.critical.droppable;e.droppable.getAllByType($.type).forEach(rt=>rt.callbacks.dragStopped()),i.unsubscribe(),i=null},b=$=>{i||invariant();const rt=i.critical.draggable;$.type==="ADDITION"&&shouldPublishUpdate(e,rt,$.value)&&a.add($.value),$.type==="REMOVAL"&&shouldPublishUpdate(e,rt,$.value)&&a.remove($.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:c,scrollDroppable:g,updateDroppableScroll:d,startPublishing:$=>{i&&invariant();const rt=e.draggable.getById($.draggableId),nt=e.droppable.getById(rt.descriptor.droppableId),dt={draggable:rt.descriptor,droppable:nt.descriptor},st=e.subscribe(b);return i={critical:dt,unsubscribe:st},getInitialPublish({critical:dt,registry:e,scrollOptions:$.scrollOptions})},stopPublishing:h}},canStartDrag=(e,s)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===s?!1:e.completed.result.reason==="DROP",scrollWindow=e=>{window.scrollBy(e.x,e.y)};const getScrollableDroppables=memoizeOne(e=>toDroppableList(e).filter(s=>!(!s.isEnabled||!s.frame))),getScrollableDroppableOver=(e,s)=>getScrollableDroppables(s).find(a=>(a.frame||invariant(),isPositionInFrame(a.frame.pageMarginBox)(e)))||null;var getBestScrollableDroppable=({center:e,destination:s,droppables:i})=>{if(s){const o=i[s];return o.frame?o:null}return getScrollableDroppableOver(e,i)};const defaultAutoScrollerOptions={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var getDistanceThresholds=(e,s,i=()=>defaultAutoScrollerOptions)=>{const a=i(),o=e[s.size]*a.startFromPercentage,c=e[s.size]*a.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:c}},getPercentage=({startOfRange:e,endOfRange:s,current:i})=>{const a=s-e;return a===0?0:(i-e)/a},minScroll=1,getValueFromDistance=(e,s,i=()=>defaultAutoScrollerOptions)=>{const a=i();if(e>s.startScrollingFrom)return 0;if(e<=s.maxScrollValueAt)return a.maxPixelScroll;if(e===s.startScrollingFrom)return minScroll;const c=1-getPercentage({startOfRange:s.maxScrollValueAt,endOfRange:s.startScrollingFrom,current:e}),d=a.maxPixelScroll*a.ease(c);return Math.ceil(d)},dampenValueByTime=(e,s,i)=>{const a=i(),o=a.durationDampening.accelerateAt,c=a.durationDampening.stopDampeningAt,d=s,g=c,b=Date.now()-d;if(b>=c)return e;if(b<o)return minScroll;const j=getPercentage({startOfRange:o,endOfRange:g,current:b}),_=e*a.ease(j);return Math.ceil(_)},getValue=({distanceToEdge:e,thresholds:s,dragStartTime:i,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const c=getValueFromDistance(e,s,o);return c===0?0:a?Math.max(dampenValueByTime(c,i,o),minScroll):c},getScrollOnAxis=({container:e,distanceToEdges:s,dragStartTime:i,axis:a,shouldUseTimeDampening:o,getAutoScrollerOptions:c})=>{const d=getDistanceThresholds(e,a,c);return s[a.end]<s[a.start]?getValue({distanceToEdge:s[a.end],thresholds:d,dragStartTime:i,shouldUseTimeDampening:o,getAutoScrollerOptions:c}):-1*getValue({distanceToEdge:s[a.start],thresholds:d,dragStartTime:i,shouldUseTimeDampening:o,getAutoScrollerOptions:c})},adjustForSizeLimits=({container:e,subject:s,proposedScroll:i})=>{const a=s.height>e.height,o=s.width>e.width;return!o&&!a?i:o&&a?null:{x:o?0:i.x,y:a?0:i.y}};const clean=apply(e=>e===0?0:e);var getScroll$1=({dragStartTime:e,container:s,subject:i,center:a,shouldUseTimeDampening:o,getAutoScrollerOptions:c})=>{const d={top:a.y-s.top,right:s.right-a.x,bottom:s.bottom-a.y,left:a.x-s.left},g=getScrollOnAxis({container:s,distanceToEdges:d,dragStartTime:e,axis:vertical,shouldUseTimeDampening:o,getAutoScrollerOptions:c}),h=getScrollOnAxis({container:s,distanceToEdges:d,dragStartTime:e,axis:horizontal,shouldUseTimeDampening:o,getAutoScrollerOptions:c}),b=clean({x:h,y:g});if(isEqual$1(b,origin))return null;const j=adjustForSizeLimits({container:s,subject:i,proposedScroll:b});return j?isEqual$1(j,origin)?null:j:null};const smallestSigned=apply(e=>e===0?0:e>0?1:-1),getOverlap=(()=>{const e=(s,i)=>s<0?s:s>i?s-i:0;return({current:s,max:i,change:a})=>{const o=add(s,a),c={x:e(o.x,i.x),y:e(o.y,i.y)};return isEqual$1(c,origin)?null:c}})(),canPartiallyScroll=({max:e,current:s,change:i})=>{const a={x:Math.max(s.x,e.x),y:Math.max(s.y,e.y)},o=smallestSigned(i),c=getOverlap({max:a,current:s,change:o});return!c||o.x!==0&&c.x===0||o.y!==0&&c.y===0},canScrollWindow=(e,s)=>canPartiallyScroll({current:e.scroll.current,max:e.scroll.max,change:s}),getWindowOverlap=(e,s)=>{if(!canScrollWindow(e,s))return null;const i=e.scroll.max,a=e.scroll.current;return getOverlap({current:a,max:i,change:s})},canScrollDroppable=(e,s)=>{const i=e.frame;return i?canPartiallyScroll({current:i.scroll.current,max:i.scroll.max,change:s}):!1},getDroppableOverlap=(e,s)=>{const i=e.frame;return!i||!canScrollDroppable(e,s)?null:getOverlap({current:i.scroll.current,max:i.scroll.max,change:s})};var getWindowScrollChange=({viewport:e,subject:s,center:i,dragStartTime:a,shouldUseTimeDampening:o,getAutoScrollerOptions:c})=>{const d=getScroll$1({dragStartTime:a,container:e.frame,subject:s,center:i,shouldUseTimeDampening:o,getAutoScrollerOptions:c});return d&&canScrollWindow(e,d)?d:null},getDroppableScrollChange=({droppable:e,subject:s,center:i,dragStartTime:a,shouldUseTimeDampening:o,getAutoScrollerOptions:c})=>{const d=e.frame;if(!d)return null;const g=getScroll$1({dragStartTime:a,container:d.pageMarginBox,subject:s,center:i,shouldUseTimeDampening:o,getAutoScrollerOptions:c});return g&&canScrollDroppable(e,g)?g:null},scroll=({state:e,dragStartTime:s,shouldUseTimeDampening:i,scrollWindow:a,scrollDroppable:o,getAutoScrollerOptions:c})=>{const d=e.current.page.borderBoxCenter,h=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const _=e.viewport,$=getWindowScrollChange({dragStartTime:s,viewport:_,subject:h,center:d,shouldUseTimeDampening:i,getAutoScrollerOptions:c});if($){a($);return}}const b=getBestScrollableDroppable({center:d,destination:whatIsDraggedOver(e.impact),droppables:e.dimensions.droppables});if(!b)return;const j=getDroppableScrollChange({dragStartTime:s,droppable:b,subject:h,center:d,shouldUseTimeDampening:i,getAutoScrollerOptions:c});j&&o(b.descriptor.id,j)},createFluidScroller=({scrollWindow:e,scrollDroppable:s,getAutoScrollerOptions:i=()=>defaultAutoScrollerOptions})=>{const a=rafSchd(e),o=rafSchd(s);let c=null;const d=b=>{c||invariant();const{shouldUseTimeDampening:j,dragStartTime:_}=c;scroll({state:b,scrollWindow:a,scrollDroppable:o,dragStartTime:_,shouldUseTimeDampening:j,getAutoScrollerOptions:i})};return{start:b=>{c&&invariant();const j=Date.now();let _=!1;const $=()=>{_=!0};scroll({state:b,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:$,scrollDroppable:$,getAutoScrollerOptions:i}),c={dragStartTime:j,shouldUseTimeDampening:_},_&&d(b)},stop:()=>{c&&(a.cancel(),o.cancel(),c=null)},scroll:d}},createJumpScroller=({move:e,scrollDroppable:s,scrollWindow:i})=>{const a=(g,h)=>{const b=add(g.current.client.selection,h);e({client:b})},o=(g,h)=>{if(!canScrollDroppable(g,h))return h;const b=getDroppableOverlap(g,h);if(!b)return s(g.descriptor.id,h),null;const j=subtract(h,b);return s(g.descriptor.id,j),subtract(h,j)},c=(g,h,b)=>{if(!g||!canScrollWindow(h,b))return b;const j=getWindowOverlap(h,b);if(!j)return i(b),null;const _=subtract(b,j);return i(_),subtract(b,_)};return g=>{const h=g.scrollJumpRequest;if(!h)return;const b=whatIsDraggedOver(g.impact);b||invariant();const j=o(g.dimensions.droppables[b],h);if(!j)return;const _=g.viewport,$=c(g.isWindowScrollAllowed,_,j);$&&a(g,$)}},createAutoScroller=({scrollDroppable:e,scrollWindow:s,move:i,getAutoScrollerOptions:a})=>{const o=createFluidScroller({scrollWindow:s,scrollDroppable:e,getAutoScrollerOptions:a}),c=createJumpScroller({move:i,scrollWindow:s,scrollDroppable:e});return{scroll:h=>{if(!(a().disabled||h.phase!=="DRAGGING")){if(h.movementMode==="FLUID"){o.scroll(h);return}h.scrollJumpRequest&&c(h)}},start:o.start,stop:o.stop}};const prefix="data-rfd",dragHandle=(()=>{const e=`${prefix}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),draggable=(()=>{const e=`${prefix}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),droppable=(()=>{const e=`${prefix}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),scrollContainer={contextId:`${prefix}-scroll-container-context-id`},makeGetSelector=e=>s=>`[${s}="${e}"]`,getStyles=(e,s)=>e.map(i=>{const a=i.styles[s];return a?`${i.selector} { ${a} }`:""}).join(" "),noPointerEvents="pointer-events: none;";var getStyles$1=e=>{const s=makeGetSelector(e),i=(()=>{const g=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:s(dragHandle.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:g,dragging:noPointerEvents,dropAnimating:g}}})(),a=(()=>{const g=`
      transition: ${transitions.outOfTheWay};
    `;return{selector:s(draggable.contextId),styles:{dragging:g,dropAnimating:g,userCancel:g}}})(),o={selector:s(droppable.contextId),styles:{always:"overflow-anchor: none;"}},d=[a,i,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:getStyles(d,"always"),resting:getStyles(d,"resting"),dragging:getStyles(d,"dragging"),dropAnimating:getStyles(d,"dropAnimating"),userCancel:getStyles(d,"userCancel")}};const useIsomorphicLayoutEffect=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?reactExports.useLayoutEffect:reactExports.useEffect,getHead=()=>{const e=document.querySelector("head");return e||invariant(),e},createStyleEl=e=>{const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.type="text/css",s};function useStyleMarshal(e,s){const i=useMemo(()=>getStyles$1(e),[e]),a=reactExports.useRef(null),o=reactExports.useRef(null),c=useCallback(memoizeOne(_=>{const $=o.current;$||invariant(),$.textContent=_}),[]),d=useCallback(_=>{const $=a.current;$||invariant(),$.textContent=_},[]);useIsomorphicLayoutEffect(()=>{!a.current&&!o.current||invariant();const _=createStyleEl(s),$=createStyleEl(s);return a.current=_,o.current=$,_.setAttribute(`${prefix}-always`,e),$.setAttribute(`${prefix}-dynamic`,e),getHead().appendChild(_),getHead().appendChild($),d(i.always),c(i.resting),()=>{const rt=nt=>{const dt=nt.current;dt||invariant(),getHead().removeChild(dt),nt.current=null};rt(a),rt(o)}},[s,d,c,i.always,i.resting,e]);const g=useCallback(()=>c(i.dragging),[c,i.dragging]),h=useCallback(_=>{if(_==="DROP"){c(i.dropAnimating);return}c(i.userCancel)},[c,i.dropAnimating,i.userCancel]),b=useCallback(()=>{o.current&&c(i.resting)},[c,i.resting]);return useMemo(()=>({dragging:g,dropping:h,resting:b}),[g,h,b])}function querySelectorAll(e,s){return Array.from(e.querySelectorAll(s))}var getWindowFromEl=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function isHtmlElement(e){return e instanceof getWindowFromEl(e).HTMLElement}function findDragHandle(e,s){const i=`[${dragHandle.contextId}="${e}"]`,a=querySelectorAll(document,i);if(!a.length)return null;const o=a.find(c=>c.getAttribute(dragHandle.draggableId)===s);return!o||!isHtmlElement(o)?null:o}function useFocusMarshal(e){const s=reactExports.useRef({}),i=reactExports.useRef(null),a=reactExports.useRef(null),o=reactExports.useRef(!1),c=useCallback(function($,rt){const nt={id:$,focus:rt};return s.current[$]=nt,function(){const st=s.current;st[$]!==nt&&delete st[$]}},[]),d=useCallback(function($){const rt=findDragHandle(e,$);rt&&rt!==document.activeElement&&rt.focus()},[e]),g=useCallback(function($,rt){i.current===$&&(i.current=rt)},[]),h=useCallback(function(){a.current||o.current&&(a.current=requestAnimationFrame(()=>{a.current=null;const $=i.current;$&&d($)}))},[d]),b=useCallback(function($){i.current=null;const rt=document.activeElement;rt&&rt.getAttribute(dragHandle.draggableId)===$&&(i.current=$)},[]);return useIsomorphicLayoutEffect(()=>(o.current=!0,function(){o.current=!1;const $=a.current;$&&cancelAnimationFrame($)}),[]),useMemo(()=>({register:c,tryRecordFocus:b,tryRestoreFocusRecorded:h,tryShiftRecord:g}),[c,b,h,g])}function createRegistry(){const e={draggables:{},droppables:{}},s=[];function i(_){return s.push(_),function(){const rt=s.indexOf(_);rt!==-1&&s.splice(rt,1)}}function a(_){s.length&&s.forEach($=>$(_))}function o(_){return e.draggables[_]||null}function c(_){const $=o(_);return $||invariant(),$}const d={register:_=>{e.draggables[_.descriptor.id]=_,a({type:"ADDITION",value:_})},update:(_,$)=>{const rt=e.draggables[$.descriptor.id];rt&&rt.uniqueId===_.uniqueId&&(delete e.draggables[$.descriptor.id],e.draggables[_.descriptor.id]=_)},unregister:_=>{const $=_.descriptor.id,rt=o($);rt&&_.uniqueId===rt.uniqueId&&(delete e.draggables[$],e.droppables[_.descriptor.droppableId]&&a({type:"REMOVAL",value:_}))},getById:c,findById:o,exists:_=>!!o(_),getAllByType:_=>Object.values(e.draggables).filter($=>$.descriptor.type===_)};function g(_){return e.droppables[_]||null}function h(_){const $=g(_);return $||invariant(),$}const b={register:_=>{e.droppables[_.descriptor.id]=_},unregister:_=>{const $=g(_.descriptor.id);$&&_.uniqueId===$.uniqueId&&delete e.droppables[_.descriptor.id]},getById:h,findById:g,exists:_=>!!g(_),getAllByType:_=>Object.values(e.droppables).filter($=>$.descriptor.type===_)};function j(){e.draggables={},e.droppables={},s.length=0}return{draggable:d,droppable:b,subscribe:i,clean:j}}function useRegistry(){const e=useMemo(createRegistry,[]);return reactExports.useEffect(()=>function(){e.clean()},[e]),e}var StoreContext=React$1.createContext(null),getBodyElement=()=>{const e=document.body;return e||invariant(),e};const visuallyHidden={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},getId=e=>`rfd-announcement-${e}`;function useAnnouncer(e){const s=useMemo(()=>getId(e),[e]),i=reactExports.useRef(null);return reactExports.useEffect(function(){const c=document.createElement("div");return i.current=c,c.id=s,c.setAttribute("aria-live","assertive"),c.setAttribute("aria-atomic","true"),_extends(c.style,visuallyHidden),getBodyElement().appendChild(c),function(){setTimeout(function(){const h=getBodyElement();h.contains(c)&&h.removeChild(c),c===i.current&&(i.current=null)})}},[s]),useCallback(o=>{const c=i.current;if(c){c.textContent=o;return}},[])}const defaults={separator:"::"};function useUniqueId(e,s=defaults){const i=React$1.useId();return useMemo(()=>`${e}${s.separator}${i}`,[s.separator,e,i])}function getElementId({contextId:e,uniqueId:s}){return`rfd-hidden-text-${e}-${s}`}function useHiddenTextElement({contextId:e,text:s}){const i=useUniqueId("hidden-text",{separator:"-"}),a=useMemo(()=>getElementId({contextId:e,uniqueId:i}),[i,e]);return reactExports.useEffect(function(){const c=document.createElement("div");return c.id=a,c.textContent=s,c.style.display="none",getBodyElement().appendChild(c),function(){const g=getBodyElement();g.contains(c)&&g.removeChild(c)}},[a,s]),a}var AppContext=React$1.createContext(null);function usePrevious(e){const s=reactExports.useRef(e);return reactExports.useEffect(()=>{s.current=e}),s}function create(){let e=null;function s(){return!!e}function i(d){return d===e}function a(d){e&&invariant();const g={abandon:d};return e=g,g}function o(){e||invariant(),e=null}function c(){e&&(e.abandon(),o())}return{isClaimed:s,isActive:i,claim:a,release:o,tryAbandon:c}}function isDragging(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const tab=9,enter=13,escape$1=27,space=32,pageUp=33,pageDown=34,end=35,home=36,arrowLeft=37,arrowUp=38,arrowRight=39,arrowDown=40,preventedKeys={[enter]:!0,[tab]:!0};var preventStandardKeyEvents=e=>{preventedKeys[e.keyCode]&&e.preventDefault()};const supportedEventName=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(a=>`on${a}`in document)||e})(),primaryButton=0,sloppyClickThreshold=5;function isSloppyClickThresholdExceeded(e,s){return Math.abs(s.x-e.x)>=sloppyClickThreshold||Math.abs(s.y-e.y)>=sloppyClickThreshold}const idle$1={type:"IDLE"};function getCaptureBindings({cancel:e,completed:s,getPhase:i,setPhase:a}){return[{eventName:"mousemove",fn:o=>{const{button:c,clientX:d,clientY:g}=o;if(c!==primaryButton)return;const h={x:d,y:g},b=i();if(b.type==="DRAGGING"){o.preventDefault(),b.actions.move(h);return}b.type!=="PENDING"&&invariant();const j=b.point;if(!isSloppyClickThresholdExceeded(j,h))return;o.preventDefault();const _=b.actions.fluidLift(h);a({type:"DRAGGING",actions:_})}},{eventName:"mouseup",fn:o=>{const c=i();if(c.type!=="DRAGGING"){e();return}o.preventDefault(),c.actions.drop({shouldBlockNextClick:!0}),s()}},{eventName:"mousedown",fn:o=>{i().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:o=>{if(i().type==="PENDING"){e();return}if(o.keyCode===escape$1){o.preventDefault(),e();return}preventStandardKeyEvents(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{i().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:o=>{const c=i();if(c.type==="IDLE"&&invariant(),c.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:supportedEventName,fn:e}]}function useMouseSensor(e){const s=reactExports.useRef(idle$1),i=reactExports.useRef(noop$2),a=useMemo(()=>({eventName:"mousedown",fn:function(_){if(_.defaultPrevented||_.button!==primaryButton||_.ctrlKey||_.metaKey||_.shiftKey||_.altKey)return;const $=e.findClosestDraggableId(_);if(!$)return;const rt=e.tryGetLock($,d,{sourceEvent:_});if(!rt)return;_.preventDefault();const nt={x:_.clientX,y:_.clientY};i.current(),b(rt,nt)}}),[e]),o=useMemo(()=>({eventName:"webkitmouseforcewillbegin",fn:j=>{if(j.defaultPrevented)return;const _=e.findClosestDraggableId(j);if(!_)return;const $=e.findOptionsForDraggable(_);$&&($.shouldRespectForcePress||e.canGetLock(_)&&j.preventDefault())}}),[e]),c=useCallback(function(){const _={passive:!1,capture:!0};i.current=bindEvents(window,[o,a],_)},[o,a]),d=useCallback(()=>{s.current.type!=="IDLE"&&(s.current=idle$1,i.current(),c())},[c]),g=useCallback(()=>{const j=s.current;d(),j.type==="DRAGGING"&&j.actions.cancel({shouldBlockNextClick:!0}),j.type==="PENDING"&&j.actions.abort()},[d]),h=useCallback(function(){const _={capture:!0,passive:!1},$=getCaptureBindings({cancel:g,completed:d,getPhase:()=>s.current,setPhase:rt=>{s.current=rt}});i.current=bindEvents(window,$,_)},[g,d]),b=useCallback(function(_,$){s.current.type!=="IDLE"&&invariant(),s.current={type:"PENDING",point:$,actions:_},h()},[h]);useIsomorphicLayoutEffect(function(){return c(),function(){i.current()}},[c])}function noop$1(){}const scrollJumpKeys={[pageDown]:!0,[pageUp]:!0,[home]:!0,[end]:!0};function getDraggingBindings(e,s){function i(){s(),e.cancel()}function a(){s(),e.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===escape$1){o.preventDefault(),i();return}if(o.keyCode===space){o.preventDefault(),a();return}if(o.keyCode===arrowDown){o.preventDefault(),e.moveDown();return}if(o.keyCode===arrowUp){o.preventDefault(),e.moveUp();return}if(o.keyCode===arrowRight){o.preventDefault(),e.moveRight();return}if(o.keyCode===arrowLeft){o.preventDefault(),e.moveLeft();return}if(scrollJumpKeys[o.keyCode]){o.preventDefault();return}preventStandardKeyEvents(o)}},{eventName:"mousedown",fn:i},{eventName:"mouseup",fn:i},{eventName:"click",fn:i},{eventName:"touchstart",fn:i},{eventName:"resize",fn:i},{eventName:"wheel",fn:i,options:{passive:!0}},{eventName:supportedEventName,fn:i}]}function useKeyboardSensor(e){const s=reactExports.useRef(noop$1),i=useMemo(()=>({eventName:"keydown",fn:function(c){if(c.defaultPrevented||c.keyCode!==space)return;const d=e.findClosestDraggableId(c);if(!d)return;const g=e.tryGetLock(d,j,{sourceEvent:c});if(!g)return;c.preventDefault();let h=!0;const b=g.snapLift();s.current();function j(){h||invariant(),h=!1,s.current(),a()}s.current=bindEvents(window,getDraggingBindings(b,j),{capture:!0,passive:!1})}}),[e]),a=useCallback(function(){const c={passive:!1,capture:!0};s.current=bindEvents(window,[i],c)},[i]);useIsomorphicLayoutEffect(function(){return a(),function(){s.current()}},[a])}const idle={type:"IDLE"},timeForLongPress=120,forcePressThreshold=.15;function getWindowBindings({cancel:e,getPhase:s}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:i=>{i.preventDefault()}},{eventName:"keydown",fn:i=>{if(s().type!=="DRAGGING"){e();return}i.keyCode===escape$1&&i.preventDefault(),e()}},{eventName:supportedEventName,fn:e}]}function getHandleBindings({cancel:e,completed:s,getPhase:i}){return[{eventName:"touchmove",options:{capture:!1},fn:a=>{const o=i();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;const{clientX:c,clientY:d}=a.touches[0],g={x:c,y:d};a.preventDefault(),o.actions.move(g)}},{eventName:"touchend",fn:a=>{const o=i();if(o.type!=="DRAGGING"){e();return}a.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),s()}},{eventName:"touchcancel",fn:a=>{if(i().type!=="DRAGGING"){e();return}a.preventDefault(),e()}},{eventName:"touchforcechange",fn:a=>{const o=i();o.type==="IDLE"&&invariant();const c=a.touches[0];if(!c||!(c.force>=forcePressThreshold))return;const g=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){g&&e();return}if(g){if(o.hasMoved){a.preventDefault();return}e();return}a.preventDefault()}},{eventName:supportedEventName,fn:e}]}function useTouchSensor(e){const s=reactExports.useRef(idle),i=reactExports.useRef(noop$2),a=useCallback(function(){return s.current},[]),o=useCallback(function(rt){s.current=rt},[]),c=useMemo(()=>({eventName:"touchstart",fn:function(rt){if(rt.defaultPrevented)return;const nt=e.findClosestDraggableId(rt);if(!nt)return;const dt=e.tryGetLock(nt,g,{sourceEvent:rt});if(!dt)return;const st=rt.touches[0],{clientX:_e,clientY:tt}=st,it={x:_e,y:tt};i.current(),_(dt,it)}}),[e]),d=useCallback(function(){const rt={capture:!0,passive:!1};i.current=bindEvents(window,[c],rt)},[c]),g=useCallback(()=>{const $=s.current;$.type!=="IDLE"&&($.type==="PENDING"&&clearTimeout($.longPressTimerId),o(idle),i.current(),d())},[d,o]),h=useCallback(()=>{const $=s.current;g(),$.type==="DRAGGING"&&$.actions.cancel({shouldBlockNextClick:!0}),$.type==="PENDING"&&$.actions.abort()},[g]),b=useCallback(function(){const rt={capture:!0,passive:!1},nt={cancel:h,completed:g,getPhase:a},dt=bindEvents(window,getHandleBindings(nt),rt),st=bindEvents(window,getWindowBindings(nt),rt);i.current=function(){dt(),st()}},[h,a,g]),j=useCallback(function(){const rt=a();rt.type!=="PENDING"&&invariant();const nt=rt.actions.fluidLift(rt.point);o({type:"DRAGGING",actions:nt,hasMoved:!1})},[a,o]),_=useCallback(function(rt,nt){a().type!=="IDLE"&&invariant();const dt=setTimeout(j,timeForLongPress);o({type:"PENDING",point:nt,actions:rt,longPressTimerId:dt}),b()},[b,a,o,j]);useIsomorphicLayoutEffect(function(){return d(),function(){i.current();const nt=a();nt.type==="PENDING"&&(clearTimeout(nt.longPressTimerId),o(idle))}},[a,d,o]),useIsomorphicLayoutEffect(function(){return bindEvents(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const interactiveTagNames=["input","button","textarea","select","option","optgroup","video","audio"];function isAnInteractiveElement(e,s){if(s==null)return!1;if(interactiveTagNames.includes(s.tagName.toLowerCase()))return!0;const a=s.getAttribute("contenteditable");return a==="true"||a===""?!0:s===e?!1:isAnInteractiveElement(e,s.parentElement)}function isEventInInteractiveElement(e,s){const i=s.target;return isHtmlElement(i)?isAnInteractiveElement(e,i):!1}var getBorderBoxCenterPosition=e=>getRect(e.getBoundingClientRect()).center;function isElement(e){return e instanceof getWindowFromEl(e).Element}const supportedMatchesName=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(a=>a in Element.prototype)||e})();function closestPonyfill(e,s){return e==null?null:e[supportedMatchesName](s)?e:closestPonyfill(e.parentElement,s)}function closest(e,s){return e.closest?e.closest(s):closestPonyfill(e,s)}function getSelector(e){return`[${dragHandle.contextId}="${e}"]`}function findClosestDragHandleFromEvent(e,s){const i=s.target;if(!isElement(i))return null;const a=getSelector(e),o=closest(i,a);return!o||!isHtmlElement(o)?null:o}function tryGetClosestDraggableIdFromEvent(e,s){const i=findClosestDragHandleFromEvent(e,s);return i?i.getAttribute(dragHandle.draggableId):null}function findDraggable(e,s){const i=`[${draggable.contextId}="${e}"]`,o=querySelectorAll(document,i).find(c=>c.getAttribute(draggable.id)===s);return!o||!isHtmlElement(o)?null:o}function preventDefault(e){e.preventDefault()}function isActive({expected:e,phase:s,isLockActive:i,shouldWarn:a}){return!(!i()||e!==s)}function canStart({lockAPI:e,store:s,registry:i,draggableId:a}){if(e.isClaimed())return!1;const o=i.draggable.findById(a);return!(!o||!o.options.isEnabled||!canStartDrag(s.getState(),a))}function tryStart({lockAPI:e,contextId:s,store:i,registry:a,draggableId:o,forceSensorStop:c,sourceEvent:d}){if(!canStart({lockAPI:e,store:i,registry:a,draggableId:o}))return null;const h=a.draggable.getById(o),b=findDraggable(s,h.descriptor.id);if(!b||d&&!h.options.canDragInteractiveElements&&isEventInInteractiveElement(b,d))return null;const j=e.claim(c||noop$2);let _="PRE_DRAG";function $(){return h.options.shouldRespectForcePress}function rt(){return e.isActive(j)}function nt(ot,pt){isActive({expected:ot,phase:_,isLockActive:rt,shouldWarn:!0})&&i.dispatch(pt())}const dt=nt.bind(null,"DRAGGING");function st(ot){function pt(){e.release(),_="COMPLETED"}_!=="PRE_DRAG"&&(pt(),invariant()),i.dispatch(lift$1(ot.liftActionArgs)),_="DRAGGING";function et(at,ht={shouldBlockNextClick:!1}){if(ot.cleanup(),ht.shouldBlockNextClick){const xt=bindEvents(window,[{eventName:"click",fn:preventDefault,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(xt)}pt(),i.dispatch(drop({reason:at}))}return{isActive:()=>isActive({expected:"DRAGGING",phase:_,isLockActive:rt,shouldWarn:!1}),shouldRespectForcePress:$,drop:at=>et("DROP",at),cancel:at=>et("CANCEL",at),...ot.actions}}function _e(ot){const pt=rafSchd(at=>{dt(()=>move({client:at}))});return{...st({liftActionArgs:{id:o,clientSelection:ot,movementMode:"FLUID"},cleanup:()=>pt.cancel(),actions:{move:pt}}),move:pt}}function tt(){const ot={moveUp:()=>dt(moveUp),moveRight:()=>dt(moveRight),moveDown:()=>dt(moveDown),moveLeft:()=>dt(moveLeft)};return st({liftActionArgs:{id:o,clientSelection:getBorderBoxCenterPosition(b),movementMode:"SNAP"},cleanup:noop$2,actions:ot})}function it(){isActive({expected:"PRE_DRAG",phase:_,isLockActive:rt,shouldWarn:!0})&&e.release()}return{isActive:()=>isActive({expected:"PRE_DRAG",phase:_,isLockActive:rt,shouldWarn:!1}),shouldRespectForcePress:$,fluidLift:_e,snapLift:tt,abort:it}}const defaultSensors=[useMouseSensor,useKeyboardSensor,useTouchSensor];function useSensorMarshal({contextId:e,store:s,registry:i,customSensors:a,enableDefaultSensors:o}){const c=[...o?defaultSensors:[],...a||[]],d=reactExports.useState(()=>create())[0],g=useCallback(function(st,_e){isDragging(st)&&!isDragging(_e)&&d.tryAbandon()},[d]);useIsomorphicLayoutEffect(function(){let st=s.getState();return s.subscribe(()=>{const tt=s.getState();g(st,tt),st=tt})},[d,s,g]),useIsomorphicLayoutEffect(()=>d.tryAbandon,[d.tryAbandon]);const h=useCallback(dt=>canStart({lockAPI:d,registry:i,store:s,draggableId:dt}),[d,i,s]),b=useCallback((dt,st,_e)=>tryStart({lockAPI:d,registry:i,contextId:e,store:s,draggableId:dt,forceSensorStop:st||null,sourceEvent:_e&&_e.sourceEvent?_e.sourceEvent:null}),[e,d,i,s]),j=useCallback(dt=>tryGetClosestDraggableIdFromEvent(e,dt),[e]),_=useCallback(dt=>{const st=i.draggable.findById(dt);return st?st.options:null},[i.draggable]),$=useCallback(function(){d.isClaimed()&&(d.tryAbandon(),s.getState().phase!=="IDLE"&&s.dispatch(flush()))},[d,s]),rt=useCallback(()=>d.isClaimed(),[d]),nt=useMemo(()=>({canGetLock:h,tryGetLock:b,findClosestDraggableId:j,findOptionsForDraggable:_,tryReleaseLock:$,isLockClaimed:rt}),[h,b,j,_,$,rt]);for(let dt=0;dt<c.length;dt++)c[dt](nt)}const createResponders=e=>({onBeforeCapture:s=>{const i=()=>{e.onBeforeCapture&&e.onBeforeCapture(s)};reactDomExports.flushSync(i)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),createAutoScrollerOptions=e=>({...defaultAutoScrollerOptions,...e.autoScrollerOptions,durationDampening:{...defaultAutoScrollerOptions.durationDampening,...e.autoScrollerOptions}});function getStore(e){return e.current||invariant(),e.current}function App$1(e){const{contextId:s,setCallbacks:i,sensors:a,nonce:o,dragHandleUsageInstructions:c}=e,d=reactExports.useRef(null),g=usePrevious(e),h=useCallback(()=>createResponders(g.current),[g]),b=useCallback(()=>createAutoScrollerOptions(g.current),[g]),j=useAnnouncer(s),_=useHiddenTextElement({contextId:s,text:c}),$=useStyleMarshal(s,o),rt=useCallback(xt=>{getStore(d).dispatch(xt)},[]),nt=useMemo(()=>bindActionCreators$1({publishWhileDragging,updateDroppableScroll,updateDroppableIsEnabled,updateDroppableIsCombineEnabled,collectionStarting},rt),[rt]),dt=useRegistry(),st=useMemo(()=>createDimensionMarshal(dt,nt),[dt,nt]),_e=useMemo(()=>createAutoScroller({scrollWindow,scrollDroppable:st.scrollDroppable,getAutoScrollerOptions:b,...bindActionCreators$1({move},rt)}),[st.scrollDroppable,rt,b]),tt=useFocusMarshal(s),it=useMemo(()=>createStore({announce:j,autoScroller:_e,dimensionMarshal:st,focusMarshal:tt,getResponders:h,styleMarshal:$}),[j,_e,st,tt,h,$]);d.current=it;const ct=useCallback(()=>{const xt=getStore(d);xt.getState().phase!=="IDLE"&&xt.dispatch(flush())},[]),ot=useCallback(()=>{const xt=getStore(d).getState();return xt.phase==="DROP_ANIMATING"?!0:xt.phase==="IDLE"?!1:xt.isDragging},[]),pt=useMemo(()=>({isDragging:ot,tryAbort:ct}),[ot,ct]);i(pt);const et=useCallback(xt=>canStartDrag(getStore(d).getState(),xt),[]),at=useCallback(()=>isMovementAllowed(getStore(d).getState()),[]),ht=useMemo(()=>({marshal:st,focus:tt,contextId:s,canLift:et,isMovementAllowed:at,dragHandleUsageInstructionsId:_,registry:dt}),[s,st,_,tt,et,at,dt]);return useSensorMarshal({contextId:s,store:it,registry:dt,customSensors:a||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),reactExports.useEffect(()=>ct,[ct]),React$1.createElement(AppContext.Provider,{value:ht},React$1.createElement(Provider_default,{context:StoreContext,store:it},e.children))}function useUniqueContextId(){return React$1.useId()}function DragDropContext(e){const s=useUniqueContextId(),i=e.dragHandleUsageInstructions||preset.dragHandleUsageInstructions;return React$1.createElement(ErrorBoundary,null,a=>React$1.createElement(App$1,{nonce:e.nonce,contextId:s,setCallbacks:a,dragHandleUsageInstructions:i,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const zIndexOptions={dragging:5e3,dropAnimating:4500},getDraggingTransition=(e,s)=>s?transitions.drop(s.duration):e?transitions.snap:transitions.fluid,getDraggingOpacity=(e,s)=>{if(e)return s?combine.opacity.drop:combine.opacity.combining},getShouldDraggingAnimate=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function getDraggingStyle(e){const i=e.dimension.client,{offset:a,combineWith:o,dropping:c}=e,d=!!o,g=getShouldDraggingAnimate(e),h=!!c,b=h?transforms.drop(a,d):transforms.moveTo(a);return{position:"fixed",top:i.marginBox.top,left:i.marginBox.left,boxSizing:"border-box",width:i.borderBox.width,height:i.borderBox.height,transition:getDraggingTransition(g,c),transform:b,opacity:getDraggingOpacity(d,h),zIndex:h?zIndexOptions.dropAnimating:zIndexOptions.dragging,pointerEvents:"none"}}function getSecondaryStyle(e){return{transform:transforms.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function getStyle$1(e){return e.type==="DRAGGING"?getDraggingStyle(e):getSecondaryStyle(e)}function getDimension$1(e,s,i=origin){const a=window.getComputedStyle(s),o=s.getBoundingClientRect(),c=calculateBox(o,a),d=withScroll(c,i),g={client:c,tagName:s.tagName.toLowerCase(),display:a.display},h={x:c.marginBox.width,y:c.marginBox.height};return{descriptor:e,placeholder:g,displaceBy:h,client:c,page:d}}function useDraggablePublisher(e){const s=useUniqueId("draggable"),{descriptor:i,registry:a,getDraggableRef:o,canDragInteractiveElements:c,shouldRespectForcePress:d,isEnabled:g}=e,h=useMemo(()=>({canDragInteractiveElements:c,shouldRespectForcePress:d,isEnabled:g}),[c,g,d]),b=useCallback(rt=>{const nt=o();return nt||invariant(),getDimension$1(i,nt,rt)},[i,o]),j=useMemo(()=>({uniqueId:s,descriptor:i,options:h,getDimension:b}),[i,b,h,s]),_=reactExports.useRef(j),$=reactExports.useRef(!0);useIsomorphicLayoutEffect(()=>(a.draggable.register(_.current),()=>a.draggable.unregister(_.current)),[a.draggable]),useIsomorphicLayoutEffect(()=>{if($.current){$.current=!1;return}const rt=_.current;_.current=j,a.draggable.update(j,rt)},[j,a.draggable])}var DroppableContext=React$1.createContext(null);function useRequiredContext(e){const s=reactExports.useContext(e);return s||invariant(),s}function preventHtml5Dnd(e){e.preventDefault()}const Draggable=e=>{const s=reactExports.useRef(null),i=useCallback((pt=null)=>{s.current=pt},[]),a=useCallback(()=>s.current,[]),{contextId:o,dragHandleUsageInstructionsId:c,registry:d}=useRequiredContext(AppContext),{type:g,droppableId:h}=useRequiredContext(DroppableContext),b=useMemo(()=>({id:e.draggableId,index:e.index,type:g,droppableId:h}),[e.draggableId,e.index,g,h]),{children:j,draggableId:_,isEnabled:$,shouldRespectForcePress:rt,canDragInteractiveElements:nt,isClone:dt,mapped:st,dropAnimationFinished:_e}=e;if(!dt){const pt=useMemo(()=>({descriptor:b,registry:d,getDraggableRef:a,canDragInteractiveElements:nt,shouldRespectForcePress:rt,isEnabled:$}),[b,d,a,nt,rt,$]);useDraggablePublisher(pt)}const tt=useMemo(()=>$?{tabIndex:0,role:"button","aria-describedby":c,"data-rfd-drag-handle-draggable-id":_,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:preventHtml5Dnd}:null,[o,c,_,$]),it=useCallback(pt=>{st.type==="DRAGGING"&&st.dropping&&pt.propertyName==="transform"&&reactDomExports.flushSync(_e)},[_e,st]),ct=useMemo(()=>{const pt=getStyle$1(st),et=st.type==="DRAGGING"&&st.dropping?it:void 0;return{innerRef:i,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":_,style:pt,onTransitionEnd:et},dragHandleProps:tt}},[o,tt,_,st,it,i]),ot=useMemo(()=>({draggableId:b.id,type:b.type,source:{index:b.index,droppableId:b.droppableId}}),[b.droppableId,b.id,b.index,b.type]);return React$1.createElement(React$1.Fragment,null,j(ct,st.snapshot,ot))};var isStrictEqual=(e,s)=>e===s,whatIsDraggedOverFromResult=e=>{const{combine:s,destination:i}=e;return i?i.droppableId:s?s.droppableId:null};const getCombineWithFromResult=e=>e.combine?e.combine.draggableId:null,getCombineWithFromImpact=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function getDraggableSelector(){const e=memoizeOne((o,c)=>({x:o,y:c})),s=memoizeOne((o,c,d=null,g=null,h=null)=>({isDragging:!0,isClone:c,isDropAnimating:!!h,dropAnimation:h,mode:o,draggingOver:d,combineWith:g,combineTargetFor:null})),i=memoizeOne((o,c,d,g,h=null,b=null,j=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:h,combineWith:b,mode:c,offset:o,dimension:d,forceShouldAnimate:j,snapshot:s(c,g,h,b,null)}}));return(o,c)=>{if(isDragging(o)){if(o.critical.draggable.id!==c.draggableId)return null;const d=o.current.client.offset,g=o.dimensions.draggables[c.draggableId],h=whatIsDraggedOver(o.impact),b=getCombineWithFromImpact(o.impact),j=o.forceShouldAnimate;return i(e(d.x,d.y),o.movementMode,g,c.isClone,h,b,j)}if(o.phase==="DROP_ANIMATING"){const d=o.completed;if(d.result.draggableId!==c.draggableId)return null;const g=c.isClone,h=o.dimensions.draggables[c.draggableId],b=d.result,j=b.mode,_=whatIsDraggedOverFromResult(b),$=getCombineWithFromResult(b),nt={duration:o.dropDuration,curve:curves.drop,moveTo:o.newHomeClientOffset,opacity:$?combine.opacity.drop:null,scale:$?combine.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:h,dropping:nt,draggingOver:_,combineWith:$,mode:j,forceShouldAnimate:null,snapshot:s(j,g,_,$,nt)}}}return null}}function getSecondarySnapshot(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const atRest={mapped:{type:"SECONDARY",offset:origin,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:getSecondarySnapshot(null)}};function getSecondarySelector(){const e=memoizeOne((d,g)=>({x:d,y:g})),s=memoizeOne(getSecondarySnapshot),i=memoizeOne((d,g=null,h)=>({mapped:{type:"SECONDARY",offset:d,combineTargetFor:g,shouldAnimateDisplacement:h,snapshot:s(g)}})),a=d=>d?i(origin,d,!0):null,o=(d,g,h,b)=>{const j=h.displaced.visible[d],_=!!(b.inVirtualList&&b.effected[d]),$=tryGetCombine(h),rt=$&&$.draggableId===d?g:null;if(!j){if(!_)return a(rt);if(h.displaced.invisible[d])return null;const st=negate(b.displacedBy.point),_e=e(st.x,st.y);return i(_e,rt,!0)}if(_)return a(rt);const nt=h.displacedBy.point,dt=e(nt.x,nt.y);return i(dt,rt,j.shouldAnimate)};return(d,g)=>{if(isDragging(d))return d.critical.draggable.id===g.draggableId?null:o(g.draggableId,d.critical.draggable.id,d.impact,d.afterCritical);if(d.phase==="DROP_ANIMATING"){const h=d.completed;return h.result.draggableId===g.draggableId?null:o(g.draggableId,h.result.draggableId,h.impact,h.afterCritical)}return null}}const makeMapStateToProps$1=()=>{const e=getDraggableSelector(),s=getSecondarySelector();return(a,o)=>e(a,o)||s(a,o)||atRest},mapDispatchToProps$1={dropAnimationFinished},ConnectedDraggable=connect_default(makeMapStateToProps$1,mapDispatchToProps$1,null,{context:StoreContext,areStatePropsEqual:isStrictEqual})(Draggable);function PrivateDraggable(e){return useRequiredContext(DroppableContext).isUsingCloneFor===e.draggableId&&!e.isClone?null:React$1.createElement(ConnectedDraggable,e)}function PublicDraggable(e){const s=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,i=!!e.disableInteractiveElementBlocking,a=!!e.shouldRespectForcePress;return React$1.createElement(PrivateDraggable,_extends({},e,{isClone:!1,isEnabled:s,canDragInteractiveElements:i,shouldRespectForcePress:a}))}const isEqual=e=>s=>e===s,isScroll=isEqual("scroll"),isAuto=isEqual("auto"),isEither=(e,s)=>s(e.overflowX)||s(e.overflowY),isElementScrollable=e=>{const s=window.getComputedStyle(e),i={overflowX:s.overflowX,overflowY:s.overflowY};return isEither(i,isScroll)||isEither(i,isAuto)},isBodyScrollable=()=>!1,getClosestScrollable=e=>e==null?null:e===document.body?isBodyScrollable()?e:null:e===document.documentElement?null:isElementScrollable(e)?e:getClosestScrollable(e.parentElement);var getScroll=e=>({x:e.scrollLeft,y:e.scrollTop});const getIsFixed=e=>e?window.getComputedStyle(e).position==="fixed"?!0:getIsFixed(e.parentElement):!1;var getEnv=e=>{const s=getClosestScrollable(e),i=getIsFixed(e);return{closestScrollable:s,isFixedOnPage:i}},getDroppableDimension=({descriptor:e,isEnabled:s,isCombineEnabled:i,isFixedOnPage:a,direction:o,client:c,page:d,closest:g})=>{const h=(()=>{if(!g)return null;const{scrollSize:$,client:rt}=g,nt=getMaxScroll({scrollHeight:$.scrollHeight,scrollWidth:$.scrollWidth,height:rt.paddingBox.height,width:rt.paddingBox.width});return{pageMarginBox:g.page.marginBox,frameClient:rt,scrollSize:$,shouldClipSubject:g.shouldClipSubject,scroll:{initial:g.scroll,current:g.scroll,max:nt,diff:{value:origin,displacement:origin}}}})(),b=o==="vertical"?vertical:horizontal,j=getSubject({page:d,withPlaceholder:null,axis:b,frame:h});return{descriptor:e,isCombineEnabled:i,isFixedOnPage:a,axis:b,isEnabled:s,client:c,page:d,frame:h,subject:j}};const getClient=(e,s)=>{const i=getBox(e);if(!s||e!==s)return i;const a=i.paddingBox.top-s.scrollTop,o=i.paddingBox.left-s.scrollLeft,c=a+s.scrollHeight,d=o+s.scrollWidth,h=expand({top:a,right:d,bottom:c,left:o},i.border);return createBox({borderBox:h,margin:i.margin,border:i.border,padding:i.padding})};var getDimension=({ref:e,descriptor:s,env:i,windowScroll:a,direction:o,isDropDisabled:c,isCombineEnabled:d,shouldClipSubject:g})=>{const h=i.closestScrollable,b=getClient(e,h),j=withScroll(b,a),_=(()=>{if(!h)return null;const rt=getBox(h),nt={scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth};return{client:rt,page:withScroll(rt,a),scroll:getScroll(h),scrollSize:nt,shouldClipSubject:g}})();return getDroppableDimension({descriptor:s,isEnabled:!c,isCombineEnabled:d,isFixedOnPage:i.isFixedOnPage,direction:o,client:b,page:j,closest:_})};const immediate={passive:!1},delayed={passive:!0};var getListenerOptions=e=>e.shouldPublishImmediately?immediate:delayed;const getClosestScrollableFromDrag=e=>e&&e.env.closestScrollable||null;function useDroppablePublisher(e){const s=reactExports.useRef(null),i=useRequiredContext(AppContext),a=useUniqueId("droppable"),{registry:o,marshal:c}=i,d=usePrevious(e),g=useMemo(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),h=reactExports.useRef(g),b=useMemo(()=>memoizeOne((ct,ot)=>{s.current||invariant();const pt={x:ct,y:ot};c.updateDroppableScroll(g.id,pt)}),[g.id,c]),j=useCallback(()=>{const ct=s.current;return!ct||!ct.env.closestScrollable?origin:getScroll(ct.env.closestScrollable)},[]),_=useCallback(()=>{const ct=j();b(ct.x,ct.y)},[j,b]),$=useMemo(()=>rafSchd(_),[_]),rt=useCallback(()=>{const ct=s.current,ot=getClosestScrollableFromDrag(ct);if(ct&&ot||invariant(),ct.scrollOptions.shouldPublishImmediately){_();return}$()},[$,_]),nt=useCallback((ct,ot)=>{s.current&&invariant();const pt=d.current,et=pt.getDroppableRef();et||invariant();const at=getEnv(et),ht={ref:et,descriptor:g,env:at,scrollOptions:ot};s.current=ht;const xt=getDimension({ref:et,descriptor:g,env:at,windowScroll:ct,direction:pt.direction,isDropDisabled:pt.isDropDisabled,isCombineEnabled:pt.isCombineEnabled,shouldClipSubject:!pt.ignoreContainerClipping}),ut=at.closestScrollable;return ut&&(ut.setAttribute(scrollContainer.contextId,i.contextId),ut.addEventListener("scroll",rt,getListenerOptions(ht.scrollOptions))),xt},[i.contextId,g,rt,d]),dt=useCallback(()=>{const ct=s.current,ot=getClosestScrollableFromDrag(ct);return ct&&ot||invariant(),getScroll(ot)},[]),st=useCallback(()=>{const ct=s.current;ct||invariant();const ot=getClosestScrollableFromDrag(ct);s.current=null,ot&&($.cancel(),ot.removeAttribute(scrollContainer.contextId),ot.removeEventListener("scroll",rt,getListenerOptions(ct.scrollOptions)))},[rt,$]),_e=useCallback(ct=>{const ot=s.current;ot||invariant();const pt=getClosestScrollableFromDrag(ot);pt||invariant(),pt.scrollTop+=ct.y,pt.scrollLeft+=ct.x},[]),tt=useMemo(()=>({getDimensionAndWatchScroll:nt,getScrollWhileDragging:dt,dragStopped:st,scroll:_e}),[st,nt,dt,_e]),it=useMemo(()=>({uniqueId:a,descriptor:g,callbacks:tt}),[tt,g,a]);useIsomorphicLayoutEffect(()=>(h.current=it.descriptor,o.droppable.register(it),()=>{s.current&&st(),o.droppable.unregister(it)}),[tt,g,st,it,c,o.droppable]),useIsomorphicLayoutEffect(()=>{s.current&&c.updateDroppableIsEnabled(h.current.id,!e.isDropDisabled)},[e.isDropDisabled,c]),useIsomorphicLayoutEffect(()=>{s.current&&c.updateDroppableIsCombineEnabled(h.current.id,e.isCombineEnabled)},[e.isCombineEnabled,c])}function noop(){}const empty={width:0,height:0,margin:noSpacing},getSize=({isAnimatingOpenOnMount:e,placeholder:s,animate:i})=>e||i==="close"?empty:{height:s.client.borderBox.height,width:s.client.borderBox.width,margin:s.client.margin},getStyle=({isAnimatingOpenOnMount:e,placeholder:s,animate:i})=>{const a=getSize({isAnimatingOpenOnMount:e,placeholder:s,animate:i});return{display:s.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?transitions.placeholder:null}},Placeholder=e=>{const s=reactExports.useRef(null),i=useCallback(()=>{s.current&&(clearTimeout(s.current),s.current=null)},[]),{animate:a,onTransitionEnd:o,onClose:c,contextId:d}=e,[g,h]=reactExports.useState(e.animate==="open");reactExports.useEffect(()=>g?a!=="open"?(i(),h(!1),noop):s.current?noop:(s.current=setTimeout(()=>{s.current=null,h(!1)}),i):noop,[a,g,i]);const b=useCallback(_=>{_.propertyName==="height"&&(o(),a==="close"&&c())},[a,c,o]),j=getStyle({isAnimatingOpenOnMount:g,animate:e.animate,placeholder:e.placeholder});return React$1.createElement(e.placeholder.tagName,{style:j,"data-rfd-placeholder-context-id":d,onTransitionEnd:b,ref:e.innerRef})};var Placeholder$1=React$1.memo(Placeholder);class AnimateInOut extends React$1.PureComponent{constructor(...s){super(...s),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(s,i){return s.shouldAnimate?s.on?{isVisible:!0,data:s.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!s.on,data:s.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const s={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(s)}}const Droppable=e=>{const s=reactExports.useContext(AppContext);s||invariant();const{contextId:i,isMovementAllowed:a}=s,o=reactExports.useRef(null),c=reactExports.useRef(null),{children:d,droppableId:g,type:h,mode:b,direction:j,ignoreContainerClipping:_,isDropDisabled:$,isCombineEnabled:rt,snapshot:nt,useClone:dt,updateViewportMaxScroll:st,getContainerForClone:_e}=e,tt=useCallback(()=>o.current,[]),it=useCallback((ut=null)=>{o.current=ut},[]);useCallback(()=>c.current,[]);const ct=useCallback((ut=null)=>{c.current=ut},[]),ot=useCallback(()=>{a()&&st({maxScroll:getMaxWindowScroll()})},[a,st]);useDroppablePublisher({droppableId:g,type:h,mode:b,direction:j,isDropDisabled:$,isCombineEnabled:rt,ignoreContainerClipping:_,getDroppableRef:tt});const pt=useMemo(()=>React$1.createElement(AnimateInOut,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:ut,data:gt,animate:Et})=>React$1.createElement(Placeholder$1,{placeholder:gt,onClose:ut,innerRef:ct,animate:Et,contextId:i,onTransitionEnd:ot})),[i,ot,e.placeholder,e.shouldAnimatePlaceholder,ct]),et=useMemo(()=>({innerRef:it,placeholder:pt,droppableProps:{"data-rfd-droppable-id":g,"data-rfd-droppable-context-id":i}}),[i,g,pt,it]),at=dt?dt.dragging.draggableId:null,ht=useMemo(()=>({droppableId:g,type:h,isUsingCloneFor:at}),[g,at,h]);function xt(){if(!dt)return null;const{dragging:ut,render:gt}=dt,Et=React$1.createElement(PrivateDraggable,{draggableId:ut.draggableId,index:ut.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Mt,Nt)=>gt(Mt,Nt,ut));return ReactDOM.createPortal(Et,_e())}return React$1.createElement(DroppableContext.Provider,{value:ht},d(et,nt),xt())};function getBody(){return document.body||invariant(),document.body}const defaultProps={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:getBody},attachDefaultPropsToOwnProps=e=>{let s={...e},i;for(i in defaultProps)e[i]===void 0&&(s={...s,[i]:defaultProps[i]});return s},isMatchingType=(e,s)=>e===s.droppable.type,getDraggable=(e,s)=>s.draggables[e.draggable.id],makeMapStateToProps=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},s={...e,shouldAnimatePlaceholder:!1},i=memoizeOne(c=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}})),a=memoizeOne((c,d,g,h,b,j)=>{const _=b.descriptor.id;if(b.descriptor.droppableId===c){const nt=j?{render:j,dragging:i(b.descriptor)}:null,dt={isDraggingOver:g,draggingOverWith:g?_:null,draggingFromThisWith:_,isUsingPlaceholder:!0};return{placeholder:b.placeholder,shouldAnimatePlaceholder:!1,snapshot:dt,useClone:nt}}if(!d)return s;if(!h)return e;const rt={isDraggingOver:g,draggingOverWith:_,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:b.placeholder,shouldAnimatePlaceholder:!0,snapshot:rt,useClone:null}});return(c,d)=>{const g=attachDefaultPropsToOwnProps(d),h=g.droppableId,b=g.type,j=!g.isDropDisabled,_=g.renderClone;if(isDragging(c)){const $=c.critical;if(!isMatchingType(b,$))return s;const rt=getDraggable($,c.dimensions),nt=whatIsDraggedOver(c.impact)===h;return a(h,j,nt,nt,rt,_)}if(c.phase==="DROP_ANIMATING"){const $=c.completed;if(!isMatchingType(b,$.critical))return s;const rt=getDraggable($.critical,c.dimensions);return a(h,j,whatIsDraggedOverFromResult($.result)===h,whatIsDraggedOver($.impact)===h,rt,_)}if(c.phase==="IDLE"&&c.completed&&!c.shouldFlush){const $=c.completed;if(!isMatchingType(b,$.critical))return s;const rt=whatIsDraggedOver($.impact)===h,nt=!!($.impact.at&&$.impact.at.type==="COMBINE"),dt=$.critical.droppable.id===h;return rt?nt?e:s:dt?e:s}return s}},mapDispatchToProps={updateViewportMaxScroll},ConnectedDroppable=connect_default(makeMapStateToProps,mapDispatchToProps,(e,s,i)=>({...attachDefaultPropsToOwnProps(i),...e,...s}),{context:StoreContext,areStatePropsEqual:isStrictEqual})(Droppable),SECTION_LABELS={warm_up:"Warm Ups",bridge_activity:"Bridge Activities",main_activity:"Main Activities",end_of_lesson:"End Of Lesson",script:"Scripts"},SECTION_ICONS={warm_up:"🔥",bridge_activity:"🌉",main_activity:"🎭",end_of_lesson:"🏁",script:"📜"};function LessonPlanningNew({onAddToPlan:e}){const[s,i]=reactExports.useState([]),[a,o]=reactExports.useState({section:"",ageGroup:"",level:"",search:""}),[c,d]=reactExports.useState(null),[g,h]=reactExports.useState(!1),[b,j]=reactExports.useState(""),[_,$]=reactExports.useState({warm_up:[],bridge_activity:[],main_activity:[],end_of_lesson:[],script:[]});reactExports.useEffect(()=>{fetch("/api/lesson_planning").then(_e=>{if(!_e.ok)throw new Error(`Status ${_e.status}`);return _e.json()}).then(_e=>i(_e.parts||[])).catch(_e=>console.error(_e))},[]),reactExports.useEffect(()=>{console.log("✅ Component mounted")},[]);const rt=reactExports.useMemo(()=>s.filter(_e=>{if(a.section&&_e.section_type!==a.section||a.ageGroup&&_e.age_group!==a.ageGroup||a.level&&_e.level!==a.level)return!1;const tt=`${_e.title} ${_e.body}`.toLowerCase();return!(a.search&&!tt.includes(a.search.toLowerCase()))}),[s,a]);function nt(_e){try{console.log("🟢 onDragStart",_e);const tt=s.find(it=>String(it.id)===_e.draggableId);d((tt==null?void 0:tt.section_type)||null),h(!1),j("")}catch(tt){console.error("❌ Error in onDragStart:",tt)}}function dt(_e){var tt;try{console.log("🟡 onDragUpdate triggered",_e);const it=(tt=_e.destination)==null?void 0:tt.droppableId;if(!it){h(!1),j("");return}Object.keys(SECTION_LABELS).includes(it)&&it!==c?(h(!0),j(SECTION_LABELS[c]||"Unknown")):(h(!1),j(""))}catch(it){console.error("❌ Error in onDragUpdate:",it)}}function st(_e){const{source:tt,destination:it,draggableId:ct}=_e;if(console.log("🟡 Drag Ended"),console.log("Source:",tt),console.log("Destination:",it),console.log("Draggable ID:",ct),d(null),h(!1),j(""),!it){console.warn("❌ Dropped outside a valid droppable area");return}if(tt.droppableId!=="parts"){console.warn("❌ Dragged from an invalid source:",tt.droppableId);return}if(!Object.keys(SECTION_LABELS).includes(it.droppableId)){console.warn("❌ Dropped into an unknown section:",it.droppableId);return}const ot=s.find(pt=>String(pt.id)===ct);if(!ot){console.warn("❌ Part not found for draggableId:",ct);return}if(it.droppableId!==ot.section_type){console.warn(`❌ Invalid section drop. Expected ${ot.section_type}, got ${it.droppableId}`);return}console.log(`✅ Dropped ${ot.title} into correct section: ${it.droppableId}`),e(ot),$(pt=>({...pt,[it.droppableId]:[...pt[it.droppableId],ot]}))}return console.log("🔧 Hooking onDragEnd:",st.name),jsxRuntimeExports.jsx(DragDropContext,{onDragStart:nt,onDragUpdate:dt,onDragEnd:st,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-1 overflow-hidden bg-gray-50 dark:bg-dark-900 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("aside",{className:"w-96 bg-white dark:bg-dark-800 border-r border-gray-200 dark:border-dark-700 p-6 overflow-auto flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Lesson Plan"}),jsxRuntimeExports.jsx("button",{className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:"←"})]}),jsxRuntimeExports.jsx("div",{className:"border-b border-gray-200 dark:border-dark-700 mb-6"}),jsxRuntimeExports.jsx("div",{className:"space-y-6",children:Object.entries(SECTION_LABELS).map(([_e,tt])=>jsxRuntimeExports.jsx(ConnectedDroppable,{droppableId:_e,children:(it,ct)=>{const ot=c===_e,pt=ct.isDraggingOver?ot?"border-green-500 dark:border-green-400":"border-red-500 dark:border-red-400":"border-gray-300 dark:border-dark-600";return jsxRuntimeExports.jsxs("div",{ref:it.innerRef,...it.droppableProps,className:`
                        relative border-2 border-dashed rounded-lg p-6
                        flex flex-col items-center text-center space-y-4
                        min-h-[14rem] ${pt}
                      `,children:[jsxRuntimeExports.jsx("span",{className:"text-5xl",children:SECTION_ICONS[_e]}),jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white",children:["Add ",tt]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:_e==="warm_up"?"Start with an energizing activity":_e==="bridge_activity"?"Link warm-up to main":_e==="main_activity"?"Core learning activities":_e==="end_of_lesson"?"Wrap up and reflect":"Attach scripts for actors"}),jsxRuntimeExports.jsx("div",{className:"w-full space-y-2",children:_[_e].map((et,at)=>jsxRuntimeExports.jsxs("div",{className:"w-full bg-green-50 dark:bg-green-900 p-2 rounded shadow text-sm text-left",children:[jsxRuntimeExports.jsx("strong",{children:et.title}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[et.age_group," · ",et.level]})]},et.id))}),it.placeholder]})}},_e))})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center p-4 bg-white dark:bg-dark-800 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("select",{value:a.section,onChange:_e=>o(tt=>({...tt,section:_e.target.value})),className:"block w-1/4 px-3 py-2 bg-white dark:bg-dark-700 border border-gray-300 dark:border-dark-600 rounded-lg text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Sections"}),Object.entries(SECTION_LABELS).map(([_e,tt])=>jsxRuntimeExports.jsx("option",{value:_e,children:tt},_e))]}),jsxRuntimeExports.jsxs("select",{value:a.ageGroup,onChange:_e=>o(tt=>({...tt,ageGroup:_e.target.value})),className:"block w-1/4 px-3 py-2 bg-white dark:bg-dark-700 border border-gray-300 dark:border-dark-600 rounded-lg text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Ages"}),jsxRuntimeExports.jsx("option",{value:"Young",children:"Young"}),jsxRuntimeExports.jsx("option",{value:"Middle",children:"Middle"}),jsxRuntimeExports.jsx("option",{value:"Older",children:"Older"}),jsxRuntimeExports.jsx("option",{value:"All",children:"All"})]}),jsxRuntimeExports.jsxs("select",{value:a.level,onChange:_e=>o(tt=>({...tt,level:_e.target.value})),className:"block w-1/4 px-3 py-2 bg-white dark:bg-dark-700 border border-gray-300 dark:border-dark-600 rounded-lg text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Levels"}),jsxRuntimeExports.jsx("option",{value:"Toe Tipper",children:"Toe Tipper"}),jsxRuntimeExports.jsx("option",{value:"Green Horn",children:"Green Horn"}),jsxRuntimeExports.jsx("option",{value:"Semi-Pro",children:"Semi-Pro"}),jsxRuntimeExports.jsx("option",{value:"Seasoned Veteran(all)",children:"Seasoned Veteran(all)"})]}),jsxRuntimeExports.jsx("input",{type:"text",value:a.search,onChange:_e=>o(tt=>({...tt,search:_e.target.value})),placeholder:"Search...",className:"flex-1 px-3 py-2 bg-white dark:bg-dark-700 border border-gray-300 dark:border-dark-600 rounded-lg text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 p-4 overflow-auto relative",children:jsxRuntimeExports.jsx(ConnectedDroppable,{droppableId:"parts",children:_e=>jsxRuntimeExports.jsxs("div",{ref:_e.innerRef,..._e.droppableProps,className:"grid grid-cols-3 gap-4",children:[rt.map((tt,it)=>jsxRuntimeExports.jsx(PublicDraggable,{draggableId:String(tt.id),index:it,children:(ct,ot)=>jsxRuntimeExports.jsxs("div",{ref:ct.innerRef,...ct.draggableProps,...ct.dragHandleProps,className:"relative p-4 bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 shadow-sm cursor-pointer transition-colors duration-200",children:[ot.isDragging&&g&&jsxRuntimeExports.jsxs("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-red-600 text-white text-sm px-3 py-1 rounded shadow-lg",children:["Must drop into “",b,"”"]}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:tt.title}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:tt.section_type}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:[tt.age_group," · ",tt.level]})]})},tt.id)),_e.placeholder]})})})]})]})})}function App(){var gs,xs,ys,bs,vs,Es,ws,js,ks,Rs,Ss,As;useTheme();const[e,s]=useAtom(activeTabAtom),[i,a]=useAtom(activitiesAtom),[o,c]=useAtom(scriptsAtom),[d,g]=useAtom(activityFiltersAtom),[h,b]=useAtom(scriptFiltersAtom),[j,_]=useAtom(lessonFiltersAtom),[$,rt]=useAtom(userFiltersAtom),[nt,dt]=useAtom(activitiesLoadingAtom),[st,_e]=useAtom(scriptsLoadingAtom),[tt,it]=useAtom(savedLessonsLoadingAtom),[ct,ot]=useAtom(usersLoadingAtom),[pt,et]=useAtom(showCreateModalAtom),[at,ht]=useAtom(showSaveLessonModalAtom),[xt,ut]=useAtom(showUserModalAtom);useAtom(selectedActivityAtom),useAtom(selectedScriptAtom),useAtom(selectedUserAtom);const[gt,Et]=useAtom(currentLessonPlanAtom),[Mt,Nt]=useAtom(lessonGenerationStateAtom),[It,kt]=useAtom(savedLessonsAtom),[bt,yt]=useAtom(usersAtom),[At,Lt]=useAtom(userStatsAtom);useAtom(sidebarCollapsedAtom);const[jt,ft]=useAtom(activityViewModeAtom),[mt,vt]=useAtom(filteredActivitiesAtom),[_t,St]=useAtom(scriptViewModeAtom),[Pt,Ot]=useAtom(lessonPlanningViewModeAtom),[Gt,Yt]=useAtom(selectedPdfUrlAtom),[Qt,rr]=useAtom(pdfViewerOpenAtom),[Wt,nr]=useAtom(authStateAtom),[Vt,zt]=useAtom(showAuthModalAtom);useAtom(authModeAtom);const[wt,Tt]=reactExports.useState(),[Bt,Ht]=reactExports.useState(),[tr,ar]=reactExports.useState(),[ir,Ft]=reactExports.useState(""),[pr,dr]=reactExports.useState(!0),[_r,Sr]=reactExports.useState(!1),[Lr,xr]=reactExports.useState(""),[jr,Pr]=reactExports.useState(!1),[Mr,lr]=reactExports.useState(null),[qt,Kt]=reactExports.useState(!1),[gr,Ir]=reactExports.useState(!1),[Cr,Dt]=reactExports.useState(null),[sr,hr]=reactExports.useState(null);reactExports.useEffect(()=>{AuthService.initializeDemoUsers(),Er()},[]);const Er=async()=>{nr(ur=>({...ur,isLoading:!0}));try{const ur=await AuthService.checkAuth();if(ur)try{const vr=await StripeService.getUserSubscription(ur.id);nr({user:{...ur,subscription:vr||void 0},isAuthenticated:!0,isLoading:!1,error:null})}catch{nr({user:ur,isAuthenticated:!0,isLoading:!1,error:null})}else nr({user:null,isAuthenticated:!1,isLoading:!1,error:null})}catch{nr({user:null,isAuthenticated:!1,isLoading:!1,error:"Failed to check authentication status"})}},Rr=(ur,vr)=>ur.filter(Dr=>{if(vr.ageGroup&&Dr.ageGroup!==vr.ageGroup||vr.skillLevels.length>0&&!vr.skillLevels.includes(Dr.skillLevel)||vr.activityTypes.length>0&&!vr.activityTypes.includes(Dr.activityType)||vr.playOrCraftTypes.length>0&&!vr.playOrCraftTypes.includes(Dr.playOrCraft)||vr.duration&&Dr.duration>vr.duration)return!1;if(vr.search){const Ur=vr.search.toLowerCase();if(!(Dr.title.toLowerCase().includes(Ur)||Dr.description.toLowerCase().includes(Ur)||Dr.tags.some(Gr=>Gr.toLowerCase().includes(Ur))))return!1}return!0}),mr=async()=>{try{dt(!0),Ft("");const ur=await ApiService.getActivities(d);a(ur)}catch(ur){Ft("Failed to load activities. Make sure the server is running."),console.error("Error loading activities:",ur)}finally{dt(!1)}},Ct=async()=>{try{_e(!0),Ft("");const ur=await ApiService.getScripts(h);c(ur)}catch(ur){Ft("Failed to load scripts. Make sure the server is running."),console.error("Error loading scripts:",ur)}finally{_e(!1)}},Rt=async()=>{var ur;try{it(!0);const vr=(ur=Wt.user)==null?void 0:ur.id,Dr=vr?{userId:vr}:{},Ur=await ApiService.getSavedLessons(Dr);kt(Ur)}catch(vr){console.error("Error loading saved lessons:",vr),Ft("Failed to load saved lessons. Make sure the server is running.")}finally{it(!1)}},$t=async()=>{try{if(!(Wt!=null&&Wt.user)||Wt.user.role!=="admin"){console.warn("User is not admin or authState is undefined");return}ot(!0);const ur=await AuthService.getAllUsers($);console.log("Fetched users data:",ur),yt(ur)}catch(ur){console.error("Error loading users:",ur)}finally{ot(!1)}},Zt=async()=>{var ur;if(((ur=Wt.user)==null?void 0:ur.role)==="admin")try{const vr=await AuthService.getUserStats();Lt(vr)}catch(vr){console.error("Error loading user stats:",vr)}};reactExports.useEffect(()=>{Wt.isAuthenticated&&mr()},[d,Wt.isAuthenticated]),reactExports.useEffect(()=>{Wt.isAuthenticated&&Ct()},[h,Wt.isAuthenticated]),reactExports.useEffect(()=>{Wt.isAuthenticated&&Rt()},[Wt.isAuthenticated]),reactExports.useEffect(()=>{var ur;Wt.isAuthenticated&&((ur=Wt.user)==null?void 0:ur.role)==="admin"&&($t(),Zt())},[$,Wt.isAuthenticated,(gs=Wt.user)==null?void 0:gs.role]),reactExports.useEffect(()=>{const ur=Rr(i,j);vt(ur)},[i,j]);const er=async()=>{try{await AuthService.signOut(),nr({user:null,isAuthenticated:!1,isLoading:!1,error:null}),a([]),c([]),kt([]),yt([]),Et({warmUp:null,mainActivities:[],coolDown:null,totalDuration:0,estimatedTime:"0 min"}),s("lessons")}catch(ur){console.error("Sign out error:",ur)}},or=async ur=>{if(Wt.user)try{const vr=await AuthService.updateProfile(Wt.user.id,ur);nr(Dr=>({...Dr,user:vr}))}catch(vr){Ft("Failed to update profile"),console.error("Profile update error:",vr)}},cr=async ur=>{if(Wt.user)try{const vr=await StripeService.getUserSubscription(Wt.user.id);nr(Dr=>({...Dr,user:{...Dr.user,subscription:vr||void 0}}))}catch(vr){console.error("Subscription update error:",vr)}},wr={ageGroup:j.ageGroup,search:j.search,skillLevel:j.skillLevels[0],activityType:j.activityTypes[0],playOrCraft:j.playOrCraftTypes[0]},yr=ur=>{_({ageGroup:ur.ageGroup,search:ur.search||"",skillLevels:ur.skillLevel?[ur.skillLevel]:[],activityTypes:ur.activityType?[ur.activityType]:[],playOrCraftTypes:ur.playOrCraft?[ur.playOrCraft]:[],duration:j.duration})},fr=async ur=>{try{wt?await ApiService.updateActivity(wt.id,ur):await ApiService.createActivity(ur),mr(),Tt(void 0)}catch(vr){Ft("Failed to save activity"),console.error("Error saving activity:",vr)}},Nr=async ur=>{if(console.log("handleDeleteActivity called with id:",ur),confirm("Are you sure you want to delete this activity?"))try{console.log("Calling ApiService.deleteActivity..."),await ApiService.deleteActivity(ur),console.log("Activity deleted successfully, reloading activities..."),mr()}catch(vr){console.error("Error in handleDeleteActivity:",vr),Ft("Failed to delete activity"),console.error("Error deleting activity:",vr)}else console.log("Delete cancelled by user")},br=async ur=>{try{Bt?await ApiService.updateScript(Bt.id,ur):await ApiService.createScript(ur),Ct(),Ht(void 0)}catch(vr){Ft("Failed to save script"),console.error("Error saving script:",vr)}},kr=async ur=>{if(confirm("Are you sure you want to delete this script?"))try{await ApiService.deleteScript(ur),Ct()}catch(vr){Ft("Failed to delete script"),console.error("Error deleting script:",vr)}},Ar=async(ur,vr)=>{try{await ApiService.uploadScriptFile(ur,vr),Ct()}catch(Dr){Ft("Failed to upload file"),console.error("Error uploading file:",Dr)}},Tr=async ur=>{try{tr?await AuthService.updateUser(tr.id,ur):await AuthService.createUser(ur),$t(),Zt(),ar(void 0)}catch(vr){Ft(vr instanceof Error?vr.message:"Failed to save user"),console.error("Error saving user:",vr)}},Fr=async ur=>{if(confirm("Are you sure you want to delete this user? This action cannot be undone."))try{await AuthService.deleteUser(ur),$t(),Zt()}catch(vr){Ft(vr instanceof Error?vr.message:"Failed to delete user"),console.error("Error deleting user:",vr)}},Or=async ur=>{try{await AuthService.toggleUserStatus(ur),$t(),Zt()}catch(vr){Ft(vr instanceof Error?vr.message:"Failed to update user status"),console.error("Error toggling user status:",vr)}},Vr=ur=>{Et(vr=>{var zr,Gr,Zr,Kr;const Dr={...vr};return((zr=Dr.warmUp)==null?void 0:zr.id)===ur.id||Dr.mainActivities.some(Jr=>Jr.id===ur.id)||((Gr=Dr.coolDown)==null?void 0:Gr.id)===ur.id?vr:(Cr?(Cr==="warmUp"?Dr.warmUp=ur:Cr==="coolDown"?Dr.coolDown=ur:Cr==="main"&&(Dr.mainActivities=[...Dr.mainActivities,ur]),Dt(null)):Dr.mainActivities=[...Dr.mainActivities,ur],Dr.totalDuration=(((Zr=Dr.warmUp)==null?void 0:Zr.duration)||0)+Dr.mainActivities.reduce((Jr,Wr)=>Jr+Wr.duration,0)+(((Kr=Dr.coolDown)==null?void 0:Kr.duration)||0),Dr.estimatedTime=`${Dr.totalDuration} min`,Dr)})},Br=ur=>{Dt(ur),console.log(`Add ${ur} activity`)},qr=(ur,vr)=>{Et(Dr=>{var Kr,Jr;let Ur={...Dr};ur==="warmUp"?Ur.warmUp=null:ur==="coolDown"?Ur.coolDown=null:ur==="main"&&typeof vr=="number"&&(Ur.mainActivities=Ur.mainActivities.filter((Wr,ln)=>ln!==vr));const zr=((Kr=Ur.warmUp)==null?void 0:Kr.duration)||0,Gr=Ur.mainActivities.reduce((Wr,ln)=>Wr+ln.duration,0),Zr=((Jr=Ur.coolDown)==null?void 0:Jr.duration)||0;return Ur.totalDuration=zr+Gr+Zr,Ur})},Xr=async()=>{if(!Wt.user){zt(!0);return}try{const ur=await StripeService.checkSubscriptionAccess(Wt.user.id);if(console.log("aaaaa",ur),!ur.canGenerate){if(!Wt.user.subscription){Pr(!0);return}if(ur.reason==="Lesson limit reached"){Pr(!0);return}Ft(ur.reason||"Cannot generate lesson at this time");return}}catch{Ft("Failed to check subscription status");return}Nt("generating");try{await StripeService.incrementLessonCount(Wt.user.id);const ur=await StripeService.getUserSubscription(Wt.user.id);ur&&nr(vr=>({...vr,user:vr.user?{...vr.user,subscription:ur||void 0}:null})),setTimeout(()=>{const vr=mt,Dr=vr.filter(Wr=>Wr.activityType==="warm-up"),Ur=vr.filter(Wr=>Wr.activityType==="main"||Wr.activityType==="game"),zr=vr.filter(Wr=>Wr.activityType==="cool-down"),Gr=Dr[Math.floor(Math.random()*Dr.length)],Zr=Ur.slice(0,2),Kr=zr[Math.floor(Math.random()*zr.length)],Jr=((Gr==null?void 0:Gr.duration)||0)+Zr.reduce((Wr,ln)=>Wr+ln.duration,0)+((Kr==null?void 0:Kr.duration)||0);Et({warmUp:Gr||null,mainActivities:Zr,coolDown:Kr||null,totalDuration:Jr,estimatedTime:`${Jr} min`}),Nt("complete")},2e3)}catch(ur){console.error("Error generating lesson:",ur),Ft("Failed to generate lesson. Please try again."),Nt("idle")}},Yr=async ur=>{try{if(!Wt.user){Ft("You must be logged in to save lessons");return}const vr={...ur,createdBy:Wt.user.id};try{const Dr=await StripeService.checkSubscriptionAccess(Wt.user.id);if(!Dr.canGenerate){if(!Wt.user.subscription){Pr(!0);return}if(Dr.reason==="Lesson limit reached"){Pr(!0);return}Ft(Dr.reason||"Cannot generate lesson at this time");return}}catch{Ft("Failed to check subscription status");return}try{await StripeService.incrementLessonCount(Wt.user.id);const Dr=await StripeService.getUserSubscription(Wt.user.id);Dr&&nr(Ur=>({...Ur,user:Ur.user?{...Ur.user,subscription:Dr||void 0}:null})),await ApiService.saveLesson(vr),Rt(),ht(!1),Ft(""),dr(!0)}catch(Dr){console.error("Error generating lesson:",Dr),Ft("Failed to generate lesson. Please try again.")}}catch(vr){Ft("Failed to save lesson"),console.error("Error saving lesson:",vr)}},on=ur=>{const vr=ur.warmUpId&&i.find(zr=>zr.id===ur.warmUpId)||null,Dr=ur.mainActivityIds.map(zr=>i.find(Gr=>Gr.id===zr)).filter(Boolean),Ur=ur.coolDownId&&i.find(zr=>zr.id===ur.coolDownId)||null;Et({warmUp:vr,mainActivities:Dr,coolDown:Ur,totalDuration:ur.totalDuration,estimatedTime:`${ur.totalDuration} min`}),dr(!1)},ro=async ur=>{if(confirm("Are you sure you want to delete this saved lesson?"))try{await ApiService.deleteLesson(ur),Rt()}catch(vr){Ft("Failed to delete lesson"),console.error("Error deleting lesson:",vr)}},no=ur=>{lr(ur),Kt(!0)},yn=ur=>{Yt(ur),xr("Script Preview"),rr(!0)},bn=(ur,vr)=>{Yt(ur),xr(vr),rr(!0)},so=()=>{const ur=[];return gt.warmUp&&ur.push(gt.warmUp),ur.push(...gt.mainActivities),gt.coolDown&&ur.push(gt.coolDown),ur},io=ur=>{hr(ur),s("generate")};return Wt.isLoading?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-900 flex items-center justify-center transition-colors duration-200",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-teal-600 rounded-lg flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(Activity,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"JulietLessons"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your workspace..."})]})}):Wt.isAuthenticated?jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-900 flex flex-col transition-colors duration-200",children:[jsxRuntimeExports.jsx("header",{className:"bg-white dark:bg-dark-800 shadow-sm border-b border-gray-200 dark:border-dark-700 flex-shrink-0 transition-colors duration-200",children:jsxRuntimeExports.jsxs("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center py-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-r from-blue-600 to-teal-600 rounded-lg",children:jsxRuntimeExports.jsx(Activity,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"JulietLessons EDITED BY JAMES"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Lesson planning and activity management"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{et(!0),Tt(void 0),Ht(void 0),ar(void 0)},className:`flex items-center space-x-2 bg-gradient-to-r from-blue-600 to-teal-600 text-white px-6 py-3 rounded-lg hover:from-blue-700 hover:to-teal-700 transition-all duration-200 shadow-md hover:shadow-lg ${e==="activities"||e==="scripts"||e==="users"?"":"hidden"}`,children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5"}),jsxRuntimeExports.jsxs("span",{children:["Add ",e==="activities"?"Activity":e==="scripts"?"Script":e==="users"?"User":"Activity"]})]}),jsxRuntimeExports.jsx(ThemeToggle,{}),jsxRuntimeExports.jsx(UserMenu,{user:Wt.user,onSignOut:er,onEditProfile:()=>Sr(!0)})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-8 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsx("button",{onClick:()=>s("generate"),className:`pb-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="generate"?"border-pink-500 text-pink-600 dark:text-pink-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Crown,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Generate Lesson"})]})}),["admin","superadmin"].includes((xs=Wt.user)==null?void 0:xs.role)&&jsxRuntimeExports.jsx("button",{onClick:()=>s("newLesson"),className:`pb-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="newLesson"?"border-pink-500 text-pink-600 dark:text-pink-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"New Lesson Part"})]})}),jsxRuntimeExports.jsx("button",{onClick:()=>s("lessons"),className:`pb-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="lessons"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(PanelsTopLeft,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Lesson Planning"})]})}),jsxRuntimeExports.jsx("button",{onClick:()=>s("lessonPlanningNew"),className:`pb-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="lessonPlanningNew"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(PanelsTopLeft,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Lesson Planning (new)"})]})}),((ys=Wt.user)==null?void 0:ys.role)==="admin"&&jsxRuntimeExports.jsx("button",{onClick:()=>s("activities"),className:`pb-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="activities"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Activity,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:["Activities (",i.length,")"]})]})}),((bs=Wt.user)==null?void 0:bs.role)==="admin"&&jsxRuntimeExports.jsx("button",{onClick:()=>s("scripts"),className:`pb-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="scripts"?"border-teal-500 text-teal-600 dark:text-teal-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:["Scripts (",o.length,")"]})]})}),((vs=Wt.user)==null?void 0:vs.role)==="admin"&&jsxRuntimeExports.jsx("button",{onClick:()=>s("users"),className:`pb-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="users"?"border-orange-500 text-orange-600 dark:text-orange-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:["Users (",bt.length,")"]})]})})]})]})}),Cr&&jsxRuntimeExports.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-800 px-6 py-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 text-white"})}),jsxRuntimeExports.jsxs("span",{className:"text-blue-800 dark:text-blue-300 font-medium",children:["Ready to add activity to ",Cr==="warmUp"?"Warm-up":Cr==="coolDown"?"Cool-down":"Main Activities"," section"]}),jsxRuntimeExports.jsx("span",{className:"text-blue-600 dark:text-blue-400 text-sm",children:"Click an activity below to add it to this section"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Dt(null),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm font-medium",children:"Cancel"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e==="generate"&&jsxRuntimeExports.jsx(GenerateLesson,{onGenerate:Xr,lessonGenerationState:Mt,lessonId:sr,onSwitch:s,onClearView:()=>hr(null)}),e==="newLesson"&&jsxRuntimeExports.jsx(NewLessonPart,{onSwitch:s,onSaveAndView:io}),e==="lessons"&&jsxRuntimeExports.jsxs("div",{className:"flex-1 flex",children:[jsxRuntimeExports.jsx(LessonPreviewPanel,{lessonPlan:gt,onAddActivity:Br,onRemoveActivity:qr,onViewScript:yn,onGenerateLesson:Xr,onSaveLesson:()=>ht(!0),onShowSavedLessons:()=>dr(!pr),isGenerating:Mt==="generating",showSavedLessons:pr,isCollapsed:gr,onToggleCollapse:()=>Ir(!gr),targetSection:Cr}),jsxRuntimeExports.jsxs("main",{className:"flex-1 overflow-y-auto p-6",children:[jsxRuntimeExports.jsx(SubscriptionBanner,{subscription:((Es=Wt.user)==null?void 0:Es.subscription)||null,onUpgrade:()=>Pr(!0)}),ir&&jsxRuntimeExports.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center space-x-3",children:[jsxRuntimeExports.jsx(AlertCircle,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium",children:"Error"}),jsxRuntimeExports.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm",children:ir})]})]}),pr?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Saved Lessons"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Load a previously saved lesson plan"})]}),jsxRuntimeExports.jsx(SavedLessonsPanel,{savedLessons:It,onLoadLesson:on,onDeleteLesson:ro,onViewLesson:no,loading:tt})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Available Activities"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Select activities to build your lesson plan"})]}),jsxRuntimeExports.jsx(SearchFilters,{filters:wr,onFiltersChange:yr,showLevel:!0,showPlayOrCraft:!0}),jsxRuntimeExports.jsx(ActivityGrid,{activities:mt,onSelectActivity:Vr,selectedActivities:so(),loading:nt,scripts:o,onViewPDF:bn,onViewScript:yn,viewMode:Pt,onViewModeChange:Ot,showViewToggle:!0,isLessonPlanning:!0,onDelete:Nr,targetSection:Cr})]})]})]}),e==="lessonPlanningNew"&&jsxRuntimeExports.jsx(LessonPlanningNew,{}),e==="activities"&&((ws=Wt.user)==null?void 0:ws.role)==="admin"&&jsxRuntimeExports.jsxs("main",{className:"flex-1 overflow-y-auto px-4 sm:px-6 lg:px-8 py-8",children:[ir&&jsxRuntimeExports.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center space-x-3",children:[jsxRuntimeExports.jsx(AlertCircle,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium",children:"Error"}),jsxRuntimeExports.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm",children:ir})]})]}),jsxRuntimeExports.jsx(SearchFilters,{filters:d,onFiltersChange:g,showLevel:!0,showPlayOrCraft:!0}),nt?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Loading activities..."})]}):jsxRuntimeExports.jsx(ActivityGrid,{activities:i,onSelectActivity:()=>{},selectedActivities:[],loading:nt,scripts:o,onViewPDF:bn,onViewScript:yn,viewMode:jt,onViewModeChange:ft,showViewToggle:!0,isLessonPlanning:!1,onDelete:Nr}),!nt&&i.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Activity,{className:"w-12 h-12 text-gray-400 dark:text-gray-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No activities found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Get started by creating your first activity."}),jsxRuntimeExports.jsx("button",{onClick:()=>et(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Activity"})]})]}),e==="scripts"&&((js=Wt.user)==null?void 0:js.role)==="admin"&&jsxRuntimeExports.jsxs("main",{className:"flex-1 overflow-y-auto px-4 sm:px-6 lg:px-8 py-8",children:[jsxRuntimeExports.jsx(SearchFilters,{filters:h,onFiltersChange:b,showGenre:!0}),jsxRuntimeExports.jsx(ScriptGrid,{scripts:o,onDelete:kr,onUpload:Ar,loading:st,viewMode:_t,onViewModeChange:St,showViewToggle:!0})]}),e==="users"&&((ks=Wt.user)==null?void 0:ks.role)==="admin"&&jsxRuntimeExports.jsxs("main",{className:"flex-1 overflow-y-auto px-4 sm:px-6 lg:px-8 py-8",children:[ir&&jsxRuntimeExports.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center space-x-3",children:[jsxRuntimeExports.jsx(AlertCircle,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium",children:"Error"}),jsxRuntimeExports.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm",children:ir})]})]}),jsxRuntimeExports.jsx(UserStatsPanel,{stats:At,loading:ct}),jsxRuntimeExports.jsx(UserManagementPanel,{users:bt,filters:$,onFiltersChange:rt,onCreateUser:()=>{ar(void 0),ut(!0)},onEditUser:ur=>{ar(ur),ut(!0)},onDeleteUser:Fr,onToggleUserStatus:Or,loading:ct})]})]}),e==="activities"&&jsxRuntimeExports.jsx(CreateActivityModal,{isOpen:pt,onClose:()=>{et(!1),Tt(void 0)},onCreate:fr,editActivity:wt,onViewPDF:bn}),e==="scripts"&&jsxRuntimeExports.jsx(CreateScriptModal,{isOpen:pt,onClose:()=>{et(!1),Ht(void 0)},onCreate:br,editScript:Bt}),e==="users"&&((Rs=Wt.user)==null?void 0:Rs.role)==="admin"&&jsxRuntimeExports.jsx(CreateUserModal,{isOpen:xt,onClose:()=>{ut(!1),ar(void 0)},onCreate:Tr,editUser:tr,loading:!1}),jsxRuntimeExports.jsx(SaveLessonModal,{isOpen:at,onClose:()=>ht(!1),onSave:Yr,lessonPlan:gt}),jsxRuntimeExports.jsx(EditProfileModal,{isOpen:_r,onClose:()=>Sr(!1),user:Wt.user,onSave:or,loading:!1}),jsxRuntimeExports.jsx(SubscriptionModal,{isOpen:jr,onClose:()=>Pr(!1),currentSubscription:(Ss=Wt.user)==null?void 0:Ss.subscription,onSubscriptionUpdate:cr,userId:((As=Wt.user)==null?void 0:As.id)||""}),jsxRuntimeExports.jsx(SavedLessonActivitiesModal,{isOpen:qt,onClose:()=>{Kt(!1),lr(null)},lesson:Mr,activities:i,scripts:o,onViewPDF:bn,onViewScript:yn,onLoadLesson:on}),jsxRuntimeExports.jsx(PDFViewer,{isOpen:Qt,onClose:()=>rr(!1),pdfUrl:Gt,title:Lr})]}):jsxRuntimeExports.jsx(LandingPageWrapper,{})}const ThemeContext=reactExports.createContext(void 0),ThemeProvider=({children:e})=>{const[s,i]=reactExports.useState(()=>{const o=localStorage.getItem("theme"),c=window.matchMedia("(prefers-color-scheme: dark)").matches;return o||(c?"dark":"light")});reactExports.useEffect(()=>{localStorage.setItem("theme",s),document.documentElement.classList.toggle("dark",s==="dark")},[s]);const a=()=>{i(o=>o==="light"?"dark":"light")};return jsxRuntimeExports.jsx(ThemeContext.Provider,{value:{theme:s,toggleTheme:a},children:e})},AppProvider=({children:e})=>jsxRuntimeExports.jsx(Provider$1,{children:jsxRuntimeExports.jsx(ThemeProvider,{children:e})});createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(AppProvider,{children:jsxRuntimeExports.jsx(App,{})})}));
