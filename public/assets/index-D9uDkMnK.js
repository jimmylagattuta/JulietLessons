var to=Object.defineProperty;var An=e=>{throw TypeError(e)};var ro=(e,s,i)=>s in e?to(e,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[s]=i;var Ur=(e,s,i)=>ro(e,typeof s!="symbol"?s+"":s,i),Ts=(e,s,i)=>s.has(e)||An("Cannot "+i);var et=(e,s,i)=>(Ts(e,s,"read from private field"),i?i.call(e):s.get(e)),qt=(e,s,i)=>s.has(e)?An("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(e):s.set(e,i),Kt=(e,s,i,a)=>(Ts(e,s,"write to private field"),a?a.call(e,i):s.set(e,i),i),$t=(e,s,i)=>(Ts(e,s,"access private method"),i);var os=(e,s,i,a)=>({set _(o){Kt(e,s,o,i)},get _(){return et(e,s,a)}});function _mergeNamespaces(e,s){for(var i=0;i<s.length;i++){const a=s[i];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in e)){const c=Object.getOwnPropertyDescriptor(a,o);c&&Object.defineProperty(e,o,c.get?c:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var s=e.default;if(typeof s=="function"){var i=function a(){return this instanceof a?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};i.prototype=s.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var o=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(i,a,o.get?o:{enumerable:!0,get:function(){return e[a]}})}),i}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(e,s,i){this.props=e,this.context=s,this.refs=D$1,this.updater=i||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,s,i){this.props=e,this.context=s,this.refs=D$1,this.updater=i||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(e,s,i){var a,o={},c=null,d=null;if(s!=null)for(a in s.ref!==void 0&&(d=s.ref),s.key!==void 0&&(c=""+s.key),s)J.call(s,a)&&!L$1.hasOwnProperty(a)&&(o[a]=s[a]);var _=arguments.length-2;if(_===1)o.children=i;else if(1<_){for(var h=Array(_),j=0;j<_;j++)h[j]=arguments[j+2];o.children=h}if(e&&e.defaultProps)for(a in _=e.defaultProps,_)o[a]===void 0&&(o[a]=_[a]);return{$$typeof:l$1,type:e,key:c,ref:d,props:o,_owner:K$1.current}}function N$1(e,s){return{$$typeof:l$1,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape$1(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return s[i]})}var P$1=/\/+/g;function Q$1(e,s){return typeof e=="object"&&e!==null&&e.key!=null?escape$1(""+e.key):s.toString(36)}function R$1(e,s,i,a,o){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case l$1:case n$1:d=!0}}if(d)return d=e,o=o(d),e=a===""?"."+Q$1(d,0):a,I$1(o)?(i="",e!=null&&(i=e.replace(P$1,"$&/")+"/"),R$1(o,s,i,"",function(j){return j})):o!=null&&(O$1(o)&&(o=N$1(o,i+(!o.key||d&&d.key===o.key?"":(""+o.key).replace(P$1,"$&/")+"/")+e)),s.push(o)),1;if(d=0,a=a===""?".":a+":",I$1(e))for(var _=0;_<e.length;_++){c=e[_];var h=a+Q$1(c,_);d+=R$1(c,s,i,h,o)}else if(h=A$1(e),typeof h=="function")for(e=h.call(e),_=0;!(c=e.next()).done;)c=c.value,h=a+Q$1(c,_++),d+=R$1(c,s,i,h,o);else if(c==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return d}function S$1(e,s,i){if(e==null)return e;var a=[],o=0;return R$1(e,a,"","",function(c){return s.call(i,c,o++)}),a}function T$1(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(e,s,i){S$1(e,function(){s.apply(this,arguments)},i)},count:function(e){var s=0;return S$1(e,function(){s++}),s},toArray:function(e){return S$1(e,function(s){return s})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$2;react_production_min.cloneElement=function(e,s,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=C$1({},e.props),o=e.key,c=e.ref,d=e._owner;if(s!=null){if(s.ref!==void 0&&(c=s.ref,d=K$1.current),s.key!==void 0&&(o=""+s.key),e.type&&e.type.defaultProps)var _=e.type.defaultProps;for(h in s)J.call(s,h)&&!L$1.hasOwnProperty(h)&&(a[h]=s[h]===void 0&&_!==void 0?_[h]:s[h])}var h=arguments.length-2;if(h===1)a.children=i;else if(1<h){_=Array(h);for(var j=0;j<h;j++)_[j]=arguments[j+2];a.children=_}return{$$typeof:l$1,type:e.type,key:o,ref:c,props:a,_owner:d}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$1;react_production_min.createFactory=function(e){var s=M$1.bind(null,e);return s.type=e,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$1,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T$1}};react_production_min.memo=function(e,s){return{$$typeof:x,type:e,compare:s===void 0?null:s}};react_production_min.startTransition=function(e){var s=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=s}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(e,s){return U$1.current.useCallback(e,s)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,s){return U$1.current.useEffect(e,s)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,s,i){return U$1.current.useImperativeHandle(e,s,i)};react_production_min.useInsertionEffect=function(e,s){return U$1.current.useInsertionEffect(e,s)};react_production_min.useLayoutEffect=function(e,s){return U$1.current.useLayoutEffect(e,s)};react_production_min.useMemo=function(e,s){return U$1.current.useMemo(e,s)};react_production_min.useReducer=function(e,s,i){return U$1.current.useReducer(e,s,i)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,s,i){return U$1.current.useSyncExternalStore(e,s,i)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(e,s,i){var a,o={},c=null,d=null;i!==void 0&&(c=""+i),s.key!==void 0&&(c=""+s.key),s.ref!==void 0&&(d=s.ref);for(a in s)m$1.call(s,a)&&!p$1.hasOwnProperty(a)&&(o[a]=s[a]);if(e&&e.defaultProps)for(a in s=e.defaultProps,s)o[a]===void 0&&(o[a]=s[a]);return{$$typeof:k,type:e,key:c,ref:d,props:o,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s(Rt,bt){var Nt=Rt.length;Rt.push(bt);e:for(;0<Nt;){var Ft=Nt-1>>>1,jt=Rt[Ft];if(0<o(jt,bt))Rt[Ft]=bt,Rt[Nt]=jt,Nt=Ft;else break e}}function i(Rt){return Rt.length===0?null:Rt[0]}function a(Rt){if(Rt.length===0)return null;var bt=Rt[0],Nt=Rt.pop();if(Nt!==bt){Rt[0]=Nt;e:for(var Ft=0,jt=Rt.length,ut=jt>>>1;Ft<ut;){var ht=2*(Ft+1)-1,yt=Rt[ht],St=ht+1,At=Rt[St];if(0>o(yt,Nt))St<jt&&0>o(At,yt)?(Rt[Ft]=At,Rt[St]=Nt,Ft=St):(Rt[Ft]=yt,Rt[ht]=Nt,Ft=ht);else if(St<jt&&0>o(At,Nt))Rt[Ft]=At,Rt[St]=Nt,Ft=St;else break e}}return bt}function o(Rt,bt){var Nt=Rt.sortIndex-bt.sortIndex;return Nt!==0?Nt:Rt.id-bt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,_=d.now();e.unstable_now=function(){return d.now()-_}}var h=[],j=[],$=1,it=null,ot=3,mt=!1,at=!1,xt=!1,lt=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_e=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function rt(Rt){for(var bt=i(j);bt!==null;){if(bt.callback===null)a(j);else if(bt.startTime<=Rt)a(j),bt.sortIndex=bt.expirationTime,s(h,bt);else break;bt=i(j)}}function dt(Rt){if(xt=!1,rt(Rt),!at)if(i(h)!==null)at=!0,Mt(st);else{var bt=i(j);bt!==null&&kt(dt,bt.startTime-Rt)}}function st(Rt,bt){at=!1,xt&&(xt=!1,b(tt),tt=-1),mt=!0;var Nt=ot;try{for(rt(bt),it=i(h);it!==null&&(!(it.expirationTime>bt)||Rt&&!nt());){var Ft=it.callback;if(typeof Ft=="function"){it.callback=null,ot=it.priorityLevel;var jt=Ft(it.expirationTime<=bt);bt=e.unstable_now(),typeof jt=="function"?it.callback=jt:it===i(h)&&a(h),rt(bt)}else a(h);it=i(h)}if(it!==null)var ut=!0;else{var ht=i(j);ht!==null&&kt(dt,ht.startTime-bt),ut=!1}return ut}finally{it=null,ot=Nt,mt=!1}}var pt=!1,g=null,tt=-1,ct=5,gt=-1;function nt(){return!(e.unstable_now()-gt<ct)}function ft(){if(g!==null){var Rt=e.unstable_now();gt=Rt;var bt=!0;try{bt=g(!0,Rt)}finally{bt?vt():(pt=!1,g=null)}}else pt=!1}var vt;if(typeof _e=="function")vt=function(){_e(ft)};else if(typeof MessageChannel<"u"){var Dt=new MessageChannel,Tt=Dt.port2;Dt.port1.onmessage=ft,vt=function(){Tt.postMessage(null)}}else vt=function(){lt(ft,0)};function Mt(Rt){g=Rt,pt||(pt=!0,vt())}function kt(Rt,bt){tt=lt(function(){Rt(e.unstable_now())},bt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Rt){Rt.callback=null},e.unstable_continueExecution=function(){at||mt||(at=!0,Mt(st))},e.unstable_forceFrameRate=function(Rt){0>Rt||125<Rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ct=0<Rt?Math.floor(1e3/Rt):5},e.unstable_getCurrentPriorityLevel=function(){return ot},e.unstable_getFirstCallbackNode=function(){return i(h)},e.unstable_next=function(Rt){switch(ot){case 1:case 2:case 3:var bt=3;break;default:bt=ot}var Nt=ot;ot=bt;try{return Rt()}finally{ot=Nt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Rt,bt){switch(Rt){case 1:case 2:case 3:case 4:case 5:break;default:Rt=3}var Nt=ot;ot=Rt;try{return bt()}finally{ot=Nt}},e.unstable_scheduleCallback=function(Rt,bt,Nt){var Ft=e.unstable_now();switch(typeof Nt=="object"&&Nt!==null?(Nt=Nt.delay,Nt=typeof Nt=="number"&&0<Nt?Ft+Nt:Ft):Nt=Ft,Rt){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=Nt+jt,Rt={id:$++,callback:bt,priorityLevel:Rt,startTime:Nt,expirationTime:jt,sortIndex:-1},Nt>Ft?(Rt.sortIndex=Nt,s(j,Rt),i(h)===null&&Rt===i(j)&&(xt?(b(tt),tt=-1):xt=!0,kt(dt,Nt-Ft))):(Rt.sortIndex=jt,s(h,Rt),at||mt||(at=!0,Mt(st))),Rt},e.unstable_shouldYield=nt,e.unstable_wrapCallback=function(Rt){var bt=ot;return function(){var Nt=ot;ot=bt;try{return Rt.apply(this,arguments)}finally{ot=Nt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,s){ha(e,s),ha(e+"Capture",s)}function ha(e,s){for(ea[e]=s,e=0;e<s.length;e++)da.add(s[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,s,i,a){if(i!==null&&i.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,s,i,a){if(s===null||typeof s>"u"||pa(e,s,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v(e,s,i,a,o,c,d){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=o,this.mustUseProperty=i,this.propertyName=e,this.type=s,this.sanitizeURL=c,this.removeEmptyString=d}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];z[s]=new v(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(ra,sa);z[s]=new v(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(ra,sa);z[s]=new v(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(ra,sa);z[s]=new v(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,s,i,a){var o=z.hasOwnProperty(s)?z[s]:null;(o!==null?o.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,i,o,a)&&(i=null),a||o===null?oa(s)&&(i===null?e.removeAttribute(s):e.setAttribute(s,""+i)):o.mustUseProperty?e[o.propertyName]=i===null?o.type===3?!1:"":i:(s=o.attributeName,a=o.attributeNamespace,i===null?e.removeAttribute(s):(o=o.type,i=o===3||o===4&&i===!0?"":""+i,a?e.setAttributeNS(a,s,i):e.setAttribute(s,i))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+e}var Na=!1;function Oa(e,s){if(!e||Na)return"";Na=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(j){var a=j}Reflect.construct(e,[],s)}else{try{s.call()}catch(j){a=j}e.call(s.prototype)}else{try{throw Error()}catch(j){a=j}e()}}catch(j){if(j&&a&&typeof j.stack=="string"){for(var o=j.stack.split(`
`),c=a.stack.split(`
`),d=o.length-1,_=c.length-1;1<=d&&0<=_&&o[d]!==c[_];)_--;for(;1<=d&&0<=_;d--,_--)if(o[d]!==c[_]){if(d!==1||_!==1)do if(d--,_--,0>_||o[d]!==c[_]){var h=`
`+o[d].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=d&&0<=_);break}}}finally{Na=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return s=e.displayName||null,s!==null?s:Qa(e.type)||"Memo";case Ha:s=e._payload,e=e._init;try{return Qa(e(s))}catch{}}return null}function Ra(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(e){var s=Ta(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),a=""+e[s];if(!e.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,c=i.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return o.call(this)},set:function(d){a=""+d,c.call(this,d)}}),Object.defineProperty(e,s,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(d){a=""+d},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var i=s.getValue(),a="";return e&&(a=Ta(e)?e.checked?"true":"false":e.value),e=a,e!==i?(s.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,s){var i=s.checked;return A({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Za(e,s){var i=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;i=Sa(s.value!=null?s.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(e,s){s=s.checked,s!=null&&ta(e,"checked",s,!1)}function bb(e,s){ab(e,s);var i=Sa(s.value),a=s.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?cb(e,s.type,i):s.hasOwnProperty("defaultValue")&&cb(e,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function db(e,s,i){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,i||s===e.value||(e.value=s),e.defaultValue=s}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function cb(e,s,i){(s!=="number"||Xa(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var eb=Array.isArray;function fb(e,s,i,a){if(e=e.options,s){s={};for(var o=0;o<i.length;o++)s["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=s.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Sa(i),s=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,a&&(e[o].defaultSelected=!0);return}s!==null||e[o].disabled||(s=e[o])}s!==null&&(s.selected=!0)}}function gb(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,s){var i=s.value;if(i==null){if(i=s.children,s=s.defaultValue,i!=null){if(s!=null)throw Error(p(92));if(eb(i)){if(1<i.length)throw Error(p(93));i=i[0]}s=i}s==null&&(s=""),i=s}e._wrapperState={initialValue:Sa(i)}}function ib(e,s){var i=Sa(s.value),a=Sa(s.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),s.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function jb(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,i,a,o){MSApp.execUnsafeLocalFunction(function(){return e(s,i,a,o)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function ob(e,s){if(s){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=s;return}}e.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),pb[s]=pb[e]})});function rb(e,s,i){return s==null||typeof s=="boolean"||s===""?"":i||typeof s!="number"||s===0||pb.hasOwnProperty(e)&&pb[e]?(""+s).trim():s+"px"}function sb(e,s){e=e.style;for(var i in s)if(s.hasOwnProperty(i)){var a=i.indexOf("--")===0,o=rb(i,s[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,o):e[i]=o}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,s){if(s){if(tb[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p(62))}}function vb(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p(280));var s=e.stateNode;s&&(s=Db(s),yb(e.stateNode,e.type,s))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,s=Ab;if(Ab=zb=null,Bb(e),s)for(e=0;e<s.length;e++)Bb(s[e])}}function Gb(e,s){return e(s)}function Hb(){}var Ib=!1;function Jb(e,s,i){if(Ib)return e(s,i);Ib=!0;try{return Gb(e,s,i)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,s){var i=e.stateNode;if(i===null)return null;var a=Db(i);if(a===null)return null;i=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(p(231,s,typeof i));return i}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,s,i,a,o,c,d,_,h){var j=Array.prototype.slice.call(arguments,3);try{s.apply(i,j)}catch($){this.onError($)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,s,i,a,o,c,d,_,h){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,s,i,a,o,c,d,_,h){if(Tb.apply(this,arguments),Ob){if(Ob){var j=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=j)}}function Vb(e){var s=e,i=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(i=s.return),e=s.return;while(e)}return s.tag===3?i:null}function Wb(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p(188))}function Yb(e){var s=e.alternate;if(!s){if(s=Vb(e),s===null)throw Error(p(188));return s!==e?null:e}for(var i=e,a=s;;){var o=i.return;if(o===null)break;var c=o.alternate;if(c===null){if(a=o.return,a!==null){i=a;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===i)return Xb(o),e;if(c===a)return Xb(o),s;c=c.sibling}throw Error(p(188))}if(i.return!==a.return)i=o,a=c;else{for(var d=!1,_=o.child;_;){if(_===i){d=!0,i=o,a=c;break}if(_===a){d=!0,a=o,i=c;break}_=_.sibling}if(!d){for(_=c.child;_;){if(_===i){d=!0,i=c,a=o;break}if(_===a){d=!0,a=c,i=o;break}_=_.sibling}if(!d)throw Error(p(189))}}if(i.alternate!==a)throw Error(p(190))}if(i.tag!==3)throw Error(p(188));return i.stateNode.current===i?e:s}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=$b(e);if(s!==null)return s;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,s){var i=e.pendingLanes;if(i===0)return 0;var a=0,o=e.suspendedLanes,c=e.pingedLanes,d=i&268435455;if(d!==0){var _=d&~o;_!==0?a=tc(_):(c&=d,c!==0&&(a=tc(c)))}else d=i&~o,d!==0?a=tc(d):c!==0&&(a=tc(c));if(a===0)return 0;if(s!==0&&s!==a&&!(s&o)&&(o=a&-a,c=s&-s,o>=c||o===16&&(c&4194240)!==0))return s;if(a&4&&(a|=i&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=a;0<s;)i=31-oc(s),o=1<<i,a|=e[i],s&=~o;return a}function vc(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,s){for(var i=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes;0<c;){var d=31-oc(c),_=1<<d,h=o[d];h===-1?(!(_&i)||_&a)&&(o[d]=vc(_,s)):h<=s&&(e.expiredLanes|=_),c&=~_}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var s=[],i=0;31>i;i++)s.push(e);return s}function Ac(e,s,i){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-oc(s),e[s]=i}function Bc(e,s){var i=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var o=31-oc(i),c=1<<o;s[o]=0,a[o]=-1,e[o]=-1,i&=~c}}function Cc(e,s){var i=e.entangledLanes|=s;for(e=e.entanglements;i;){var a=31-oc(i),o=1<<a;o&s|e[a]&s&&(e[a]|=s),i&=~o}}var C=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,s){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(e,s,i,a,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:s,domEventName:i,eventSystemFlags:a,nativeEvent:c,targetContainers:[o]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),e):(e.eventSystemFlags|=a,s=e.targetContainers,o!==null&&s.indexOf(o)===-1&&s.push(o),e)}function Uc(e,s,i,a,o){switch(s){case"focusin":return Lc=Tc(Lc,e,s,i,a,o),!0;case"dragenter":return Mc=Tc(Mc,e,s,i,a,o),!0;case"mouseover":return Nc=Tc(Nc,e,s,i,a,o),!0;case"pointerover":var c=o.pointerId;return Oc.set(c,Tc(Oc.get(c)||null,e,s,i,a,o)),!0;case"gotpointercapture":return c=o.pointerId,Pc.set(c,Tc(Pc.get(c)||null,e,s,i,a,o)),!0}return!1}function Vc(e){var s=Wc(e.target);if(s!==null){var i=Vb(s);if(i!==null){if(s=i.tag,s===13){if(s=Wb(i),s!==null){e.blockedOn=s,Ic(e.priority,function(){Gc(i)});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var i=Yc(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);wb=a,i.target.dispatchEvent(a),wb=null}else return s=Cb(i),s!==null&&Fc(s),e.blockedOn=i,!1;s.shift()}return!0}function Zc(e,s,i){Xc(e)&&i.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,s){e.blockedOn===s&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function s(o){return ad(o,e)}if(0<Kc.length){ad(Kc[0],e);for(var i=1;i<Kc.length;i++){var a=Kc[i];a.blockedOn===e&&(a.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(s),Pc.forEach(s),i=0;i<Qc.length;i++)a=Qc[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<Qc.length&&(i=Qc[0],i.blockedOn===null);)Vc(i),i.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,s,i,a){var o=C,c=cd.transition;cd.transition=null;try{C=1,fd(e,s,i,a)}finally{C=o,cd.transition=c}}function gd(e,s,i,a){var o=C,c=cd.transition;cd.transition=null;try{C=4,fd(e,s,i,a)}finally{C=o,cd.transition=c}}function fd(e,s,i,a){if(dd){var o=Yc(e,s,i,a);if(o===null)hd(e,s,a,id,i),Sc(e,a);else if(Uc(o,e,s,i,a))a.stopPropagation();else if(Sc(e,a),s&4&&-1<Rc.indexOf(e)){for(;o!==null;){var c=Cb(o);if(c!==null&&Ec(c),c=Yc(e,s,i,a),c===null&&hd(e,s,a,id,i),c===o)break;o=c}o!==null&&a.stopPropagation()}else hd(e,s,a,null,i)}}var id=null;function Yc(e,s,i,a){if(id=null,e=xb(a),e=Wc(e),e!==null)if(s=Vb(e),s===null)e=null;else if(i=s.tag,i===13){if(e=Wb(s),e!==null)return e;e=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return id=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,s=ld,i=s.length,a,o="value"in kd?kd.value:kd.textContent,c=o.length;for(e=0;e<i&&s[e]===o[e];e++);var d=i-e;for(a=1;a<=d&&s[i-a]===o[c-a];a++);return md=o.slice(e,1<a?1-a:void 0)}function od(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function s(i,a,o,c,d){this._reactName=i,this._targetInst=o,this.type=a,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(i=e[_],this[_]=i?i(c):c[_]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=Od[e])?!!s[e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(e){if(e.key){var s=Md[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(e,s){switch(e){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function je(e,s){switch(e){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe=!0,ee);case"textInput":return e=s.data,e===ee&&fe?null:e;default:return null}}function ke(e,s){if(ie)return e==="compositionend"||!ae&&ge(e,s)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!le[e.type]:s==="textarea"}function ne(e,s,i,a){Eb(a),s=oe(s,"onChange"),0<s.length&&(i=new td("onChange","change",null,i,a),e.push({event:i,listeners:s}))}var pe=null,qe=null;function re(e){se(e,0)}function te(e){var s=ue(e);if(Wa(s))return e}function ve(e,s){if(e==="change")return s}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(e){if(e.propertyName==="value"&&te(qe)){var s=[];ne(s,qe,e,xb(e)),Jb(re,s)}}function Ce(e,s,i){e==="focusin"?(Ae(),pe=s,qe=i,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae()}function De(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te(qe)}function Ee(e,s){if(e==="click")return te(s)}function Fe(e,s){if(e==="input"||e==="change")return te(s)}function Ge(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(e,s){if(He(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var i=Object.keys(e),a=Object.keys(s);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var o=i[a];if(!ja.call(s,o)||!He(e[o],s[o]))return!1}return!0}function Je(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,s){var i=Je(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=s&&a>=s)return{node:i,offset:s-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Je(i)}}function Le(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Le(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var e=window,s=Xa();s instanceof e.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)e=s.contentWindow;else break;s=Xa(e.document)}return s}function Ne(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function Oe(e){var s=Me(),i=e.focusedElem,a=e.selectionRange;if(s!==i&&i&&i.ownerDocument&&Le(i.ownerDocument.documentElement,i)){if(a!==null&&Ne(i)){if(s=a.start,e=a.end,e===void 0&&(e=s),"selectionStart"in i)i.selectionStart=s,i.selectionEnd=Math.min(e,i.value.length);else if(e=(s=i.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var o=i.textContent.length,c=Math.min(a.start,o);a=a.end===void 0?c:Math.min(a.end,o),!e.extend&&c>a&&(o=a,a=c,c=o),o=Ke(i,c);var d=Ke(i,a);o&&d&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(s=s.createRange(),s.setStart(o.node,o.offset),e.removeAllRanges(),c>a?(e.addRange(s),e.extend(d.node,d.offset)):(s.setEnd(d.node,d.offset),e.addRange(s)))}}for(s=[],e=i;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<s.length;i++)e=s[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(e,s,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Te||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se&&Ie(Se,a)||(Se=a,a=oe(Re,"onSelect"),0<a.length&&(s=new td("onSelect","select",null,s,i),e.push({event:s,listeners:a}),s.target=Qe)))}function Ve(e,s){var i={};return i[e.toLowerCase()]=s.toLowerCase(),i["Webkit"+e]="webkit"+s,i["Moz"+e]="moz"+s,i}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(e){if(Xe[e])return Xe[e];if(!We[e])return e;var s=We[e],i;for(i in s)if(s.hasOwnProperty(i)&&i in Ye)return Xe[e]=s[i];return e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,s){df.set(e,s),fa(s,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,s,i){var a=e.type||"unknown-event";e.currentTarget=i,Ub(a,s,void 0,e),e.currentTarget=null}function se(e,s){s=(s&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],o=a.event;a=a.listeners;e:{var c=void 0;if(s)for(var d=a.length-1;0<=d;d--){var _=a[d],h=_.instance,j=_.currentTarget;if(_=_.listener,h!==c&&o.isPropagationStopped())break e;nf(o,_,j),c=h}else for(d=0;d<a.length;d++){if(_=a[d],h=_.instance,j=_.currentTarget,_=_.listener,h!==c&&o.isPropagationStopped())break e;nf(o,_,j),c=h}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D(e,s){var i=s[of];i===void 0&&(i=s[of]=new Set);var a=e+"__bubble";i.has(a)||(pf(s,e,2,!1),i.add(a))}function qf(e,s,i){var a=0;s&&(a|=4),pf(i,e,a,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(i){i!=="selectionchange"&&(mf.has(i)||qf(i,!1,e),qf(i,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(e,s,i,a){switch(jd(s)){case 1:var o=ed;break;case 4:o=gd;break;default:o=fd}i=o.bind(null,s,i,e),o=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(o=!0),a?o!==void 0?e.addEventListener(s,i,{capture:!0,passive:o}):e.addEventListener(s,i,!0):o!==void 0?e.addEventListener(s,i,{passive:o}):e.addEventListener(s,i,!1)}function hd(e,s,i,a,o){var c=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var d=a.tag;if(d===3||d===4){var _=a.stateNode.containerInfo;if(_===o||_.nodeType===8&&_.parentNode===o)break;if(d===4)for(d=a.return;d!==null;){var h=d.tag;if((h===3||h===4)&&(h=d.stateNode.containerInfo,h===o||h.nodeType===8&&h.parentNode===o))return;d=d.return}for(;_!==null;){if(d=Wc(_),d===null)return;if(h=d.tag,h===5||h===6){a=c=d;continue e}_=_.parentNode}}a=a.return}Jb(function(){var j=c,$=xb(i),it=[];e:{var ot=df.get(e);if(ot!==void 0){var mt=td,at=e;switch(e){case"keypress":if(od(i)===0)break e;case"keydown":case"keyup":mt=Rd;break;case"focusin":at="focus",mt=Fd;break;case"focusout":at="blur",mt=Fd;break;case"beforeblur":case"afterblur":mt=Fd;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mt=Vd;break;case $e:case af:case bf:mt=Hd;break;case cf:mt=Xd;break;case"scroll":mt=vd;break;case"wheel":mt=Zd;break;case"copy":case"cut":case"paste":mt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mt=Td}var xt=(s&4)!==0,lt=!xt&&e==="scroll",b=xt?ot!==null?ot+"Capture":null:ot;xt=[];for(var _e=j,rt;_e!==null;){rt=_e;var dt=rt.stateNode;if(rt.tag===5&&dt!==null&&(rt=dt,b!==null&&(dt=Kb(_e,b),dt!=null&&xt.push(tf(_e,dt,rt)))),lt)break;_e=_e.return}0<xt.length&&(ot=new mt(ot,at,null,i,$),it.push({event:ot,listeners:xt}))}}if(!(s&7)){e:{if(ot=e==="mouseover"||e==="pointerover",mt=e==="mouseout"||e==="pointerout",ot&&i!==wb&&(at=i.relatedTarget||i.fromElement)&&(Wc(at)||at[uf]))break e;if((mt||ot)&&(ot=$.window===$?$:(ot=$.ownerDocument)?ot.defaultView||ot.parentWindow:window,mt?(at=i.relatedTarget||i.toElement,mt=j,at=at?Wc(at):null,at!==null&&(lt=Vb(at),at!==lt||at.tag!==5&&at.tag!==6)&&(at=null)):(mt=null,at=j),mt!==at)){if(xt=Bd,dt="onMouseLeave",b="onMouseEnter",_e="mouse",(e==="pointerout"||e==="pointerover")&&(xt=Td,dt="onPointerLeave",b="onPointerEnter",_e="pointer"),lt=mt==null?ot:ue(mt),rt=at==null?ot:ue(at),ot=new xt(dt,_e+"leave",mt,i,$),ot.target=lt,ot.relatedTarget=rt,dt=null,Wc($)===j&&(xt=new xt(b,_e+"enter",at,i,$),xt.target=rt,xt.relatedTarget=lt,dt=xt),lt=dt,mt&&at)t:{for(xt=mt,b=at,_e=0,rt=xt;rt;rt=vf(rt))_e++;for(rt=0,dt=b;dt;dt=vf(dt))rt++;for(;0<_e-rt;)xt=vf(xt),_e--;for(;0<rt-_e;)b=vf(b),rt--;for(;_e--;){if(xt===b||b!==null&&xt===b.alternate)break t;xt=vf(xt),b=vf(b)}xt=null}else xt=null;mt!==null&&wf(it,ot,mt,xt,!1),at!==null&&lt!==null&&wf(it,lt,at,xt,!0)}}e:{if(ot=j?ue(j):window,mt=ot.nodeName&&ot.nodeName.toLowerCase(),mt==="select"||mt==="input"&&ot.type==="file")var st=ve;else if(me(ot))if(we)st=Fe;else{st=De;var pt=Ce}else(mt=ot.nodeName)&&mt.toLowerCase()==="input"&&(ot.type==="checkbox"||ot.type==="radio")&&(st=Ee);if(st&&(st=st(e,j))){ne(it,st,i,$);break e}pt&&pt(e,ot,j),e==="focusout"&&(pt=ot._wrapperState)&&pt.controlled&&ot.type==="number"&&cb(ot,"number",ot.value)}switch(pt=j?ue(j):window,e){case"focusin":(me(pt)||pt.contentEditable==="true")&&(Qe=pt,Re=j,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(it,i,$);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(it,i,$)}var g;if(ae)e:{switch(e){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else ie?ge(e,i)&&(tt="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(tt="onCompositionStart");tt&&(de&&i.locale!=="ko"&&(ie||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&ie&&(g=nd()):(kd=$,ld="value"in kd?kd.value:kd.textContent,ie=!0)),pt=oe(j,tt),0<pt.length&&(tt=new Ld(tt,e,null,i,$),it.push({event:tt,listeners:pt}),g?tt.data=g:(g=he(i),g!==null&&(tt.data=g)))),(g=ce?je(e,i):ke(e,i))&&(j=oe(j,"onBeforeInput"),0<j.length&&($=new Ld("onBeforeInput","beforeinput",null,i,$),it.push({event:$,listeners:j}),$.data=g))}se(it,s)})}function tf(e,s,i){return{instance:e,listener:s,currentTarget:i}}function oe(e,s){for(var i=s+"Capture",a=[];e!==null;){var o=e,c=o.stateNode;o.tag===5&&c!==null&&(o=c,c=Kb(e,i),c!=null&&a.unshift(tf(e,c,o)),c=Kb(e,s),c!=null&&a.push(tf(e,c,o))),e=e.return}return a}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,s,i,a,o){for(var c=s._reactName,d=[];i!==null&&i!==a;){var _=i,h=_.alternate,j=_.stateNode;if(h!==null&&h===a)break;_.tag===5&&j!==null&&(_=j,o?(h=Kb(i,c),h!=null&&d.unshift(tf(i,h,_))):o||(h=Kb(i,c),h!=null&&d.push(tf(i,h,_)))),i=i.return}d.length!==0&&e.push({event:s,listeners:d})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,s,i){if(s=zf(s),zf(e)!==s&&i)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,s){var i=s,a=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(a===0){e.removeChild(o),bd(s);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=o}while(i);bd(s)}function Lf(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return e;s--}else i==="/$"&&s++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var s=e[Of];if(s)return s;for(var i=e.parentNode;i;){if(s=i[uf]||i[Of]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(e=Mf(e);e!==null;){if(i=e[Of])return i;e=Mf(e)}return s}e=i,i=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,s){Tf++,Sf[Tf]=e.current,e.current=s}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,s){var i=e.type.contextTypes;if(!i)return Vf;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var o={},c;for(c in i)o[c]=s[c];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),o}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H)}function ag(e,s,i){if(H.current!==Vf)throw Error(p(168));G(H,s),G(Wf,i)}function bg(e,s,i){var a=e.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var o in a)if(!(o in s))throw Error(p(108,Ra(e)||"Unknown",o));return A({},i,a)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,e),G(Wf,Wf.current),!0}function dg(e,s,i){var a=e.stateNode;if(!a)throw Error(p(169));i?(e=bg(e,s,Xf),a.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H),G(H,e)):E(Wf),G(Wf,i)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,s=C;try{var i=eg;for(C=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch(o){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),o}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,s){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=s}function ug(e,s,i){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var a=rg;e=sg;var o=32-oc(a)-1;a&=~(1<<o),i+=1;var c=32-oc(s)+o;if(30<c){var d=o-o%5;c=(a&(1<<d)-1).toString(32),a>>=d,o-=d,rg=1<<32-oc(s)+o|i<<o|a,sg=c+e}else rg=1<<c|i<<o|a,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,s){var i=Bg(5,null,null,0);i.elementType="DELETED",i.stateNode=s,i.return=e,s=e.deletions,s===null?(e.deletions=[i],e.flags|=16):s.push(i)}function Cg(e,s){switch(e.tag){case 5:var i=e.type;return s=s.nodeType!==1||i.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,xg=e,yg=Lf(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,xg=e,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(i=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:s,treeContext:i,retryLane:1073741824},i=Bg(18,null,null,0),i.stateNode=s,i.return=e,e.child=i,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var s=yg;if(s){var i=s;if(!Cg(e,s)){if(Dg(e))throw Error(p(418));s=Lf(i.nextSibling);var a=xg;s&&Cg(e,s)?Ag(a,i):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!Ef(e.type,e.memoizedProps)),s&&(s=yg)){if(Dg(e))throw Hg(),Error(p(418));for(;s;)Ag(e,s),s=Lf(s.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(s===0){yg=Lf(e.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,s,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(p(309));var a=i.stateNode}if(!a)throw Error(p(147,e));var o=a,c=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===c?s.ref:(s=function(d){var _=o.refs;d===null?delete _[c]:_[c]=d},s._stringRef=c,s)}if(typeof e!="string")throw Error(p(284));if(!i._owner)throw Error(p(290,e))}return e}function Mg(e,s){throw e=Object.prototype.toString.call(s),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function Ng(e){var s=e._init;return s(e._payload)}function Og(e){function s(b,_e){if(e){var rt=b.deletions;rt===null?(b.deletions=[_e],b.flags|=16):rt.push(_e)}}function i(b,_e){if(!e)return null;for(;_e!==null;)s(b,_e),_e=_e.sibling;return null}function a(b,_e){for(b=new Map;_e!==null;)_e.key!==null?b.set(_e.key,_e):b.set(_e.index,_e),_e=_e.sibling;return b}function o(b,_e){return b=Pg(b,_e),b.index=0,b.sibling=null,b}function c(b,_e,rt){return b.index=rt,e?(rt=b.alternate,rt!==null?(rt=rt.index,rt<_e?(b.flags|=2,_e):rt):(b.flags|=2,_e)):(b.flags|=1048576,_e)}function d(b){return e&&b.alternate===null&&(b.flags|=2),b}function _(b,_e,rt,dt){return _e===null||_e.tag!==6?(_e=Qg(rt,b.mode,dt),_e.return=b,_e):(_e=o(_e,rt),_e.return=b,_e)}function h(b,_e,rt,dt){var st=rt.type;return st===ya?$(b,_e,rt.props.children,dt,rt.key):_e!==null&&(_e.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===Ha&&Ng(st)===_e.type)?(dt=o(_e,rt.props),dt.ref=Lg(b,_e,rt),dt.return=b,dt):(dt=Rg(rt.type,rt.key,rt.props,null,b.mode,dt),dt.ref=Lg(b,_e,rt),dt.return=b,dt)}function j(b,_e,rt,dt){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==rt.containerInfo||_e.stateNode.implementation!==rt.implementation?(_e=Sg(rt,b.mode,dt),_e.return=b,_e):(_e=o(_e,rt.children||[]),_e.return=b,_e)}function $(b,_e,rt,dt,st){return _e===null||_e.tag!==7?(_e=Tg(rt,b.mode,dt,st),_e.return=b,_e):(_e=o(_e,rt),_e.return=b,_e)}function it(b,_e,rt){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return _e=Qg(""+_e,b.mode,rt),_e.return=b,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case va:return rt=Rg(_e.type,_e.key,_e.props,null,b.mode,rt),rt.ref=Lg(b,null,_e),rt.return=b,rt;case wa:return _e=Sg(_e,b.mode,rt),_e.return=b,_e;case Ha:var dt=_e._init;return it(b,dt(_e._payload),rt)}if(eb(_e)||Ka(_e))return _e=Tg(_e,b.mode,rt,null),_e.return=b,_e;Mg(b,_e)}return null}function ot(b,_e,rt,dt){var st=_e!==null?_e.key:null;if(typeof rt=="string"&&rt!==""||typeof rt=="number")return st!==null?null:_(b,_e,""+rt,dt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case va:return rt.key===st?h(b,_e,rt,dt):null;case wa:return rt.key===st?j(b,_e,rt,dt):null;case Ha:return st=rt._init,ot(b,_e,st(rt._payload),dt)}if(eb(rt)||Ka(rt))return st!==null?null:$(b,_e,rt,dt,null);Mg(b,rt)}return null}function mt(b,_e,rt,dt,st){if(typeof dt=="string"&&dt!==""||typeof dt=="number")return b=b.get(rt)||null,_(_e,b,""+dt,st);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case va:return b=b.get(dt.key===null?rt:dt.key)||null,h(_e,b,dt,st);case wa:return b=b.get(dt.key===null?rt:dt.key)||null,j(_e,b,dt,st);case Ha:var pt=dt._init;return mt(b,_e,rt,pt(dt._payload),st)}if(eb(dt)||Ka(dt))return b=b.get(rt)||null,$(_e,b,dt,st,null);Mg(_e,dt)}return null}function at(b,_e,rt,dt){for(var st=null,pt=null,g=_e,tt=_e=0,ct=null;g!==null&&tt<rt.length;tt++){g.index>tt?(ct=g,g=null):ct=g.sibling;var gt=ot(b,g,rt[tt],dt);if(gt===null){g===null&&(g=ct);break}e&&g&&gt.alternate===null&&s(b,g),_e=c(gt,_e,tt),pt===null?st=gt:pt.sibling=gt,pt=gt,g=ct}if(tt===rt.length)return i(b,g),I&&tg(b,tt),st;if(g===null){for(;tt<rt.length;tt++)g=it(b,rt[tt],dt),g!==null&&(_e=c(g,_e,tt),pt===null?st=g:pt.sibling=g,pt=g);return I&&tg(b,tt),st}for(g=a(b,g);tt<rt.length;tt++)ct=mt(g,b,tt,rt[tt],dt),ct!==null&&(e&&ct.alternate!==null&&g.delete(ct.key===null?tt:ct.key),_e=c(ct,_e,tt),pt===null?st=ct:pt.sibling=ct,pt=ct);return e&&g.forEach(function(nt){return s(b,nt)}),I&&tg(b,tt),st}function xt(b,_e,rt,dt){var st=Ka(rt);if(typeof st!="function")throw Error(p(150));if(rt=st.call(rt),rt==null)throw Error(p(151));for(var pt=st=null,g=_e,tt=_e=0,ct=null,gt=rt.next();g!==null&&!gt.done;tt++,gt=rt.next()){g.index>tt?(ct=g,g=null):ct=g.sibling;var nt=ot(b,g,gt.value,dt);if(nt===null){g===null&&(g=ct);break}e&&g&&nt.alternate===null&&s(b,g),_e=c(nt,_e,tt),pt===null?st=nt:pt.sibling=nt,pt=nt,g=ct}if(gt.done)return i(b,g),I&&tg(b,tt),st;if(g===null){for(;!gt.done;tt++,gt=rt.next())gt=it(b,gt.value,dt),gt!==null&&(_e=c(gt,_e,tt),pt===null?st=gt:pt.sibling=gt,pt=gt);return I&&tg(b,tt),st}for(g=a(b,g);!gt.done;tt++,gt=rt.next())gt=mt(g,b,tt,gt.value,dt),gt!==null&&(e&&gt.alternate!==null&&g.delete(gt.key===null?tt:gt.key),_e=c(gt,_e,tt),pt===null?st=gt:pt.sibling=gt,pt=gt);return e&&g.forEach(function(ft){return s(b,ft)}),I&&tg(b,tt),st}function lt(b,_e,rt,dt){if(typeof rt=="object"&&rt!==null&&rt.type===ya&&rt.key===null&&(rt=rt.props.children),typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case va:e:{for(var st=rt.key,pt=_e;pt!==null;){if(pt.key===st){if(st=rt.type,st===ya){if(pt.tag===7){i(b,pt.sibling),_e=o(pt,rt.props.children),_e.return=b,b=_e;break e}}else if(pt.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===Ha&&Ng(st)===pt.type){i(b,pt.sibling),_e=o(pt,rt.props),_e.ref=Lg(b,pt,rt),_e.return=b,b=_e;break e}i(b,pt);break}else s(b,pt);pt=pt.sibling}rt.type===ya?(_e=Tg(rt.props.children,b.mode,dt,rt.key),_e.return=b,b=_e):(dt=Rg(rt.type,rt.key,rt.props,null,b.mode,dt),dt.ref=Lg(b,_e,rt),dt.return=b,b=dt)}return d(b);case wa:e:{for(pt=rt.key;_e!==null;){if(_e.key===pt)if(_e.tag===4&&_e.stateNode.containerInfo===rt.containerInfo&&_e.stateNode.implementation===rt.implementation){i(b,_e.sibling),_e=o(_e,rt.children||[]),_e.return=b,b=_e;break e}else{i(b,_e);break}else s(b,_e);_e=_e.sibling}_e=Sg(rt,b.mode,dt),_e.return=b,b=_e}return d(b);case Ha:return pt=rt._init,lt(b,_e,pt(rt._payload),dt)}if(eb(rt))return at(b,_e,rt,dt);if(Ka(rt))return xt(b,_e,rt,dt);Mg(b,rt)}return typeof rt=="string"&&rt!==""||typeof rt=="number"?(rt=""+rt,_e!==null&&_e.tag===6?(i(b,_e.sibling),_e=o(_e,rt),_e.return=b,b=_e):(i(b,_e),_e=Qg(rt,b.mode,dt),_e.return=b,b=_e),d(b)):i(b,_e)}return lt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(e){var s=Wg.current;E(Wg),e._currentValue=s}function bh(e,s,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),e===i)break;e=e.return}}function ch(e,s){Xg=e,Zg=Yg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&s&&(dh=!0),e.firstContext=null)}function eh(e){var s=e._currentValue;if(Zg!==e)if(e={context:e,memoizedValue:s,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=e,Xg.dependencies={lanes:0,firstContext:e}}else Yg=Yg.next=e;return s}var fh=null;function gh(e){fh===null?fh=[e]:fh.push(e)}function hh(e,s,i,a){var o=s.interleaved;return o===null?(i.next=i,gh(s)):(i.next=o.next,o.next=i),s.interleaved=i,ih(e,a)}function ih(e,s){e.lanes|=s;var i=e.alternate;for(i!==null&&(i.lanes|=s),i=e,e=e.return;e!==null;)e.childLanes|=s,i=e.alternate,i!==null&&(i.childLanes|=s),i=e,e=e.return;return i.tag===3?i.stateNode:null}var jh=!1;function kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mh(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function nh(e,s,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,K&2){var o=a.pending;return o===null?s.next=s:(s.next=o.next,o.next=s),a.pending=s,ih(e,i)}return o=a.interleaved,o===null?(s.next=s,gh(a)):(s.next=o.next,o.next=s),a.interleaved=s,ih(e,i)}function oh(e,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194240)!==0)){var a=s.lanes;a&=e.pendingLanes,i|=a,s.lanes=i,Cc(e,i)}}function ph(e,s){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var o=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var d={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};c===null?o=c=d:c=c.next=d,i=i.next}while(i!==null);c===null?o=c=s:c=c.next=s}else o=c=s;i={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=s:e.next=s,i.lastBaseUpdate=s}function qh(e,s,i,a){var o=e.updateQueue;jh=!1;var c=o.firstBaseUpdate,d=o.lastBaseUpdate,_=o.shared.pending;if(_!==null){o.shared.pending=null;var h=_,j=h.next;h.next=null,d===null?c=j:d.next=j,d=h;var $=e.alternate;$!==null&&($=$.updateQueue,_=$.lastBaseUpdate,_!==d&&(_===null?$.firstBaseUpdate=j:_.next=j,$.lastBaseUpdate=h))}if(c!==null){var it=o.baseState;d=0,$=j=h=null,_=c;do{var ot=_.lane,mt=_.eventTime;if((a&ot)===ot){$!==null&&($=$.next={eventTime:mt,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var at=e,xt=_;switch(ot=s,mt=i,xt.tag){case 1:if(at=xt.payload,typeof at=="function"){it=at.call(mt,it,ot);break e}it=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=xt.payload,ot=typeof at=="function"?at.call(mt,it,ot):at,ot==null)break e;it=A({},it,ot);break e;case 2:jh=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,ot=o.effects,ot===null?o.effects=[_]:ot.push(_))}else mt={eventTime:mt,lane:ot,tag:_.tag,payload:_.payload,callback:_.callback,next:null},$===null?(j=$=mt,h=it):$=$.next=mt,d|=ot;if(_=_.next,_===null){if(_=o.shared.pending,_===null)break;ot=_,_=ot.next,ot.next=null,o.lastBaseUpdate=ot,o.shared.pending=null}}while(!0);if($===null&&(h=it),o.baseState=h,o.firstBaseUpdate=j,o.lastBaseUpdate=$,s=o.shared.interleaved,s!==null){o=s;do d|=o.lane,o=o.next;while(o!==s)}else c===null&&(o.shared.lanes=0);rh|=d,e.lanes=d,e.memoizedState=it}}function sh(e,s,i){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var a=e[s],o=a.callback;if(o!==null){if(a.callback=null,a=i,typeof o!="function")throw Error(p(191,o));o.call(a)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(e){if(e===th)throw Error(p(174));return e}function yh(e,s){switch(G(wh,s),G(vh,e),G(uh,th),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=lb(s,e)}E(uh),G(uh,s)}function zh(){E(uh),E(vh),E(wh)}function Ah(e){xh(wh.current);var s=xh(uh.current),i=lb(s,e.type);s!==i&&(G(vh,e),G(uh,i))}function Bh(e){vh.current===e&&(E(uh),E(vh))}var L=Uf(0);function Ch(e){for(var s=e;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Eh(){for(var e=0;e<Dh.length;e++)Dh[e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(e,s){if(s===null)return!1;for(var i=0;i<s.length&&i<e.length;i++)if(!He(e[i],s[i]))return!1;return!0}function Nh(e,s,i,a,o,c){if(Hh=c,M=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fh.current=e===null||e.memoizedState===null?Oh:Ph,e=i(a,o),Jh){c=0;do{if(Jh=!1,Kh=0,25<=c)throw Error(p(301));c+=1,O=N=null,s.updateQueue=null,Fh.current=Qh,e=i(a,o)}while(Jh)}if(Fh.current=Rh,s=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,s)throw Error(p(300));return e}function Sh(){var e=Kh!==0;return Kh=0,e}function Th(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=e:O=O.next=e,O}function Uh(){if(N===null){var e=M.alternate;e=e!==null?e.memoizedState:null}else e=N.next;var s=O===null?M.memoizedState:O.next;if(s!==null)O=s,N=e;else{if(e===null)throw Error(p(310));N=e,e={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=e:O=O.next=e}return O}function Vh(e,s){return typeof s=="function"?s(e):s}function Wh(e){var s=Uh(),i=s.queue;if(i===null)throw Error(p(311));i.lastRenderedReducer=e;var a=N,o=a.baseQueue,c=i.pending;if(c!==null){if(o!==null){var d=o.next;o.next=c.next,c.next=d}a.baseQueue=o=c,i.pending=null}if(o!==null){c=o.next,a=a.baseState;var _=d=null,h=null,j=c;do{var $=j.lane;if((Hh&$)===$)h!==null&&(h=h.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),a=j.hasEagerState?j.eagerState:e(a,j.action);else{var it={lane:$,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};h===null?(_=h=it,d=a):h=h.next=it,M.lanes|=$,rh|=$}j=j.next}while(j!==null&&j!==c);h===null?d=a:h.next=_,He(a,s.memoizedState)||(dh=!0),s.memoizedState=a,s.baseState=d,s.baseQueue=h,i.lastRenderedState=a}if(e=i.interleaved,e!==null){o=e;do c=o.lane,M.lanes|=c,rh|=c,o=o.next;while(o!==e)}else o===null&&(i.lanes=0);return[s.memoizedState,i.dispatch]}function Xh(e){var s=Uh(),i=s.queue;if(i===null)throw Error(p(311));i.lastRenderedReducer=e;var a=i.dispatch,o=i.pending,c=s.memoizedState;if(o!==null){i.pending=null;var d=o=o.next;do c=e(c,d.action),d=d.next;while(d!==o);He(c,s.memoizedState)||(dh=!0),s.memoizedState=c,s.baseQueue===null&&(s.baseState=c),i.lastRenderedState=c}return[c,a]}function Yh(){}function Zh(e,s){var i=M,a=Uh(),o=s(),c=!He(a.memoizedState,o);if(c&&(a.memoizedState=o,dh=!0),a=a.queue,$h(ai.bind(null,i,a,e),[e]),a.getSnapshot!==s||c||O!==null&&O.memoizedState.tag&1){if(i.flags|=2048,bi(9,ci.bind(null,i,a,o,s),void 0,null),Q===null)throw Error(p(349));Hh&30||di(i,s,o)}return o}function di(e,s,i){e.flags|=16384,e={getSnapshot:s,value:i},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.stores=[e]):(i=s.stores,i===null?s.stores=[e]:i.push(e))}function ci(e,s,i,a){s.value=i,s.getSnapshot=a,ei(s)&&fi(e)}function ai(e,s,i){return i(function(){ei(s)&&fi(e)})}function ei(e){var s=e.getSnapshot;e=e.value;try{var i=s();return!He(e,i)}catch{return!0}}function fi(e){var s=ih(e,1);s!==null&&gi(s,e,1,-1)}function hi(e){var s=Th();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:e},s.queue=e,e=e.dispatch=ii.bind(null,M,e),[s.memoizedState,e]}function bi(e,s,i,a){return e={tag:e,create:s,destroy:i,deps:a,next:null},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.lastEffect=e.next=e):(i=s.lastEffect,i===null?s.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,s.lastEffect=e)),e}function ji(){return Uh().memoizedState}function ki(e,s,i,a){var o=Th();M.flags|=e,o.memoizedState=bi(1|s,i,void 0,a===void 0?null:a)}function li(e,s,i,a){var o=Uh();a=a===void 0?null:a;var c=void 0;if(N!==null){var d=N.memoizedState;if(c=d.destroy,a!==null&&Mh(a,d.deps)){o.memoizedState=bi(s,i,c,a);return}}M.flags|=e,o.memoizedState=bi(1|s,i,c,a)}function mi(e,s){return ki(8390656,8,e,s)}function $h(e,s){return li(2048,8,e,s)}function ni(e,s){return li(4,2,e,s)}function oi(e,s){return li(4,4,e,s)}function pi(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function qi(e,s,i){return i=i!=null?i.concat([e]):null,li(4,4,pi.bind(null,s,e),i)}function ri(){}function si(e,s){var i=Uh();s=s===void 0?null:s;var a=i.memoizedState;return a!==null&&s!==null&&Mh(s,a[1])?a[0]:(i.memoizedState=[e,s],e)}function ti(e,s){var i=Uh();s=s===void 0?null:s;var a=i.memoizedState;return a!==null&&s!==null&&Mh(s,a[1])?a[0]:(e=e(),i.memoizedState=[e,s],e)}function ui(e,s,i){return Hh&21?(He(i,s)||(i=yc(),M.lanes|=i,rh|=i,e.baseState=!0),s):(e.baseState&&(e.baseState=!1,dh=!0),e.memoizedState=i)}function vi(e,s){var i=C;C=i!==0&&4>i?i:4,e(!0);var a=Gh.transition;Gh.transition={};try{e(!1),s()}finally{C=i,Gh.transition=a}}function wi(){return Uh().memoizedState}function xi(e,s,i){var a=yi(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},zi(e))Ai(s,i);else if(i=hh(e,s,i,a),i!==null){var o=R();gi(i,e,a,o),Bi(i,s,a)}}function ii(e,s,i){var a=yi(e),o={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(zi(e))Ai(s,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=s.lastRenderedReducer,c!==null))try{var d=s.lastRenderedState,_=c(d,i);if(o.hasEagerState=!0,o.eagerState=_,He(_,d)){var h=s.interleaved;h===null?(o.next=o,gh(s)):(o.next=h.next,h.next=o),s.interleaved=o;return}}catch{}finally{}i=hh(e,s,o,a),i!==null&&(o=R(),gi(i,e,a,o),Bi(i,s,a))}}function zi(e){var s=e.alternate;return e===M||s!==null&&s===M}function Ai(e,s){Jh=Ih=!0;var i=e.pending;i===null?s.next=s:(s.next=i.next,i.next=s),e.pending=s}function Bi(e,s,i){if(i&4194240){var a=s.lanes;a&=e.pendingLanes,i|=a,s.lanes=i,Cc(e,i)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(e,s){return Th().memoizedState=[e,s===void 0?null:s],e},useContext:eh,useEffect:mi,useImperativeHandle:function(e,s,i){return i=i!=null?i.concat([e]):null,ki(4194308,4,pi.bind(null,s,e),i)},useLayoutEffect:function(e,s){return ki(4194308,4,e,s)},useInsertionEffect:function(e,s){return ki(4,2,e,s)},useMemo:function(e,s){var i=Th();return s=s===void 0?null:s,e=e(),i.memoizedState=[e,s],e},useReducer:function(e,s,i){var a=Th();return s=i!==void 0?i(s):s,a.memoizedState=a.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=xi.bind(null,M,e),[a.memoizedState,e]},useRef:function(e){var s=Th();return e={current:e},s.memoizedState=e},useState:hi,useDebugValue:ri,useDeferredValue:function(e){return Th().memoizedState=e},useTransition:function(){var e=hi(!1),s=e[0];return e=vi.bind(null,e[1]),Th().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,i){var a=M,o=Th();if(I){if(i===void 0)throw Error(p(407));i=i()}else{if(i=s(),Q===null)throw Error(p(349));Hh&30||di(a,s,i)}o.memoizedState=i;var c={value:i,getSnapshot:s};return o.queue=c,mi(ai.bind(null,a,c,e),[e]),a.flags|=2048,bi(9,ci.bind(null,a,c,i,s),void 0,null),i},useId:function(){var e=Th(),s=Q.identifierPrefix;if(I){var i=sg,a=rg;i=(a&~(1<<32-oc(a)-1)).toString(32)+i,s=":"+s+"R"+i,i=Kh++,0<i&&(s+="H"+i.toString(32)),s+=":"}else i=Lh++,s=":"+s+"r"+i.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var s=Uh();return ui(s,N.memoizedState,e)},useTransition:function(){var e=Wh(Vh)[0],s=Uh().memoizedState;return[e,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var s=Uh();return N===null?s.memoizedState=e:ui(s,N.memoizedState,e)},useTransition:function(){var e=Xh(Vh)[0],s=Uh().memoizedState;return[e,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(e,s){if(e&&e.defaultProps){s=A({},s),e=e.defaultProps;for(var i in e)s[i]===void 0&&(s[i]=e[i]);return s}return s}function Di(e,s,i,a){s=e.memoizedState,i=i(a,s),i=i==null?s:A({},s,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ei={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,s,i){e=e._reactInternals;var a=R(),o=yi(e),c=mh(a,o);c.payload=s,i!=null&&(c.callback=i),s=nh(e,c,o),s!==null&&(gi(s,e,o,a),oh(s,e,o))},enqueueReplaceState:function(e,s,i){e=e._reactInternals;var a=R(),o=yi(e),c=mh(a,o);c.tag=1,c.payload=s,i!=null&&(c.callback=i),s=nh(e,c,o),s!==null&&(gi(s,e,o,a),oh(s,e,o))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var i=R(),a=yi(e),o=mh(i,a);o.tag=2,s!=null&&(o.callback=s),s=nh(e,o,a),s!==null&&(gi(s,e,a,i),oh(s,e,a))}};function Fi(e,s,i,a,o,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,d):s.prototype&&s.prototype.isPureReactComponent?!Ie(i,a)||!Ie(o,c):!0}function Gi(e,s,i){var a=!1,o=Vf,c=s.contextType;return typeof c=="object"&&c!==null?c=eh(c):(o=Zf(s)?Xf:H.current,a=s.contextTypes,c=(a=a!=null)?Yf(e,o):Vf),s=new s(i,c),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ei,e.stateNode=s,s._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=c),s}function Hi(e,s,i,a){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,a),s.state!==e&&Ei.enqueueReplaceState(s,s.state,null)}function Ii(e,s,i,a){var o=e.stateNode;o.props=i,o.state=e.memoizedState,o.refs={},kh(e);var c=s.contextType;typeof c=="object"&&c!==null?o.context=eh(c):(c=Zf(s)?Xf:H.current,o.context=Yf(e,c)),o.state=e.memoizedState,c=s.getDerivedStateFromProps,typeof c=="function"&&(Di(e,s,c,i),o.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(s=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),s!==o.state&&Ei.enqueueReplaceState(o,o.state,null),qh(e,i,o,a),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ji(e,s){try{var i="",a=s;do i+=Pa(a),a=a.return;while(a);var o=i}catch(c){o=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:s,stack:o,digest:null}}function Ki(e,s,i){return{value:e,source:null,stack:i??null,digest:s??null}}function Li(e,s){try{console.error(s.value)}catch(i){setTimeout(function(){throw i})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(e,s,i){i=mh(-1,i),i.tag=3,i.payload={element:null};var a=s.value;return i.callback=function(){Oi||(Oi=!0,Pi=a),Li(e,s)},i}function Qi(e,s,i){i=mh(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var o=s.value;i.payload=function(){return a(o)},i.callback=function(){Li(e,s)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(i.callback=function(){Li(e,s),typeof a!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var d=s.stack;this.componentDidCatch(s.value,{componentStack:d!==null?d:""})}),i}function Si(e,s,i){var a=e.pingCache;if(a===null){a=e.pingCache=new Mi;var o=new Set;a.set(s,o)}else o=a.get(s),o===void 0&&(o=new Set,a.set(s,o));o.has(i)||(o.add(i),e=Ti.bind(null,e,s,i),s.then(e,e))}function Ui(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function Vi(e,s,i,a,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===s?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(s=mh(-1,1),s.tag=2,nh(i,s,1))),i.lanes|=1),e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(e,s,i,a){s.child=e===null?Vg(s,null,i,a):Ug(s,e.child,i,a)}function Yi(e,s,i,a,o){i=i.render;var c=s.ref;return ch(s,o),a=Nh(e,s,i,a,c,o),i=Sh(),e!==null&&!dh?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~o,Zi(e,s,o)):(I&&i&&vg(s),s.flags|=1,Xi(e,s,a,o),s.child)}function $i(e,s,i,a,o){if(e===null){var c=i.type;return typeof c=="function"&&!aj(c)&&c.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(s.tag=15,s.type=c,bj(e,s,c,a,o)):(e=Rg(i.type,null,a,s,s.mode,o),e.ref=s.ref,e.return=s,s.child=e)}if(c=e.child,!(e.lanes&o)){var d=c.memoizedProps;if(i=i.compare,i=i!==null?i:Ie,i(d,a)&&e.ref===s.ref)return Zi(e,s,o)}return s.flags|=1,e=Pg(c,a),e.ref=s.ref,e.return=s,s.child=e}function bj(e,s,i,a,o){if(e!==null){var c=e.memoizedProps;if(Ie(c,a)&&e.ref===s.ref)if(dh=!1,s.pendingProps=a=c,(e.lanes&o)!==0)e.flags&131072&&(dh=!0);else return s.lanes=e.lanes,Zi(e,s,o)}return cj(e,s,i,a,o)}function dj(e,s,i){var a=s.pendingProps,o=a.children,c=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=i;else{if(!(i&1073741824))return e=c!==null?c.baseLanes|i:i,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,G(ej,fj),fj|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=c!==null?c.baseLanes:i,G(ej,fj),fj|=a}else c!==null?(a=c.baseLanes|i,s.memoizedState=null):a=i,G(ej,fj),fj|=a;return Xi(e,s,o,i),s.child}function gj(e,s){var i=s.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(s.flags|=512,s.flags|=2097152)}function cj(e,s,i,a,o){var c=Zf(i)?Xf:H.current;return c=Yf(s,c),ch(s,o),i=Nh(e,s,i,a,c,o),a=Sh(),e!==null&&!dh?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~o,Zi(e,s,o)):(I&&a&&vg(s),s.flags|=1,Xi(e,s,i,o),s.child)}function hj(e,s,i,a,o){if(Zf(i)){var c=!0;cg(s)}else c=!1;if(ch(s,o),s.stateNode===null)ij(e,s),Gi(s,i,a),Ii(s,i,a,o),a=!0;else if(e===null){var d=s.stateNode,_=s.memoizedProps;d.props=_;var h=d.context,j=i.contextType;typeof j=="object"&&j!==null?j=eh(j):(j=Zf(i)?Xf:H.current,j=Yf(s,j));var $=i.getDerivedStateFromProps,it=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function";it||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==a||h!==j)&&Hi(s,d,a,j),jh=!1;var ot=s.memoizedState;d.state=ot,qh(s,a,d,o),h=s.memoizedState,_!==a||ot!==h||Wf.current||jh?(typeof $=="function"&&(Di(s,i,$,a),h=s.memoizedState),(_=jh||Fi(s,i,_,a,ot,h,j))?(it||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=h),d.props=a,d.state=h,d.context=j,a=_):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{d=s.stateNode,lh(e,s),_=s.memoizedProps,j=s.type===s.elementType?_:Ci(s.type,_),d.props=j,it=s.pendingProps,ot=d.context,h=i.contextType,typeof h=="object"&&h!==null?h=eh(h):(h=Zf(i)?Xf:H.current,h=Yf(s,h));var mt=i.getDerivedStateFromProps;($=typeof mt=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==it||ot!==h)&&Hi(s,d,a,h),jh=!1,ot=s.memoizedState,d.state=ot,qh(s,a,d,o);var at=s.memoizedState;_!==it||ot!==at||Wf.current||jh?(typeof mt=="function"&&(Di(s,i,mt,a),at=s.memoizedState),(j=jh||Fi(s,i,j,a,ot,at,h)||!1)?($||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(a,at,h),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(a,at,h)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&ot===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&ot===e.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=at),d.props=a,d.state=at,d.context=h,a=j):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&ot===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&ot===e.memoizedState||(s.flags|=1024),a=!1)}return jj(e,s,i,a,c,o)}function jj(e,s,i,a,o,c){gj(e,s);var d=(s.flags&128)!==0;if(!a&&!d)return o&&dg(s,i,!1),Zi(e,s,c);a=s.stateNode,Wi.current=s;var _=d&&typeof i.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,e!==null&&d?(s.child=Ug(s,e.child,null,c),s.child=Ug(s,null,_,c)):Xi(e,s,_,c),s.memoizedState=a.state,o&&dg(s,i,!0),s.child}function kj(e){var s=e.stateNode;s.pendingContext?ag(e,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(e,s.context,!1),yh(e,s.containerInfo)}function lj(e,s,i,a,o){return Ig(),Jg(o),s.flags|=256,Xi(e,s,i,a),s.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(e){return{baseLanes:e,cachePool:null,transitions:null}}function oj(e,s,i){var a=s.pendingProps,o=L.current,c=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(o&2)!==0),_?(c=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),G(L,o&1),e===null)return Eg(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(s.mode&1?e.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(d=a.children,e=a.fallback,c?(a=s.mode,c=s.child,d={mode:"hidden",children:d},!(a&1)&&c!==null?(c.childLanes=0,c.pendingProps=d):c=pj(d,a,0,null),e=Tg(e,a,i,null),c.return=s,e.return=s,c.sibling=e,s.child=c,s.child.memoizedState=nj(i),s.memoizedState=mj,e):qj(s,d));if(o=e.memoizedState,o!==null&&(_=o.dehydrated,_!==null))return rj(e,s,d,a,_,o,i);if(c){c=a.fallback,d=s.mode,o=e.child,_=o.sibling;var h={mode:"hidden",children:a.children};return!(d&1)&&s.child!==o?(a=s.child,a.childLanes=0,a.pendingProps=h,s.deletions=null):(a=Pg(o,h),a.subtreeFlags=o.subtreeFlags&14680064),_!==null?c=Pg(_,c):(c=Tg(c,d,i,null),c.flags|=2),c.return=s,a.return=s,a.sibling=c,s.child=a,a=c,c=s.child,d=e.child.memoizedState,d=d===null?nj(i):{baseLanes:d.baseLanes|i,cachePool:null,transitions:d.transitions},c.memoizedState=d,c.childLanes=e.childLanes&~i,s.memoizedState=mj,a}return c=e.child,e=c.sibling,a=Pg(c,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=i),a.return=s,a.sibling=null,e!==null&&(i=s.deletions,i===null?(s.deletions=[e],s.flags|=16):i.push(e)),s.child=a,s.memoizedState=null,a}function qj(e,s){return s=pj({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function sj(e,s,i,a){return a!==null&&Jg(a),Ug(s,e.child,null,i),e=qj(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function rj(e,s,i,a,o,c,d){if(i)return s.flags&256?(s.flags&=-257,a=Ki(Error(p(422))),sj(e,s,d,a)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(c=a.fallback,o=s.mode,a=pj({mode:"visible",children:a.children},o,0,null),c=Tg(c,o,d,null),c.flags|=2,a.return=s,c.return=s,a.sibling=c,s.child=a,s.mode&1&&Ug(s,e.child,null,d),s.child.memoizedState=nj(d),s.memoizedState=mj,c);if(!(s.mode&1))return sj(e,s,d,null);if(o.data==="$!"){if(a=o.nextSibling&&o.nextSibling.dataset,a)var _=a.dgst;return a=_,c=Error(p(419)),a=Ki(c,a,void 0),sj(e,s,d,a)}if(_=(d&e.childLanes)!==0,dh||_){if(a=Q,a!==null){switch(d&-d){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(a.suspendedLanes|d)?0:o,o!==0&&o!==c.retryLane&&(c.retryLane=o,ih(e,o),gi(a,e,o,-1))}return tj(),a=Ki(Error(p(421))),sj(e,s,d,a)}return o.data==="$?"?(s.flags|=128,s.child=e.child,s=uj.bind(null,e),o._reactRetry=s,null):(e=c.treeContext,yg=Lf(o.nextSibling),xg=s,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=s),s=qj(s,a.children),s.flags|=4096,s)}function vj(e,s,i){e.lanes|=s;var a=e.alternate;a!==null&&(a.lanes|=s),bh(e.return,s,i)}function wj(e,s,i,a,o){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:o}:(c.isBackwards=s,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=i,c.tailMode=o)}function xj(e,s,i){var a=s.pendingProps,o=a.revealOrder,c=a.tail;if(Xi(e,s,a.children,i),a=L.current,a&2)a=a&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vj(e,i,s);else if(e.tag===19)vj(e,i,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(G(L,a),!(s.mode&1))s.memoizedState=null;else switch(o){case"forwards":for(i=s.child,o=null;i!==null;)e=i.alternate,e!==null&&Ch(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=s.child,s.child=null):(o=i.sibling,i.sibling=null),wj(s,!1,o,i,c);break;case"backwards":for(i=null,o=s.child,s.child=null;o!==null;){if(e=o.alternate,e!==null&&Ch(e)===null){s.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}wj(s,!0,i,null,c);break;case"together":wj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ij(e,s){!(s.mode&1)&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function Zi(e,s,i){if(e!==null&&(s.dependencies=e.dependencies),rh|=s.lanes,!(i&s.childLanes))return null;if(e!==null&&s.child!==e.child)throw Error(p(153));if(s.child!==null){for(e=s.child,i=Pg(e,e.pendingProps),s.child=i,i.return=s;e.sibling!==null;)e=e.sibling,i=i.sibling=Pg(e,e.pendingProps),i.return=s;i.sibling=null}return s.child}function yj(e,s,i){switch(s.tag){case 3:kj(s),Ig();break;case 5:Ah(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:yh(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,o=s.memoizedProps.value;G(Wg,a._currentValue),a._currentValue=o;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(G(L,L.current&1),s.flags|=128,null):i&s.child.childLanes?oj(e,s,i):(G(L,L.current&1),e=Zi(e,s,i),e!==null?e.sibling:null);G(L,L.current&1);break;case 19:if(a=(i&s.childLanes)!==0,e.flags&128){if(a)return xj(e,s,i);s.flags|=128}if(o=s.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),G(L,L.current),a)break;return null;case 22:case 23:return s.lanes=0,dj(e,s,i)}return Zi(e,s,i)}var zj,Aj,Bj,Cj;zj=function(e,s){for(var i=s.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Aj=function(){};Bj=function(e,s,i,a){var o=e.memoizedProps;if(o!==a){e=s.stateNode,xh(uh.current);var c=null;switch(i){case"input":o=Ya(e,o),a=Ya(e,a),c=[];break;case"select":o=A({},o,{value:void 0}),a=A({},a,{value:void 0}),c=[];break;case"textarea":o=gb(e,o),a=gb(e,a),c=[];break;default:typeof o.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Bf)}ub(i,a);var d;i=null;for(j in o)if(!a.hasOwnProperty(j)&&o.hasOwnProperty(j)&&o[j]!=null)if(j==="style"){var _=o[j];for(d in _)_.hasOwnProperty(d)&&(i||(i={}),i[d]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(ea.hasOwnProperty(j)?c||(c=[]):(c=c||[]).push(j,null));for(j in a){var h=a[j];if(_=o!=null?o[j]:void 0,a.hasOwnProperty(j)&&h!==_&&(h!=null||_!=null))if(j==="style")if(_){for(d in _)!_.hasOwnProperty(d)||h&&h.hasOwnProperty(d)||(i||(i={}),i[d]="");for(d in h)h.hasOwnProperty(d)&&_[d]!==h[d]&&(i||(i={}),i[d]=h[d])}else i||(c||(c=[]),c.push(j,i)),i=h;else j==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,_=_?_.__html:void 0,h!=null&&_!==h&&(c=c||[]).push(j,h)):j==="children"?typeof h!="string"&&typeof h!="number"||(c=c||[]).push(j,""+h):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(ea.hasOwnProperty(j)?(h!=null&&j==="onScroll"&&D("scroll",e),c||_===h||(c=[])):(c=c||[]).push(j,h))}i&&(c=c||[]).push("style",i);var j=c;(s.updateQueue=j)&&(s.flags|=4)}};Cj=function(e,s,i,a){i!==a&&(s.flags|=4)};function Dj(e,s){if(!I)switch(e.tailMode){case"hidden":s=e.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function S(e){var s=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(s)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags&14680064,a|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=a,e.childLanes=i,s}function Ej(e,s,i){var a=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf(s.type)&&$f(),S(s),null;case 3:return a=s.stateNode,zh(),E(Wf),E(H),Eh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Gg(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(e,s),S(s),null;case 5:Bh(s);var o=xh(wh.current);if(i=s.type,e!==null&&s.stateNode!=null)Bj(e,s,i,a,o),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(p(166));return S(s),null}if(e=xh(uh.current),Gg(s)){a=s.stateNode,i=s.type;var c=s.memoizedProps;switch(a[Of]=s,a[Pf]=c,e=(s.mode&1)!==0,i){case"dialog":D("cancel",a),D("close",a);break;case"iframe":case"object":case"embed":D("load",a);break;case"video":case"audio":for(o=0;o<lf.length;o++)D(lf[o],a);break;case"source":D("error",a);break;case"img":case"image":case"link":D("error",a),D("load",a);break;case"details":D("toggle",a);break;case"input":Za(a,c),D("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!c.multiple},D("invalid",a);break;case"textarea":hb(a,c),D("invalid",a)}ub(i,c),o=null;for(var d in c)if(c.hasOwnProperty(d)){var _=c[d];d==="children"?typeof _=="string"?a.textContent!==_&&(c.suppressHydrationWarning!==!0&&Af(a.textContent,_,e),o=["children",_]):typeof _=="number"&&a.textContent!==""+_&&(c.suppressHydrationWarning!==!0&&Af(a.textContent,_,e),o=["children",""+_]):ea.hasOwnProperty(d)&&_!=null&&d==="onScroll"&&D("scroll",a)}switch(i){case"input":Va(a),db(a,c,!0);break;case"textarea":Va(a),jb(a);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(a.onclick=Bf)}a=o,s.updateQueue=a,a!==null&&(s.flags|=4)}else{d=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=d.createElement(i,{is:a.is}):(e=d.createElement(i),i==="select"&&(d=e,a.multiple?d.multiple=!0:a.size&&(d.size=a.size))):e=d.createElementNS(e,i),e[Of]=s,e[Pf]=a,zj(e,s,!1,!1),s.stateNode=e;e:{switch(d=vb(i,a),i){case"dialog":D("cancel",e),D("close",e),o=a;break;case"iframe":case"object":case"embed":D("load",e),o=a;break;case"video":case"audio":for(o=0;o<lf.length;o++)D(lf[o],e);o=a;break;case"source":D("error",e),o=a;break;case"img":case"image":case"link":D("error",e),D("load",e),o=a;break;case"details":D("toggle",e),o=a;break;case"input":Za(e,a),o=Ya(e,a),D("invalid",e);break;case"option":o=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},o=A({},a,{value:void 0}),D("invalid",e);break;case"textarea":hb(e,a),o=gb(e,a),D("invalid",e);break;default:o=a}ub(i,o),_=o;for(c in _)if(_.hasOwnProperty(c)){var h=_[c];c==="style"?sb(e,h):c==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&nb(e,h)):c==="children"?typeof h=="string"?(i!=="textarea"||h!=="")&&ob(e,h):typeof h=="number"&&ob(e,""+h):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ea.hasOwnProperty(c)?h!=null&&c==="onScroll"&&D("scroll",e):h!=null&&ta(e,c,h,d))}switch(i){case"input":Va(e),db(e,a,!1);break;case"textarea":Va(e),jb(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Sa(a.value));break;case"select":e.multiple=!!a.multiple,c=a.value,c!=null?fb(e,!!a.multiple,c,!1):a.defaultValue!=null&&fb(e,!!a.multiple,a.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Bf)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(e&&s.stateNode!=null)Cj(e,s,e.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(p(166));if(i=xh(wh.current),xh(uh.current),Gg(s)){if(a=s.stateNode,i=s.memoizedProps,a[Of]=s,(c=a.nodeValue!==i)&&(e=xg,e!==null))switch(e.tag){case 3:Af(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,i,(e.mode&1)!==0)}c&&(s.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Of]=s,s.stateNode=a}return S(s),null;case 13:if(E(L),a=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,c=!1;else if(c=Gg(s),a!==null&&a.dehydrated!==null){if(e===null){if(!c)throw Error(p(318));if(c=s.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(p(317));c[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S(s),c=!1}else zg!==null&&(Fj(zg),zg=null),c=!0;if(!c)return s.flags&65536?s:null}return s.flags&128?(s.lanes=i,s):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(e===null||L.current&1?T===0&&(T=3):tj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return zh(),Aj(e,s),e===null&&sf(s.stateNode.containerInfo),S(s),null;case 10:return ah(s.type._context),S(s),null;case 17:return Zf(s.type)&&$f(),S(s),null;case 19:if(E(L),c=s.memoizedState,c===null)return S(s),null;if(a=(s.flags&128)!==0,d=c.rendering,d===null)if(a)Dj(c,!1);else{if(T!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(d=Ch(e),d!==null){for(s.flags|=128,Dj(c,!1),a=d.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=i,i=s.child;i!==null;)c=i,e=a,c.flags&=14680066,d=c.alternate,d===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,e=d.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return G(L,L.current&1|2),s.child}e=e.sibling}c.tail!==null&&B()>Gj&&(s.flags|=128,a=!0,Dj(c,!1),s.lanes=4194304)}else{if(!a)if(e=Ch(d),e!==null){if(s.flags|=128,a=!0,i=e.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),Dj(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!I)return S(s),null}else 2*B()-c.renderingStartTime>Gj&&i!==1073741824&&(s.flags|=128,a=!0,Dj(c,!1),s.lanes=4194304);c.isBackwards?(d.sibling=s.child,s.child=d):(i=c.last,i!==null?i.sibling=d:s.child=d,c.last=d)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=B(),s.sibling=null,i=L.current,G(L,a?i&1|2:i&1),s):(S(s),null);case 22:case 23:return Hj(),a=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?fj&1073741824&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p(156,s.tag))}function Ij(e,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return zh(),E(Wf),E(H),Eh(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 5:return Bh(s),null;case 13:if(E(L),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(p(340));Ig()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(s.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(e,s){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){W(e,s,a)}else i.current=null}function Mj(e,s,i){try{i()}catch(a){W(e,s,a)}}var Nj=!1;function Oj(e,s){if(Cf=dd,e=Me(),Ne(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var o=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var d=0,_=-1,h=-1,j=0,$=0,it=e,ot=null;t:for(;;){for(var mt;it!==i||o!==0&&it.nodeType!==3||(_=d+o),it!==c||a!==0&&it.nodeType!==3||(h=d+a),it.nodeType===3&&(d+=it.nodeValue.length),(mt=it.firstChild)!==null;)ot=it,it=mt;for(;;){if(it===e)break t;if(ot===i&&++j===o&&(_=d),ot===c&&++$===a&&(h=d),(mt=it.nextSibling)!==null)break;it=ot,ot=it.parentNode}it=mt}i=_===-1||h===-1?null:{start:_,end:h}}else i=null}i=i||{start:0,end:0}}else i=null;for(Df={focusedElem:e,selectionRange:i},dd=!1,V=s;V!==null;)if(s=V,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,V=e;else for(;V!==null;){s=V;try{var at=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(at!==null){var xt=at.memoizedProps,lt=at.memoizedState,b=s.stateNode,_e=b.getSnapshotBeforeUpdate(s.elementType===s.type?xt:Ci(s.type,xt),lt);b.__reactInternalSnapshotBeforeUpdate=_e}break;case 3:var rt=s.stateNode.containerInfo;rt.nodeType===1?rt.textContent="":rt.nodeType===9&&rt.documentElement&&rt.removeChild(rt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(dt){W(s,s.return,dt)}if(e=s.sibling,e!==null){e.return=s.return,V=e;break}V=s.return}return at=Nj,Nj=!1,at}function Pj(e,s,i){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var o=a=a.next;do{if((o.tag&e)===e){var c=o.destroy;o.destroy=void 0,c!==void 0&&Mj(s,i,c)}o=o.next}while(o!==a)}}function Qj(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==s)}}function Rj(e){var s=e.ref;if(s!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof s=="function"?s(e):s.current=e}}function Sj(e){var s=e.alternate;s!==null&&(e.alternate=null,Sj(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tj(e){return e.tag===5||e.tag===3||e.tag===4}function Uj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vj(e,s,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,s?i.nodeType===8?i.parentNode.insertBefore(e,s):i.insertBefore(e,s):(i.nodeType===8?(s=i.parentNode,s.insertBefore(e,i)):(s=i,s.appendChild(e)),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=Bf));else if(a!==4&&(e=e.child,e!==null))for(Vj(e,s,i),e=e.sibling;e!==null;)Vj(e,s,i),e=e.sibling}function Wj(e,s,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,s?i.insertBefore(e,s):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Wj(e,s,i),e=e.sibling;e!==null;)Wj(e,s,i),e=e.sibling}var X$1=null,Xj=!1;function Yj(e,s,i){for(i=i.child;i!==null;)Zj(e,s,i),i=i.sibling}function Zj(e,s,i){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,i)}catch{}switch(i.tag){case 5:U||Lj(i,s);case 6:var a=X$1,o=Xj;X$1=null,Yj(e,s,i),X$1=a,Xj=o,X$1!==null&&(Xj?(e=X$1,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):X$1.removeChild(i.stateNode));break;case 18:X$1!==null&&(Xj?(e=X$1,i=i.stateNode,e.nodeType===8?Kf(e.parentNode,i):e.nodeType===1&&Kf(e,i),bd(e)):Kf(X$1,i.stateNode));break;case 4:a=X$1,o=Xj,X$1=i.stateNode.containerInfo,Xj=!0,Yj(e,s,i),X$1=a,Xj=o;break;case 0:case 11:case 14:case 15:if(!U&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){o=a=a.next;do{var c=o,d=c.destroy;c=c.tag,d!==void 0&&(c&2||c&4)&&Mj(i,s,d),o=o.next}while(o!==a)}Yj(e,s,i);break;case 1:if(!U&&(Lj(i,s),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(_){W(i,s,_)}Yj(e,s,i);break;case 21:Yj(e,s,i);break;case 22:i.mode&1?(U=(a=U)||i.memoizedState!==null,Yj(e,s,i),U=a):Yj(e,s,i);break;default:Yj(e,s,i)}}function ak(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Kj),s.forEach(function(a){var o=bk.bind(null,e,a);i.has(a)||(i.add(a),a.then(o,o))})}}function ck(e,s){var i=s.deletions;if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];try{var c=e,d=s,_=d;e:for(;_!==null;){switch(_.tag){case 5:X$1=_.stateNode,Xj=!1;break e;case 3:X$1=_.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=_.stateNode.containerInfo,Xj=!0;break e}_=_.return}if(X$1===null)throw Error(p(160));Zj(c,d,o),X$1=null,Xj=!1;var h=o.alternate;h!==null&&(h.return=null),o.return=null}catch(j){W(o,s,j)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)dk(s,e),s=s.sibling}function dk(e,s){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ck(s,e),ek(e),a&4){try{Pj(3,e,e.return),Qj(3,e)}catch(xt){W(e,e.return,xt)}try{Pj(5,e,e.return)}catch(xt){W(e,e.return,xt)}}break;case 1:ck(s,e),ek(e),a&512&&i!==null&&Lj(i,i.return);break;case 5:if(ck(s,e),ek(e),a&512&&i!==null&&Lj(i,i.return),e.flags&32){var o=e.stateNode;try{ob(o,"")}catch(xt){W(e,e.return,xt)}}if(a&4&&(o=e.stateNode,o!=null)){var c=e.memoizedProps,d=i!==null?i.memoizedProps:c,_=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{_==="input"&&c.type==="radio"&&c.name!=null&&ab(o,c),vb(_,d);var j=vb(_,c);for(d=0;d<h.length;d+=2){var $=h[d],it=h[d+1];$==="style"?sb(o,it):$==="dangerouslySetInnerHTML"?nb(o,it):$==="children"?ob(o,it):ta(o,$,it,j)}switch(_){case"input":bb(o,c);break;case"textarea":ib(o,c);break;case"select":var ot=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!c.multiple;var mt=c.value;mt!=null?fb(o,!!c.multiple,mt,!1):ot!==!!c.multiple&&(c.defaultValue!=null?fb(o,!!c.multiple,c.defaultValue,!0):fb(o,!!c.multiple,c.multiple?[]:"",!1))}o[Pf]=c}catch(xt){W(e,e.return,xt)}}break;case 6:if(ck(s,e),ek(e),a&4){if(e.stateNode===null)throw Error(p(162));o=e.stateNode,c=e.memoizedProps;try{o.nodeValue=c}catch(xt){W(e,e.return,xt)}}break;case 3:if(ck(s,e),ek(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(xt){W(e,e.return,xt)}break;case 4:ck(s,e),ek(e);break;case 13:ck(s,e),ek(e),o=e.child,o.flags&8192&&(c=o.memoizedState!==null,o.stateNode.isHidden=c,!c||o.alternate!==null&&o.alternate.memoizedState!==null||(fk=B())),a&4&&ak(e);break;case 22:if($=i!==null&&i.memoizedState!==null,e.mode&1?(U=(j=U)||$,ck(s,e),U=j):ck(s,e),ek(e),a&8192){if(j=e.memoizedState!==null,(e.stateNode.isHidden=j)&&!$&&e.mode&1)for(V=e,$=e.child;$!==null;){for(it=V=$;V!==null;){switch(ot=V,mt=ot.child,ot.tag){case 0:case 11:case 14:case 15:Pj(4,ot,ot.return);break;case 1:Lj(ot,ot.return);var at=ot.stateNode;if(typeof at.componentWillUnmount=="function"){a=ot,i=ot.return;try{s=a,at.props=s.memoizedProps,at.state=s.memoizedState,at.componentWillUnmount()}catch(xt){W(a,i,xt)}}break;case 5:Lj(ot,ot.return);break;case 22:if(ot.memoizedState!==null){gk(it);continue}}mt!==null?(mt.return=ot,V=mt):gk(it)}$=$.sibling}e:for($=null,it=e;;){if(it.tag===5){if($===null){$=it;try{o=it.stateNode,j?(c=o.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(_=it.stateNode,h=it.memoizedProps.style,d=h!=null&&h.hasOwnProperty("display")?h.display:null,_.style.display=rb("display",d))}catch(xt){W(e,e.return,xt)}}}else if(it.tag===6){if($===null)try{it.stateNode.nodeValue=j?"":it.memoizedProps}catch(xt){W(e,e.return,xt)}}else if((it.tag!==22&&it.tag!==23||it.memoizedState===null||it===e)&&it.child!==null){it.child.return=it,it=it.child;continue}if(it===e)break e;for(;it.sibling===null;){if(it.return===null||it.return===e)break e;$===it&&($=null),it=it.return}$===it&&($=null),it.sibling.return=it.return,it=it.sibling}}break;case 19:ck(s,e),ek(e),a&4&&ak(e);break;case 21:break;default:ck(s,e),ek(e)}}function ek(e){var s=e.flags;if(s&2){try{e:{for(var i=e.return;i!==null;){if(Tj(i)){var a=i;break e}i=i.return}throw Error(p(160))}switch(a.tag){case 5:var o=a.stateNode;a.flags&32&&(ob(o,""),a.flags&=-33);var c=Uj(e);Wj(e,c,o);break;case 3:case 4:var d=a.stateNode.containerInfo,_=Uj(e);Vj(e,_,d);break;default:throw Error(p(161))}}catch(h){W(e,e.return,h)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function hk(e,s,i){V=e,ik(e)}function ik(e,s,i){for(var a=(e.mode&1)!==0;V!==null;){var o=V,c=o.child;if(o.tag===22&&a){var d=o.memoizedState!==null||Jj;if(!d){var _=o.alternate,h=_!==null&&_.memoizedState!==null||U;_=Jj;var j=U;if(Jj=d,(U=h)&&!j)for(V=o;V!==null;)d=V,h=d.child,d.tag===22&&d.memoizedState!==null?jk(o):h!==null?(h.return=d,V=h):jk(o);for(;c!==null;)V=c,ik(c),c=c.sibling;V=o,Jj=_,U=j}kk(e)}else o.subtreeFlags&8772&&c!==null?(c.return=o,V=c):kk(e)}}function kk(e){for(;V!==null;){var s=V;if(s.flags&8772){var i=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U||Qj(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!U)if(i===null)a.componentDidMount();else{var o=s.elementType===s.type?i.memoizedProps:Ci(s.type,i.memoizedProps);a.componentDidUpdate(o,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var c=s.updateQueue;c!==null&&sh(s,c,a);break;case 3:var d=s.updateQueue;if(d!==null){if(i=null,s.child!==null)switch(s.child.tag){case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}sh(s,d,i)}break;case 5:var _=s.stateNode;if(i===null&&s.flags&4){i=_;var h=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&i.focus();break;case"img":h.src&&(i.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var j=s.alternate;if(j!==null){var $=j.memoizedState;if($!==null){var it=$.dehydrated;it!==null&&bd(it)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||s.flags&512&&Rj(s)}catch(ot){W(s,s.return,ot)}}if(s===e){V=null;break}if(i=s.sibling,i!==null){i.return=s.return,V=i;break}V=s.return}}function gk(e){for(;V!==null;){var s=V;if(s===e){V=null;break}var i=s.sibling;if(i!==null){i.return=s.return,V=i;break}V=s.return}}function jk(e){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var i=s.return;try{Qj(4,s)}catch(h){W(s,i,h)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var o=s.return;try{a.componentDidMount()}catch(h){W(s,o,h)}}var c=s.return;try{Rj(s)}catch(h){W(s,c,h)}break;case 5:var d=s.return;try{Rj(s)}catch(h){W(s,d,h)}}}catch(h){W(s,s.return,h)}if(s===e){V=null;break}var _=s.sibling;if(_!==null){_.return=s.return,V=_;break}V=s.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(e){return e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function gi(e,s,i,a){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(e,i,a),(!(K&2)||e!==Q)&&(e===Q&&(!(K&2)&&(qk|=i),T===4&&Ck(e,Z)),Dk(e,a),i===1&&K===0&&!(s.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(e,s){var i=e.callbackNode;wc(e,s);var a=uc(e,e===Q?Z:0);if(a===0)i!==null&&bc(i),e.callbackNode=null,e.callbackPriority=0;else if(s=a&-a,e.callbackPriority!==s){if(i!=null&&bc(i),s===1)e.tag===0?ig(Ek.bind(null,e)):hg(Ek.bind(null,e)),Jf(function(){!(K&6)&&jg()}),i=null;else{switch(Dc(a)){case 1:i=fc;break;case 4:i=gc;break;case 16:i=hc;break;case 536870912:i=jc;break;default:i=hc}i=Fk(i,Gk.bind(null,e))}e.callbackPriority=s,e.callbackNode=i}}function Gk(e,s){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var i=e.callbackNode;if(Hk()&&e.callbackNode!==i)return null;var a=uc(e,e===Q?Z:0);if(a===0)return null;if(a&30||a&e.expiredLanes||s)s=Ik(e,a);else{s=a;var o=K;K|=2;var c=Jk();(Q!==e||Z!==s)&&(uk=null,Gj=B()+500,Kk(e,s));do try{Lk();break}catch(_){Mk(e,_)}while(!0);$g(),mk.current=c,K=o,Y!==null?s=0:(Q=null,Z=0,s=T)}if(s!==0){if(s===2&&(o=xc(e),o!==0&&(a=o,s=Nk(e,o))),s===1)throw i=pk,Kk(e,0),Ck(e,a),Dk(e,B()),i;if(s===6)Ck(e,a);else{if(o=e.current.alternate,!(a&30)&&!Ok(o)&&(s=Ik(e,a),s===2&&(c=xc(e),c!==0&&(a=c,s=Nk(e,c))),s===1))throw i=pk,Kk(e,0),Ck(e,a),Dk(e,B()),i;switch(e.finishedWork=o,e.finishedLanes=a,s){case 0:case 1:throw Error(p(345));case 2:Pk(e,tk,uk);break;case 3:if(Ck(e,a),(a&130023424)===a&&(s=fk+500-B(),10<s)){if(uc(e,0)!==0)break;if(o=e.suspendedLanes,(o&a)!==a){R(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),s);break}Pk(e,tk,uk);break;case 4:if(Ck(e,a),(a&4194240)===a)break;for(s=e.eventTimes,o=-1;0<a;){var d=31-oc(a);c=1<<d,d=s[d],d>o&&(o=d),a&=~c}if(a=o,a=B()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*lk(a/1960))-a,10<a){e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),a);break}Pk(e,tk,uk);break;case 5:Pk(e,tk,uk);break;default:throw Error(p(329))}}}return Dk(e,B()),e.callbackNode===i?Gk.bind(null,e):null}function Nk(e,s){var i=sk;return e.current.memoizedState.isDehydrated&&(Kk(e,s).flags|=256),e=Ik(e,s),e!==2&&(s=tk,tk=i,s!==null&&Fj(s)),e}function Fj(e){tk===null?tk=e:tk.push.apply(tk,e)}function Ok(e){for(var s=e;;){if(s.flags&16384){var i=s.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var o=i[a],c=o.getSnapshot;o=o.value;try{if(!He(c(),o))return!1}catch{return!1}}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ck(e,s){for(s&=~rk,s&=~qk,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var i=31-oc(s),a=1<<i;e[i]=-1,s&=~a}}function Ek(e){if(K&6)throw Error(p(327));Hk();var s=uc(e,0);if(!(s&1))return Dk(e,B()),null;var i=Ik(e,s);if(e.tag!==0&&i===2){var a=xc(e);a!==0&&(s=a,i=Nk(e,a))}if(i===1)throw i=pk,Kk(e,0),Ck(e,s),Dk(e,B()),i;if(i===6)throw Error(p(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,Pk(e,tk,uk),Dk(e,B()),null}function Qk(e,s){var i=K;K|=1;try{return e(s)}finally{K=i,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var s=K;K|=1;var i=ok.transition,a=C;try{if(ok.transition=null,C=1,e)return e()}finally{C=a,ok.transition=i,K=s,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(e,s){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Gf(i)),Y!==null)for(i=Y.return;i!==null;){var a=i;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(a);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(a.type._context);break;case 22:case 23:Hj()}i=i.return}if(Q=e,Y=e=Pg(e.current,null),Z=fj=s,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(s=0;s<fh.length;s++)if(i=fh[s],a=i.interleaved,a!==null){i.interleaved=null;var o=a.next,c=i.pending;if(c!==null){var d=c.next;c.next=o,a.next=d}i.pending=a}fh=null}return e}function Mk(e,s){do{var i=Y;try{if($g(),Fh.current=Rh,Ih){for(var a=M.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,i===null||i.return===null){T=1,pk=s,Y=null;break}e:{var c=e,d=i.return,_=i,h=s;if(s=Z,_.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var j=h,$=_,it=$.tag;if(!($.mode&1)&&(it===0||it===11||it===15)){var ot=$.alternate;ot?($.updateQueue=ot.updateQueue,$.memoizedState=ot.memoizedState,$.lanes=ot.lanes):($.updateQueue=null,$.memoizedState=null)}var mt=Ui(d);if(mt!==null){mt.flags&=-257,Vi(mt,d,_,c,s),mt.mode&1&&Si(c,j,s),s=mt,h=j;var at=s.updateQueue;if(at===null){var xt=new Set;xt.add(h),s.updateQueue=xt}else at.add(h);break e}else{if(!(s&1)){Si(c,j,s),tj();break e}h=Error(p(426))}}else if(I&&_.mode&1){var lt=Ui(d);if(lt!==null){!(lt.flags&65536)&&(lt.flags|=256),Vi(lt,d,_,c,s),Jg(Ji(h,_));break e}}c=h=Ji(h,_),T!==4&&(T=2),sk===null?sk=[c]:sk.push(c),c=d;do{switch(c.tag){case 3:c.flags|=65536,s&=-s,c.lanes|=s;var b=Ni(c,h,s);ph(c,b);break e;case 1:_=h;var _e=c.type,rt=c.stateNode;if(!(c.flags&128)&&(typeof _e.getDerivedStateFromError=="function"||rt!==null&&typeof rt.componentDidCatch=="function"&&(Ri===null||!Ri.has(rt)))){c.flags|=65536,s&=-s,c.lanes|=s;var dt=Qi(c,_,s);ph(c,dt);break e}}c=c.return}while(c!==null)}Sk(i)}catch(st){s=st,Y===i&&i!==null&&(Y=i=i.return);continue}break}while(!0)}function Jk(){var e=mk.current;return mk.current=Rh,e===null?Rh:e}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(e,s){var i=K;K|=2;var a=Jk();(Q!==e||Z!==s)&&(uk=null,Kk(e,s));do try{Tk();break}catch(o){Mk(e,o)}while(!0);if($g(),K=i,mk.current=a,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(e){var s=Vk(e.alternate,e,fj);e.memoizedProps=e.pendingProps,s===null?Sk(e):Y=s,nk.current=null}function Sk(e){var s=e;do{var i=s.alternate;if(e=s.return,s.flags&32768){if(i=Ij(i,s),i!==null){i.flags&=32767,Y=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T=6,Y=null;return}}else if(i=Ej(i,s,fj),i!==null){Y=i;return}if(s=s.sibling,s!==null){Y=s;return}Y=s=e}while(s!==null);T===0&&(T=5)}function Pk(e,s,i){var a=C,o=ok.transition;try{ok.transition=null,C=1,Wk(e,s,i,a)}finally{ok.transition=o,C=a}return null}function Wk(e,s,i,a){do Hk();while(wk!==null);if(K&6)throw Error(p(327));i=e.finishedWork;var o=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(p(177));e.callbackNode=null,e.callbackPriority=0;var c=i.lanes|i.childLanes;if(Bc(e,c),e===Q&&(Y=Q=null,Z=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),c=(i.flags&15990)!==0,i.subtreeFlags&15990||c){c=ok.transition,ok.transition=null;var d=C;C=1;var _=K;K|=4,nk.current=null,Oj(e,i),dk(i,e),Oe(Df),dd=!!Cf,Df=Cf=null,e.current=i,hk(i),dc(),K=_,C=d,ok.transition=c}else e.current=i;if(vk&&(vk=!1,wk=e,xk=o),c=e.pendingLanes,c===0&&(Ri=null),mc(i.stateNode),Dk(e,B()),s!==null)for(a=e.onRecoverableError,i=0;i<s.length;i++)o=s[i],a(o.value,{componentStack:o.stack,digest:o.digest});if(Oi)throw Oi=!1,e=Pi,Pi=null,e;return xk&1&&e.tag!==0&&Hk(),c=e.pendingLanes,c&1?e===zk?yk++:(yk=0,zk=e):yk=0,jg(),null}function Hk(){if(wk!==null){var e=Dc(xk),s=ok.transition,i=C;try{if(ok.transition=null,C=16>e?16:e,wk===null)var a=!1;else{if(e=wk,wk=null,xk=0,K&6)throw Error(p(331));var o=K;for(K|=4,V=e.current;V!==null;){var c=V,d=c.child;if(V.flags&16){var _=c.deletions;if(_!==null){for(var h=0;h<_.length;h++){var j=_[h];for(V=j;V!==null;){var $=V;switch($.tag){case 0:case 11:case 15:Pj(8,$,c)}var it=$.child;if(it!==null)it.return=$,V=it;else for(;V!==null;){$=V;var ot=$.sibling,mt=$.return;if(Sj($),$===j){V=null;break}if(ot!==null){ot.return=mt,V=ot;break}V=mt}}}var at=c.alternate;if(at!==null){var xt=at.child;if(xt!==null){at.child=null;do{var lt=xt.sibling;xt.sibling=null,xt=lt}while(xt!==null)}}V=c}}if(c.subtreeFlags&2064&&d!==null)d.return=c,V=d;else e:for(;V!==null;){if(c=V,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Pj(9,c,c.return)}var b=c.sibling;if(b!==null){b.return=c.return,V=b;break e}V=c.return}}var _e=e.current;for(V=_e;V!==null;){d=V;var rt=d.child;if(d.subtreeFlags&2064&&rt!==null)rt.return=d,V=rt;else e:for(d=_e;V!==null;){if(_=V,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:Qj(9,_)}}catch(st){W(_,_.return,st)}if(_===d){V=null;break e}var dt=_.sibling;if(dt!==null){dt.return=_.return,V=dt;break e}V=_.return}}if(K=o,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}a=!0}return a}finally{C=i,ok.transition=s}}return!1}function Xk(e,s,i){s=Ji(i,s),s=Ni(e,s,1),e=nh(e,s,1),s=R(),e!==null&&(Ac(e,1,s),Dk(e,s))}function W(e,s,i){if(e.tag===3)Xk(e,e,i);else for(;s!==null;){if(s.tag===3){Xk(s,e,i);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ri===null||!Ri.has(a))){e=Ji(i,e),e=Qi(s,e,1),s=nh(s,e,1),e=R(),s!==null&&(Ac(s,1,e),Dk(s,e));break}}s=s.return}}function Ti(e,s,i){var a=e.pingCache;a!==null&&a.delete(s),s=R(),e.pingedLanes|=e.suspendedLanes&i,Q===e&&(Z&i)===i&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(e,0):rk|=i),Dk(e,s)}function Yk(e,s){s===0&&(e.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var i=R();e=ih(e,s),e!==null&&(Ac(e,s,i),Dk(e,i))}function uj(e){var s=e.memoizedState,i=0;s!==null&&(i=s.retryLane),Yk(e,i)}function bk(e,s){var i=0;switch(e.tag){case 13:var a=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(p(314))}a!==null&&a.delete(s),Yk(e,i)}var Vk;Vk=function(e,s,i){if(e!==null)if(e.memoizedProps!==s.pendingProps||Wf.current)dh=!0;else{if(!(e.lanes&i)&&!(s.flags&128))return dh=!1,yj(e,s,i);dh=!!(e.flags&131072)}else dh=!1,I&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;ij(e,s),e=s.pendingProps;var o=Yf(s,H.current);ch(s,i),o=Nh(null,s,a,e,o,i);var c=Sh();return s.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(a)?(c=!0,cg(s)):c=!1,s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,kh(s),o.updater=Ei,s.stateNode=o,o._reactInternals=s,Ii(s,a,e,i),s=jj(null,s,a,!0,c,i)):(s.tag=0,I&&c&&vg(s),Xi(null,s,o,i),s=s.child),s;case 16:a=s.elementType;e:{switch(ij(e,s),e=s.pendingProps,o=a._init,a=o(a._payload),s.type=a,o=s.tag=Zk(a),e=Ci(a,e),o){case 0:s=cj(null,s,a,e,i);break e;case 1:s=hj(null,s,a,e,i);break e;case 11:s=Yi(null,s,a,e,i);break e;case 14:s=$i(null,s,a,Ci(a.type,e),i);break e}throw Error(p(306,a,""))}return s;case 0:return a=s.type,o=s.pendingProps,o=s.elementType===a?o:Ci(a,o),cj(e,s,a,o,i);case 1:return a=s.type,o=s.pendingProps,o=s.elementType===a?o:Ci(a,o),hj(e,s,a,o,i);case 3:e:{if(kj(s),e===null)throw Error(p(387));a=s.pendingProps,c=s.memoizedState,o=c.element,lh(e,s),qh(s,a,null,i);var d=s.memoizedState;if(a=d.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},s.updateQueue.baseState=c,s.memoizedState=c,s.flags&256){o=Ji(Error(p(423)),s),s=lj(e,s,a,i,o);break e}else if(a!==o){o=Ji(Error(p(424)),s),s=lj(e,s,a,i,o);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,i=Vg(s,null,a,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ig(),a===o){s=Zi(e,s,i);break e}Xi(e,s,a,i)}s=s.child}return s;case 5:return Ah(s),e===null&&Eg(s),a=s.type,o=s.pendingProps,c=e!==null?e.memoizedProps:null,d=o.children,Ef(a,o)?d=null:c!==null&&Ef(a,c)&&(s.flags|=32),gj(e,s),Xi(e,s,d,i),s.child;case 6:return e===null&&Eg(s),null;case 13:return oj(e,s,i);case 4:return yh(s,s.stateNode.containerInfo),a=s.pendingProps,e===null?s.child=Ug(s,null,a,i):Xi(e,s,a,i),s.child;case 11:return a=s.type,o=s.pendingProps,o=s.elementType===a?o:Ci(a,o),Yi(e,s,a,o,i);case 7:return Xi(e,s,s.pendingProps,i),s.child;case 8:return Xi(e,s,s.pendingProps.children,i),s.child;case 12:return Xi(e,s,s.pendingProps.children,i),s.child;case 10:e:{if(a=s.type._context,o=s.pendingProps,c=s.memoizedProps,d=o.value,G(Wg,a._currentValue),a._currentValue=d,c!==null)if(He(c.value,d)){if(c.children===o.children&&!Wf.current){s=Zi(e,s,i);break e}}else for(c=s.child,c!==null&&(c.return=s);c!==null;){var _=c.dependencies;if(_!==null){d=c.child;for(var h=_.firstContext;h!==null;){if(h.context===a){if(c.tag===1){h=mh(-1,i&-i),h.tag=2;var j=c.updateQueue;if(j!==null){j=j.shared;var $=j.pending;$===null?h.next=h:(h.next=$.next,$.next=h),j.pending=h}}c.lanes|=i,h=c.alternate,h!==null&&(h.lanes|=i),bh(c.return,i,s),_.lanes|=i;break}h=h.next}}else if(c.tag===10)d=c.type===s.type?null:c.child;else if(c.tag===18){if(d=c.return,d===null)throw Error(p(341));d.lanes|=i,_=d.alternate,_!==null&&(_.lanes|=i),bh(d,i,s),d=c.sibling}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===s){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}Xi(e,s,o.children,i),s=s.child}return s;case 9:return o=s.type,a=s.pendingProps.children,ch(s,i),o=eh(o),a=a(o),s.flags|=1,Xi(e,s,a,i),s.child;case 14:return a=s.type,o=Ci(a,s.pendingProps),o=Ci(a.type,o),$i(e,s,a,o,i);case 15:return bj(e,s,s.type,s.pendingProps,i);case 17:return a=s.type,o=s.pendingProps,o=s.elementType===a?o:Ci(a,o),ij(e,s),s.tag=1,Zf(a)?(e=!0,cg(s)):e=!1,ch(s,i),Gi(s,a,o),Ii(s,a,o,i),jj(null,s,a,!0,e,i);case 19:return xj(e,s,i);case 22:return dj(e,s,i)}throw Error(p(156,s.tag))};function Fk(e,s){return ac(e,s)}function $k(e,s,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,s,i,a){return new $k(e,s,i,a)}function aj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zk(e){if(typeof e=="function")return aj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function Pg(e,s){var i=e.alternate;return i===null?(i=Bg(e.tag,s,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=s,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,s=e.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Rg(e,s,i,a,o,c){var d=2;if(a=e,typeof e=="function")aj(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case ya:return Tg(i.children,o,c,s);case za:d=8,o|=8;break;case Aa:return e=Bg(12,i,s,o|2),e.elementType=Aa,e.lanes=c,e;case Ea:return e=Bg(13,i,s,o),e.elementType=Ea,e.lanes=c,e;case Fa:return e=Bg(19,i,s,o),e.elementType=Fa,e.lanes=c,e;case Ia:return pj(i,o,c,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:d=10;break e;case Ca:d=9;break e;case Da:d=11;break e;case Ga:d=14;break e;case Ha:d=16,a=null;break e}throw Error(p(130,e==null?e:typeof e,""))}return s=Bg(d,i,s,o),s.elementType=e,s.type=a,s.lanes=c,s}function Tg(e,s,i,a){return e=Bg(7,e,a,s),e.lanes=i,e}function pj(e,s,i,a){return e=Bg(22,e,a,s),e.elementType=Ia,e.lanes=i,e.stateNode={isHidden:!1},e}function Qg(e,s,i){return e=Bg(6,e,null,s),e.lanes=i,e}function Sg(e,s,i){return s=Bg(4,e.children!==null?e.children:[],e.key,s),s.lanes=i,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function al(e,s,i,a,o){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=a,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function bl(e,s,i,a,o,c,d,_,h){return e=new al(e,s,i,_,h),s===1?(s=1,c===!0&&(s|=8)):s=0,c=Bg(3,null,null,s),e.current=c,c.stateNode=e,c.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(c),e}function cl(e,s,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:a==null?null:""+a,children:e,containerInfo:s,implementation:i}}function dl(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p(171))}if(e.tag===1){var i=e.type;if(Zf(i))return bg(e,i,s)}return s}function el(e,s,i,a,o,c,d,_,h){return e=bl(i,a,!0,e,o,c,d,_,h),e.context=dl(null),i=e.current,a=R(),o=yi(i),c=mh(a,o),c.callback=s??null,nh(i,c,o),e.current.lanes=o,Ac(e,o,a),Dk(e,a),e}function fl(e,s,i,a){var o=s.current,c=R(),d=yi(o);return i=dl(i),s.context===null?s.context=i:s.pendingContext=i,s=mh(c,d),s.payload={element:e},a=a===void 0?null:a,a!==null&&(s.callback=a),e=nh(o,s,d),e!==null&&(gi(e,o,d,c),oh(e,o,d)),d}function gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hl(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<s?i:s}}function il(e,s){hl(e,s),(e=e.alternate)&&hl(e,s)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(e){console.error(e)};function ll(e){this._internalRoot=e}ml.prototype.render=ll.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(p(409));fl(e,s,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;Rk(function(){fl(null,e,null,null)}),s[uf]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var s=Hc();e={blockedOn:null,target:e,priority:s};for(var i=0;i<Qc.length&&s!==0&&s<Qc[i].priority;i++);Qc.splice(i,0,e),i===0&&Vc(e)}};function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(e,s,i,a,o){if(o){if(typeof a=="function"){var c=a;a=function(){var j=gl(d);c.call(j)}}var d=el(s,a,e,0,null,!1,!1,"",pl);return e._reactRootContainer=d,e[uf]=d.current,sf(e.nodeType===8?e.parentNode:e),Rk(),d}for(;o=e.lastChild;)e.removeChild(o);if(typeof a=="function"){var _=a;a=function(){var j=gl(h);_.call(j)}}var h=bl(e,0,!1,null,null,!1,!1,"",pl);return e._reactRootContainer=h,e[uf]=h.current,sf(e.nodeType===8?e.parentNode:e),Rk(function(){fl(s,h,i,a)}),h}function rl(e,s,i,a,o){var c=i._reactRootContainer;if(c){var d=c;if(typeof o=="function"){var _=o;o=function(){var h=gl(d);_.call(h)}}fl(s,d,e,o)}else d=ql(i,s,e,o,a);return gl(d)}Ec=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var i=tc(s.pendingLanes);i!==0&&(Cc(s,i|1),Dk(s,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var a=ih(e,1);if(a!==null){var o=R();gi(a,e,1,o)}}),il(e,1)}};Fc=function(e){if(e.tag===13){var s=ih(e,134217728);if(s!==null){var i=R();gi(s,e,134217728,i)}il(e,134217728)}};Gc=function(e){if(e.tag===13){var s=yi(e),i=ih(e,s);if(i!==null){var a=R();gi(i,e,s,a)}il(e,s)}};Hc=function(){return C};Ic=function(e,s){var i=C;try{return C=e,s()}finally{C=i}};yb=function(e,s,i){switch(s){case"input":if(bb(e,i),s=i.name,i.type==="radio"&&s!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<i.length;s++){var a=i[s];if(a!==e&&a.form===e.form){var o=Db(a);if(!o)throw Error(p(90));Wa(a),bb(a,o)}}}break;case"textarea":ib(e,i);break;case"select":s=i.value,s!=null&&fb(e,!!i.multiple,s,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(e,s){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(s))throw Error(p(200));return cl(e,s,null,i)};reactDom_production_min.createRoot=function(e,s){if(!nl(e))throw Error(p(299));var i=!1,a="",o=kl;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),s=bl(e,1,!1,null,null,i,!1,a,o),e[uf]=s.current,sf(e.nodeType===8?e.parentNode:e),new ll(s)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=Zb(s),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Rk(e)};reactDom_production_min.hydrate=function(e,s,i){if(!ol(s))throw Error(p(200));return rl(null,e,s,!0,i)};reactDom_production_min.hydrateRoot=function(e,s,i){if(!nl(e))throw Error(p(405));var a=i!=null&&i.hydratedSources||null,o=!1,c="",d=kl;if(i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),s=el(s,null,e,1,i??null,o,!1,c,d),e[uf]=s.current,sf(e),a)for(e=0;e<a.length;e++)i=a[e],o=i._getVersion,o=o(i._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[i,o]:s.mutableSourceEagerHydrationData.push(i,o);return new ml(s)};reactDom_production_min.render=function(e,s,i){if(!ol(s))throw Error(p(200));return rl(null,e,s,!1,i)};reactDom_production_min.unmountComponentAtNode=function(e){if(!ol(e))throw Error(p(40));return e._reactRootContainer?(Rk(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,s,i,a){if(!ol(i))throw Error(p(200));if(e==null||e._reactInternals===void 0)throw Error(p(38));return rl(e,s,i,!1,a)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m=reactDomExports;createRoot=m.createRoot,m.hydrateRoot;const __vite_import_meta_env__$2={},isSelfAtom=(e,s)=>e.unstable_is?e.unstable_is(s):s===e,hasInitialValue=e=>"init"in e,isActuallyWritableAtom=e=>!!e.write,isAtomStateInitialized=e=>"v"in e||"e"in e,returnAtomValue=e=>{if("e"in e)throw e.e;if((__vite_import_meta_env__$2?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v},promiseStateMap=new WeakMap,isPendingPromise=e=>{var s;return isPromiseLike$1(e)&&!!((s=promiseStateMap.get(e))!=null&&s[0])},abortPromise=e=>{const s=promiseStateMap.get(e);s!=null&&s[0]&&(s[0]=!1,s[1].forEach(i=>i()))},registerAbortHandler=(e,s)=>{let i=promiseStateMap.get(e);if(!i){i=[!0,new Set],promiseStateMap.set(e,i);const a=()=>{i[0]=!1};e.then(a,a)}i[1].add(s)},isPromiseLike$1=e=>typeof(e==null?void 0:e.then)=="function",addPendingPromiseToDependency=(e,s,i)=>{i.p.has(e)||(i.p.add(e),s.then(()=>{i.p.delete(e)},()=>{i.p.delete(e)}))},setAtomStateValueOrPromise=(e,s,i)=>{const a=i(e),o="v"in a,c=a.v;if(isPromiseLike$1(s))for(const d of a.d.keys())addPendingPromiseToDependency(e,s,i(d));a.v=s,delete a.e,(!o||!Object.is(c,a.v))&&(++a.n,isPromiseLike$1(c)&&abortPromise(c))},getMountedOrPendingDependents=(e,s,i)=>{var a;const o=new Set;for(const c of((a=i.get(e))==null?void 0:a.t)||[])i.has(c)&&o.add(c);for(const c of s.p)o.add(c);return o},createStoreHook=()=>{const e=new Set,s=()=>{e.forEach(i=>i())};return s.add=i=>(e.add(i),()=>{e.delete(i)}),s},createStoreHookForAtoms=()=>{const e={},s=new WeakMap,i=a=>{var o,c;(o=s.get(e))==null||o.forEach(d=>d(a)),(c=s.get(a))==null||c.forEach(d=>d())};return i.add=(a,o)=>{const c=a||e,d=(s.has(c)?s:s.set(c,new Set)).get(c);return d.add(o),()=>{d==null||d.delete(o),d.size||s.delete(c)}},i},initializeStoreHooks=e=>(e.c||(e.c=createStoreHookForAtoms()),e.m||(e.m=createStoreHookForAtoms()),e.u||(e.u=createStoreHookForAtoms()),e.f||(e.f=createStoreHook()),e),BUILDING_BLOCKS=Symbol(),buildStore=(e=new WeakMap,s=new WeakMap,i=new WeakMap,a=new Set,o=new Set,c=new Set,d={},_=(ot,...mt)=>ot.read(...mt),h=(ot,...mt)=>ot.write(...mt),j=(ot,mt)=>{var at;return(at=ot.unstable_onInit)==null?void 0:at.call(ot,mt)},$=(ot,mt)=>{var at;return(at=ot.onMount)==null?void 0:at.call(ot,mt)},...it)=>{const ot=it[0]||(g=>{if((__vite_import_meta_env__$2?"production":void 0)!=="production"&&!g)throw new Error("Atom is undefined or null");let tt=e.get(g);return tt||(tt={d:new Map,p:new Set,n:0},e.set(g,tt),j==null||j(g,pt)),tt}),mt=it[1]||(()=>{const g=[],tt=ct=>{try{ct()}catch(gt){g.push(gt)}};do{d.f&&tt(d.f);const ct=new Set,gt=ct.add.bind(ct);a.forEach(nt=>{var ft;return(ft=s.get(nt))==null?void 0:ft.l.forEach(gt)}),a.clear(),c.forEach(gt),c.clear(),o.forEach(gt),o.clear(),ct.forEach(tt),a.size&&at()}while(a.size||c.size||o.size);if(g.length)throw new AggregateError(g)}),at=it[2]||(()=>{const g=[],tt=new WeakSet,ct=new WeakSet,gt=Array.from(a);for(;gt.length;){const nt=gt[gt.length-1],ft=ot(nt);if(ct.has(nt)){gt.pop();continue}if(tt.has(nt)){if(i.get(nt)===ft.n)g.push([nt,ft]);else if((__vite_import_meta_env__$2?"production":void 0)!=="production"&&i.has(nt))throw new Error("[Bug] invalidated atom exists");ct.add(nt),gt.pop();continue}tt.add(nt);for(const vt of getMountedOrPendingDependents(nt,ft,s))tt.has(vt)||gt.push(vt)}for(let nt=g.length-1;nt>=0;--nt){const[ft,vt]=g[nt];let Dt=!1;for(const Tt of vt.d.keys())if(Tt!==ft&&a.has(Tt)){Dt=!0;break}Dt&&(xt(ft),_e(ft)),i.delete(ft)}}),xt=it[3]||(g=>{var tt;const ct=ot(g);if(isAtomStateInitialized(ct)&&(s.has(g)&&i.get(g)!==ct.n||Array.from(ct.d).every(([kt,Rt])=>xt(kt).n===Rt)))return ct;ct.d.clear();let gt=!0;const nt=()=>{s.has(g)&&(_e(g),at(),mt())},ft=kt=>{var Rt;if(isSelfAtom(g,kt)){const Nt=ot(kt);if(!isAtomStateInitialized(Nt))if(hasInitialValue(kt))setAtomStateValueOrPromise(kt,kt.init,ot);else throw new Error("no atom init");return returnAtomValue(Nt)}const bt=xt(kt);try{return returnAtomValue(bt)}finally{ct.d.set(kt,bt.n),isPendingPromise(ct.v)&&addPendingPromiseToDependency(g,ct.v,bt),(Rt=s.get(kt))==null||Rt.t.add(g),gt||nt()}};let vt,Dt;const Tt={get signal(){return vt||(vt=new AbortController),vt.signal},get setSelf(){return(__vite_import_meta_env__$2?"production":void 0)!=="production"&&!isActuallyWritableAtom(g)&&console.warn("setSelf function cannot be used with read-only atom"),!Dt&&isActuallyWritableAtom(g)&&(Dt=(...kt)=>{if((__vite_import_meta_env__$2?"production":void 0)!=="production"&&gt&&console.warn("setSelf function cannot be called in sync"),!gt)try{return b(g,...kt)}finally{at(),mt()}}),Dt}},Mt=ct.n;try{const kt=_(g,ft,Tt);return setAtomStateValueOrPromise(g,kt,ot),isPromiseLike$1(kt)&&(registerAbortHandler(kt,()=>vt==null?void 0:vt.abort()),kt.then(nt,nt)),ct}catch(kt){return delete ct.v,ct.e=kt,++ct.n,ct}finally{gt=!1,Mt!==ct.n&&i.get(g)===Mt&&(i.set(g,ct.n),a.add(g),(tt=d.c)==null||tt.call(d,g))}}),lt=it[4]||(g=>{const tt=[g];for(;tt.length;){const ct=tt.pop(),gt=ot(ct);for(const nt of getMountedOrPendingDependents(ct,gt,s)){const ft=ot(nt);i.set(nt,ft.n),tt.push(nt)}}}),b=it[5]||((g,...tt)=>{let ct=!0;const gt=ft=>returnAtomValue(xt(ft)),nt=(ft,...vt)=>{var Dt;const Tt=ot(ft);try{if(isSelfAtom(g,ft)){if(!hasInitialValue(ft))throw new Error("atom not writable");const Mt=Tt.n,kt=vt[0];setAtomStateValueOrPromise(ft,kt,ot),_e(ft),Mt!==Tt.n&&(a.add(ft),(Dt=d.c)==null||Dt.call(d,ft),lt(ft));return}else return b(ft,...vt)}finally{ct||(at(),mt())}};try{return h(g,gt,nt,...tt)}finally{ct=!1}}),_e=it[6]||(g=>{var tt;const ct=ot(g),gt=s.get(g);if(gt&&!isPendingPromise(ct.v)){for(const[nt,ft]of ct.d)if(!gt.d.has(nt)){const vt=ot(nt);rt(nt).t.add(g),gt.d.add(nt),ft!==vt.n&&(a.add(nt),(tt=d.c)==null||tt.call(d,nt),lt(nt))}for(const nt of gt.d||[])if(!ct.d.has(nt)){gt.d.delete(nt);const ft=dt(nt);ft==null||ft.t.delete(g)}}}),rt=it[7]||(g=>{var tt;const ct=ot(g);let gt=s.get(g);if(!gt){xt(g);for(const nt of ct.d.keys())rt(nt).t.add(g);if(gt={l:new Set,d:new Set(ct.d.keys()),t:new Set},s.set(g,gt),(tt=d.m)==null||tt.call(d,g),isActuallyWritableAtom(g)){const nt=()=>{let ft=!0;const vt=(...Dt)=>{try{return b(g,...Dt)}finally{ft||(at(),mt())}};try{const Dt=$(g,vt);Dt&&(gt.u=()=>{ft=!0;try{Dt()}finally{ft=!1}})}finally{ft=!1}};o.add(nt)}}return gt}),dt=it[8]||(g=>{var tt;const ct=ot(g);let gt=s.get(g);if(gt&&!gt.l.size&&!Array.from(gt.t).some(nt=>{var ft;return(ft=s.get(nt))==null?void 0:ft.d.has(g)})){gt.u&&c.add(gt.u),gt=void 0,s.delete(g),(tt=d.u)==null||tt.call(d,g);for(const nt of ct.d.keys()){const ft=dt(nt);ft==null||ft.t.delete(g)}return}return gt}),st=[e,s,i,a,o,c,d,_,h,j,$,ot,mt,at,xt,lt,b,_e,rt,dt],pt={get:g=>returnAtomValue(xt(g)),set:(g,...tt)=>{try{return b(g,...tt)}finally{at(),mt()}},sub:(g,tt)=>{const gt=rt(g).l;return gt.add(tt),mt(),()=>{gt.delete(tt),dt(g),mt()}}};return Object.defineProperty(pt,BUILDING_BLOCKS,{value:st}),pt},INTERNAL_buildStoreRev1=buildStore,INTERNAL_initializeStoreHooks=initializeStoreHooks,INTERNAL_registerAbortHandler=registerAbortHandler,__vite_import_meta_env__$1={};let keyCount=0;function atom(e,s){const i=`atom${++keyCount}`,a={toString(){return(__vite_import_meta_env__$1?"production":void 0)!=="production"&&this.debugLabel?i+":"+this.debugLabel:i}};return typeof e=="function"?a.read=e:(a.init=e,a.read=defaultRead,a.write=defaultWrite),a}function defaultRead(e){return e(this)}function defaultWrite(e,s,i){return s(this,typeof i=="function"?i(e(this)):i)}const createDevStoreRev4=()=>{let e=0;const s=INTERNAL_initializeStoreHooks({}),i=new WeakMap,a=new WeakMap,o=INTERNAL_buildStoreRev1(i,a,void 0,void 0,void 0,void 0,s,void 0,(_,h,j,...$)=>e?j(_,...$):_.write(h,j,...$)),c=new Set;return s.m.add(void 0,_=>{c.add(_);const h=i.get(_);h.m=a.get(_)}),s.u.add(void 0,_=>{c.delete(_);const h=i.get(_);delete h.m}),Object.assign(o,{dev4_get_internal_weak_map:()=>(console.log("Deprecated: Use devstore from the devtools library"),i),dev4_get_mounted_atoms:()=>c,dev4_restore_atoms:_=>{const h={read:()=>null,write:(j,$)=>{++e;try{for(const[it,ot]of _)"init"in it&&$(it,ot)}finally{--e}}};o.set(h)}})};function createStore(){return(__vite_import_meta_env__$1?"production":void 0)!=="production"?createDevStoreRev4():INTERNAL_buildStoreRev1()}let defaultStore;function getDefaultStore(){return defaultStore||(defaultStore=createStore(),(__vite_import_meta_env__$1?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=defaultStore),globalThis.__JOTAI_DEFAULT_STORE__!==defaultStore&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),defaultStore}const __vite_import_meta_env__={},StoreContext=reactExports.createContext(void 0);function useStore(e){return reactExports.useContext(StoreContext)||getDefaultStore()}function Provider({children:e,store:s}){const i=reactExports.useRef(void 0);return!s&&!i.current&&(i.current=createStore()),reactExports.createElement(StoreContext.Provider,{value:s||i.current},e)}const isPromiseLike=e=>typeof(e==null?void 0:e.then)=="function",attachPromiseStatus=e=>{e.status||(e.status="pending",e.then(s=>{e.status="fulfilled",e.value=s},s=>{e.status="rejected",e.reason=s}))},use=React.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(attachPromiseStatus(e),e)}),continuablePromiseMap=new WeakMap,createContinuablePromise=(e,s)=>{let i=continuablePromiseMap.get(e);return i||(i=new Promise((a,o)=>{let c=e;const d=j=>$=>{c===j&&a($)},_=j=>$=>{c===j&&o($)},h=()=>{try{const j=s();isPromiseLike(j)?(continuablePromiseMap.set(j,i),c=j,j.then(d(j),_(j)),INTERNAL_registerAbortHandler(j,h)):a(j)}catch(j){o(j)}};e.then(d(e),_(e)),INTERNAL_registerAbortHandler(e,h)}),continuablePromiseMap.set(e,i)),i};function useAtomValue(e,s){const{delay:i,unstable_promiseStatus:a=!React.use}={},o=useStore(),[[c,d,_],h]=reactExports.useReducer($=>{const it=o.get(e);return Object.is($[0],it)&&$[1]===o&&$[2]===e?$:[it,o,e]},void 0,()=>[o.get(e),o,e]);let j=c;if((d!==o||_!==e)&&(h(),j=o.get(e)),reactExports.useEffect(()=>{const $=o.sub(e,()=>{if(a)try{const it=o.get(e);isPromiseLike(it)&&attachPromiseStatus(createContinuablePromise(it,()=>o.get(e)))}catch{}if(typeof i=="number"){setTimeout(h,i);return}h()});return h(),$},[o,e,i,a]),reactExports.useDebugValue(j),isPromiseLike(j)){const $=createContinuablePromise(j,()=>o.get(e));return a&&attachPromiseStatus($),use($)}return j}function useSetAtom(e,s){const i=useStore();return reactExports.useCallback((...o)=>{if((__vite_import_meta_env__?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return i.set(e,...o)},[i,e])}function useAtom(e,s){return[useAtomValue(e),useSetAtom(e)]}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(e,s)=>{const i=reactExports.forwardRef(({color:a="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:_="",children:h,...j},$)=>reactExports.createElement("svg",{ref:$,...defaultAttributes,width:o,height:o,stroke:a,strokeWidth:d?Number(c)*24/Number(o):c,className:["lucide",`lucide-${toKebabCase(e)}`,_].join(" "),...j},[...s.map(([it,ot])=>reactExports.createElement(it,ot)),...Array.isArray(h)?h:[h]]));return i.displayName=`${e}`,i};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Activity=createLucideIcon("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AlertCircle=createLucideIcon("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AlertTriangle=createLucideIcon("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRight=createLucideIcon("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Award=createLucideIcon("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BookOpen=createLucideIcon("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Building=createLucideIcon("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Calendar=createLucideIcon("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CheckCircle=createLucideIcon("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Clock=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CreditCard=createLucideIcon("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Crown=createLucideIcon("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DollarSign=createLucideIcon("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EyeOff=createLucideIcon("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=createLucideIcon("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Filter=createLucideIcon("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GraduationCap=createLucideIcon("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Heart=createLucideIcon("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LayoutGrid=createLucideIcon("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const List=createLucideIcon("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lock=createLucideIcon("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LogOut=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Minus=createLucideIcon("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moon=createLucideIcon("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MoreVertical=createLucideIcon("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PanelsTopLeft=createLucideIcon("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Play=createLucideIcon("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Save=createLucideIcon("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Settings=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Shield=createLucideIcon("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ShoppingCart=createLucideIcon("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sparkles=createLucideIcon("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SquarePen=createLucideIcon("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Star=createLucideIcon("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sun=createLucideIcon("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tag=createLucideIcon("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Target=createLucideIcon("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Theater=createLucideIcon("Theater",[["path",{d:"M2 10s3-3 3-8",key:"3xiif0"}],["path",{d:"M22 10s-3-3-3-8",key:"ioaa5q"}],["path",{d:"M10 2c0 4.4-3.6 8-8 8",key:"16fkpi"}],["path",{d:"M14 2c0 4.4 3.6 8 8 8",key:"b9eulq"}],["path",{d:"M2 10s2 2 2 5",key:"1au1lb"}],["path",{d:"M22 10s-2 2-2 5",key:"qi2y5e"}],["path",{d:"M8 15h8",key:"45n4r"}],["path",{d:"M2 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"1vsc2m"}],["path",{d:"M14 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"hrha4u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingUp=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UserCheck=createLucideIcon("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UserX=createLucideIcon("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Users=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zap=createLucideIcon("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomIn=createLucideIcon("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomOut=createLucideIcon("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function ActivityLineView({activities:e,onEdit:s,onDelete:i,onViewPDF:a,onActivityClick:o,loading:c,selectedActivities:d=[],isLessonPlanning:_=!1,targetSection:h,onSelectActivity:j}){const $=b=>{switch(b){case"Toe Tipper":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"Green Horn":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"Semi-Pro":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"Seasoned Veteran":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},it=b=>({"warm-up":"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400",main:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400","cool-down":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",game:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",exercise:"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400"})[b]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",ot=b=>d.some(_e=>_e.id===b.id),mt=b=>{if(!h)return!1;switch(h){case"warmUp":return b.activityType==="warm-up";case"coolDown":return b.activityType==="cool-down";case"main":return b.activityType==="main";default:return!1}},at=(b,_e)=>{_e.target.closest(".action-buttons")||o&&o(b)},xt=(b,_e)=>{_e.stopPropagation(),j&&j(b)},lt=b=>b.pdfFiles&&b.pdfFiles.length>0||b.scriptIds&&b.scriptIds.length>0;return c?jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"divide-y divide-gray-200 dark:divide-dark-700",children:[...Array(5)].map((b,_e)=>jsxRuntimeExports.jsx("div",{className:"p-3 animate-pulse",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-2 w-1/3"}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded mb-2 w-2/3"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-gray-700 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"h-5 w-20 bg-gray-200 dark:bg-gray-700 rounded-full"})]})]}),jsxRuntimeExports.jsx("div",{className:"w-16 h-6 bg-gray-200 dark:bg-gray-700 rounded"})]})},_e))})}):e.length===0?jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 p-12 text-center",children:[jsxRuntimeExports.jsx(Tag,{className:"w-12 h-12 text-gray-400 dark:text-gray-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No activities found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your filters to see more activities."})]}):jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"divide-y divide-gray-200 dark:divide-dark-700",children:e.map(b=>{const _e=ot(b),rt=mt(b);return jsxRuntimeExports.jsx("div",{className:`p-3 transition-all duration-200 group ${_e?"bg-blue-50 dark:bg-blue-900/20 border-l-4 !border-l-blue-500 dark:!border-l-blue-400":rt&&h?"bg-green-50 dark:bg-green-900/20 border-l-4 !border-l-green-500 dark:!border-l-green-400":lt(b)&&o?"hover:bg-blue-50 sdark:hover:bg-blue-900/20 cursor-pointer":"hover:bg-gray-50 dark:hover:bg-dark-700"}`,onClick:dt=>at(b,dt),title:lt(b)&&o?"Click to view attached resources":void 0,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[jsxRuntimeExports.jsxs("h3",{className:`text-base font-semibold truncate ${_e?"text-blue-900 dark:text-blue-300":rt&&h?"text-green-900 dark:text-green-300":"text-gray-900 dark:text-white"}`,children:[b.title,_e&&jsxRuntimeExports.jsx("span",{className:"ml-2 text-xs bg-blue-600 dark:bg-blue-500 text-white px-2 py-0.5 rounded-full",children:"Added"}),rt&&h&&!_e&&jsxRuntimeExports.jsxs("span",{className:"ml-2 inline-flex items-center gap-1 text-xs bg-green-600 dark:bg-green-500 text-white px-2 py-0.5 rounded-full",children:[jsxRuntimeExports.jsx(Target,{className:"w-3 h-3"}),"Perfect Match"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[b.duration,"min"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:b.materials.length})]}),b.pdfFiles&&b.pdfFiles.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(FileText,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),jsxRuntimeExports.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium",children:[b.pdfFiles.length," PDF",b.pdfFiles.length>1?"s":""]})]}),b.scriptIds&&b.scriptIds.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(FileText,{className:"w-3 h-3 text-purple-600 dark:text-purple-400"}),jsxRuntimeExports.jsxs("span",{className:"text-purple-600 dark:text-purple-400 font-medium",children:[b.scriptIds.length," Script",b.scriptIds.length>1?"s":""]})]})]})]}),jsxRuntimeExports.jsx("p",{className:`text-sm mb-2 line-clamp-1 ${_e?"text-blue-700 dark:text-blue-400":rt&&h?"text-green-700 dark:text-green-400":"text-gray-600 dark:text-gray-400"}`,children:b.description}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${_e?"bg-blue-200 dark:bg-blue-800 text-blue-900 dark:text-blue-300":rt&&h?"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-300":"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400"}`,children:b.ageGroup}),jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${$(b.skillLevel)}`,children:b.skillLevel}),jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${it(b.activityType)}`,children:b.activityType.split("-").map(dt=>dt.charAt(0).toUpperCase()+dt.slice(1)).join(" ")}),b.tags.slice(0,2).map((dt,st)=>jsxRuntimeExports.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 text-xs rounded-md ${_e?"bg-blue-200 dark:bg-blue-800 text-blue-900 dark:text-blue-300":rt&&h?"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[jsxRuntimeExports.jsx(Tag,{className:"w-2.5 h-2.5"}),dt]},st)),b.tags.length>2&&jsxRuntimeExports.jsxs("span",{className:`px-2 py-0.5 text-xs rounded-md ${_e?"bg-blue-200 dark:bg-blue-800 text-blue-900 dark:text-blue-300":rt&&h?"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:["+",b.tags.length-2]})]})]}),jsxRuntimeExports.jsxs("div",{className:"action-buttons flex items-center gap-1 ml-4",children:[_&&j&&jsxRuntimeExports.jsx("button",{onClick:dt=>xt(b,dt),className:`p-2 rounded-lg transition-all ${_e?"bg-blue-600 dark:bg-blue-500 text-white":rt&&h?"bg-green-600 dark:bg-green-500 text-white hover:bg-green-700 dark:hover:bg-green-600":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 hover:bg-blue-100 dark:hover:bg-blue-900/30 hover:text-blue-600 dark:hover:text-blue-400"}`,title:_e?"Already added to lesson":rt&&h?`Perfect for ${h==="warmUp"?"Warm-up":h==="coolDown"?"Cool-down":"Main Activities"} - Click to add`:"Add to lesson",children:rt&&h&&!_e?jsxRuntimeExports.jsx(Target,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"})}),!_&&jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:jsxRuntimeExports.jsx("button",{onClick:dt=>{dt.stopPropagation(),i(b.id)},className:"p-2 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:"Delete Activity",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})})]})]})},b.id)})})})}function ActivityDetailsModal({isOpen:e,onClose:s,activity:i,scripts:a,onViewPDF:o,onViewScript:c,onSelectActivity:d,showSelectButton:_=!1,isSelected:h=!1}){var mt;if(!e||!i)return null;const j=at=>{if(at===0)return"0 Bytes";const xt=1024,lt=["Bytes","KB","MB","GB"],b=Math.floor(Math.log(at)/Math.log(xt));return parseFloat((at/Math.pow(xt,b)).toFixed(2))+" "+lt[b]},$=i.scriptIds?a.filter(at=>i.scriptIds.includes(at.id)):[],it=at=>({comedy:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",drama:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",mystery:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400",fantasy:"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400",historical:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400",contemporary:"bg-teal-100 text-teal-800 dark:bg-teal-900/30 dark:text-teal-400"})[at]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",ot=()=>{d&&i&&(d(i),s())};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-teal-600 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:i.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Activity Resources"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:jsxRuntimeExports.jsx("button",{onClick:s,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-dark-700 bg-gray-50 dark:bg-dark-700",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:i.description}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[i.duration," minutes"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[i.materials.length," materials"]})]}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400 text-xs font-medium rounded-full",children:i.ageGroup}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-400 text-xs font-medium rounded-full",children:i.activityType.split("-").map(at=>at.charAt(0).toUpperCase()+at.slice(1)).join(" ")})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),"Attached PDFs (",((mt=i.pdfFiles)==null?void 0:mt.length)||0,")"]}),i.pdfFiles&&i.pdfFiles.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-3",children:i.pdfFiles.map(at=>jsxRuntimeExports.jsx("div",{className:"bg-gray-50 dark:bg-dark-700 rounded-lg p-4 border border-gray-200 dark:border-dark-600",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 dark:text-white truncate",children:at.fileName}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 mt-1",children:[jsxRuntimeExports.jsx("span",{children:j(at.fileSize)}),jsxRuntimeExports.jsx("span",{children:"•"}),jsxRuntimeExports.jsx("span",{children:new Date(at.uploadedAt).toLocaleDateString()})]}),at.description&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:at.description})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-1 ml-3",children:jsxRuntimeExports.jsx("a",{href:at.fileUrl,download:at.fileName,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/30 rounded-lg transition-colors",title:"Download PDF",children:jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"})})})]})},at._id))}):jsxRuntimeExports.jsxs("div",{className:"text-center py-8 bg-gray-50 dark:bg-dark-700 rounded-lg border-2 border-dashed border-gray-300 dark:border-dark-600",children:[jsxRuntimeExports.jsx(FileText,{className:"w-8 h-8 text-gray-400 dark:text-gray-500 mx-auto mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No PDFs attached to this activity"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Play,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),"Connected Scripts (",$.length,")"]}),$.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-3",children:$.map(at=>jsxRuntimeExports.jsx("div",{className:"bg-gray-50 dark:bg-dark-700 rounded-lg p-4 border border-gray-200 dark:border-dark-600",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:at.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 line-clamp-2",children:at.description}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${it(at.genre)}`,children:at.genre}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-full",children:[at.characterCount," characters"]}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-full",children:[at.duration," min"]})]})]}),at.fileUrl&&c&&jsxRuntimeExports.jsx("a",{href:at.fileUrl,download:at.fileName,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded-lg transition-colors ml-3",title:"View Script",children:jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"})})]})},at.id))}):jsxRuntimeExports.jsxs("div",{className:"text-center py-8 bg-gray-50 dark:bg-dark-700 rounded-lg border-2 border-dashed border-gray-300 dark:border-dark-600",children:[jsxRuntimeExports.jsx(Play,{className:"w-8 h-8 text-gray-400 dark:text-gray-500 mx-auto mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:i.requiresScript==="none"?"This activity does not require scripts":"No scripts connected to this activity"})]})]})]}),i.materials.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Required Materials"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:i.materials.map((at,xt)=>jsxRuntimeExports.jsx("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400 text-sm rounded-full",children:at},xt))})]}),i.tags.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-6 pt-6 border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Tags"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:i.tags.map((at,xt)=>jsxRuntimeExports.jsxs("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm rounded-full",children:["#",at]},xt))})]})]}),jsxRuntimeExports.jsx("div",{className:"p-6 bg-gray-50 dark:bg-dark-700 border-t border-gray-200 dark:border-dark-600 rounded-b-xl",children:jsxRuntimeExports.jsx("div",{className:"flex justify-end items-center",children:_&&d?jsxRuntimeExports.jsxs("button",{onClick:ot,disabled:h,className:`flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all duration-200 ${h?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-teal-600 text-white hover:from-blue-700 hover:to-teal-700 shadow-md hover:shadow-lg"}`,children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5"}),h?"Already Added to Lesson":"Add to Lesson Plan"]}):jsxRuntimeExports.jsx("button",{onClick:s,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors ml-auto",children:"Close"})})})]})})}function ActivityGrid({activities:e,onSelectActivity:s,selectedActivities:i,loading:a,scripts:o=[],onViewPDF:c,onViewScript:d,viewMode:_="card",onViewModeChange:h,showViewToggle:j=!1,isLessonPlanning:$=!1,targetSection:it,onDelete:ot}){const[mt,at]=reactExports.useState(null),[xt,lt]=reactExports.useState(!1),b=ft=>({"warm-up":"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-400 dark:border-orange-800",main:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-800","cool-down":"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800",game:"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/30 dark:text-purple-400 dark:border-purple-800",exercise:"bg-pink-100 text-pink-800 border-pink-200 dark:bg-pink-900/30 dark:text-pink-400 dark:border-pink-800"})[ft]||"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600",_e=ft=>({"Toe Tipper":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400","Green Horn":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400","Semi-Pro":"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400","Seasoned Veteran":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"})[ft]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",rt=ft=>({"More Playing Than Creating":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400","A Balance of Playing and Creating":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400","Let's Create and Craft":"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400"})[ft]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",dt=ft=>i.some(vt=>vt.id===ft.id),st=ft=>ft.scriptIds?o.filter(vt=>ft.scriptIds.includes(vt.id)):[],pt=ft=>{at(ft),lt(!0)},g=()=>{lt(!1),at(null)},tt=ft=>{s(ft)},ct=(ft,vt)=>{vt.target.closest(".add-button")||pt(ft)},gt=(ft,vt)=>{vt.stopPropagation(),s(ft)},nt=ft=>{if(!it)return!1;switch(it){case"warmUp":return ft.activityType==="warm-up";case"coolDown":return ft.activityType==="cool-down";case"main":return ft.activityType==="main";default:return!1}};return a?jsxRuntimeExports.jsxs("div",{children:[j&&h&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"View:"}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-100 dark:bg-dark-700 rounded-lg p-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>h("card"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${_==="card"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(LayoutGrid,{className:"w-4 h-4"}),"Cards"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>h("line"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${_==="line"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(List,{className:"w-4 h-4"}),"List"]})]})]})}),_==="line"?jsxRuntimeExports.jsx(ActivityLineView,{activities:[],onEdit:()=>{},onDelete:ot||(()=>{}),onViewPDF:c,onActivityClick:pt,loading:!0,selectedActivities:i,isLessonPlanning:$,targetSection:it,onSelectActivity:s}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((ft,vt)=>jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 p-6 animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded mb-3"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-4"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"h-6 w-16 bg-gray-200 dark:bg-gray-700 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"h-6 w-20 bg-gray-200 dark:bg-gray-700 rounded-full"})]}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded"})]},vt))})]}):e.length===0?jsxRuntimeExports.jsxs("div",{children:[j&&h&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"View:"}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-100 dark:bg-dark-700 rounded-lg p-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>h("card"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${_==="card"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(LayoutGrid,{className:"w-4 h-4"}),"Cards"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>h("line"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${_==="line"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(List,{className:"w-4 h-4"}),"List"]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(Tag,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No activities found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your filters to see more activities."})]})]}):jsxRuntimeExports.jsxs("div",{children:[j&&h&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"View:"}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-100 dark:bg-dark-700 rounded-lg p-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>h("card"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${_==="card"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(LayoutGrid,{className:"w-4 h-4"}),"Cards"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>h("line"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${_==="line"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(List,{className:"w-4 h-4"}),"List"]})]})]})}),_==="line"?jsxRuntimeExports.jsx(ActivityLineView,{activities:e,onEdit:()=>{},onDelete:ot||(()=>{}),onViewPDF:c,onActivityClick:pt,loading:!1,selectedActivities:i,isLessonPlanning:$,targetSection:it,onSelectActivity:s}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(ft=>{const vt=st(ft),Dt=dt(ft),Tt=nt(ft);return jsxRuntimeExports.jsxs("div",{className:`bg-white dark:bg-dark-800 rounded-lg border-2 p-6 cursor-pointer transition-all duration-200 hover:shadow-lg dark:hover:shadow-xl hover:shadow-gray-200 dark:hover:shadow-black/20 group ${Dt?"border-blue-500 dark:border-blue-400 bg-blue-50 dark:bg-blue-900/20 shadow-md dark:shadow-xl":Tt&&it?"border-green-500 dark:border-green-400 bg-green-50 dark:bg-green-900/20 shadow-md dark:shadow-xl":"border-gray-200 dark:border-dark-700 hover:border-blue-300 dark:hover:border-blue-600"}`,onClick:Mt=>ct(ft,Mt),title:"Click to view activity details and resources",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex-1 pr-2",children:[ft.title,Tt&&it&&jsxRuntimeExports.jsxs("span",{className:"ml-2 inline-flex items-center gap-1 px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs font-medium rounded-full",children:[jsxRuntimeExports.jsx(Target,{className:"w-3 h-3"}),"Perfect Match"]})]}),$?jsxRuntimeExports.jsx("button",{className:`add-button p-2 rounded-full transition-all ${Dt?"bg-blue-600 dark:bg-blue-500 text-white":Tt&&it?"bg-green-600 dark:bg-green-500 text-white hover:bg-green-700 dark:hover:bg-green-600":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 hover:bg-blue-100 dark:hover:bg-blue-900/30 hover:text-blue-600 dark:hover:text-blue-400"}`,onClick:Mt=>gt(ft,Mt),title:Dt?"Already added to lesson":Tt&&it?`Perfect for ${it==="warmUp"?"Warm-up":it==="coolDown"?"Cool-down":"Main Activities"} - Click to add`:"Add to lesson",children:Tt&&it?jsxRuntimeExports.jsx(Target,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"})}):jsxRuntimeExports.jsx("button",{onClick:Mt=>{Mt.stopPropagation(),console.log("Delete button clicked for activity:",ft.id,ft.title),ot?ot(ft.id):console.log("onDelete function not provided")},className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 text-sm font-medium px-2 py-1 rounded hover:bg-red-50 dark:hover:bg-red-900/30 transition-colors opacity-0 group-hover:opacity-100",title:"Delete Activity",children:"Delete"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 line-clamp-2 text-sm",children:ft.description}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400 text-xs font-medium rounded-full",children:ft.ageGroup}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${_e(ft.skillLevel)}`,children:ft.skillLevel}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${b(ft.activityType)}`,children:ft.activityType.split("-").map(Mt=>Mt.charAt(0).toUpperCase()+Mt.slice(1)).join(" ")}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${rt(ft.playOrCraft)}`,children:ft.playOrCraft})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center flex-wrap gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[ft.duration," min"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[ft.materials.length," materials"]})]}),ft.pdfFiles&&ft.pdfFiles.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),jsxRuntimeExports.jsxs("span",{className:"text-green-600 dark:text-green-400",children:[ft.pdfFiles.length," PDF",ft.pdfFiles.length>1?"s":""]})]}),vt.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Play,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),jsxRuntimeExports.jsxs("span",{className:"text-purple-600 dark:text-purple-400",children:[vt.length," Script",vt.length>1?"s":""]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1",children:[ft.tags.slice(0,3).map((Mt,kt)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:[jsxRuntimeExports.jsx(Tag,{className:"w-3 h-3"}),Mt]},kt)),ft.tags.length>3&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:["+",ft.tags.length-3," more"]})]})]},ft.id)})}),jsxRuntimeExports.jsx(ActivityDetailsModal,{isOpen:xt,onClose:g,activity:mt,scripts:o,onViewPDF:c,onViewScript:d,onSelectActivity:$?tt:void 0,showSelectButton:$,isSelected:mt?dt(mt):!1})]})}function ScriptCard({script:e,onEdit:s,onDelete:i,onUpload:a}){const o=d=>({comedy:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",drama:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",mystery:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400",fantasy:"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400",historical:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400",contemporary:"bg-teal-100 text-teal-800 dark:bg-teal-900/30 dark:text-teal-400"})[d]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",c=d=>{var h;const _=(h=d.target.files)==null?void 0:h[0];_&&a(e.id,_)};return jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 p-6 hover:shadow-md dark:hover:shadow-xl hover:shadow-gray-200 dark:hover:shadow-black/20 transition-all duration-200 hover:border-teal-300 dark:hover:border-teal-600 group",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:e.title}),jsxRuntimeExports.jsx("div",{className:"flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:jsxRuntimeExports.jsx("button",{onClick:()=>i(e.id),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 text-sm font-medium px-2 py-1 rounded hover:bg-red-50 dark:hover:bg-red-900/30 transition-colors",children:"Delete"})})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 line-clamp-3",children:e.description}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-teal-100 dark:bg-teal-900/30 text-teal-800 dark:text-teal-400 text-xs font-medium rounded-full",children:e.ageGroup}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${o(e.genre)}`,children:e.genre})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[e.duration," min"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[e.characterCount," characters"]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[e.tags.slice(0,3).map((d,_)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:[jsxRuntimeExports.jsx(Tag,{className:"w-3 h-3"}),d]},_)),e.tags.length>3&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:["+",e.tags.length-3," more"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200 dark:border-dark-700",children:[e.fileUrl?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:e.fileName}),jsxRuntimeExports.jsx("a",{href:e.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 p-1 rounded hover:bg-blue-50 dark:hover:bg-blue-900/30 transition-colors",children:jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"})})]}):jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No file uploaded"}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-1 px-3 py-1 bg-teal-50 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400 rounded-md cursor-pointer hover:bg-teal-100 dark:hover:bg-teal-900/50 transition-colors",children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Upload PDF"}),jsxRuntimeExports.jsx("input",{type:"file",accept:".pdf",onChange:c,className:"hidden"})]})]})]})}function ScriptLineView({scripts:e,onEdit:s,onDelete:i,onUpload:a,loading:o}){const c=_=>({comedy:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",drama:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",mystery:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400",fantasy:"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400",historical:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400",contemporary:"bg-teal-100 text-teal-800 dark:bg-teal-900/30 dark:text-teal-400"})[_]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",d=(_,h)=>{var $;const j=($=h.target.files)==null?void 0:$[0];j&&a(_,j),h.target.value=""};return o?jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"divide-y divide-gray-200 dark:divide-dark-700",children:[...Array(5)].map((_,h)=>jsxRuntimeExports.jsx("div",{className:"p-3 animate-pulse",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-2 w-1/3"}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded mb-2 w-2/3"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-gray-700 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"h-5 w-20 bg-gray-200 dark:bg-gray-700 rounded-full"})]})]}),jsxRuntimeExports.jsx("div",{className:"w-16 h-6 bg-gray-200 dark:bg-gray-700 rounded"})]})},h))})}):e.length===0?jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 p-12 text-center",children:[jsxRuntimeExports.jsx(FileText,{className:"w-12 h-12 text-gray-400 dark:text-gray-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No scripts found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your filters to see more scripts."})]}):jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"divide-y divide-gray-200 dark:divide-dark-700",children:e.map(_=>jsxRuntimeExports.jsx("div",{className:"p-3 transition-all duration-200 group hover:bg-gray-50 dark:hover:bg-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white truncate",children:_.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[_.duration,"min"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[_.characterCount," chars"]})]}),_.fileUrl&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(FileText,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),jsxRuntimeExports.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"PDF"})]})]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 line-clamp-1",children:_.description}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-teal-100 dark:bg-teal-900/30 text-teal-800 dark:text-teal-400",children:_.ageGroup}),jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${c(_.genre)}`,children:_.genre}),_.tags.slice(0,2).map((h,j)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:[jsxRuntimeExports.jsx(Tag,{className:"w-2.5 h-2.5"}),h]},j)),_.tags.length>2&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:["+",_.tags.length-2]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[jsxRuntimeExports.jsx("div",{className:"text-right",children:_.fileUrl?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:_.fileName}),jsxRuntimeExports.jsx("a",{href:_.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"p-1 text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/30 rounded transition-colors",title:"View PDF",children:jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"})})]}):jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No file"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[jsxRuntimeExports.jsxs("label",{className:"p-2 text-teal-600 dark:text-teal-400 hover:text-teal-800 dark:hover:text-teal-300 hover:bg-teal-50 dark:hover:bg-teal-900/30 rounded-lg transition-colors cursor-pointer",children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("input",{type:"file",accept:".pdf",onChange:h=>d(_.id,h),className:"hidden"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>i(_.id),className:"p-2 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Delete Script",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})]})]})},_.id))})})}function ScriptGrid({scripts:e,onEdit:s,onDelete:i,onUpload:a,loading:o,viewMode:c="card",onViewModeChange:d,showViewToggle:_=!1}){return o?jsxRuntimeExports.jsxs("div",{children:[_&&d&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"View:"}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-100 dark:bg-dark-700 rounded-lg p-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>d("card"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${c==="card"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(LayoutGrid,{className:"w-4 h-4"}),"Cards"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>d("line"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${c==="line"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(List,{className:"w-4 h-4"}),"List"]})]})]})}),c==="line"?jsxRuntimeExports.jsx(ScriptLineView,{scripts:[],onEdit:s,onDelete:i,onUpload:a,loading:!0}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((h,j)=>jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 p-6 animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded mb-3"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-4"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"h-6 w-16 bg-gray-200 dark:bg-gray-700 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"h-6 w-20 bg-gray-200 dark:bg-gray-700 rounded-full"})]}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded"})]},j))})]}):e.length===0?jsxRuntimeExports.jsxs("div",{children:[_&&d&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"View:"}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-100 dark:bg-dark-700 rounded-lg p-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>d("card"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${c==="card"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(LayoutGrid,{className:"w-4 h-4"}),"Cards"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>d("line"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${c==="line"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(List,{className:"w-4 h-4"}),"List"]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(Tag,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No scripts found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your filters to see more scripts."})]})]}):jsxRuntimeExports.jsxs("div",{children:[_&&d&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"View:"}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-100 dark:bg-dark-700 rounded-lg p-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>d("card"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${c==="card"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(LayoutGrid,{className:"w-4 h-4"}),"Cards"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>d("line"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${c==="line"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(List,{className:"w-4 h-4"}),"List"]})]})]})}),c==="line"?jsxRuntimeExports.jsx(ScriptLineView,{scripts:e,onEdit:s,onDelete:i,onUpload:a,loading:!1}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(h=>jsxRuntimeExports.jsx(ScriptCard,{script:h,onEdit:s,onDelete:i,onUpload:a},h.id))})]})}const ageGroups$3=["Young","Middle","Older"],levels$1=["Toe Tipper","Green Horn","Semi-Pro","Seasoned Veteran"],genres$1=["comedy","drama","mystery","fantasy","historical","contemporary"],playOrCraftOptions$1=["More Playing Than Creating","A Balance of Playing and Creating","Let us Create And Craft"];function SearchFilters({filters:e,onFiltersChange:s,showGenre:i=!1,showLevel:a=!1,showPlayOrCraft:o=!1}){const c=(d,_)=>{s({...e,[d]:_||void 0})};return jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-dark-700 mb-6 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx(Filter,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Filters"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:e.search||"",onChange:d=>c("search",d.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("select",{value:e.ageGroup||"",onChange:d=>c("ageGroup",d.target.value),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Age Groups"}),ageGroups$3.map(d=>jsxRuntimeExports.jsx("option",{value:d,children:d},d))]}),a&&jsxRuntimeExports.jsxs("select",{value:e.skillLevel||"",onChange:d=>c("skillLevel",d.target.value),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Levels"}),levels$1.map(d=>jsxRuntimeExports.jsx("option",{value:d,children:d},d))]}),i&&jsxRuntimeExports.jsxs("select",{value:e.genre||"",onChange:d=>c("genre",d.target.value),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Genres"}),genres$1.map(d=>jsxRuntimeExports.jsx("option",{value:d,children:d.charAt(0).toUpperCase()+d.slice(1)},d))]}),o&&jsxRuntimeExports.jsxs("select",{value:e.playOrCraft||"",onChange:d=>c("playOrCraft",d.target.value),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Play or Craft Types"}),playOrCraftOptions$1.map(d=>jsxRuntimeExports.jsx("option",{value:d,children:d},d))]})]})]})}var V3_URL="https://js.stripe.com/v3",V3_URL_REGEX=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,EXISTING_SCRIPT_MESSAGE="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",findScript=function(){for(var s=document.querySelectorAll('script[src^="'.concat(V3_URL,'"]')),i=0;i<s.length;i++){var a=s[i];if(V3_URL_REGEX.test(a.src))return a}return null},injectScript=function(s){var i="",a=document.createElement("script");a.src="".concat(V3_URL).concat(i);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(a),a},registerWrapper=function(s,i){!s||!s._registerWrapper||s._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:i})},stripePromise$2=null,onErrorListener=null,onLoadListener=null,onError=function(s){return function(){s(new Error("Failed to load Stripe.js"))}},onLoad=function(s,i){return function(){window.Stripe?s(window.Stripe):i(new Error("Stripe.js not available"))}},loadScript=function(s){return stripePromise$2!==null?stripePromise$2:(stripePromise$2=new Promise(function(i,a){if(typeof window>"u"||typeof document>"u"){i(null);return}if(window.Stripe){i(window.Stripe);return}try{var o=findScript();if(!(o&&s)){if(!o)o=injectScript(s);else if(o&&onLoadListener!==null&&onErrorListener!==null){var c;o.removeEventListener("load",onLoadListener),o.removeEventListener("error",onErrorListener),(c=o.parentNode)===null||c===void 0||c.removeChild(o),o=injectScript(s)}}onLoadListener=onLoad(i,a),onErrorListener=onError(a),o.addEventListener("load",onLoadListener),o.addEventListener("error",onErrorListener)}catch(d){a(d);return}}),stripePromise$2.catch(function(i){return stripePromise$2=null,Promise.reject(i)}))},initStripe=function(s,i,a){if(s===null)return null;var o=s.apply(void 0,i);return registerWrapper(o,a),o},stripePromise$1$1,loadCalled=!1,getStripePromise=function(){return stripePromise$1$1||(stripePromise$1$1=loadScript(null).catch(function(s){return stripePromise$1$1=null,Promise.reject(s)}),stripePromise$1$1)};Promise.resolve().then(function(){return getStripePromise()}).catch(function(e){loadCalled||console.warn(e)});var loadStripe=function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];loadCalled=!0;var o=Date.now();return getStripePromise().then(function(c){return initStripe(c,i,o)})};const stripePromise$1=loadStripe("pk_test_51RZbgpHJfFjCNpvusQZhCnbWanbuxIE2cyrNZuJ2I02nFnWl45SkhClG0XLb3UwhXoCUWVTFYxJMkRfWTqWPbghD001v7bAUPj");class StripeService{static async initializeStripe(){return await stripePromise$1}static async initializeDemoSubscriptions(){try{console.log("Demo subscriptions initialized")}catch(s){console.error("Error initializing demo subscriptions:",s)}}static async getPlans(){try{return await ApiService.getSubscriptionPlans()}catch(s){throw console.error("Error fetching plans:",s),new Error("Failed to load subscription plans")}}static async createSubscription(s,i,a){try{return await ApiService.createSubscription(s,i,a)}catch(o){throw console.error("Error creating subscription:",o),o}}static async updateSubscription(s,i){try{return await ApiService.updateSubscription(s,i)}catch(a){throw console.error("Error updating subscription:",a),a}}static async cancelSubscription(s){try{return await ApiService.cancelSubscription(s)}catch(i){throw console.error("Error canceling subscription:",i),i}}static async reactivateSubscription(s){try{return await ApiService.reactivateSubscription(s)}catch(i){throw console.error("Error reactivating subscription:",i),i}}static async purchaseAdditionalLessons(s,i){try{return await ApiService.purchaseAdditionalLessons(s,i)}catch(a){throw console.error("Error purchasing additional lessons:",a),a}}static async getUserSubscription(s){try{return await ApiService.getUserSubscription(s)}catch(i){if(i instanceof ApiError&&i.status===404)return null;throw console.error("Error fetching subscription:",i),i}}static async incrementLessonCount(s){try{return await ApiService.incrementLessonCount(s)}catch(i){throw console.error("Error incrementing lesson count:",i),i}}static async checkSubscriptionAccess(s){try{return await ApiService.checkSubscriptionAccess(s)}catch(i){return console.error("Error checking subscription access:",i),{canGenerate:!1,reason:"Failed to check subscription status",remainingLessons:0}}}static canGenerateLesson(s){return!s||s.status!=="active"?!1:s.plan.id==="juliet"&&s.plan.name.includes("Admin")||s.plan.lessonsLimit===-1?!0:s.lessonsGenerated<s.plan.lessonsLimit}static getRemainingLessons(s){return!s||s.status!=="active"?0:s.plan.id==="juliet"&&s.plan.name.includes("Admin")||s.plan.lessonsLimit===-1?-1:Math.max(0,s.plan.lessonsLimit+(s.additionalLessonsPurchased||0)-s.lessonsGenerated)}static canPurchaseAdditionalLessons(s){return!s||s.status!=="active"||s.plan.id==="juliet"&&s.plan.name.includes("Admin")?!1:s.plan.allowAdditionalLessons||!1}static async getPaymentMethods(s){try{return await ApiService.getPaymentMethods(s)}catch(i){throw console.error("Error fetching payment methods:",i),i}}static async getInvoices(s){try{return await ApiService.getInvoices(s)}catch(i){throw console.error("Error fetching invoices:",i),i}}}const API_URL="https://5872-35-78-107-144.ngrok-free.app/api";class AuthService{static getStoredAuth(){try{const s=localStorage.getItem("activityhub_auth");return s?JSON.parse(s):null}catch{return null}}static setStoredAuth(s){localStorage.setItem("activityhub_auth",JSON.stringify(s))}static clearStoredAuth(){localStorage.removeItem("activityhub_auth")}static getStoredUsers(){try{const s=localStorage.getItem("activityhub_users");return s?JSON.parse(s):[]}catch{return[]}}static setStoredUsers(s){localStorage.setItem("activityhub_users",JSON.stringify(s))}static initializeDemoUsers(){if(this.getStoredUsers().length===0){const i=[{id:"1",email:"teacher@activityhub.com",firstName:"Sarah",lastName:"Johnson",role:"teacher",organization:"Riverside Elementary",isActive:!0,lastLoginAt:new Date("2024-01-15"),createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"2",email:"admin@activityhub.com",firstName:"Michael",lastName:"Chen",role:"admin",organization:"ActivityHub",isActive:!0,lastLoginAt:new Date("2024-01-16"),createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"3",email:"john.doe@school.edu",firstName:"John",lastName:"Doe",role:"teacher",organization:"Westfield High School",isActive:!0,lastLoginAt:new Date("2024-01-14"),createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-01-05")},{id:"4",email:"jane.smith@academy.org",firstName:"Jane",lastName:"Smith",role:"student",organization:"Drama Academy",isActive:!1,lastLoginAt:new Date("2024-01-10"),createdAt:new Date("2024-01-08"),updatedAt:new Date("2024-01-08")},{id:"5",email:"emily.brown@college.edu",firstName:"Emily",lastName:"Brown",role:"teacher",organization:"Community College",isActive:!0,lastLoginAt:new Date("2024-01-13"),createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-12")}];this.setStoredUsers(i)}StripeService.initializeDemoSubscriptions()}static async checkAuth(){const s=this.getStoredAuth();if(s&&s.token)try{const i=await fetch(`${API_URL}/users/profile`,{headers:{Authorization:`Bearer ${s.token}`,"ngrok-skip-browser-warning":"69420"}});if(i.ok)return await i.json()}catch(i){console.error("Auth check failed:",i)}return null}static async loadUserWithSubscription(s){try{const i=await StripeService.getUserSubscription(s.id);return{...s,subscription:i||void 0}}catch{return s}}static async signIn(s){const i=await fetch(`${API_URL}/users/login`,{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"69420"},body:JSON.stringify(s)});if(!i.ok){const o=await i.json();throw new Error(o.error||"Failed to sign in")}const a=await i.json();return this.setStoredAuth(a),a}static async signUp(s){const i=await fetch(`${API_URL}/users/register`,{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"69420"},body:JSON.stringify(s)});if(!i.ok){const o=await i.json();throw new Error(o.error||"Failed to sign up")}const a=await i.json();return this.setStoredAuth(a),a}static async signOut(){this.clearStoredAuth()}static async updateProfile(s,i){const a=await fetch(`${API_URL}/users/${s}`,{method:"PUT",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"69420"},body:JSON.stringify(i)});if(!a.ok){const c=await a.json();throw new Error(c.error||"Failed to update profile")}return await a.json()}static getCurrentUser(){const s=this.getStoredAuth();return(s==null?void 0:s.user)||null}static getAuthToken(){const s=this.getStoredAuth();return(s==null?void 0:s.token)||null}static async getAllUsers(s){const i=await fetch(`${API_URL}/users`,{method:"GET",headers:{Authorization:`Bearer ${this.getAuthToken()}`,"ngrok-skip-browser-warning":"69420"}});if(!i.ok){const o=await i.json();throw new Error(o.error||"Failed to get users")}const a=await i.json();if(s){let o=a;if(s.role&&(o=o.filter(c=>c.role===s.role)),s.isActive!==void 0&&(o=o.filter(c=>c.isActive===s.isActive)),s.organization&&(o=o.filter(c=>{var d;return(d=c.organization)==null?void 0:d.toLowerCase().includes(s.organization.toLowerCase())})),s.search){const c=s.search.toLowerCase();o=o.filter(d=>{var _;return d.firstName.toLowerCase().includes(c)||d.lastName.toLowerCase().includes(c)||d.email.toLowerCase().includes(c)||((_=d.organization)==null?void 0:_.toLowerCase().includes(c))})}return o}return a}static async getUserStats(){const s=await fetch(`${API_URL}/users/stats`,{method:"GET",headers:{Authorization:`Bearer ${this.getAuthToken()}`,"ngrok-skip-browser-warning":"69420"}});if(!s.ok){const a=await s.json();throw new Error(a.error||"Failed to get user stats")}return await s.json()}static async createUser(s){const i=await fetch(`${API_URL}/users`,{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"69420"},body:JSON.stringify(s)});if(!i.ok){const o=await i.json();throw new Error(o.error||"Failed to create user")}return await i.json()}static async updateUser(s,i){const a=await fetch(`${API_URL}/users/${s}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.getAuthToken()}`,"ngrok-skip-browser-warning":"69420"},body:JSON.stringify(i)});if(!a.ok){const c=await a.json();throw new Error(c.error||"Failed to update user")}return await a.json()}static async deleteUser(s){const i=await fetch(`${API_URL}/users/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${this.getAuthToken()}`,"ngrok-skip-browser-warning":"69420"}});if(!i.ok){const a=await i.json();throw new Error(a.error||"Failed to delete user")}}static async toggleUserStatus(s){const i=await fetch(`${API_URL}/users/${s}/toggle`,{method:"PUT",headers:{Authorization:`Bearer ${this.getAuthToken()}`,"ngrok-skip-browser-warning":"69420"}});if(!i.ok){const o=await i.json();throw new Error(o.error||"Failed to toggle user status")}return await i.json()}}const API_BASE_URL$1="https://5872-35-78-107-144.ngrok-free.app/api";class ApiError extends Error{constructor(s,i,a){super(s),this.status=i,this.response=a,this.name="ApiError"}}class ApiService{static getHeaders(s=!1){const i=AuthService.getAuthToken();return{...s?{}:{"Content-Type":"application/json"},"ngrok-skip-browser-warning":"69420",...i?{Authorization:`Bearer ${i}`}:{}}}static async request(s,i={}){const a=`${API_BASE_URL$1}${s}`,o=i.body instanceof FormData,c=await fetch(a,{headers:{...this.getHeaders(o),...i.headers},...i});if(!c.ok){const d=await c.json().catch(()=>({}));throw new ApiError(d.error||`HTTP ${c.status}`,c.status,d)}return c.status===204?{}:c.json()}static async getActivities(s){const i=new URLSearchParams;s&&Object.entries(s).forEach(([o,c])=>{c&&i.append(o,c.toString())});const a=await fetch(`${API_BASE_URL$1}/activities?${i}`,{headers:this.getHeaders()});if(!a.ok)throw new Error("Failed to fetch activities");return a.json()}static async getActivity(s){const i=await fetch(`${API_BASE_URL$1}/activities/${s}`,{headers:this.getHeaders()});if(!i.ok)throw new Error("Failed to fetch activity");return i.json()}static async createActivity(s){const i=new FormData;if(i.append("data",JSON.stringify(s)),s.pdfFiles&&s.pdfFiles.length>0)for(const a of s.pdfFiles)try{const c=await(await fetch(a.fileUrl)).blob(),d=new File([c],a.fileName,{type:"application/pdf"});i.append("files",d)}catch(o){console.error("Error converting PDF to file:",o)}return this.request("/activities",{method:"POST",body:i})}static async updateActivity(s,i){const a=await fetch(`${API_BASE_URL$1}/activities/${s}`,{method:"PUT",headers:this.getHeaders(),body:JSON.stringify(i)});if(!a.ok)throw new Error("Failed to update activity");return a.json()}static async deleteActivity(s){console.log("ApiService.deleteActivity called with id:",s);const i=await fetch(`${API_BASE_URL$1}/activities/${s}`,{method:"DELETE",headers:this.getHeaders()});if(console.log("Delete response status:",i.status),!i.ok){const a=await i.text();throw console.error("Delete failed with status:",i.status,"Error:",a),new Error("Failed to delete activity")}console.log("Activity deleted successfully via API")}static async getScripts(s){const i=new URLSearchParams;s&&Object.entries(s).forEach(([o,c])=>{c&&i.append(o,c.toString())});const a=await fetch(`${API_BASE_URL$1}/scripts?${i}`,{headers:this.getHeaders()});if(!a.ok)throw new Error("Failed to fetch scripts");return a.json()}static async getScript(s){const i=await fetch(`${API_BASE_URL$1}/scripts/${s}`,{headers:this.getHeaders()});if(!i.ok)throw new Error("Failed to fetch script");return i.json()}static async createScript(s,i){const a=new FormData;return Object.entries(s).forEach(([o,c])=>{a.append(o,c)}),i&&a.append("file",i),this.request("/scripts",{method:"POST",body:a})}static async updateScript(s,i,a){const o=new FormData;return Object.entries(i).forEach(([c,d])=>{o.append(c,d)}),a&&o.append("file",a),this.request(`/scripts/${s}`,{method:"PUT",body:o})}static async deleteScript(s){if(!(await fetch(`${API_BASE_URL$1}/scripts/${s}`,{method:"DELETE",headers:this.getHeaders()})).ok)throw new Error("Failed to delete script")}static async uploadScriptFile(s,i){const a=new FormData;return a.append("file",i),this.request(`/scripts/${s}/upload`,{method:"POST",body:a})}static async getSavedLessons(s){const i=new URLSearchParams;s&&Object.entries(s).forEach(([o,c])=>{c!=null&&c!==""&&(Array.isArray(c)?i.append(o,c.join(",")):i.append(o,String(c)))});const a=i.toString();return this.request(`/lessons${a?`?${a}`:""}`)}static async getSavedLesson(s){return this.request(`/lessons/${s}`)}static async saveLesson(s){return this.request("/lessons",{method:"POST",body:JSON.stringify(s),headers:this.getHeaders()})}static async updateLesson(s,i){return this.request(`/lessons/${s}`,{method:"PUT",body:JSON.stringify(i),headers:this.getHeaders()})}static async deleteLesson(s){const i=await fetch(`${API_BASE_URL$1}/lessons/${s}`,{method:"DELETE",headers:this.getHeaders()});if(!i.ok)throw new Error("Failed to delete lesson");if(i.status!==204)return i.json()}static async duplicateLesson(s,i){return this.request(`/lessons/${s}/duplicate`,{method:"POST",body:JSON.stringify({title:i}),headers:this.getHeaders()})}static async getLessonWithActivities(s){return this.request(`/lessons/${s}/activities`)}static async getSubscriptionPlans(){return this.request("/stripe/plans",{method:"GET",headers:{...this.getHeaders(),"ngrok-skip-browser-warning":"69420"}})}static async getUserSubscription(s){return this.request(`/stripe/subscription/${s}`,{headers:this.getHeaders()})}static async createSubscription(s,i,a){return this.request("/stripe/create-subscription",{method:"POST",headers:this.getHeaders(),body:JSON.stringify({userId:s,planId:i,paymentMethodId:a})})}static async updateSubscription(s,i){return this.request("/stripe/update-subscription",{method:"PUT",headers:this.getHeaders(),body:JSON.stringify({userId:s,planId:i})})}static async cancelSubscription(s){return this.request("/stripe/cancel-subscription",{method:"POST",headers:this.getHeaders(),body:JSON.stringify({userId:s})})}static async reactivateSubscription(s){return this.request("/stripe/reactivate-subscription",{method:"POST",headers:this.getHeaders(),body:JSON.stringify({userId:s})})}static async purchaseAdditionalLessons(s,i){return this.request("/stripe/purchase-lessons",{method:"POST",headers:this.getHeaders(),body:JSON.stringify({userId:s,lessonCount:i})})}static async incrementLessonCount(s){return this.request("/stripe/increment-lesson",{method:"POST",headers:this.getHeaders(),body:JSON.stringify({userId:s})})}static async checkSubscriptionAccess(s){return this.request(`/stripe/check-access/${s}`,{headers:this.getHeaders()})}static async getPaymentMethods(s){return this.request(`/stripe/payment-methods/${s}`,{headers:this.getHeaders()})}static async getInvoices(s){return this.request(`/stripe/invoices/${s}`,{headers:this.getHeaders()})}static async createPaymentIntent(s){return this.request("/stripe/create-payment-intent",{method:"POST",headers:this.getHeaders(),body:JSON.stringify({planId:s})})}}const ageGroups$2=["Young","Middle","Older"],levels=["Toe Tipper","Green Horn","Semi-Pro","Seasoned Veteran"],activityTypes=["warm-up","main","cool-down","game","exercise"],playOrCraftOptions=["More Playing Than Creating","A Balance of Playing and Creating","Let us Create And Craft"];function CreateActivityModal({isOpen:e,onClose:s,onCreate:i,editActivity:a,onViewPDF:o}){var st,pt;const[c,d]=reactExports.useState([]),[_,h]=reactExports.useState(!1),[j,$]=reactExports.useState(!1),[it,ot]=reactExports.useState({title:(a==null?void 0:a.title)||"",description:(a==null?void 0:a.description)||"",ageGroup:(a==null?void 0:a.ageGroup)||"Middle",skillLevel:(a==null?void 0:a.skillLevel)||"Toe Tipper",duration:(a==null?void 0:a.duration)||30,materials:((st=a==null?void 0:a.materials)==null?void 0:st.join(", "))||"",tags:((pt=a==null?void 0:a.tags)==null?void 0:pt.join(", "))||"",requiresScript:(a==null?void 0:a.requiresScript)||"none",activityType:(a==null?void 0:a.activityType)||"main",playOrCraft:(a==null?void 0:a.playOrCraft)||"A Balance of Playing and Creating",scriptIds:(a==null?void 0:a.scriptIds)||[],pdfFiles:(a==null?void 0:a.pdfFiles)||[]});reactExports.useEffect(()=>{e&&mt()},[e]);const mt=async()=>{try{h(!0);const g=await ApiService.getScripts();d(g)}catch(g){console.error("Failed to load scripts:",g)}finally{h(!1)}},at=async g=>{g.preventDefault();try{const tt=new FormData,ct={title:it.title,description:it.description,ageGroup:it.ageGroup,skillLevel:it.skillLevel,duration:it.duration,materials:it.materials.split(",").map(gt=>gt.trim()).filter(Boolean),tags:it.tags.split(",").map(gt=>gt.trim()).filter(Boolean),requiresScript:it.requiresScript,activityType:it.activityType,playOrCraft:it.playOrCraft,scriptIds:it.scriptIds,pdfFiles:it.pdfFiles};if(tt.append("data",JSON.stringify(ct)),it.pdfFiles.length>0)for(const gt of it.pdfFiles){const ft=await(await fetch(gt.fileUrl)).blob(),vt=new File([ft],gt.fileName,{type:"application/pdf"});tt.append("files",vt)}i(ct),s()}catch(tt){console.error("Error submitting form:",tt),alert("Failed to create activity. Please try again.")}},xt=g=>{ot(tt=>({...tt,scriptIds:tt.scriptIds.includes(g)?tt.scriptIds.filter(ct=>ct!==g):[...tt.scriptIds,g]}))},lt=()=>c.filter(g=>it.scriptIds.includes(g.id)),b=async g=>{const tt=g.target.files;if(!(!tt||tt.length===0)){$(!0);try{const ct=[];for(let gt=0;gt<tt.length;gt++){const nt=tt[gt];if(nt.type!=="application/pdf"){alert(`${nt.name} is not a PDF file. Only PDF files are allowed.`);continue}if(nt.size>10*1024*1024){alert(`${nt.name} is too large. Maximum file size is 10MB.`);continue}const ft=URL.createObjectURL(nt),vt={_id:Date.now().toString()+gt,fileName:nt.name,fileUrl:ft,fileSize:nt.size,uploadedAt:new Date,description:""};ct.push(vt)}ot(gt=>({...gt,pdfFiles:[...gt.pdfFiles,...ct]}))}catch(ct){console.error("Error uploading PDFs:",ct),alert("Failed to upload PDF files. Please try again.")}finally{$(!1),g.target.value=""}}},_e=g=>{ot(tt=>({...tt,pdfFiles:tt.pdfFiles.filter(ct=>ct._id!==g)}))},rt=(g,tt)=>{ot(ct=>({...ct,pdfFiles:ct.pdfFiles.map(gt=>gt._id===g?{...gt,description:tt}:gt)}))},dt=g=>{if(g===0)return"0 Bytes";const tt=1024,ct=["Bytes","KB","MB","GB"],gt=Math.floor(Math.log(g)/Math.log(tt));return parseFloat((g/Math.pow(tt,gt)).toFixed(2))+" "+ct[gt]};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg max-w-5xl w-full max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:a?"Edit Activity":"Create New Activity"}),jsxRuntimeExports.jsx("button",{onClick:s,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:at,className:"p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:it.title,onChange:g=>ot({...it,title:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),jsxRuntimeExports.jsx("textarea",{required:!0,rows:3,value:it.description,onChange:g=>ot({...it,description:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Age Group"}),jsxRuntimeExports.jsx("select",{value:it.ageGroup,onChange:g=>ot({...it,ageGroup:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:ageGroups$2.map(g=>jsxRuntimeExports.jsx("option",{value:g,children:g},g))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Level"}),jsxRuntimeExports.jsx("select",{value:it.skillLevel,onChange:g=>ot({...it,skillLevel:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:levels.map(g=>jsxRuntimeExports.jsx("option",{value:g,children:g},g))})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Duration (minutes)"}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",required:!0,value:it.duration,onChange:g=>ot({...it,duration:parseInt(g.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Activity Type"}),jsxRuntimeExports.jsx("select",{value:it.activityType,onChange:g=>ot({...it,activityType:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:activityTypes.map(g=>jsxRuntimeExports.jsx("option",{value:g,children:g.split("-").map(tt=>tt.charAt(0).toUpperCase()+tt.slice(1)).join(" ")},g))})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Script Requirement"}),jsxRuntimeExports.jsxs("select",{value:it.requiresScript,onChange:g=>ot({...it,requiresScript:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:[jsxRuntimeExports.jsx("option",{value:"none",children:"None"}),jsxRuntimeExports.jsx("option",{value:"optional",children:"Optional"}),jsxRuntimeExports.jsx("option",{value:"required",children:"Required"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Play or Craft"}),jsxRuntimeExports.jsx("select",{value:it.playOrCraft,onChange:g=>ot({...it,playOrCraft:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:playOrCraftOptions.map(g=>jsxRuntimeExports.jsx("option",{value:g,children:g},g))})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"PDF Attachments"}),jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 dark:border-dark-600 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:bg-dark-700 hover:bg-gray-100 dark:hover:bg-dark-600 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[jsxRuntimeExports.jsx(Upload,{className:"w-8 h-8 mb-2 text-gray-500 dark:text-gray-400"}),jsxRuntimeExports.jsxs("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Click to upload"})," PDF files"]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PDF files only (MAX. 10MB each)"}),j&&jsxRuntimeExports.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Uploading..."})]})]}),jsxRuntimeExports.jsx("input",{type:"file",multiple:!0,accept:".pdf",onChange:b,disabled:j,className:"hidden"})]})}),it.pdfFiles.length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Uploaded PDFs (",it.pdfFiles.length,")"]}),jsxRuntimeExports.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:it.pdfFiles.map(g=>jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-dark-700 rounded-lg border border-gray-200 dark:border-dark-600",children:[jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:g.fileName}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[jsxRuntimeExports.jsx("a",{href:g.fileUrl,download:g.fileName,className:"p-1 text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/30 rounded transition-colors",title:"Download PDF",children:jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>_e(g._id),className:"p-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30 rounded transition-colors",title:"Remove PDF",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 mb-2",children:[jsxRuntimeExports.jsx("span",{children:dt(g.fileSize)}),jsxRuntimeExports.jsx("span",{children:"•"}),jsxRuntimeExports.jsx("span",{children:new Date(g.uploadedAt).toLocaleDateString()})]}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Add description (optional)",value:g.description||"",onChange:tt=>rt(g._id,tt.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-dark-600 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]})]},g._id))})]})]}),(it.requiresScript==="required"||it.requiresScript==="optional")&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:["Select Scripts ",it.requiresScript==="required"&&jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),_?jsxRuntimeExports.jsxs("div",{className:"text-center py-4",children:[jsxRuntimeExports.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Loading scripts..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[it.scriptIds.length>0&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Selected Scripts (",it.scriptIds.length,")"]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:lt().map(g=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h5",{className:"font-medium text-blue-900 dark:text-blue-300",children:g.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:g.description}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mt-1",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400 text-xs rounded-full",children:g.genre}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400 text-xs rounded-full",children:g.ageGroup}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400 text-xs rounded-full",children:[g.duration," min"]})]})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>xt(g.id),className:"ml-3 p-2 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(Minus,{className:"w-4 h-4"})})]},g.id))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Available Scripts (",c.filter(g=>!it.scriptIds.includes(g.id)).length,")"]}),jsxRuntimeExports.jsx("div",{className:"max-h-60 overflow-y-auto border border-gray-200 dark:border-dark-600 rounded-lg bg-white dark:bg-dark-700",children:c.filter(g=>!it.scriptIds.includes(g.id)).length===0?jsxRuntimeExports.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:it.scriptIds.length>0?"All available scripts selected":"No scripts available"}):jsxRuntimeExports.jsx("div",{className:"space-y-1 p-2",children:c.filter(g=>!it.scriptIds.includes(g.id)).map(g=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-dark-600 rounded-lg transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h5",{className:"font-medium text-gray-900 dark:text-white",children:g.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-1",children:g.description}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mt-1",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-full",children:g.genre}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-full",children:g.ageGroup}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-full",children:[g.duration," min"]})]})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>xt(g.id),className:"ml-3 p-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"})})]},g.id))})})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Materials (comma-separated)"}),jsxRuntimeExports.jsx("input",{type:"text",value:it.materials,onChange:g=>ot({...it,materials:g.target.value}),placeholder:"Props, costumes, chairs...",className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tags (comma-separated)"}),jsxRuntimeExports.jsx("input",{type:"text",value:it.tags,onChange:g=>ot({...it,tags:g.target.value}),placeholder:"improv, teamwork, creativity...",className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:j,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[a?"Update":"Create"," Activity"]})]})]})]})}):null}const ageGroups$1=["Young","Middle","Older"],genres=["comedy","drama","mystery","fantasy","historical","contemporary"];function CreateScriptModal({isOpen:e,onClose:s,onCreate:i,editScript:a}){var _;const[o,c]=reactExports.useState({title:(a==null?void 0:a.title)||"",description:(a==null?void 0:a.description)||"",genre:(a==null?void 0:a.genre)||"comedy",ageGroup:(a==null?void 0:a.ageGroup)||"Middle",characterCount:(a==null?void 0:a.characterCount)||2,duration:(a==null?void 0:a.duration)||15,tags:((_=a==null?void 0:a.tags)==null?void 0:_.join(", "))||""}),d=h=>{h.preventDefault(),i({...o,tags:o.tags.split(",").map(j=>j.trim()).filter(Boolean)}),s()};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:a?"Edit Script":"Create New Script"}),jsxRuntimeExports.jsx("button",{onClick:s,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:d,className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:o.title,onChange:h=>c({...o,title:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),jsxRuntimeExports.jsx("textarea",{required:!0,rows:3,value:o.description,onChange:h=>c({...o,description:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Genre"}),jsxRuntimeExports.jsx("select",{value:o.genre,onChange:h=>c({...o,genre:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:genres.map(h=>jsxRuntimeExports.jsx("option",{value:h,children:h.charAt(0).toUpperCase()+h.slice(1)},h))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Age Group"}),jsxRuntimeExports.jsx("select",{value:o.ageGroup,onChange:h=>c({...o,ageGroup:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:ageGroups$1.map(h=>jsxRuntimeExports.jsx("option",{value:h,children:h},h))})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Character Count"}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",required:!0,value:o.characterCount,onChange:h=>c({...o,characterCount:parseInt(h.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Duration (minutes)"}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",required:!0,value:o.duration,onChange:h=>c({...o,duration:parseInt(h.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tags (comma-separated)"}),jsxRuntimeExports.jsx("input",{type:"text",value:o.tags,onChange:h=>c({...o,tags:h.target.value}),placeholder:"mystery, comedy, teamwork...",className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"px-6 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:[a?"Update":"Create"," Script"]})]})]})]})}):null}function LessonPreviewPanel({lessonPlan:e,onAddActivity:s,onRemoveActivity:i,onViewScript:a,onGenerateLesson:o,onSaveLesson:c,onShowSavedLessons:d,isGenerating:_,showSavedLessons:h,isCollapsed:j=!1,onToggleCollapse:$,targetSection:it}){const ot=lt=>{if(lt<60)return`${lt} min`;const b=Math.floor(lt/60),_e=lt%60;return`${b}h ${_e}m`},mt=e.warmUp||e.mainActivities.length>0||e.coolDown,at=({activity:lt,type:b,index:_e,onRemove:rt})=>jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-700 border border-gray-200 dark:border-dark-600 rounded-lg p-4 hover:shadow-md dark:hover:shadow-xl hover:shadow-gray-200 dark:hover:shadow-black/20 transition-all duration-200 group",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:lt.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:lt.description})]}),jsxRuntimeExports.jsx("button",{onClick:rt,className:"opacity-0 group-hover:opacity-100 p-1 text-gray-400 dark:text-gray-500 hover:text-red-500 dark:hover:text-red-400 transition-all rounded hover:bg-red-50 dark:hover:bg-red-900/30",children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[lt.duration," min"]})]}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full font-medium",children:lt.skillLevel}),lt.scriptIds&&lt.scriptIds.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(FileText,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[lt.scriptIds.length," script",lt.scriptIds.length>1?"s":""]})]})]})}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1",children:[lt.tags.slice(0,2).map((dt,st)=>jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-600 dark:text-gray-300 text-xs rounded-md",children:dt},st)),lt.tags.length>2&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-600 dark:text-gray-300 text-xs rounded-md",children:["+",lt.tags.length-2]})]})})]}),xt=({type:lt,title:b,description:_e,icon:rt})=>{const dt=it===lt;return jsxRuntimeExports.jsx("button",{onClick:()=>s(lt),className:`w-full border-2 border-dashed rounded-lg p-6 transition-all duration-200 group ${dt?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 shadow-md":"border-gray-300 dark:border-dark-600 hover:border-blue-400 dark:hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center text-center",children:[jsxRuntimeExports.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3 transition-colors ${dt?"bg-blue-100 dark:bg-blue-900/30":"bg-gray-100 dark:bg-dark-600 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/30"}`,children:dt?jsxRuntimeExports.jsx(Target,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}):rt}),jsxRuntimeExports.jsx("h4",{className:`font-medium mb-1 ${dt?"text-blue-900 dark:text-blue-300":"text-gray-900 dark:text-white"}`,children:dt?`Ready for ${b}`:b}),jsxRuntimeExports.jsx("p",{className:`text-sm ${dt?"text-blue-700 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`,children:dt?"Click an activity to add here":_e}),jsxRuntimeExports.jsxs("div",{className:`mt-3 flex items-center gap-1 transition-colors ${dt?"text-blue-700 dark:text-blue-300":"text-blue-600 dark:text-blue-400 group-hover:text-blue-700 dark:group-hover:text-blue-300"}`,children:[dt?jsxRuntimeExports.jsx(Target,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:dt?"Target Active":"Add Activity"})]})]})})};return jsxRuntimeExports.jsxs("div",{className:`bg-gray-50 dark:bg-dark-900 border-r border-gray-200 dark:border-dark-700 flex flex-col h-full transition-all duration-300 ease-in-out ${j?"w-16":"w-96"}`,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 bg-white dark:bg-dark-800 border-b border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:j?"flex justify-center":"flex items-center justify-between mb-4",children:[!j&&jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Lesson Plan"}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:$&&jsxRuntimeExports.jsx("button",{onClick:$,className:"p-2 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors",title:j?"Expand sidebar":"Collapse sidebar",children:j?jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(ChevronLeft,{className:"w-5 h-5"})})})]}),!j&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:ot(e.totalDuration)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[e.mainActivities.length+(e.warmUp?1:0)+(e.coolDown?1:0)," activities"]})]})]})})]}),j&&jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col items-center py-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mb-2",children:jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:jsxRuntimeExports.jsxs("div",{className:"font-medium",children:[e.totalDuration,"m"]})})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-2",children:jsxRuntimeExports.jsx(Users,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:jsxRuntimeExports.jsx("div",{className:"font-medium",children:e.mainActivities.length+(e.warmUp?1:0)+(e.coolDown?1:0)})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[e.warmUp&&jsxRuntimeExports.jsx("div",{className:`w-8 h-2 rounded-full ${it==="warmUp"?"bg-blue-500 animate-pulse":"bg-orange-500"}`,title:"Warm-up activity"}),e.mainActivities.map((lt,b)=>jsxRuntimeExports.jsx("div",{className:`w-8 h-2 rounded-full ${it==="main"?"bg-blue-500 animate-pulse":"bg-blue-500"}`,title:"Main activity"},b)),e.coolDown&&jsxRuntimeExports.jsx("div",{className:`w-8 h-2 rounded-full ${it==="coolDown"?"bg-blue-500 animate-pulse":"bg-green-500"}`,title:"Cool-down activity"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("button",{onClick:d,className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-teal-600 text-white rounded-lg hover:from-blue-700 hover:to-teal-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg flex items-center justify-center",title:h?"View Activities":"View Saved Lessons",children:h?jsxRuntimeExports.jsx(Activity,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(PanelsTopLeft,{className:"w-5 h-5"})}),mt&&jsxRuntimeExports.jsx("button",{onClick:c,className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors flex items-center justify-center",title:"Save Lesson",children:jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"})})]})]}),!j&&jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-center flex-col space-y-4 items-center",children:[jsxRuntimeExports.jsxs("button",{onClick:d,className:"w-[220px] flex justify-center items-center gap-2 px-4 py-3 bg-gradient-to-r from-blue-600 to-teal-600 text-white rounded-lg hover:from-blue-700 hover:to-teal-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg font-medium",children:[h?jsxRuntimeExports.jsx(Activity,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(PanelsTopLeft,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:h?"View Activities":"View Saved Lessons"})]}),mt&&jsxRuntimeExports.jsxs("button",{onClick:c,className:"w-[220px] flex justify-center items-center gap-2 px-4 py-3 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors shadow-md hover:shadow-lg font-medium",children:[jsxRuntimeExports.jsx(Save,{className:"w-5 h-5"}),"Save"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-orange-500",children:"🔥"}),"Warm-up",it==="warmUp"&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-xs font-medium rounded-full animate-pulse",children:"Target Active"})]}),e.warmUp?jsxRuntimeExports.jsx(at,{activity:e.warmUp,type:"warm-up",onRemove:()=>i("warmUp")}):jsxRuntimeExports.jsx(xt,{type:"warmUp",title:"Add Warm-up",description:"Start with an energizing activity",icon:jsxRuntimeExports.jsx("span",{className:"text-orange-500 text-xl",children:"🔥"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-blue-500",children:"🎭"}),"Main Activities",it==="main"&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-xs font-medium rounded-full animate-pulse",children:"Target Active"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[e.mainActivities.map((lt,b)=>jsxRuntimeExports.jsx(at,{activity:lt,type:"main",index:b,onRemove:()=>i("main",b)},`main-${b}`)),jsxRuntimeExports.jsx(xt,{type:"main",title:"Add Main Activity",description:"Core learning activities",icon:jsxRuntimeExports.jsx("span",{className:"text-blue-500 text-xl",children:"🎭"})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500",children:"🧘"}),"Cool-down",it==="coolDown"&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-xs font-medium rounded-full animate-pulse",children:"Target Active"})]}),e.coolDown?jsxRuntimeExports.jsx(at,{activity:e.coolDown,type:"cool-down",onRemove:()=>i("coolDown")}):jsxRuntimeExports.jsx(xt,{type:"coolDown",title:"Add Cool-down",description:"End with a calming activity",icon:jsxRuntimeExports.jsx("span",{className:"text-green-500 text-xl",children:"🧘"})})]})]})]})}const ageGroups=["Young","Middle","Older"];function SaveLessonModal({isOpen:e,onClose:s,onSave:i,lessonPlan:a}){const[o,c]=reactExports.useState({title:"",description:"",ageGroup:"Middle",tags:""}),d=h=>{var $,it;h.preventDefault();const j={title:o.title,description:o.description,ageGroup:o.ageGroup,warmUpId:($=a.warmUp)==null?void 0:$.id,mainActivityIds:a.mainActivities.map(ot=>ot.id),coolDownId:(it=a.coolDown)==null?void 0:it.id,totalDuration:a.totalDuration,tags:o.tags.split(",").map(ot=>ot.trim()).filter(Boolean)};i(j),c({title:"",description:"",ageGroup:"Middle",tags:""}),s()},_=a.warmUp||a.mainActivities.length>0||a.coolDown;return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Save,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Save Lesson Plan"})]}),jsxRuntimeExports.jsx("button",{onClick:s,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})]}),_?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-dark-700 border-b border-gray-200 dark:border-dark-600",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-3",children:"Lesson Summary"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Duration:"}),jsxRuntimeExports.jsxs("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:[a.totalDuration," minutes"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Activities:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:(a.warmUp?1:0)+a.mainActivities.length+(a.coolDown?1:0)})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 space-y-2",children:[a.warmUp&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Warm-up:"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:a.warmUp.title})]}),a.mainActivities.map((h,j)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),jsxRuntimeExports.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Main ",j+1,":"]}),jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:h.title})]},h.id)),a.coolDown&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cool-down:"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:a.coolDown.title})]})]})]}),jsxRuntimeExports.jsxs("form",{onSubmit:d,className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Lesson Title ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:o.title,onChange:h=>c({...o,title:h.target.value}),placeholder:"Enter a descriptive title for your lesson",className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),jsxRuntimeExports.jsx("textarea",{rows:3,value:o.description,onChange:h=>c({...o,description:h.target.value}),placeholder:"Describe the lesson objectives and what students will learn",className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Target Age Group"}),jsxRuntimeExports.jsx("select",{value:o.ageGroup,onChange:h=>c({...o,ageGroup:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:ageGroups.map(h=>jsxRuntimeExports.jsx("option",{value:h,children:h},h))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tags (comma-separated)"}),jsxRuntimeExports.jsx("input",{type:"text",value:o.tags,onChange:h=>c({...o,tags:h.target.value}),placeholder:"drama, teamwork, creativity, performance...",className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),"Save Lesson"]})]})]})]}):jsxRuntimeExports.jsxs("div",{className:"p-6 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(Save,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Activities to Save"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Add some activities to your lesson plan before saving."}),jsxRuntimeExports.jsx("button",{onClick:s,className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Close"})]})]})}):null}function SavedLessonsPanel({savedLessons:e,onLoadLesson:s,onDeleteLesson:i,onViewLesson:a,loading:o}){const c=_=>{if(_<60)return`${_} min`;const h=Math.floor(_/60),j=_%60;return`${h}h ${j}m`},d=_=>(_.warmUpId?1:0)+_.mainActivityIds.length+(_.coolDownId?1:0);return o?jsxRuntimeExports.jsx("div",{className:"space-y-4",children:[...Array(3)].map((_,h)=>jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-700 rounded-lg p-4 animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-5 bg-gray-200 dark:bg-gray-700 rounded mb-2"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-3 w-3/4"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("div",{className:"h-6 w-16 bg-gray-200 dark:bg-gray-700 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"h-6 w-20 bg-gray-200 dark:bg-gray-700 rounded-full"})]})]},h))}):e.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Saved Lessons"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Create and save lesson plans to see them here."})]}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:e.map(_=>jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-700 rounded-lg p-4 hover:shadow-md dark:hover:shadow-xl hover:shadow-gray-200 dark:hover:shadow-black/20 transition-all duration-200 hover:border-green-300 dark:hover:border-green-600 group",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:_.title}),_.description&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-2",children:_.description})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a&&jsxRuntimeExports.jsx("button",{onClick:()=>a(_),className:"p-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"View Lesson Activities",children:jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>i(_.id),className:"p-2 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Delete Lesson",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:c(_.totalDuration)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[d(_)," activities"]})]}),_.ageGroup&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full font-medium",children:_.ageGroup})]})}),_.tags.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1",children:[_.tags.slice(0,3).map((h,j)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:[jsxRuntimeExports.jsx(Tag,{className:"w-3 h-3"}),h]},j)),_.tags.length>3&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:["+",_.tags.length-3," more"]})]}),jsxRuntimeExports.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100 dark:border-dark-700",children:jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Created ",new Date(_.createdAt).toLocaleDateString()]})})]},_.id))})}function SavedLessonActivitiesModal({isOpen:e,onClose:s,lesson:i,activities:a,scripts:o,onViewPDF:c,onViewScript:d,onLoadLesson:_}){if(!e||!i)return null;const h=i.warmUpId?a.find(lt=>lt.id===i.warmUpId):null,j=i.mainActivityIds.map(lt=>a.find(b=>b.id===lt)).filter(Boolean),$=i.coolDownId?a.find(lt=>lt.id===i.coolDownId):null,it=lt=>{if(lt<60)return`${lt} min`;const b=Math.floor(lt/60),_e=lt%60;return`${b}h ${_e}m`},ot=lt=>lt.scriptIds?o.filter(b=>lt.scriptIds.includes(b.id)):[],mt=lt=>({"warm-up":"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400",main:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400","cool-down":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",game:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",exercise:"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400"})[lt]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",at=({activity:lt,sectionTitle:b})=>{const _e=ot(lt);return jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-700 border border-gray-200 dark:border-dark-600 rounded-lg p-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-start justify-between mb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:b}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${mt(lt.activityType)}`,children:lt.activityType.split("-").map(rt=>rt.charAt(0).toUpperCase()+rt.slice(1)).join(" ")})]}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:lt.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-2",children:lt.description})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400 mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[lt.duration," min"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[lt.materials.length," materials"]})]}),lt.pdfFiles&&lt.pdfFiles.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(FileText,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),jsxRuntimeExports.jsxs("span",{className:"text-green-600 dark:text-green-400",children:[lt.pdfFiles.length," PDF",lt.pdfFiles.length>1?"s":""]})]}),_e.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Play,{className:"w-3 h-3 text-purple-600 dark:text-purple-400"}),jsxRuntimeExports.jsxs("span",{className:"text-purple-600 dark:text-purple-400",children:[_e.length," Script",_e.length>1?"s":""]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[lt.pdfFiles&&lt.pdfFiles.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3 border border-green-200 dark:border-green-800",children:[jsxRuntimeExports.jsxs("h5",{className:"text-sm font-medium text-green-800 dark:text-green-300 mb-2 flex items-center gap-1",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),"Attached PDFs (",lt.pdfFiles.length,")"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[lt.pdfFiles.slice(0,2).map(rt=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-green-700 dark:text-green-400 truncate",children:rt.fileName}),c&&jsxRuntimeExports.jsx("a",{href:rt.fileUrl,download:rt.fileName,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/30 rounded-lg transition-colors",title:"View PDF",children:jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"})})]},rt._id)),lt.pdfFiles.length>2&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["+",lt.pdfFiles.length-2," more PDF",lt.pdfFiles.length-2>1?"s":""]})]})]}),_e.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3 border border-purple-200 dark:border-purple-800",children:[jsxRuntimeExports.jsxs("h5",{className:"text-sm font-medium text-purple-800 dark:text-purple-300 mb-2 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Play,{className:"w-4 h-4"}),"Connected Scripts (",_e.length,")"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[_e.slice(0,2).map(rt=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-purple-700 dark:text-purple-400 truncate",children:rt.title}),rt.fileUrl&&d&&jsxRuntimeExports.jsx("a",{href:rt.fileUrl,download:rt.fileName,target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-300 ml-2",title:"View Script",children:jsxRuntimeExports.jsx(Play,{className:"w-4 h-4"})})]},rt.id)),_e.length>2&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:["+",_e.length-2," more script",_e.length-2>1?"s":""]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1 mt-3",children:[lt.tags.slice(0,3).map((rt,dt)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:[jsxRuntimeExports.jsx(Tag,{className:"w-2.5 h-2.5"}),rt]},dt)),lt.tags.length>3&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:["+",lt.tags.length-3]})]})]})},xt=[...h?[h]:[],...j,...$?[$]:[]];return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:i.title}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[xt.length," activities • ",it(i.totalDuration)]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:jsxRuntimeExports.jsx("button",{onClick:s,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})})]}),i.description&&jsxRuntimeExports.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-dark-700 bg-gray-50 dark:bg-dark-700",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:i.description}),i.tags.length>0&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:i.tags.map((lt,b)=>jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400 text-xs rounded-full",children:["#",lt]},b))})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[h&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-orange-500",children:"🔥"}),"Warm-up Activity"]}),jsxRuntimeExports.jsx(at,{activity:h,sectionTitle:"Warm-up"})]}),j.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-blue-500",children:"🎭"}),"Main Activities (",j.length,")"]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:j.map((lt,b)=>jsxRuntimeExports.jsx(at,{activity:lt,sectionTitle:`Main Activity ${b+1}`},lt.id))})]}),$&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500",children:"🧘"}),"Cool-down Activity"]}),jsxRuntimeExports.jsx(at,{activity:$,sectionTitle:"Cool-down"})]}),xt.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Activities Found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"The activities for this lesson may have been deleted or are no longer available."})]})]})}),jsxRuntimeExports.jsx("div",{className:"p-6 bg-gray-50 dark:bg-dark-700 border-t border-gray-200 dark:border-dark-600 rounded-b-xl",children:jsxRuntimeExports.jsx("div",{className:"flex justify-end items-center",children:jsxRuntimeExports.jsx("button",{onClick:s,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors ml-auto",children:"Close"})})})]})})}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(s,i){module.exports=s.pdfjsLib=i()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,s)=>{var Dr;Object.defineProperty(s,"__esModule",{value:!0}),s.VerbosityLevel=s.Util=s.UnknownErrorException=s.UnexpectedResponseException=s.TextRenderingMode=s.RenderingIntentFlag=s.PromiseCapability=s.PermissionFlag=s.PasswordResponses=s.PasswordException=s.PageActionEventType=s.OPS=s.MissingPDFException=s.MAX_IMAGE_SIZE_TO_CACHE=s.LINE_FACTOR=s.LINE_DESCENT_FACTOR=s.InvalidPDFException=s.ImageKind=s.IDENTITY_MATRIX=s.FormatError=s.FeatureTest=s.FONT_IDENTITY_MATRIX=s.DocumentActionEventType=s.CMapCompressionType=s.BaseException=s.BASELINE_FACTOR=s.AnnotationType=s.AnnotationReplyType=s.AnnotationPrefix=s.AnnotationMode=s.AnnotationFlag=s.AnnotationFieldFlag=s.AnnotationEditorType=s.AnnotationEditorPrefix=s.AnnotationEditorParamsType=s.AnnotationBorderStyleType=s.AnnotationActionEventType=s.AbortException=void 0,s.assert=bt,s.bytesToString=Qt,s.createValidAbsoluteUrl=Ft,s.getModificationDate=dr,s.getUuid=kr,s.getVerbosityLevel=Tt,s.info=Mt,s.isArrayBuffer=It,s.isArrayEqual=hr,s.isNodeJS=void 0,s.normalizeUnicode=gr,s.objectFromMap=rr,s.objectSize=Gt,s.setVerbosityLevel=Dt,s.shadow=jt,s.string32=nr,s.stringToBytes=Zt,s.stringToPDFString=tr,s.stringToUTF8String=ar,s.unreachable=Rt,s.utf8StringToString=ir,s.warn=kt;const i=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");s.isNodeJS=i;const a=[1,0,0,1,0,0];s.IDENTITY_MATRIX=a;const o=[.001,0,0,.001,0,0];s.FONT_IDENTITY_MATRIX=o;const c=1e7;s.MAX_IMAGE_SIZE_TO_CACHE=c;const d=1.35;s.LINE_FACTOR=d;const _=.35;s.LINE_DESCENT_FACTOR=_;const h=_/d;s.BASELINE_FACTOR=h;const j={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};s.RenderingIntentFlag=j;const $={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};s.AnnotationMode=$;const it="pdfjs_internal_editor_";s.AnnotationEditorPrefix=it;const ot={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};s.AnnotationEditorType=ot;const mt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};s.AnnotationEditorParamsType=mt;const at={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};s.PermissionFlag=at;const xt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};s.TextRenderingMode=xt;const lt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};s.ImageKind=lt;const b={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};s.AnnotationType=b;const _e={GROUP:"Group",REPLY:"R"};s.AnnotationReplyType=_e;const rt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};s.AnnotationFlag=rt;const dt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};s.AnnotationFieldFlag=dt;const st={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};s.AnnotationBorderStyleType=st;const pt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};s.AnnotationActionEventType=pt;const g={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};s.DocumentActionEventType=g;const tt={O:"PageOpen",C:"PageClose"};s.PageActionEventType=tt;const ct={ERRORS:0,WARNINGS:1,INFOS:5};s.VerbosityLevel=ct;const gt={NONE:0,BINARY:1};s.CMapCompressionType=gt;const nt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};s.OPS=nt;const ft={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};s.PasswordResponses=ft;let vt=ct.WARNINGS;function Dt(lr){Number.isInteger(lr)&&(vt=lr)}function Tt(){return vt}function Mt(lr){vt>=ct.INFOS&&console.log(`Info: ${lr}`)}function kt(lr){vt>=ct.WARNINGS&&console.log(`Warning: ${lr}`)}function Rt(lr){throw new Error(lr)}function bt(lr,Xt){lr||Rt(Xt)}function Nt(lr){switch(lr==null?void 0:lr.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Ft(lr,Xt=null,Yt=null){if(!lr)return null;try{if(Yt&&typeof lr=="string"){if(Yt.addDefaultProtocol&&lr.startsWith("www.")){const Fr=lr.match(/\./g);(Fr==null?void 0:Fr.length)>=2&&(lr=`http://${lr}`)}if(Yt.tryConvertEncoding)try{lr=ar(lr)}catch{}}const xr=Xt?new URL(lr,Xt):new URL(lr);if(Nt(xr))return xr}catch{}return null}function jt(lr,Xt,Yt,xr=!1){return Object.defineProperty(lr,Xt,{value:Yt,enumerable:!xr,configurable:!0,writable:!1}),Yt}const ut=function(){function Xt(Yt,xr){this.constructor===Xt&&Rt("Cannot initialize BaseException."),this.message=Yt,this.name=xr}return Xt.prototype=new Error,Xt.constructor=Xt,Xt}();s.BaseException=ut;class ht extends ut{constructor(Xt,Yt){super(Xt,"PasswordException"),this.code=Yt}}s.PasswordException=ht;class yt extends ut{constructor(Xt,Yt){super(Xt,"UnknownErrorException"),this.details=Yt}}s.UnknownErrorException=yt;class St extends ut{constructor(Xt){super(Xt,"InvalidPDFException")}}s.InvalidPDFException=St;class At extends ut{constructor(Xt){super(Xt,"MissingPDFException")}}s.MissingPDFException=At;class Ct extends ut{constructor(Xt,Yt){super(Xt,"UnexpectedResponseException"),this.status=Yt}}s.UnexpectedResponseException=Ct;class Ut extends ut{constructor(Xt){super(Xt,"FormatError")}}s.FormatError=Ut;class Wt extends ut{constructor(Xt){super(Xt,"AbortException")}}s.AbortException=Wt;function Qt(lr){(typeof lr!="object"||(lr==null?void 0:lr.length)===void 0)&&Rt("Invalid argument for bytesToString");const Xt=lr.length,Yt=8192;if(Xt<Yt)return String.fromCharCode.apply(null,lr);const xr=[];for(let Fr=0;Fr<Xt;Fr+=Yt){const Nr=Math.min(Fr+Yt,Xt),Lt=lr.subarray(Fr,Nr);xr.push(String.fromCharCode.apply(null,Lt))}return xr.join("")}function Zt(lr){typeof lr!="string"&&Rt("Invalid argument for stringToBytes");const Xt=lr.length,Yt=new Uint8Array(Xt);for(let xr=0;xr<Xt;++xr)Yt[xr]=lr.charCodeAt(xr)&255;return Yt}function nr(lr){return String.fromCharCode(lr>>24&255,lr>>16&255,lr>>8&255,lr&255)}function Gt(lr){return Object.keys(lr).length}function rr(lr){const Xt=Object.create(null);for(const[Yt,xr]of lr)Xt[Yt]=xr;return Xt}function Vt(){const lr=new Uint8Array(4);return lr[0]=1,new Uint32Array(lr.buffer,0,1)[0]===1}function Bt(){try{return new Function(""),!0}catch{return!1}}class Et{static get isLittleEndian(){return jt(this,"isLittleEndian",Vt())}static get isEvalSupported(){return jt(this,"isEvalSupported",Bt())}static get isOffscreenCanvasSupported(){return jt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?jt(this,"platform",{isWin:!1,isMac:!1}):jt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Xt,Yt;return jt(this,"isCSSRoundSupported",(Yt=(Xt=globalThis.CSS)==null?void 0:Xt.supports)==null?void 0:Yt.call(Xt,"width: round(1.5px, 1px)"))}}s.FeatureTest=Et;const Pt=[...Array(256).keys()].map(lr=>lr.toString(16).padStart(2,"0"));class zt{static makeHexColor(Xt,Yt,xr){return`#${Pt[Xt]}${Pt[Yt]}${Pt[xr]}`}static scaleMinMax(Xt,Yt){let xr;Xt[0]?(Xt[0]<0&&(xr=Yt[0],Yt[0]=Yt[1],Yt[1]=xr),Yt[0]*=Xt[0],Yt[1]*=Xt[0],Xt[3]<0&&(xr=Yt[2],Yt[2]=Yt[3],Yt[3]=xr),Yt[2]*=Xt[3],Yt[3]*=Xt[3]):(xr=Yt[0],Yt[0]=Yt[2],Yt[2]=xr,xr=Yt[1],Yt[1]=Yt[3],Yt[3]=xr,Xt[1]<0&&(xr=Yt[2],Yt[2]=Yt[3],Yt[3]=xr),Yt[2]*=Xt[1],Yt[3]*=Xt[1],Xt[2]<0&&(xr=Yt[0],Yt[0]=Yt[1],Yt[1]=xr),Yt[0]*=Xt[2],Yt[1]*=Xt[2]),Yt[0]+=Xt[4],Yt[1]+=Xt[4],Yt[2]+=Xt[5],Yt[3]+=Xt[5]}static transform(Xt,Yt){return[Xt[0]*Yt[0]+Xt[2]*Yt[1],Xt[1]*Yt[0]+Xt[3]*Yt[1],Xt[0]*Yt[2]+Xt[2]*Yt[3],Xt[1]*Yt[2]+Xt[3]*Yt[3],Xt[0]*Yt[4]+Xt[2]*Yt[5]+Xt[4],Xt[1]*Yt[4]+Xt[3]*Yt[5]+Xt[5]]}static applyTransform(Xt,Yt){const xr=Xt[0]*Yt[0]+Xt[1]*Yt[2]+Yt[4],Fr=Xt[0]*Yt[1]+Xt[1]*Yt[3]+Yt[5];return[xr,Fr]}static applyInverseTransform(Xt,Yt){const xr=Yt[0]*Yt[3]-Yt[1]*Yt[2],Fr=(Xt[0]*Yt[3]-Xt[1]*Yt[2]+Yt[2]*Yt[5]-Yt[4]*Yt[3])/xr,Nr=(-Xt[0]*Yt[1]+Xt[1]*Yt[0]+Yt[4]*Yt[1]-Yt[5]*Yt[0])/xr;return[Fr,Nr]}static getAxialAlignedBoundingBox(Xt,Yt){const xr=this.applyTransform(Xt,Yt),Fr=this.applyTransform(Xt.slice(2,4),Yt),Nr=this.applyTransform([Xt[0],Xt[3]],Yt),Lt=this.applyTransform([Xt[2],Xt[1]],Yt);return[Math.min(xr[0],Fr[0],Nr[0],Lt[0]),Math.min(xr[1],Fr[1],Nr[1],Lt[1]),Math.max(xr[0],Fr[0],Nr[0],Lt[0]),Math.max(xr[1],Fr[1],Nr[1],Lt[1])]}static inverseTransform(Xt){const Yt=Xt[0]*Xt[3]-Xt[1]*Xt[2];return[Xt[3]/Yt,-Xt[1]/Yt,-Xt[2]/Yt,Xt[0]/Yt,(Xt[2]*Xt[5]-Xt[4]*Xt[3])/Yt,(Xt[4]*Xt[1]-Xt[5]*Xt[0])/Yt]}static singularValueDecompose2dScale(Xt){const Yt=[Xt[0],Xt[2],Xt[1],Xt[3]],xr=Xt[0]*Yt[0]+Xt[1]*Yt[2],Fr=Xt[0]*Yt[1]+Xt[1]*Yt[3],Nr=Xt[2]*Yt[0]+Xt[3]*Yt[2],Lt=Xt[2]*Yt[1]+Xt[3]*Yt[3],sr=(xr+Lt)/2,pr=Math.sqrt((xr+Lt)**2-4*(xr*Lt-Nr*Fr))/2,vr=sr+pr||1,wr=sr-pr||1;return[Math.sqrt(vr),Math.sqrt(wr)]}static normalizeRect(Xt){const Yt=Xt.slice(0);return Xt[0]>Xt[2]&&(Yt[0]=Xt[2],Yt[2]=Xt[0]),Xt[1]>Xt[3]&&(Yt[1]=Xt[3],Yt[3]=Xt[1]),Yt}static intersect(Xt,Yt){const xr=Math.max(Math.min(Xt[0],Xt[2]),Math.min(Yt[0],Yt[2])),Fr=Math.min(Math.max(Xt[0],Xt[2]),Math.max(Yt[0],Yt[2]));if(xr>Fr)return null;const Nr=Math.max(Math.min(Xt[1],Xt[3]),Math.min(Yt[1],Yt[3])),Lt=Math.min(Math.max(Xt[1],Xt[3]),Math.max(Yt[1],Yt[3]));return Nr>Lt?null:[xr,Nr,Fr,Lt]}static bezierBoundingBox(Xt,Yt,xr,Fr,Nr,Lt,sr,pr){const vr=[],wr=[[],[]];let fr,_t,wt,Ot,Jt,er,or,cr;for(let Pr=0;Pr<2;++Pr){if(Pr===0?(_t=6*Xt-12*xr+6*Nr,fr=-3*Xt+9*xr-9*Nr+3*sr,wt=3*xr-3*Xt):(_t=6*Yt-12*Fr+6*Lt,fr=-3*Yt+9*Fr-9*Lt+3*pr,wt=3*Fr-3*Yt),Math.abs(fr)<1e-12){if(Math.abs(_t)<1e-12)continue;Ot=-wt/_t,0<Ot&&Ot<1&&vr.push(Ot);continue}or=_t*_t-4*wt*fr,cr=Math.sqrt(or),!(or<0)&&(Jt=(-_t+cr)/(2*fr),0<Jt&&Jt<1&&vr.push(Jt),er=(-_t-cr)/(2*fr),0<er&&er<1&&vr.push(er))}let jr=vr.length,br;const mr=jr;for(;jr--;)Ot=vr[jr],br=1-Ot,wr[0][jr]=br*br*br*Xt+3*br*br*Ot*xr+3*br*Ot*Ot*Nr+Ot*Ot*Ot*sr,wr[1][jr]=br*br*br*Yt+3*br*br*Ot*Fr+3*br*Ot*Ot*Lt+Ot*Ot*Ot*pr;return wr[0][mr]=Xt,wr[1][mr]=Yt,wr[0][mr+1]=sr,wr[1][mr+1]=pr,wr[0].length=wr[1].length=mr+2,[Math.min(...wr[0]),Math.min(...wr[1]),Math.max(...wr[0]),Math.max(...wr[1])]}}s.Util=zt;const Ht=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function tr(lr){if(lr[0]>="ï"){let Yt;if(lr[0]==="þ"&&lr[1]==="ÿ"?Yt="utf-16be":lr[0]==="ÿ"&&lr[1]==="þ"?Yt="utf-16le":lr[0]==="ï"&&lr[1]==="»"&&lr[2]==="¿"&&(Yt="utf-8"),Yt)try{const xr=new TextDecoder(Yt,{fatal:!0}),Fr=Zt(lr);return xr.decode(Fr)}catch(xr){kt(`stringToPDFString: "${xr}".`)}}const Xt=[];for(let Yt=0,xr=lr.length;Yt<xr;Yt++){const Fr=Ht[lr.charCodeAt(Yt)];Xt.push(Fr?String.fromCharCode(Fr):lr.charAt(Yt))}return Xt.join("")}function ar(lr){return decodeURIComponent(escape(lr))}function ir(lr){return unescape(encodeURIComponent(lr))}function It(lr){return typeof lr=="object"&&(lr==null?void 0:lr.byteLength)!==void 0}function hr(lr,Xt){if(lr.length!==Xt.length)return!1;for(let Yt=0,xr=lr.length;Yt<xr;Yt++)if(lr[Yt]!==Xt[Yt])return!1;return!0}function dr(lr=new Date){return[lr.getUTCFullYear().toString(),(lr.getUTCMonth()+1).toString().padStart(2,"0"),lr.getUTCDate().toString().padStart(2,"0"),lr.getUTCHours().toString().padStart(2,"0"),lr.getUTCMinutes().toString().padStart(2,"0"),lr.getUTCSeconds().toString().padStart(2,"0")].join("")}class _r{constructor(){qt(this,Dr,!1);this.promise=new Promise((Xt,Yt)=>{this.resolve=xr=>{Kt(this,Dr,!0),Xt(xr)},this.reject=xr=>{Kt(this,Dr,!0),Yt(xr)}})}get settled(){return et(this,Dr)}}Dr=new WeakMap,s.PromiseCapability=_r;let Ar=null,Mr=null;function gr(lr){return Ar||(Ar=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Mr=new Map([["ﬅ","ſt"]])),lr.replaceAll(Ar,(Xt,Yt,xr)=>Yt?Yt.normalize("NFKC"):Mr.get(xr))}function kr(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const lr=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(lr);else for(let Xt=0;Xt<32;Xt++)lr[Xt]=Math.floor(Math.random()*255);return Qt(lr)}const Cr="pdfjs_internal_id_";s.AnnotationPrefix=Cr},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,i,a,o,ts,ys,_,h,j,$,it,ot,mt,at,xt,bs,b,_e,Ls,dt,st;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(g){if(typeof g=="string"||g instanceof URL?g={url:g}:(0,_util.isArrayBuffer)(g)&&(g={data:g}),typeof g!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!g.url&&!g.data&&!g.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const tt=new PDFDocumentLoadingTask,{docId:ct}=tt,gt=g.url?getUrlProp(g.url):null,nt=g.data?getDataProp(g.data):null,ft=g.httpHeaders||null,vt=g.withCredentials===!0,Dt=g.password??null,Tt=g.range instanceof PDFDataRangeTransport?g.range:null,Mt=Number.isInteger(g.rangeChunkSize)&&g.rangeChunkSize>0?g.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let kt=g.worker instanceof PDFWorker?g.worker:null;const Rt=g.verbosity,bt=typeof g.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(g.docBaseUrl)?g.docBaseUrl:null,Nt=typeof g.cMapUrl=="string"?g.cMapUrl:null,Ft=g.cMapPacked!==!1,jt=g.CMapReaderFactory||DefaultCMapReaderFactory,ut=typeof g.standardFontDataUrl=="string"?g.standardFontDataUrl:null,ht=g.StandardFontDataFactory||DefaultStandardFontDataFactory,yt=g.stopAtErrors!==!0,St=Number.isInteger(g.maxImageSize)&&g.maxImageSize>-1?g.maxImageSize:-1,At=g.isEvalSupported!==!1,Ct=typeof g.isOffscreenCanvasSupported=="boolean"?g.isOffscreenCanvasSupported:!_util.isNodeJS,Ut=Number.isInteger(g.canvasMaxAreaInBytes)?g.canvasMaxAreaInBytes:-1,Wt=typeof g.disableFontFace=="boolean"?g.disableFontFace:_util.isNodeJS,Qt=g.fontExtraProperties===!0,Zt=g.enableXfa===!0,nr=g.ownerDocument||globalThis.document,Gt=g.disableRange===!0,rr=g.disableStream===!0,Vt=g.disableAutoFetch===!0,Bt=g.pdfBug===!0,Et=Tt?Tt.length:g.length??NaN,Pt=typeof g.useSystemFonts=="boolean"?g.useSystemFonts:!_util.isNodeJS&&!Wt,zt=typeof g.useWorkerFetch=="boolean"?g.useWorkerFetch:jt===_display_utils.DOMCMapReaderFactory&&ht===_display_utils.DOMStandardFontDataFactory&&Nt&&ut&&(0,_display_utils.isValidFetchUrl)(Nt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(ut,document.baseURI),Ht=g.canvasFactory||new DefaultCanvasFactory({ownerDocument:nr}),tr=g.filterFactory||new DefaultFilterFactory({docId:ct,ownerDocument:nr}),ar=null;(0,_util.setVerbosityLevel)(Rt);const ir={canvasFactory:Ht,filterFactory:tr};if(zt||(ir.cMapReaderFactory=new jt({baseUrl:Nt,isCompressed:Ft}),ir.standardFontDataFactory=new ht({baseUrl:ut})),!kt){const dr={verbosity:Rt,port:_worker_options.GlobalWorkerOptions.workerPort};kt=dr.port?PDFWorker.fromPort(dr):new PDFWorker(dr),tt._worker=kt}const It={docId:ct,apiVersion:"3.11.174",data:nt,password:Dt,disableAutoFetch:Vt,rangeChunkSize:Mt,length:Et,docBaseUrl:bt,enableXfa:Zt,evaluatorOptions:{maxImageSize:St,disableFontFace:Wt,ignoreErrors:yt,isEvalSupported:At,isOffscreenCanvasSupported:Ct,canvasMaxAreaInBytes:Ut,fontExtraProperties:Qt,useSystemFonts:Pt,cMapUrl:zt?Nt:null,standardFontDataUrl:zt?ut:null}},hr={ignoreErrors:yt,isEvalSupported:At,disableFontFace:Wt,fontExtraProperties:Qt,enableXfa:Zt,ownerDocument:nr,disableAutoFetch:Vt,pdfBug:Bt,styleElement:ar};return kt.promise.then(function(){if(tt.destroyed)throw new Error("Loading aborted");const dr=_fetchDocument(kt,It),_r=new Promise(function(Ar){let Mr;Tt?Mr=new _transport_stream.PDFDataTransportStream({length:Et,initialData:Tt.initialData,progressiveDone:Tt.progressiveDone,contentDispositionFilename:Tt.contentDispositionFilename,disableRange:Gt,disableStream:rr},Tt):nt||(Mr=(kr=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(kr):(0,_display_utils.isValidFetchUrl)(kr.url)?new _displayFetch_stream.PDFFetchStream(kr):new _displayNetwork.PDFNetworkStream(kr))({url:gt,length:Et,httpHeaders:ft,withCredentials:vt,rangeChunkSize:Mt,disableRange:Gt,disableStream:rr})),Ar(Mr)});return Promise.all([dr,_r]).then(function([Ar,Mr]){if(tt.destroyed)throw new Error("Loading aborted");const gr=new _message_handler.MessageHandler(ct,Ar,kt.port),kr=new WorkerTransport(gr,tt,Mr,hr,ir);tt._transport=kr,gr.send("Ready",null)})}).catch(tt._capability.reject),tt}async function _fetchDocument(g,tt){if(g.destroyed)throw new Error("Worker was destroyed");const ct=await g.messageHandler.sendWithPromise("GetDocRequest",tt,tt.data?[tt.data.buffer]:null);if(g.destroyed)throw new Error("Worker was destroyed");return ct}function getUrlProp(g){if(g instanceof URL)return g.href;try{return new URL(g,window.location).href}catch{if(_util.isNodeJS&&typeof g=="string")return g}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(g){if(_util.isNodeJS&&typeof Buffer<"u"&&g instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(g instanceof Uint8Array&&g.byteLength===g.buffer.byteLength)return g;if(typeof g=="string")return(0,_util.stringToBytes)(g);if(typeof g=="object"&&!isNaN(g==null?void 0:g.length)||(0,_util.isArrayBuffer)(g))return new Uint8Array(g);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const s=class s{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${os(s,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var tt,ct,gt;this.destroyed=!0;try{(tt=this._worker)!=null&&tt.port&&(this._worker._pendingDestroy=!0),await((ct=this._transport)==null?void 0:ct.destroy())}catch(nt){throw(gt=this._worker)!=null&&gt.port&&delete this._worker._pendingDestroy,nt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,qt(s,e,0);let PDFDocumentLoadingTask=s;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(tt,ct,gt=!1,nt=null){this.length=tt,this.initialData=ct,this.progressiveDone=gt,this.contentDispositionFilename=nt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(tt){this._rangeListeners.push(tt)}addProgressListener(tt){this._progressListeners.push(tt)}addProgressiveReadListener(tt){this._progressiveReadListeners.push(tt)}addProgressiveDoneListener(tt){this._progressiveDoneListeners.push(tt)}onDataRange(tt,ct){for(const gt of this._rangeListeners)gt(tt,ct)}onDataProgress(tt,ct){this._readyCapability.promise.then(()=>{for(const gt of this._progressListeners)gt(tt,ct)})}onDataProgressiveRead(tt){this._readyCapability.promise.then(()=>{for(const ct of this._progressiveReadListeners)ct(tt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const tt of this._progressiveDoneListeners)tt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(tt,ct){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(tt,ct){this._pdfInfo=tt,this._transport=ct,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(gt=>{if(!gt)return gt;const nt=[];for(const ft in gt)nt.push(...gt[ft]);return nt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(tt){return this._transport.getPage(tt)}getPageIndex(tt){return this._transport.getPageIndex(tt)}getDestinations(){return this._transport.getDestinations()}getDestination(tt){return this._transport.getDestination(tt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(tt=!1){return this._transport.startCleanup(tt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(tt,ct,gt,nt=!1){qt(this,o);qt(this,i,null);qt(this,a,!1);this._pageIndex=tt,this._pageInfo=ct,this._transport=gt,this._stats=nt?new _display_utils.StatTimer:null,this._pdfBug=nt,this.commonObjs=gt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:tt,rotation:ct=this.rotate,offsetX:gt=0,offsetY:nt=0,dontFlip:ft=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:tt,rotation:ct,offsetX:gt,offsetY:nt,dontFlip:ft})}getAnnotations({intent:tt="display"}={}){const ct=this._transport.getRenderingIntent(tt);return this._transport.getAnnotations(this._pageIndex,ct.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var tt;return((tt=this._transport._htmlForXfa)==null?void 0:tt.children[this._pageIndex])||null}render({canvasContext:tt,viewport:ct,intent:gt="display",annotationMode:nt=_util.AnnotationMode.ENABLE,transform:ft=null,background:vt=null,optionalContentConfigPromise:Dt=null,annotationCanvasMap:Tt=null,pageColors:Mt=null,printAnnotationStorage:kt=null}){var ht,yt;(ht=this._stats)==null||ht.time("Overall");const Rt=this._transport.getRenderingIntent(gt,nt,kt);Kt(this,a,!1),$t(this,o,ys).call(this),Dt||(Dt=this._transport.getOptionalContentConfig());let bt=this._intentStates.get(Rt.cacheKey);bt||(bt=Object.create(null),this._intentStates.set(Rt.cacheKey,bt)),bt.streamReaderCancelTimeout&&(clearTimeout(bt.streamReaderCancelTimeout),bt.streamReaderCancelTimeout=null);const Nt=!!(Rt.renderingIntent&_util.RenderingIntentFlag.PRINT);bt.displayReadyCapability||(bt.displayReadyCapability=new _util.PromiseCapability,bt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(yt=this._stats)==null||yt.time("Page Request"),this._pumpOperatorList(Rt));const Ft=St=>{var At,Ct;bt.renderTasks.delete(jt),(this._maybeCleanupAfterRender||Nt)&&Kt(this,a,!0),$t(this,o,ts).call(this,!Nt),St?(jt.capability.reject(St),this._abortOperatorList({intentState:bt,reason:St instanceof Error?St:new Error(St)})):jt.capability.resolve(),(At=this._stats)==null||At.timeEnd("Rendering"),(Ct=this._stats)==null||Ct.timeEnd("Overall")},jt=new InternalRenderTask({callback:Ft,params:{canvasContext:tt,viewport:ct,transform:ft,background:vt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Tt,operatorList:bt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Nt,pdfBug:this._pdfBug,pageColors:Mt});(bt.renderTasks||(bt.renderTasks=new Set)).add(jt);const ut=jt.task;return Promise.all([bt.displayReadyCapability.promise,Dt]).then(([St,At])=>{var Ct;if(this.destroyed){Ft();return}(Ct=this._stats)==null||Ct.time("Rendering"),jt.initializeGraphics({transparency:St,optionalContentConfig:At}),jt.operatorListChanged()}).catch(Ft),ut}getOperatorList({intent:tt="display",annotationMode:ct=_util.AnnotationMode.ENABLE,printAnnotationStorage:gt=null}={}){var Tt;function nt(){vt.operatorList.lastChunk&&(vt.opListReadCapability.resolve(vt.operatorList),vt.renderTasks.delete(Dt))}const ft=this._transport.getRenderingIntent(tt,ct,gt,!0);let vt=this._intentStates.get(ft.cacheKey);vt||(vt=Object.create(null),this._intentStates.set(ft.cacheKey,vt));let Dt;return vt.opListReadCapability||(Dt=Object.create(null),Dt.operatorListChanged=nt,vt.opListReadCapability=new _util.PromiseCapability,(vt.renderTasks||(vt.renderTasks=new Set)).add(Dt),vt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Tt=this._stats)==null||Tt.time("Page Request"),this._pumpOperatorList(ft)),vt.opListReadCapability.promise}streamTextContent({includeMarkedContent:tt=!1,disableNormalization:ct=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:tt===!0,disableNormalization:ct===!0},{highWaterMark:100,size(nt){return nt.items.length}})}getTextContent(tt={}){if(this._transport._htmlForXfa)return this.getXfa().then(gt=>_xfa_text.XfaText.textContent(gt));const ct=this.streamTextContent(tt);return new Promise(function(gt,nt){function ft(){vt.read().then(function({value:Tt,done:Mt}){if(Mt){gt(Dt);return}Object.assign(Dt.styles,Tt.styles),Dt.items.push(...Tt.items),ft()},nt)}const vt=ct.getReader(),Dt={items:[],styles:Object.create(null)};ft()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const tt=[];for(const ct of this._intentStates.values())if(this._abortOperatorList({intentState:ct,reason:new Error("Page was destroyed."),force:!0}),!ct.opListReadCapability)for(const gt of ct.renderTasks)tt.push(gt.completed),gt.cancel();return this.objs.clear(),Kt(this,a,!1),$t(this,o,ys).call(this),Promise.all(tt)}cleanup(tt=!1){Kt(this,a,!0);const ct=$t(this,o,ts).call(this,!1);return tt&&ct&&this._stats&&(this._stats=new _display_utils.StatTimer),ct}_startRenderPage(tt,ct){var nt,ft;const gt=this._intentStates.get(ct);gt&&((nt=this._stats)==null||nt.timeEnd("Page Request"),(ft=gt.displayReadyCapability)==null||ft.resolve(tt))}_renderPageChunk(tt,ct){for(let gt=0,nt=tt.length;gt<nt;gt++)ct.operatorList.fnArray.push(tt.fnArray[gt]),ct.operatorList.argsArray.push(tt.argsArray[gt]);ct.operatorList.lastChunk=tt.lastChunk,ct.operatorList.separateAnnots=tt.separateAnnots;for(const gt of ct.renderTasks)gt.operatorListChanged();tt.lastChunk&&$t(this,o,ts).call(this,!0)}_pumpOperatorList({renderingIntent:tt,cacheKey:ct,annotationStorageSerializable:gt}){const{map:nt,transfers:ft}=gt,Dt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:tt,cacheKey:ct,annotationStorage:nt},ft).getReader(),Tt=this._intentStates.get(ct);Tt.streamReader=Dt;const Mt=()=>{Dt.read().then(({value:kt,done:Rt})=>{if(Rt){Tt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(kt,Tt),Mt())},kt=>{if(Tt.streamReader=null,!this._transport.destroyed){if(Tt.operatorList){Tt.operatorList.lastChunk=!0;for(const Rt of Tt.renderTasks)Rt.operatorListChanged();$t(this,o,ts).call(this,!0)}if(Tt.displayReadyCapability)Tt.displayReadyCapability.reject(kt);else if(Tt.opListReadCapability)Tt.opListReadCapability.reject(kt);else throw kt}})};Mt()}_abortOperatorList({intentState:tt,reason:ct,force:gt=!1}){if(tt.streamReader){if(tt.streamReaderCancelTimeout&&(clearTimeout(tt.streamReaderCancelTimeout),tt.streamReaderCancelTimeout=null),!gt){if(tt.renderTasks.size>0)return;if(ct instanceof _display_utils.RenderingCancelledException){let nt=RENDERING_CANCELLED_TIMEOUT;ct.extraDelay>0&&ct.extraDelay<1e3&&(nt+=ct.extraDelay),tt.streamReaderCancelTimeout=setTimeout(()=>{tt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:tt,reason:ct,force:!0})},nt);return}}if(tt.streamReader.cancel(new _util.AbortException(ct.message)).catch(()=>{}),tt.streamReader=null,!this._transport.destroyed){for(const[nt,ft]of this._intentStates)if(ft===tt){this._intentStates.delete(nt);break}this.cleanup()}}}get stats(){return this._stats}}i=new WeakMap,a=new WeakMap,o=new WeakSet,ts=function(tt=!1){if($t(this,o,ys).call(this),!et(this,a)||this.destroyed)return!1;if(tt)return Kt(this,i,setTimeout(()=>{Kt(this,i,null),$t(this,o,ts).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:ct,operatorList:gt}of this._intentStates.values())if(ct.size>0||!gt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Kt(this,a,!1),!0},ys=function(){et(this,i)&&(clearTimeout(et(this,i)),Kt(this,i,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){qt(this,_,new Set);qt(this,h,Promise.resolve())}postMessage(tt,ct){const gt={data:structuredClone(tt,ct?{transfer:ct}:null)};et(this,h).then(()=>{for(const nt of et(this,_))nt.call(this,gt)})}addEventListener(tt,ct){et(this,_).add(ct)}removeEventListener(tt,ct){et(this,_).delete(ct)}terminate(){et(this,_).clear()}}_=new WeakMap,h=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const g=(j=document==null?void 0:document.currentScript)==null?void 0:j.src;g&&(PDFWorkerUtil.fallbackWorkerSrc=g.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(g,tt){let ct;try{if(ct=new URL(g),!ct.origin||ct.origin==="null")return!1}catch{return!1}const gt=new URL(tt,ct);return ct.origin===gt.origin},PDFWorkerUtil.createCDNWrapper=function(g){const tt=`importScripts("${g}");`;return URL.createObjectURL(new Blob([tt]))}}const _PDFWorker=class _PDFWorker{constructor({name:g=null,port:tt=null,verbosity:ct=(0,_util.getVerbosityLevel)()}={}){var gt;if(this.name=g,this.destroyed=!1,this.verbosity=ct,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,tt){if((gt=et(_PDFWorker,$))!=null&&gt.has(tt))throw new Error("Cannot use more than one PDFWorker per port.");(et(_PDFWorker,$)||Kt(_PDFWorker,$,new WeakMap)).set(tt,this),this._initializeFromPort(tt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(g){this._port=g,this._messageHandler=new _message_handler.MessageHandler("main","worker",g),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:g}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,g)||(g=PDFWorkerUtil.createCDNWrapper(new URL(g,window.location).href));const tt=new Worker(g),ct=new _message_handler.MessageHandler("main","worker",tt),gt=()=>{tt.removeEventListener("error",nt),ct.destroy(),tt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},nt=()=>{this._webWorker||gt()};tt.addEventListener("error",nt),ct.on("test",vt=>{if(tt.removeEventListener("error",nt),this.destroyed){gt();return}vt?(this._messageHandler=ct,this._port=tt,this._webWorker=tt,this._readyCapability.resolve(),ct.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),ct.destroy(),tt.terminate())}),ct.on("ready",vt=>{if(tt.removeEventListener("error",nt),this.destroyed){gt();return}try{ft()}catch{this._setupFakeWorker()}});const ft=()=>{const vt=new Uint8Array;ct.send("test",vt,[vt.buffer])};ft();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(g=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const tt=new LoopbackPort;this._port=tt;const ct=`fake${PDFWorkerUtil.fakeWorkerId++}`,gt=new _message_handler.MessageHandler(ct+"_worker",ct,tt);g.setup(gt,tt);const nt=new _message_handler.MessageHandler(ct,ct+"_worker",tt);this._messageHandler=nt,this._readyCapability.resolve(),nt.send("configure",{verbosity:this.verbosity})}).catch(g=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${g.message}".`))})}destroy(){var g;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(g=et(_PDFWorker,$))==null||g.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(g){var ct;if(!(g!=null&&g.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const tt=(ct=et(this,$))==null?void 0:ct.get(g.port);if(tt){if(tt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return tt}return new _PDFWorker(g)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var g;try{return((g=globalThis.pdfjsWorker)==null?void 0:g.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};$=new WeakMap,qt(_PDFWorker,$);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(tt,ct,gt,nt,ft){qt(this,xt);qt(this,it,new Map);qt(this,ot,new Map);qt(this,mt,new Map);qt(this,at,null);this.messageHandler=tt,this.loadingTask=ct,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:nt.ownerDocument,styleElement:nt.styleElement}),this._params=nt,this.canvasFactory=ft.canvasFactory,this.filterFactory=ft.filterFactory,this.cMapReaderFactory=ft.cMapReaderFactory,this.standardFontDataFactory=ft.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=gt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(tt,ct=_util.AnnotationMode.ENABLE,gt=null,nt=!1){let ft=_util.RenderingIntentFlag.DISPLAY,vt=_annotation_storage.SerializableEmpty;switch(tt){case"any":ft=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":ft=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${tt}`)}switch(ct){case _util.AnnotationMode.DISABLE:ft+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:ft+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:ft+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,vt=(ft&_util.RenderingIntentFlag.PRINT&&gt instanceof _annotation_storage.PrintAnnotationStorage?gt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${ct}`)}return nt&&(ft+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:ft,cacheKey:`${ft}_${vt.hash}`,annotationStorageSerializable:vt}}destroy(){var gt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(gt=et(this,at))==null||gt.reject(new Error("Worker was destroyed during onPassword callback"));const tt=[];for(const nt of et(this,ot).values())tt.push(nt._destroy());et(this,ot).clear(),et(this,mt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ct=this.messageHandler.sendWithPromise("Terminate",null);return tt.push(ct),Promise.all(tt).then(()=>{var nt;this.commonObjs.clear(),this.fontLoader.clear(),et(this,it).clear(),this.filterFactory.destroy(),(nt=this._networkStream)==null||nt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:tt,loadingTask:ct}=this;tt.on("GetReader",(gt,nt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=ft=>{this._lastProgress={loaded:ft.loaded,total:ft.total}},nt.onPull=()=>{this._fullReader.read().then(function({value:ft,done:vt}){if(vt){nt.close();return}(0,_util.assert)(ft instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),nt.enqueue(new Uint8Array(ft),1,[ft])}).catch(ft=>{nt.error(ft)})},nt.onCancel=ft=>{this._fullReader.cancel(ft),nt.ready.catch(vt=>{if(!this.destroyed)throw vt})}}),tt.on("ReaderHeadersReady",gt=>{const nt=new _util.PromiseCapability,ft=this._fullReader;return ft.headersReady.then(()=>{var vt;(!ft.isStreamingSupported||!ft.isRangeSupported)&&(this._lastProgress&&((vt=ct.onProgress)==null||vt.call(ct,this._lastProgress)),ft.onProgress=Dt=>{var Tt;(Tt=ct.onProgress)==null||Tt.call(ct,{loaded:Dt.loaded,total:Dt.total})}),nt.resolve({isStreamingSupported:ft.isStreamingSupported,isRangeSupported:ft.isRangeSupported,contentLength:ft.contentLength})},nt.reject),nt.promise}),tt.on("GetRangeReader",(gt,nt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const ft=this._networkStream.getRangeReader(gt.begin,gt.end);if(!ft){nt.close();return}nt.onPull=()=>{ft.read().then(function({value:vt,done:Dt}){if(Dt){nt.close();return}(0,_util.assert)(vt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),nt.enqueue(new Uint8Array(vt),1,[vt])}).catch(vt=>{nt.error(vt)})},nt.onCancel=vt=>{ft.cancel(vt),nt.ready.catch(Dt=>{if(!this.destroyed)throw Dt})}}),tt.on("GetDoc",({pdfInfo:gt})=>{this._numPages=gt.numPages,this._htmlForXfa=gt.htmlForXfa,delete gt.htmlForXfa,ct._capability.resolve(new PDFDocumentProxy(gt,this))}),tt.on("DocException",function(gt){let nt;switch(gt.name){case"PasswordException":nt=new _util.PasswordException(gt.message,gt.code);break;case"InvalidPDFException":nt=new _util.InvalidPDFException(gt.message);break;case"MissingPDFException":nt=new _util.MissingPDFException(gt.message);break;case"UnexpectedResponseException":nt=new _util.UnexpectedResponseException(gt.message,gt.status);break;case"UnknownErrorException":nt=new _util.UnknownErrorException(gt.message,gt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}ct._capability.reject(nt)}),tt.on("PasswordRequest",gt=>{if(Kt(this,at,new _util.PromiseCapability),ct.onPassword){const nt=ft=>{ft instanceof Error?et(this,at).reject(ft):et(this,at).resolve({password:ft})};try{ct.onPassword(nt,gt.code)}catch(ft){et(this,at).reject(ft)}}else et(this,at).reject(new _util.PasswordException(gt.message,gt.code));return et(this,at).promise}),tt.on("DataLoaded",gt=>{var nt;(nt=ct.onProgress)==null||nt.call(ct,{loaded:gt.length,total:gt.length}),this.downloadInfoCapability.resolve(gt)}),tt.on("StartRenderPage",gt=>{if(this.destroyed)return;et(this,ot).get(gt.pageIndex)._startRenderPage(gt.transparency,gt.cacheKey)}),tt.on("commonobj",([gt,nt,ft])=>{var vt;if(!this.destroyed&&!this.commonObjs.has(gt))switch(nt){case"Font":const Dt=this._params;if("error"in ft){const kt=ft.error;(0,_util.warn)(`Error during font loading: ${kt}`),this.commonObjs.resolve(gt,kt);break}const Tt=Dt.pdfBug&&((vt=globalThis.FontInspector)!=null&&vt.enabled)?(kt,Rt)=>globalThis.FontInspector.fontAdded(kt,Rt):null,Mt=new _font_loader.FontFaceObject(ft,{isEvalSupported:Dt.isEvalSupported,disableFontFace:Dt.disableFontFace,ignoreErrors:Dt.ignoreErrors,inspectFont:Tt});this.fontLoader.bind(Mt).catch(kt=>tt.sendWithPromise("FontFallback",{id:gt})).finally(()=>{!Dt.fontExtraProperties&&Mt.data&&(Mt.data=null),this.commonObjs.resolve(gt,Mt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(gt,ft);break;default:throw new Error(`Got unknown common object type ${nt}`)}}),tt.on("obj",([gt,nt,ft,vt])=>{var Tt;if(this.destroyed)return;const Dt=et(this,ot).get(nt);if(!Dt.objs.has(gt))switch(ft){case"Image":if(Dt.objs.resolve(gt,vt),vt){let Mt;if(vt.bitmap){const{width:kt,height:Rt}=vt;Mt=kt*Rt*4}else Mt=((Tt=vt.data)==null?void 0:Tt.length)||0;Mt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Dt._maybeCleanupAfterRender=!0)}break;case"Pattern":Dt.objs.resolve(gt,vt);break;default:throw new Error(`Got unknown object type ${ft}`)}}),tt.on("DocProgress",gt=>{var nt;this.destroyed||(nt=ct.onProgress)==null||nt.call(ct,{loaded:gt.loaded,total:gt.total})}),tt.on("FetchBuiltInCMap",gt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(gt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),tt.on("FetchStandardFontData",gt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(gt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var gt;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:tt,transfers:ct}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:tt,filename:((gt=this._fullReader)==null?void 0:gt.filename)??null},ct).finally(()=>{this.annotationStorage.resetModified()})}getPage(tt){if(!Number.isInteger(tt)||tt<=0||tt>this._numPages)return Promise.reject(new Error("Invalid page request."));const ct=tt-1,gt=et(this,mt).get(ct);if(gt)return gt;const nt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ct}).then(ft=>{if(this.destroyed)throw new Error("Transport destroyed");const vt=new PDFPageProxy(ct,ft,this,this._params.pdfBug);return et(this,ot).set(ct,vt),vt});return et(this,mt).set(ct,nt),nt}getPageIndex(tt){return typeof tt!="object"||tt===null||!Number.isInteger(tt.num)||tt.num<0||!Number.isInteger(tt.gen)||tt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:tt.num,gen:tt.gen})}getAnnotations(tt,ct){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:tt,intent:ct})}getFieldObjects(){return $t(this,xt,bs).call(this,"GetFieldObjects")}hasJSActions(){return $t(this,xt,bs).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(tt){return typeof tt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:tt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return $t(this,xt,bs).call(this,"GetDocJSActions")}getPageJSActions(tt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:tt})}getStructTree(tt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:tt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(tt=>new _optional_content_config.OptionalContentConfig(tt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const tt="GetMetadata",ct=et(this,it).get(tt);if(ct)return ct;const gt=this.messageHandler.sendWithPromise(tt,null).then(nt=>{var ft,vt;return{info:nt[0],metadata:nt[1]?new _metadata.Metadata(nt[1]):null,contentDispositionFilename:((ft=this._fullReader)==null?void 0:ft.filename)??null,contentLength:((vt=this._fullReader)==null?void 0:vt.contentLength)??null}});return et(this,it).set(tt,gt),gt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(tt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const ct of et(this,ot).values())if(!ct.cleanup())throw new Error(`startCleanup: Page ${ct.pageNumber} is currently rendering.`);this.commonObjs.clear(),tt||this.fontLoader.clear(),et(this,it).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:tt,enableXfa:ct}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:tt,enableXfa:ct})}}it=new WeakMap,ot=new WeakMap,mt=new WeakMap,at=new WeakMap,xt=new WeakSet,bs=function(tt,ct=null){const gt=et(this,it).get(tt);if(gt)return gt;const nt=this.messageHandler.sendWithPromise(tt,ct);return et(this,it).set(tt,nt),nt};class PDFObjects{constructor(){qt(this,_e);qt(this,b,Object.create(null))}get(tt,ct=null){if(ct){const nt=$t(this,_e,Ls).call(this,tt);return nt.capability.promise.then(()=>ct(nt.data)),null}const gt=et(this,b)[tt];if(!(gt!=null&&gt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${tt}.`);return gt.data}has(tt){const ct=et(this,b)[tt];return(ct==null?void 0:ct.capability.settled)||!1}resolve(tt,ct=null){const gt=$t(this,_e,Ls).call(this,tt);gt.data=ct,gt.capability.resolve()}clear(){var tt;for(const ct in et(this,b)){const{data:gt}=et(this,b)[ct];(tt=gt==null?void 0:gt.bitmap)==null||tt.close()}Kt(this,b,Object.create(null))}}b=new WeakMap,_e=new WeakSet,Ls=function(tt){var ct;return(ct=et(this,b))[tt]||(ct[tt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(tt){qt(this,dt,null);Kt(this,dt,tt),this.onContinue=null}get promise(){return et(this,dt).capability.promise}cancel(tt=0){et(this,dt).cancel(null,tt)}get separateAnnots(){const{separateAnnots:tt}=et(this,dt).operatorList;if(!tt)return!1;const{annotationCanvasMap:ct}=et(this,dt);return tt.form||tt.canvas&&(ct==null?void 0:ct.size)>0}}dt=new WeakMap,exports.RenderTask=RenderTask;const pt=class pt{constructor({callback:tt,params:ct,objs:gt,commonObjs:nt,annotationCanvasMap:ft,operatorList:vt,pageIndex:Dt,canvasFactory:Tt,filterFactory:Mt,useRequestAnimationFrame:kt=!1,pdfBug:Rt=!1,pageColors:bt=null}){this.callback=tt,this.params=ct,this.objs=gt,this.commonObjs=nt,this.annotationCanvasMap=ft,this.operatorListIdx=null,this.operatorList=vt,this._pageIndex=Dt,this.canvasFactory=Tt,this.filterFactory=Mt,this._pdfBug=Rt,this.pageColors=bt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=kt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ct.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:tt=!1,optionalContentConfig:ct}){var Dt,Tt;if(this.cancelled)return;if(this._canvas){if(et(pt,st).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");et(pt,st).add(this._canvas)}this._pdfBug&&((Dt=globalThis.StepperManager)!=null&&Dt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:gt,viewport:nt,transform:ft,background:vt}=this.params;this.gfx=new _canvas.CanvasGraphics(gt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:ct},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:ft,viewport:nt,transparency:tt,background:vt}),this.operatorListIdx=0,this.graphicsReady=!0,(Tt=this.graphicsReadyCallback)==null||Tt.call(this)}cancel(tt=null,ct=0){var gt;this.running=!1,this.cancelled=!0,(gt=this.gfx)==null||gt.endDrawing(),et(pt,st).delete(this._canvas),this.callback(tt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,ct))}operatorListChanged(){var tt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(tt=this.stepper)==null||tt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),et(pt,st).delete(this._canvas),this.callback())))}};st=new WeakMap,qt(pt,st,new WeakSet);let InternalRenderTask=pt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(e,s,i)=>{var j,$,it,Sn,mt;Object.defineProperty(s,"__esModule",{value:!0}),s.SerializableEmpty=s.PrintAnnotationStorage=s.AnnotationStorage=void 0;var a=i(1),o=i(4),c=i(8);const d=Object.freeze({map:null,hash:"",transfers:void 0});s.SerializableEmpty=d;class _{constructor(){qt(this,it);qt(this,j,!1);qt(this,$,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(xt,lt){const b=et(this,$).get(xt);return b===void 0?lt:Object.assign(lt,b)}getRawValue(xt){return et(this,$).get(xt)}remove(xt){if(et(this,$).delete(xt),et(this,$).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const lt of et(this,$).values())if(lt instanceof o.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(xt,lt){const b=et(this,$).get(xt);let _e=!1;if(b!==void 0)for(const[rt,dt]of Object.entries(lt))b[rt]!==dt&&(_e=!0,b[rt]=dt);else _e=!0,et(this,$).set(xt,lt);_e&&$t(this,it,Sn).call(this),lt instanceof o.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(lt.constructor._type)}has(xt){return et(this,$).has(xt)}getAll(){return et(this,$).size>0?(0,a.objectFromMap)(et(this,$)):null}setAll(xt){for(const[lt,b]of Object.entries(xt))this.setValue(lt,b)}get size(){return et(this,$).size}resetModified(){et(this,j)&&(Kt(this,j,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new h(this)}get serializable(){if(et(this,$).size===0)return d;const xt=new Map,lt=new c.MurmurHash3_64,b=[],_e=Object.create(null);let rt=!1;for(const[dt,st]of et(this,$)){const pt=st instanceof o.AnnotationEditor?st.serialize(!1,_e):st;pt&&(xt.set(dt,pt),lt.update(`${dt}:${JSON.stringify(pt)}`),rt||(rt=!!pt.bitmap))}if(rt)for(const dt of xt.values())dt.bitmap&&b.push(dt.bitmap);return xt.size>0?{map:xt,hash:lt.hexdigest(),transfers:b}:d}}j=new WeakMap,$=new WeakMap,it=new WeakSet,Sn=function(){et(this,j)||(Kt(this,j,!0),typeof this.onSetModified=="function"&&this.onSetModified())},s.AnnotationStorage=_;class h extends _{constructor(lt){super();qt(this,mt);const{map:b,hash:_e,transfers:rt}=lt.serializable,dt=structuredClone(b,rt?{transfer:rt}:null);Kt(this,mt,{map:dt,hash:_e,transfers:rt})}get print(){(0,a.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return et(this,mt)}}mt=new WeakMap,s.PrintAnnotationStorage=h},(e,s,i)=>{var h,j,$,it,ot,mt,at,xt,lt,b,_e,rt,dt,st,pt,Ms,Fs,ct,Ds,Is,_n,Nn,Cn,Os,Pn;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditor=void 0;var a=i(5),o=i(1),c=i(6);const kt=class kt{constructor(bt){qt(this,pt);qt(this,h,"");qt(this,j,!1);qt(this,$,null);qt(this,it,null);qt(this,ot,null);qt(this,mt,!1);qt(this,at,null);qt(this,xt,this.focusin.bind(this));qt(this,lt,this.focusout.bind(this));qt(this,b,!1);qt(this,_e,!1);qt(this,rt,!1);Ur(this,"_initialOptions",Object.create(null));Ur(this,"_uiManager",null);Ur(this,"_focusEventsAllowed",!0);Ur(this,"_l10nPromise",null);qt(this,dt,!1);qt(this,st,kt._zIndex++);this.constructor===kt&&(0,o.unreachable)("Cannot initialize AnnotationEditor."),this.parent=bt.parent,this.id=bt.id,this.width=this.height=null,this.pageIndex=bt.parent.pageIndex,this.name=bt.name,this.div=null,this._uiManager=bt.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=bt.isCentered,this._structTreeParentId=null;const{rotation:Nt,rawDims:{pageWidth:Ft,pageHeight:jt,pageX:ut,pageY:ht}}=this.parent.viewport;this.rotation=Nt,this.pageRotation=(360+Nt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Ft,jt],this.pageTranslation=[ut,ht];const[yt,St]=this.parentDimensions;this.x=bt.x/yt,this.y=bt.y/St,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,o.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(bt){const Nt=new _({id:bt.parent.getNextId(),parent:bt.parent,uiManager:bt._uiManager});Nt.annotationElementId=bt.annotationElementId,Nt.deleted=!0,Nt._uiManager.addToAnnotationStorage(Nt)}static initialize(bt,Nt=null){if(kt._l10nPromise||(kt._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(jt=>[jt,bt.get(jt)]))),Nt!=null&&Nt.strings)for(const jt of Nt.strings)kt._l10nPromise.set(jt,bt.get(jt));if(kt._borderLineWidth!==-1)return;const Ft=getComputedStyle(document.documentElement);kt._borderLineWidth=parseFloat(Ft.getPropertyValue("--outline-width"))||0}static updateDefaultParams(bt,Nt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(bt){return!1}static paste(bt,Nt){(0,o.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return et(this,dt)}set _isDraggable(bt){var Nt;Kt(this,dt,bt),(Nt=this.div)==null||Nt.classList.toggle("draggable",bt)}center(){const[bt,Nt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Nt/(bt*2),this.y+=this.width*bt/(Nt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Nt/(bt*2),this.y-=this.width*bt/(Nt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(bt){this._uiManager.addCommands(bt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=et(this,st)}setParent(bt){bt!==null&&(this.pageIndex=bt.pageIndex,this.pageDimensions=bt.pageDimensions),this.parent=bt}focusin(bt){this._focusEventsAllowed&&(et(this,b)?Kt(this,b,!1):this.parent.setSelected(this))}focusout(bt){var Ft;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Nt=bt.relatedTarget;Nt!=null&&Nt.closest(`#${this.id}`)||(bt.preventDefault(),(Ft=this.parent)!=null&&Ft.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(bt,Nt,Ft,jt){const[ut,ht]=this.parentDimensions;[Ft,jt]=this.screenToPageTranslation(Ft,jt),this.x=(bt+Ft)/ut,this.y=(Nt+jt)/ht,this.fixAndSetPosition()}translate(bt,Nt){$t(this,pt,Ms).call(this,this.parentDimensions,bt,Nt)}translateInPage(bt,Nt){$t(this,pt,Ms).call(this,this.pageDimensions,bt,Nt),this.div.scrollIntoView({block:"nearest"})}drag(bt,Nt){const[Ft,jt]=this.parentDimensions;if(this.x+=bt/Ft,this.y+=Nt/jt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:At,y:Ct}=this.div.getBoundingClientRect();this.parent.findNewParent(this,At,Ct)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:ut,y:ht}=this;const[yt,St]=$t(this,pt,Fs).call(this);ut+=yt,ht+=St,this.div.style.left=`${(100*ut).toFixed(2)}%`,this.div.style.top=`${(100*ht).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[bt,Nt]=this.pageDimensions;let{x:Ft,y:jt,width:ut,height:ht}=this;switch(ut*=bt,ht*=Nt,Ft*=bt,jt*=Nt,this.rotation){case 0:Ft=Math.max(0,Math.min(bt-ut,Ft)),jt=Math.max(0,Math.min(Nt-ht,jt));break;case 90:Ft=Math.max(0,Math.min(bt-ht,Ft)),jt=Math.min(Nt,Math.max(ut,jt));break;case 180:Ft=Math.min(bt,Math.max(ut,Ft)),jt=Math.min(Nt,Math.max(ht,jt));break;case 270:Ft=Math.min(bt,Math.max(ht,Ft)),jt=Math.max(0,Math.min(Nt-ut,jt));break}this.x=Ft/=bt,this.y=jt/=Nt;const[yt,St]=$t(this,pt,Fs).call(this);Ft+=yt,jt+=St;const{style:At}=this.div;At.left=`${(100*Ft).toFixed(2)}%`,At.top=`${(100*jt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(bt,Nt){var Ft;return $t(Ft=kt,ct,Ds).call(Ft,bt,Nt,this.parentRotation)}pageTranslationToScreen(bt,Nt){var Ft;return $t(Ft=kt,ct,Ds).call(Ft,bt,Nt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:bt,pageDimensions:[Nt,Ft]}=this,jt=Nt*bt,ut=Ft*bt;return o.FeatureTest.isCSSRoundSupported?[Math.round(jt),Math.round(ut)]:[jt,ut]}setDims(bt,Nt){var ut;const[Ft,jt]=this.parentDimensions;this.div.style.width=`${(100*bt/Ft).toFixed(2)}%`,et(this,mt)||(this.div.style.height=`${(100*Nt/jt).toFixed(2)}%`),(ut=et(this,$))==null||ut.classList.toggle("small",bt<kt.SMALL_EDITOR_SIZE||Nt<kt.SMALL_EDITOR_SIZE)}fixDims(){const{style:bt}=this.div,{height:Nt,width:Ft}=bt,jt=Ft.endsWith("%"),ut=!et(this,mt)&&Nt.endsWith("%");if(jt&&ut)return;const[ht,yt]=this.parentDimensions;jt||(bt.width=`${(100*parseFloat(Ft)/ht).toFixed(2)}%`),!et(this,mt)&&!ut&&(bt.height=`${(100*parseFloat(Nt)/yt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(et(this,$))return;const bt=Kt(this,$,document.createElement("button"));bt.className="altText";const Nt=await kt._l10nPromise.get("editor_alt_text_button_label");bt.textContent=Nt,bt.setAttribute("aria-label",Nt),bt.tabIndex="0",bt.addEventListener("contextmenu",c.noContextMenu),bt.addEventListener("pointerdown",Ft=>Ft.stopPropagation()),bt.addEventListener("click",Ft=>{Ft.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),bt.addEventListener("keydown",Ft=>{Ft.target===bt&&Ft.key==="Enter"&&(Ft.preventDefault(),this._uiManager.editAltText(this))}),$t(this,pt,Os).call(this),this.div.append(bt),kt.SMALL_EDITOR_SIZE||(kt.SMALL_EDITOR_SIZE=Math.min(128,Math.round(bt.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:et(this,h),decorative:et(this,j)}}set altTextData({altText:bt,decorative:Nt}){et(this,h)===bt&&et(this,j)===Nt||(Kt(this,h,bt),Kt(this,j,Nt),$t(this,pt,Os).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",et(this,xt)),this.div.addEventListener("focusout",et(this,lt));const[bt,Nt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Nt/bt).toFixed(2)}%`,this.div.style.maxHeight=`${(100*bt/Nt).toFixed(2)}%`);const[Ft,jt]=this.getInitialTranslation();return this.translate(Ft,jt),(0,a.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(bt){const{isMac:Nt}=o.FeatureTest.platform;if(bt.button!==0||bt.ctrlKey&&Nt){bt.preventDefault();return}Kt(this,b,!0),$t(this,pt,Pn).call(this,bt)}moveInDOM(){var bt;(bt=this.parent)==null||bt.moveEditorInDOM(this)}_setParentAndPosition(bt,Nt,Ft){bt.changeParent(this),this.x=Nt,this.y=Ft,this.fixAndSetPosition()}getRect(bt,Nt){const Ft=this.parentScale,[jt,ut]=this.pageDimensions,[ht,yt]=this.pageTranslation,St=bt/Ft,At=Nt/Ft,Ct=this.x*jt,Ut=this.y*ut,Wt=this.width*jt,Qt=this.height*ut;switch(this.rotation){case 0:return[Ct+St+ht,ut-Ut-At-Qt+yt,Ct+St+Wt+ht,ut-Ut-At+yt];case 90:return[Ct+At+ht,ut-Ut+St+yt,Ct+At+Qt+ht,ut-Ut+St+Wt+yt];case 180:return[Ct-St-Wt+ht,ut-Ut+At+yt,Ct-St+ht,ut-Ut+At+Qt+yt];case 270:return[Ct-At-Qt+ht,ut-Ut-St-Wt+yt,Ct-At+ht,ut-Ut-St+yt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(bt,Nt){const[Ft,jt,ut,ht]=bt,yt=ut-Ft,St=ht-jt;switch(this.rotation){case 0:return[Ft,Nt-ht,yt,St];case 90:return[Ft,Nt-jt,St,yt];case 180:return[ut,Nt-jt,yt,St];case 270:return[ut,Nt-ht,St,yt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Kt(this,rt,!0)}disableEditMode(){Kt(this,rt,!1)}isInEditMode(){return et(this,rt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var bt,Nt;(bt=this.div)==null||bt.addEventListener("focusin",et(this,xt)),(Nt=this.div)==null||Nt.addEventListener("focusout",et(this,lt))}serialize(bt=!1,Nt=null){(0,o.unreachable)("An editor must be serializable")}static deserialize(bt,Nt,Ft){const jt=new this.prototype.constructor({parent:Nt,id:Nt.getNextId(),uiManager:Ft});jt.rotation=bt.rotation;const[ut,ht]=jt.pageDimensions,[yt,St,At,Ct]=jt.getRectInCurrentCoords(bt.rect,ht);return jt.x=yt/ut,jt.y=St/ht,jt.width=At/ut,jt.height=Ct/ht,jt}remove(){var bt;this.div.removeEventListener("focusin",et(this,xt)),this.div.removeEventListener("focusout",et(this,lt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(bt=et(this,$))==null||bt.remove(),Kt(this,$,null),Kt(this,it,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&($t(this,pt,_n).call(this),et(this,at).classList.remove("hidden"))}select(){var bt;this.makeResizable(),(bt=this.div)==null||bt.classList.add("selectedEditor")}unselect(){var bt,Nt,Ft;(bt=et(this,at))==null||bt.classList.add("hidden"),(Nt=this.div)==null||Nt.classList.remove("selectedEditor"),(Ft=this.div)!=null&&Ft.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(bt,Nt){}disableEditing(){et(this,$)&&(et(this,$).hidden=!0)}enableEditing(){et(this,$)&&(et(this,$).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return et(this,_e)}set isEditing(bt){Kt(this,_e,bt),this.parent&&(bt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(bt,Nt){Kt(this,mt,!0);const Ft=bt/Nt,{style:jt}=this.div;jt.aspectRatio=Ft,jt.height="auto"}static get MIN_SIZE(){return 16}};h=new WeakMap,j=new WeakMap,$=new WeakMap,it=new WeakMap,ot=new WeakMap,mt=new WeakMap,at=new WeakMap,xt=new WeakMap,lt=new WeakMap,b=new WeakMap,_e=new WeakMap,rt=new WeakMap,dt=new WeakMap,st=new WeakMap,pt=new WeakSet,Ms=function([bt,Nt],Ft,jt){[Ft,jt]=this.screenToPageTranslation(Ft,jt),this.x+=Ft/bt,this.y+=jt/Nt,this.fixAndSetPosition()},Fs=function(){const[bt,Nt]=this.parentDimensions,{_borderLineWidth:Ft}=kt,jt=Ft/bt,ut=Ft/Nt;switch(this.rotation){case 90:return[-jt,ut];case 180:return[jt,ut];case 270:return[jt,-ut];default:return[-jt,-ut]}},ct=new WeakSet,Ds=function(bt,Nt,Ft){switch(Ft){case 90:return[Nt,-bt];case 180:return[-bt,-Nt];case 270:return[-Nt,bt];default:return[bt,Nt]}},Is=function(bt){switch(bt){case 90:{const[Nt,Ft]=this.pageDimensions;return[0,-Nt/Ft,Ft/Nt,0]}case 180:return[-1,0,0,-1];case 270:{const[Nt,Ft]=this.pageDimensions;return[0,Nt/Ft,-Ft/Nt,0]}default:return[1,0,0,1]}},_n=function(){if(et(this,at))return;Kt(this,at,document.createElement("div")),et(this,at).classList.add("resizers");const bt=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||bt.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Nt of bt){const Ft=document.createElement("div");et(this,at).append(Ft),Ft.classList.add("resizer",Nt),Ft.addEventListener("pointerdown",$t(this,pt,Nn).bind(this,Nt)),Ft.addEventListener("contextmenu",c.noContextMenu)}this.div.prepend(et(this,at))},Nn=function(bt,Nt){Nt.preventDefault();const{isMac:Ft}=o.FeatureTest.platform;if(Nt.button!==0||Nt.ctrlKey&&Ft)return;const jt=$t(this,pt,Cn).bind(this,bt),ut=this._isDraggable;this._isDraggable=!1;const ht={passive:!0,capture:!0};window.addEventListener("pointermove",jt,ht);const yt=this.x,St=this.y,At=this.width,Ct=this.height,Ut=this.parent.div.style.cursor,Wt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Nt.target).cursor;const Qt=()=>{this._isDraggable=ut,window.removeEventListener("pointerup",Qt),window.removeEventListener("blur",Qt),window.removeEventListener("pointermove",jt,ht),this.parent.div.style.cursor=Ut,this.div.style.cursor=Wt;const Zt=this.x,nr=this.y,Gt=this.width,rr=this.height;Zt===yt&&nr===St&&Gt===At&&rr===Ct||this.addCommands({cmd:()=>{this.width=Gt,this.height=rr,this.x=Zt,this.y=nr;const[Vt,Bt]=this.parentDimensions;this.setDims(Vt*Gt,Bt*rr),this.fixAndSetPosition()},undo:()=>{this.width=At,this.height=Ct,this.x=yt,this.y=St;const[Vt,Bt]=this.parentDimensions;this.setDims(Vt*At,Bt*Ct),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Qt),window.addEventListener("blur",Qt)},Cn=function(bt,Nt){const[Ft,jt]=this.parentDimensions,ut=this.x,ht=this.y,yt=this.width,St=this.height,At=kt.MIN_SIZE/Ft,Ct=kt.MIN_SIZE/jt,Ut=gr=>Math.round(gr*1e4)/1e4,Wt=$t(this,pt,Is).call(this,this.rotation),Qt=(gr,kr)=>[Wt[0]*gr+Wt[2]*kr,Wt[1]*gr+Wt[3]*kr],Zt=$t(this,pt,Is).call(this,360-this.rotation),nr=(gr,kr)=>[Zt[0]*gr+Zt[2]*kr,Zt[1]*gr+Zt[3]*kr];let Gt,rr,Vt=!1,Bt=!1;switch(bt){case"topLeft":Vt=!0,Gt=(gr,kr)=>[0,0],rr=(gr,kr)=>[gr,kr];break;case"topMiddle":Gt=(gr,kr)=>[gr/2,0],rr=(gr,kr)=>[gr/2,kr];break;case"topRight":Vt=!0,Gt=(gr,kr)=>[gr,0],rr=(gr,kr)=>[0,kr];break;case"middleRight":Bt=!0,Gt=(gr,kr)=>[gr,kr/2],rr=(gr,kr)=>[0,kr/2];break;case"bottomRight":Vt=!0,Gt=(gr,kr)=>[gr,kr],rr=(gr,kr)=>[0,0];break;case"bottomMiddle":Gt=(gr,kr)=>[gr/2,kr],rr=(gr,kr)=>[gr/2,0];break;case"bottomLeft":Vt=!0,Gt=(gr,kr)=>[0,kr],rr=(gr,kr)=>[gr,0];break;case"middleLeft":Bt=!0,Gt=(gr,kr)=>[0,kr/2],rr=(gr,kr)=>[gr,kr/2];break}const Et=Gt(yt,St),Pt=rr(yt,St);let zt=Qt(...Pt);const Ht=Ut(ut+zt[0]),tr=Ut(ht+zt[1]);let ar=1,ir=1,[It,hr]=this.screenToPageTranslation(Nt.movementX,Nt.movementY);if([It,hr]=nr(It/Ft,hr/jt),Vt){const gr=Math.hypot(yt,St);ar=ir=Math.max(Math.min(Math.hypot(Pt[0]-Et[0]-It,Pt[1]-Et[1]-hr)/gr,1/yt,1/St),At/yt,Ct/St)}else Bt?ar=Math.max(At,Math.min(1,Math.abs(Pt[0]-Et[0]-It)))/yt:ir=Math.max(Ct,Math.min(1,Math.abs(Pt[1]-Et[1]-hr)))/St;const dr=Ut(yt*ar),_r=Ut(St*ir);zt=Qt(...rr(dr,_r));const Ar=Ht-zt[0],Mr=tr-zt[1];this.width=dr,this.height=_r,this.x=Ar,this.y=Mr,this.setDims(Ft*dr,jt*_r),this.fixAndSetPosition()},Os=async function(){var Ft;const bt=et(this,$);if(!bt)return;if(!et(this,h)&&!et(this,j)){bt.classList.remove("done"),(Ft=et(this,it))==null||Ft.remove();return}kt._l10nPromise.get("editor_alt_text_edit_button_label").then(jt=>{bt.setAttribute("aria-label",jt)});let Nt=et(this,it);if(!Nt){Kt(this,it,Nt=document.createElement("span")),Nt.className="tooltip",Nt.setAttribute("role","tooltip");const jt=Nt.id=`alt-text-tooltip-${this.id}`;bt.setAttribute("aria-describedby",jt);const ut=100;bt.addEventListener("mouseenter",()=>{Kt(this,ot,setTimeout(()=>{Kt(this,ot,null),et(this,it).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},ut))}),bt.addEventListener("mouseleave",()=>{var ht;clearTimeout(et(this,ot)),Kt(this,ot,null),(ht=et(this,it))==null||ht.classList.remove("show")})}bt.classList.add("done"),Nt.innerText=et(this,j)?await kt._l10nPromise.get("editor_alt_text_decorative_tooltip"):et(this,h),Nt.parentNode||bt.append(Nt)},Pn=function(bt){if(!this._isDraggable)return;const Nt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Ft,jt;Nt&&(Ft={passive:!0,capture:!0},jt=ht=>{const[yt,St]=this.screenToPageTranslation(ht.movementX,ht.movementY);this._uiManager.dragSelectedEditors(yt,St)},window.addEventListener("pointermove",jt,Ft));const ut=()=>{if(window.removeEventListener("pointerup",ut),window.removeEventListener("blur",ut),Nt&&window.removeEventListener("pointermove",jt,Ft),Kt(this,b,!1),!this._uiManager.endDragSession()){const{isMac:ht}=o.FeatureTest.platform;bt.ctrlKey&&!ht||bt.shiftKey||bt.metaKey&&ht?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",ut),window.addEventListener("blur",ut)},qt(kt,ct),Ur(kt,"_borderLineWidth",-1),Ur(kt,"_colorManager",new a.ColorManager),Ur(kt,"_zIndex",1),Ur(kt,"SMALL_EDITOR_SIZE",0);let d=kt;s.AnnotationEditor=d;class _ extends d{constructor(bt){super(bt),this.annotationElementId=bt.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,s,i)=>{var mt,at,xt,lt,b,Us,dt,st,pt,g,tt,Tn,nt,ft,vt,Dt,Tt,Mt,kt,Rt,bt,Nt,Ft,jt,ut,ht,yt,St,At,Ct,Ut,Wt,Qt,Zt,nr,Gt,rr,Vt,Bt,Et,Pt,zt,Ht,tr,ar,ir,It,Ln,zs,$s,vs,Vs,Bs,Gr,ls,Mn,Fn,Ws,cs,Hs;Object.defineProperty(s,"__esModule",{value:!0}),s.KeyboardManager=s.CommandManager=s.ColorManager=s.AnnotationEditorUIManager=void 0,s.bindEvents=c,s.opacityToHex=d;var a=i(1),o=i(6);function c(Nr,Lt,sr){for(const pr of sr)Lt.addEventListener(pr,Nr[pr].bind(Nr))}function d(Nr){return Math.round(Math.min(255,Math.max(1,255*Nr))).toString(16).padStart(2,"0")}class _{constructor(){qt(this,mt,0)}getId(){return`${a.AnnotationEditorPrefix}${os(this,mt)._++}`}}mt=new WeakMap;const rt=class rt{constructor(){qt(this,b);qt(this,at,(0,a.getUuid)());qt(this,xt,0);qt(this,lt,null)}static get _isSVGFittingCanvas(){const Lt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',pr=new OffscreenCanvas(1,3).getContext("2d"),vr=new Image;vr.src=Lt;const wr=vr.decode().then(()=>(pr.drawImage(vr,0,0,1,1,0,0,1,3),new Uint32Array(pr.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,a.shadow)(this,"_isSVGFittingCanvas",wr)}async getFromFile(Lt){const{lastModified:sr,name:pr,size:vr,type:wr}=Lt;return $t(this,b,Us).call(this,`${sr}_${pr}_${vr}_${wr}`,Lt)}async getFromUrl(Lt){return $t(this,b,Us).call(this,Lt,Lt)}async getFromId(Lt){et(this,lt)||Kt(this,lt,new Map);const sr=et(this,lt).get(Lt);return sr?sr.bitmap?(sr.refCounter+=1,sr):sr.file?this.getFromFile(sr.file):this.getFromUrl(sr.url):null}getSvgUrl(Lt){const sr=et(this,lt).get(Lt);return sr!=null&&sr.isSvg?sr.svgUrl:null}deleteId(Lt){et(this,lt)||Kt(this,lt,new Map);const sr=et(this,lt).get(Lt);sr&&(sr.refCounter-=1,sr.refCounter===0&&(sr.bitmap=null))}isValidId(Lt){return Lt.startsWith(`image_${et(this,at)}_`)}};at=new WeakMap,xt=new WeakMap,lt=new WeakMap,b=new WeakSet,Us=async function(Lt,sr){et(this,lt)||Kt(this,lt,new Map);let pr=et(this,lt).get(Lt);if(pr===null)return null;if(pr!=null&&pr.bitmap)return pr.refCounter+=1,pr;try{pr||(pr={bitmap:null,id:`image_${et(this,at)}_${os(this,xt)._++}`,refCounter:0,isSvg:!1});let vr;if(typeof sr=="string"){pr.url=sr;const wr=await fetch(sr);if(!wr.ok)throw new Error(wr.statusText);vr=await wr.blob()}else vr=pr.file=sr;if(vr.type==="image/svg+xml"){const wr=rt._isSVGFittingCanvas,fr=new FileReader,_t=new Image,wt=new Promise((Ot,Jt)=>{_t.onload=()=>{pr.bitmap=_t,pr.isSvg=!0,Ot()},fr.onload=async()=>{const er=pr.svgUrl=fr.result;_t.src=await wr?`${er}#svgView(preserveAspectRatio(none))`:er},_t.onerror=fr.onerror=Jt});fr.readAsDataURL(vr),await wt}else pr.bitmap=await createImageBitmap(vr);pr.refCounter=1}catch(vr){console.error(vr),pr=null}return et(this,lt).set(Lt,pr),pr&&et(this,lt).set(pr.id,pr),pr};let h=rt;class j{constructor(Lt=128){qt(this,dt,[]);qt(this,st,!1);qt(this,pt);qt(this,g,-1);Kt(this,pt,Lt)}add({cmd:Lt,undo:sr,mustExec:pr,type:vr=NaN,overwriteIfSameType:wr=!1,keepUndo:fr=!1}){if(pr&&Lt(),et(this,st))return;const _t={cmd:Lt,undo:sr,type:vr};if(et(this,g)===-1){et(this,dt).length>0&&(et(this,dt).length=0),Kt(this,g,0),et(this,dt).push(_t);return}if(wr&&et(this,dt)[et(this,g)].type===vr){fr&&(_t.undo=et(this,dt)[et(this,g)].undo),et(this,dt)[et(this,g)]=_t;return}const wt=et(this,g)+1;wt===et(this,pt)?et(this,dt).splice(0,1):(Kt(this,g,wt),wt<et(this,dt).length&&et(this,dt).splice(wt)),et(this,dt).push(_t)}undo(){et(this,g)!==-1&&(Kt(this,st,!0),et(this,dt)[et(this,g)].undo(),Kt(this,st,!1),Kt(this,g,et(this,g)-1))}redo(){et(this,g)<et(this,dt).length-1&&(Kt(this,g,et(this,g)+1),Kt(this,st,!0),et(this,dt)[et(this,g)].cmd(),Kt(this,st,!1))}hasSomethingToUndo(){return et(this,g)!==-1}hasSomethingToRedo(){return et(this,g)<et(this,dt).length-1}destroy(){Kt(this,dt,null)}}dt=new WeakMap,st=new WeakMap,pt=new WeakMap,g=new WeakMap,s.CommandManager=j;class ${constructor(Lt){qt(this,tt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:sr}=a.FeatureTest.platform;for(const[pr,vr,wr={}]of Lt)for(const fr of pr){const _t=fr.startsWith("mac+");sr&&_t?(this.callbacks.set(fr.slice(4),{callback:vr,options:wr}),this.allKeys.add(fr.split("+").at(-1))):!sr&&!_t&&(this.callbacks.set(fr,{callback:vr,options:wr}),this.allKeys.add(fr.split("+").at(-1)))}}exec(Lt,sr){if(!this.allKeys.has(sr.key))return;const pr=this.callbacks.get($t(this,tt,Tn).call(this,sr));if(!pr)return;const{callback:vr,options:{bubbles:wr=!1,args:fr=[],checker:_t=null}}=pr;_t&&!_t(Lt,sr)||(vr.bind(Lt,...fr)(),wr||(sr.stopPropagation(),sr.preventDefault()))}}tt=new WeakSet,Tn=function(Lt){Lt.altKey&&this.buffer.push("alt"),Lt.ctrlKey&&this.buffer.push("ctrl"),Lt.metaKey&&this.buffer.push("meta"),Lt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Lt.key);const sr=this.buffer.join("+");return this.buffer.length=0,sr},s.KeyboardManager=$;const gt=class gt{get _colors(){const Lt=new Map([["CanvasText",null],["Canvas",null]]);return(0,o.getColorValues)(Lt),(0,a.shadow)(this,"_colors",Lt)}convert(Lt){const sr=(0,o.getRGB)(Lt);if(!window.matchMedia("(forced-colors: active)").matches)return sr;for(const[pr,vr]of this._colors)if(vr.every((wr,fr)=>wr===sr[fr]))return gt._colorsMapping.get(pr);return sr}getHexCode(Lt){const sr=this._colors.get(Lt);return sr?a.Util.makeHexColor(...sr):Lt}};Ur(gt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let it=gt;s.ColorManager=it;const Fr=class Fr{constructor(Lt,sr,pr,vr,wr,fr){qt(this,It);qt(this,nt,null);qt(this,ft,new Map);qt(this,vt,new Map);qt(this,Dt,null);qt(this,Tt,null);qt(this,Mt,new j);qt(this,kt,0);qt(this,Rt,new Set);qt(this,bt,null);qt(this,Nt,null);qt(this,Ft,new Set);qt(this,jt,null);qt(this,ut,new _);qt(this,ht,!1);qt(this,yt,!1);qt(this,St,null);qt(this,At,a.AnnotationEditorType.NONE);qt(this,Ct,new Set);qt(this,Ut,null);qt(this,Wt,this.blur.bind(this));qt(this,Qt,this.focus.bind(this));qt(this,Zt,this.copy.bind(this));qt(this,nr,this.cut.bind(this));qt(this,Gt,this.paste.bind(this));qt(this,rr,this.keydown.bind(this));qt(this,Vt,this.onEditingAction.bind(this));qt(this,Bt,this.onPageChanging.bind(this));qt(this,Et,this.onScaleChanging.bind(this));qt(this,Pt,this.onRotationChanging.bind(this));qt(this,zt,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});qt(this,Ht,[0,0]);qt(this,tr,null);qt(this,ar,null);qt(this,ir,null);Kt(this,ar,Lt),Kt(this,ir,sr),Kt(this,Dt,pr),this._eventBus=vr,this._eventBus._on("editingaction",et(this,Vt)),this._eventBus._on("pagechanging",et(this,Bt)),this._eventBus._on("scalechanging",et(this,Et)),this._eventBus._on("rotationchanging",et(this,Pt)),Kt(this,Tt,wr.annotationStorage),Kt(this,jt,wr.filterFactory),Kt(this,Ut,fr),this.viewParameters={realScale:o.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Lt=Fr.prototype,sr=wr=>{const{activeElement:fr}=document;return fr&&et(wr,ar).contains(fr)&&wr.hasSomethingToControl()},pr=this.TRANSLATE_SMALL,vr=this.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new $([[["ctrl+a","mac+meta+a"],Lt.selectAll],[["ctrl+z","mac+meta+z"],Lt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Lt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Lt.delete],[["Escape","mac+Escape"],Lt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Lt.translateSelectedEditors,{args:[-pr,0],checker:sr}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Lt.translateSelectedEditors,{args:[-vr,0],checker:sr}],[["ArrowRight","mac+ArrowRight"],Lt.translateSelectedEditors,{args:[pr,0],checker:sr}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Lt.translateSelectedEditors,{args:[vr,0],checker:sr}],[["ArrowUp","mac+ArrowUp"],Lt.translateSelectedEditors,{args:[0,-pr],checker:sr}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Lt.translateSelectedEditors,{args:[0,-vr],checker:sr}],[["ArrowDown","mac+ArrowDown"],Lt.translateSelectedEditors,{args:[0,pr],checker:sr}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Lt.translateSelectedEditors,{args:[0,vr],checker:sr}]]))}destroy(){$t(this,It,vs).call(this),$t(this,It,zs).call(this),this._eventBus._off("editingaction",et(this,Vt)),this._eventBus._off("pagechanging",et(this,Bt)),this._eventBus._off("scalechanging",et(this,Et)),this._eventBus._off("rotationchanging",et(this,Pt));for(const Lt of et(this,vt).values())Lt.destroy();et(this,vt).clear(),et(this,ft).clear(),et(this,Ft).clear(),Kt(this,nt,null),et(this,Ct).clear(),et(this,Mt).destroy(),et(this,Dt).destroy()}get hcmFilter(){return(0,a.shadow)(this,"hcmFilter",et(this,Ut)?et(this,jt).addHCMFilter(et(this,Ut).foreground,et(this,Ut).background):"none")}get direction(){return(0,a.shadow)(this,"direction",getComputedStyle(et(this,ar)).direction)}editAltText(Lt){var sr;(sr=et(this,Dt))==null||sr.editAltText(this,Lt)}onPageChanging({pageNumber:Lt}){Kt(this,kt,Lt-1)}focusMainContainer(){et(this,ar).focus()}findParent(Lt,sr){for(const pr of et(this,vt).values()){const{x:vr,y:wr,width:fr,height:_t}=pr.div.getBoundingClientRect();if(Lt>=vr&&Lt<=vr+fr&&sr>=wr&&sr<=wr+_t)return pr}return null}disableUserSelect(Lt=!1){et(this,ir).classList.toggle("noUserSelect",Lt)}addShouldRescale(Lt){et(this,Ft).add(Lt)}removeShouldRescale(Lt){et(this,Ft).delete(Lt)}onScaleChanging({scale:Lt}){this.commitOrRemove(),this.viewParameters.realScale=Lt*o.PixelsPerInch.PDF_TO_CSS_UNITS;for(const sr of et(this,Ft))sr.onScaleChanging()}onRotationChanging({pagesRotation:Lt}){this.commitOrRemove(),this.viewParameters.rotation=Lt}addToAnnotationStorage(Lt){!Lt.isEmpty()&&et(this,Tt)&&!et(this,Tt).has(Lt.id)&&et(this,Tt).setValue(Lt.id,Lt)}blur(){if(!this.hasSelection)return;const{activeElement:Lt}=document;for(const sr of et(this,Ct))if(sr.div.contains(Lt)){Kt(this,St,[sr,Lt]),sr._focusEventsAllowed=!1;break}}focus(){if(!et(this,St))return;const[Lt,sr]=et(this,St);Kt(this,St,null),sr.addEventListener("focusin",()=>{Lt._focusEventsAllowed=!0},{once:!0}),sr.focus()}addEditListeners(){$t(this,It,$s).call(this),$t(this,It,Vs).call(this)}removeEditListeners(){$t(this,It,vs).call(this),$t(this,It,Bs).call(this)}copy(Lt){var pr;if(Lt.preventDefault(),(pr=et(this,nt))==null||pr.commitOrRemove(),!this.hasSelection)return;const sr=[];for(const vr of et(this,Ct)){const wr=vr.serialize(!0);wr&&sr.push(wr)}sr.length!==0&&Lt.clipboardData.setData("application/pdfjs",JSON.stringify(sr))}cut(Lt){this.copy(Lt),this.delete()}paste(Lt){Lt.preventDefault();const{clipboardData:sr}=Lt;for(const wr of sr.items)for(const fr of et(this,Nt))if(fr.isHandlingMimeForPasting(wr.type)){fr.paste(wr,this.currentLayer);return}let pr=sr.getData("application/pdfjs");if(!pr)return;try{pr=JSON.parse(pr)}catch(wr){(0,a.warn)(`paste: "${wr.message}".`);return}if(!Array.isArray(pr))return;this.unselectAll();const vr=this.currentLayer;try{const wr=[];for(const wt of pr){const Ot=vr.deserialize(wt);if(!Ot)return;wr.push(Ot)}const fr=()=>{for(const wt of wr)$t(this,It,Ws).call(this,wt);$t(this,It,Hs).call(this,wr)},_t=()=>{for(const wt of wr)wt.remove()};this.addCommands({cmd:fr,undo:_t,mustExec:!0})}catch(wr){(0,a.warn)(`paste: "${wr.message}".`)}}keydown(Lt){var sr;(sr=this.getActive())!=null&&sr.shouldGetKeyboardEvents()||Fr._keyboardManager.exec(this,Lt)}onEditingAction(Lt){["undo","redo","delete","selectAll"].includes(Lt.name)&&this[Lt.name]()}setEditingState(Lt){Lt?($t(this,It,Ln).call(this),$t(this,It,$s).call(this),$t(this,It,Vs).call(this),$t(this,It,Gr).call(this,{isEditing:et(this,At)!==a.AnnotationEditorType.NONE,isEmpty:$t(this,It,cs).call(this),hasSomethingToUndo:et(this,Mt).hasSomethingToUndo(),hasSomethingToRedo:et(this,Mt).hasSomethingToRedo(),hasSelectedEditor:!1})):($t(this,It,zs).call(this),$t(this,It,vs).call(this),$t(this,It,Bs).call(this),$t(this,It,Gr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Lt){if(!et(this,Nt)){Kt(this,Nt,Lt);for(const sr of et(this,Nt))$t(this,It,ls).call(this,sr.defaultPropertiesToUpdate)}}getId(){return et(this,ut).getId()}get currentLayer(){return et(this,vt).get(et(this,kt))}getLayer(Lt){return et(this,vt).get(Lt)}get currentPageIndex(){return et(this,kt)}addLayer(Lt){et(this,vt).set(Lt.pageIndex,Lt),et(this,ht)?Lt.enable():Lt.disable()}removeLayer(Lt){et(this,vt).delete(Lt.pageIndex)}updateMode(Lt,sr=null){if(et(this,At)!==Lt){if(Kt(this,At,Lt),Lt===a.AnnotationEditorType.NONE){this.setEditingState(!1),$t(this,It,Fn).call(this);return}this.setEditingState(!0),$t(this,It,Mn).call(this),this.unselectAll();for(const pr of et(this,vt).values())pr.updateMode(Lt);if(sr){for(const pr of et(this,ft).values())if(pr.annotationElementId===sr){this.setSelected(pr),pr.enterInEditMode();break}}}}updateToolbar(Lt){Lt!==et(this,At)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Lt})}updateParams(Lt,sr){if(et(this,Nt)){if(Lt===a.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Lt);return}for(const pr of et(this,Ct))pr.updateParams(Lt,sr);for(const pr of et(this,Nt))pr.updateDefaultParams(Lt,sr)}}enableWaiting(Lt=!1){if(et(this,yt)!==Lt){Kt(this,yt,Lt);for(const sr of et(this,vt).values())Lt?sr.disableClick():sr.enableClick(),sr.div.classList.toggle("waiting",Lt)}}getEditors(Lt){const sr=[];for(const pr of et(this,ft).values())pr.pageIndex===Lt&&sr.push(pr);return sr}getEditor(Lt){return et(this,ft).get(Lt)}addEditor(Lt){et(this,ft).set(Lt.id,Lt)}removeEditor(Lt){var sr;et(this,ft).delete(Lt.id),this.unselect(Lt),(!Lt.annotationElementId||!et(this,Rt).has(Lt.annotationElementId))&&((sr=et(this,Tt))==null||sr.remove(Lt.id))}addDeletedAnnotationElement(Lt){et(this,Rt).add(Lt.annotationElementId),Lt.deleted=!0}isDeletedAnnotationElement(Lt){return et(this,Rt).has(Lt)}removeDeletedAnnotationElement(Lt){et(this,Rt).delete(Lt.annotationElementId),Lt.deleted=!1}setActiveEditor(Lt){et(this,nt)!==Lt&&(Kt(this,nt,Lt),Lt&&$t(this,It,ls).call(this,Lt.propertiesToUpdate))}toggleSelected(Lt){if(et(this,Ct).has(Lt)){et(this,Ct).delete(Lt),Lt.unselect(),$t(this,It,Gr).call(this,{hasSelectedEditor:this.hasSelection});return}et(this,Ct).add(Lt),Lt.select(),$t(this,It,ls).call(this,Lt.propertiesToUpdate),$t(this,It,Gr).call(this,{hasSelectedEditor:!0})}setSelected(Lt){for(const sr of et(this,Ct))sr!==Lt&&sr.unselect();et(this,Ct).clear(),et(this,Ct).add(Lt),Lt.select(),$t(this,It,ls).call(this,Lt.propertiesToUpdate),$t(this,It,Gr).call(this,{hasSelectedEditor:!0})}isSelected(Lt){return et(this,Ct).has(Lt)}unselect(Lt){Lt.unselect(),et(this,Ct).delete(Lt),$t(this,It,Gr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return et(this,Ct).size!==0}undo(){et(this,Mt).undo(),$t(this,It,Gr).call(this,{hasSomethingToUndo:et(this,Mt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:$t(this,It,cs).call(this)})}redo(){et(this,Mt).redo(),$t(this,It,Gr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:et(this,Mt).hasSomethingToRedo(),isEmpty:$t(this,It,cs).call(this)})}addCommands(Lt){et(this,Mt).add(Lt),$t(this,It,Gr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:$t(this,It,cs).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Lt=[...et(this,Ct)],sr=()=>{for(const vr of Lt)vr.remove()},pr=()=>{for(const vr of Lt)$t(this,It,Ws).call(this,vr)};this.addCommands({cmd:sr,undo:pr,mustExec:!0})}commitOrRemove(){var Lt;(Lt=et(this,nt))==null||Lt.commitOrRemove()}hasSomethingToControl(){return et(this,nt)||this.hasSelection}selectAll(){for(const Lt of et(this,Ct))Lt.commit();$t(this,It,Hs).call(this,et(this,ft).values())}unselectAll(){if(et(this,nt)){et(this,nt).commitOrRemove();return}if(this.hasSelection){for(const Lt of et(this,Ct))Lt.unselect();et(this,Ct).clear(),$t(this,It,Gr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Lt,sr,pr=!1){if(pr||this.commitOrRemove(),!this.hasSelection)return;et(this,Ht)[0]+=Lt,et(this,Ht)[1]+=sr;const[vr,wr]=et(this,Ht),fr=[...et(this,Ct)],_t=1e3;et(this,tr)&&clearTimeout(et(this,tr)),Kt(this,tr,setTimeout(()=>{Kt(this,tr,null),et(this,Ht)[0]=et(this,Ht)[1]=0,this.addCommands({cmd:()=>{for(const wt of fr)et(this,ft).has(wt.id)&&wt.translateInPage(vr,wr)},undo:()=>{for(const wt of fr)et(this,ft).has(wt.id)&&wt.translateInPage(-vr,-wr)},mustExec:!1})},_t));for(const wt of fr)wt.translateInPage(Lt,sr)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Kt(this,bt,new Map);for(const Lt of et(this,Ct))et(this,bt).set(Lt,{savedX:Lt.x,savedY:Lt.y,savedPageIndex:Lt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!et(this,bt))return!1;this.disableUserSelect(!1);const Lt=et(this,bt);Kt(this,bt,null);let sr=!1;for(const[{x:vr,y:wr,pageIndex:fr},_t]of Lt)_t.newX=vr,_t.newY=wr,_t.newPageIndex=fr,sr||(sr=vr!==_t.savedX||wr!==_t.savedY||fr!==_t.savedPageIndex);if(!sr)return!1;const pr=(vr,wr,fr,_t)=>{if(et(this,ft).has(vr.id)){const wt=et(this,vt).get(_t);wt?vr._setParentAndPosition(wt,wr,fr):(vr.pageIndex=_t,vr.x=wr,vr.y=fr)}};return this.addCommands({cmd:()=>{for(const[vr,{newX:wr,newY:fr,newPageIndex:_t}]of Lt)pr(vr,wr,fr,_t)},undo:()=>{for(const[vr,{savedX:wr,savedY:fr,savedPageIndex:_t}]of Lt)pr(vr,wr,fr,_t)},mustExec:!0}),!0}dragSelectedEditors(Lt,sr){if(et(this,bt))for(const pr of et(this,bt).keys())pr.drag(Lt,sr)}rebuild(Lt){if(Lt.parent===null){const sr=this.getLayer(Lt.pageIndex);sr?(sr.changeParent(Lt),sr.addOrRebuild(Lt)):(this.addEditor(Lt),this.addToAnnotationStorage(Lt),Lt.rebuild())}else Lt.parent.addOrRebuild(Lt)}isActive(Lt){return et(this,nt)===Lt}getActive(){return et(this,nt)}getMode(){return et(this,At)}get imageManager(){return(0,a.shadow)(this,"imageManager",new h)}};nt=new WeakMap,ft=new WeakMap,vt=new WeakMap,Dt=new WeakMap,Tt=new WeakMap,Mt=new WeakMap,kt=new WeakMap,Rt=new WeakMap,bt=new WeakMap,Nt=new WeakMap,Ft=new WeakMap,jt=new WeakMap,ut=new WeakMap,ht=new WeakMap,yt=new WeakMap,St=new WeakMap,At=new WeakMap,Ct=new WeakMap,Ut=new WeakMap,Wt=new WeakMap,Qt=new WeakMap,Zt=new WeakMap,nr=new WeakMap,Gt=new WeakMap,rr=new WeakMap,Vt=new WeakMap,Bt=new WeakMap,Et=new WeakMap,Pt=new WeakMap,zt=new WeakMap,Ht=new WeakMap,tr=new WeakMap,ar=new WeakMap,ir=new WeakMap,It=new WeakSet,Ln=function(){window.addEventListener("focus",et(this,Qt)),window.addEventListener("blur",et(this,Wt))},zs=function(){window.removeEventListener("focus",et(this,Qt)),window.removeEventListener("blur",et(this,Wt))},$s=function(){window.addEventListener("keydown",et(this,rr),{capture:!0})},vs=function(){window.removeEventListener("keydown",et(this,rr),{capture:!0})},Vs=function(){document.addEventListener("copy",et(this,Zt)),document.addEventListener("cut",et(this,nr)),document.addEventListener("paste",et(this,Gt))},Bs=function(){document.removeEventListener("copy",et(this,Zt)),document.removeEventListener("cut",et(this,nr)),document.removeEventListener("paste",et(this,Gt))},Gr=function(Lt){Object.entries(Lt).some(([pr,vr])=>et(this,zt)[pr]!==vr)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(et(this,zt),Lt)})},ls=function(Lt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Lt})},Mn=function(){if(!et(this,ht)){Kt(this,ht,!0);for(const Lt of et(this,vt).values())Lt.enable()}},Fn=function(){if(this.unselectAll(),et(this,ht)){Kt(this,ht,!1);for(const Lt of et(this,vt).values())Lt.disable()}},Ws=function(Lt){const sr=et(this,vt).get(Lt.pageIndex);sr?sr.addOrRebuild(Lt):this.addEditor(Lt)},cs=function(){if(et(this,ft).size===0)return!0;if(et(this,ft).size===1)for(const Lt of et(this,ft).values())return Lt.isEmpty();return!1},Hs=function(Lt){et(this,Ct).clear();for(const sr of Lt)sr.isEmpty()||(et(this,Ct).add(sr),sr.select());$t(this,It,Gr).call(this,{hasSelectedEditor:!0})},Ur(Fr,"TRANSLATE_SMALL",1),Ur(Fr,"TRANSLATE_BIG",10);let ot=Fr;s.AnnotationEditorUIManager=ot},(e,s,i)=>{var kt,Rt,bt,Nt,Ft,jt,ut,ht,yt,St,At,Ct,rs,ss,Gs,Es,js,us,ds;Object.defineProperty(s,"__esModule",{value:!0}),s.StatTimer=s.RenderingCancelledException=s.PixelsPerInch=s.PageViewport=s.PDFDateString=s.DOMStandardFontDataFactory=s.DOMSVGFactory=s.DOMFilterFactory=s.DOMCanvasFactory=s.DOMCMapReaderFactory=void 0,s.deprecated=g,s.getColorValues=ft,s.getCurrentTransform=vt,s.getCurrentTransformInverse=Dt,s.getFilenameFromUrl=b,s.getPdfFilenameFromUrl=_e,s.getRGB=nt,s.getXfaPageViewport=gt,s.isDataScheme=xt,s.isPdfFile=lt,s.isValidFetchUrl=dt,s.loadScript=pt,s.noContextMenu=st,s.setLayerDimensions=Tt;var a=i(7),o=i(1);const c="http://www.w3.org/2000/svg",Mt=class Mt{};Ur(Mt,"CSS",96),Ur(Mt,"PDF",72),Ur(Mt,"PDF_TO_CSS_UNITS",Mt.CSS/Mt.PDF);let d=Mt;s.PixelsPerInch=d;class _ extends a.BaseFilterFactory{constructor({docId:Et,ownerDocument:Pt=globalThis.document}={}){super();qt(this,Ct);qt(this,kt);qt(this,Rt);qt(this,bt);qt(this,Nt);qt(this,Ft);qt(this,jt);qt(this,ut);qt(this,ht);qt(this,yt);qt(this,St);qt(this,At,0);Kt(this,bt,Et),Kt(this,Nt,Pt)}addFilter(Et){if(!Et)return"none";let Pt=et(this,Ct,rs).get(Et);if(Pt)return Pt;let zt,Ht,tr,ar;if(Et.length===1){const dr=Et[0],_r=new Array(256);for(let Ar=0;Ar<256;Ar++)_r[Ar]=dr[Ar]/255;ar=zt=Ht=tr=_r.join(",")}else{const[dr,_r,Ar]=Et,Mr=new Array(256),gr=new Array(256),kr=new Array(256);for(let Cr=0;Cr<256;Cr++)Mr[Cr]=dr[Cr]/255,gr[Cr]=_r[Cr]/255,kr[Cr]=Ar[Cr]/255;zt=Mr.join(","),Ht=gr.join(","),tr=kr.join(","),ar=`${zt}${Ht}${tr}`}if(Pt=et(this,Ct,rs).get(ar),Pt)return et(this,Ct,rs).set(Et,Pt),Pt;const ir=`g_${et(this,bt)}_transfer_map_${os(this,At)._++}`,It=`url(#${ir})`;et(this,Ct,rs).set(Et,It),et(this,Ct,rs).set(ar,It);const hr=$t(this,Ct,Es).call(this,ir);return $t(this,Ct,us).call(this,zt,Ht,tr,hr),It}addHCMFilter(Et,Pt){var _r;const zt=`${Et}-${Pt}`;if(et(this,jt)===zt)return et(this,ut);if(Kt(this,jt,zt),Kt(this,ut,"none"),(_r=et(this,Ft))==null||_r.remove(),!Et||!Pt)return et(this,ut);const Ht=$t(this,Ct,ds).call(this,Et);Et=o.Util.makeHexColor(...Ht);const tr=$t(this,Ct,ds).call(this,Pt);if(Pt=o.Util.makeHexColor(...tr),et(this,Ct,ss).style.color="",Et==="#000000"&&Pt==="#ffffff"||Et===Pt)return et(this,ut);const ar=new Array(256);for(let Ar=0;Ar<=255;Ar++){const Mr=Ar/255;ar[Ar]=Mr<=.03928?Mr/12.92:((Mr+.055)/1.055)**2.4}const ir=ar.join(","),It=`g_${et(this,bt)}_hcm_filter`,hr=Kt(this,ht,$t(this,Ct,Es).call(this,It));$t(this,Ct,us).call(this,ir,ir,ir,hr),$t(this,Ct,Gs).call(this,hr);const dr=(Ar,Mr)=>{const gr=Ht[Ar]/255,kr=tr[Ar]/255,Cr=new Array(Mr+1);for(let Dr=0;Dr<=Mr;Dr++)Cr[Dr]=gr+Dr/Mr*(kr-gr);return Cr.join(",")};return $t(this,Ct,us).call(this,dr(0,5),dr(1,5),dr(2,5),hr),Kt(this,ut,`url(#${It})`),et(this,ut)}addHighlightHCMFilter(Et,Pt,zt,Ht){var kr;const tr=`${Et}-${Pt}-${zt}-${Ht}`;if(et(this,yt)===tr)return et(this,St);if(Kt(this,yt,tr),Kt(this,St,"none"),(kr=et(this,ht))==null||kr.remove(),!Et||!Pt)return et(this,St);const[ar,ir]=[Et,Pt].map($t(this,Ct,ds).bind(this));let It=Math.round(.2126*ar[0]+.7152*ar[1]+.0722*ar[2]),hr=Math.round(.2126*ir[0]+.7152*ir[1]+.0722*ir[2]),[dr,_r]=[zt,Ht].map($t(this,Ct,ds).bind(this));hr<It&&([It,hr,dr,_r]=[hr,It,_r,dr]),et(this,Ct,ss).style.color="";const Ar=(Cr,Dr,lr)=>{const Xt=new Array(256),Yt=(hr-It)/lr,xr=Cr/255,Fr=(Dr-Cr)/(255*lr);let Nr=0;for(let Lt=0;Lt<=lr;Lt++){const sr=Math.round(It+Lt*Yt),pr=xr+Lt*Fr;for(let vr=Nr;vr<=sr;vr++)Xt[vr]=pr;Nr=sr+1}for(let Lt=Nr;Lt<256;Lt++)Xt[Lt]=Xt[Nr-1];return Xt.join(",")},Mr=`g_${et(this,bt)}_hcm_highlight_filter`,gr=Kt(this,ht,$t(this,Ct,Es).call(this,Mr));return $t(this,Ct,Gs).call(this,gr),$t(this,Ct,us).call(this,Ar(dr[0],_r[0],5),Ar(dr[1],_r[1],5),Ar(dr[2],_r[2],5),gr),Kt(this,St,`url(#${Mr})`),et(this,St)}destroy(Et=!1){Et&&(et(this,ut)||et(this,St))||(et(this,Rt)&&(et(this,Rt).parentNode.parentNode.remove(),Kt(this,Rt,null)),et(this,kt)&&(et(this,kt).clear(),Kt(this,kt,null)),Kt(this,At,0))}}kt=new WeakMap,Rt=new WeakMap,bt=new WeakMap,Nt=new WeakMap,Ft=new WeakMap,jt=new WeakMap,ut=new WeakMap,ht=new WeakMap,yt=new WeakMap,St=new WeakMap,At=new WeakMap,Ct=new WeakSet,rs=function(){return et(this,kt)||Kt(this,kt,new Map)},ss=function(){if(!et(this,Rt)){const Et=et(this,Nt).createElement("div"),{style:Pt}=Et;Pt.visibility="hidden",Pt.contain="strict",Pt.width=Pt.height=0,Pt.position="absolute",Pt.top=Pt.left=0,Pt.zIndex=-1;const zt=et(this,Nt).createElementNS(c,"svg");zt.setAttribute("width",0),zt.setAttribute("height",0),Kt(this,Rt,et(this,Nt).createElementNS(c,"defs")),Et.append(zt),zt.append(et(this,Rt)),et(this,Nt).body.append(Et)}return et(this,Rt)},Gs=function(Et){const Pt=et(this,Nt).createElementNS(c,"feColorMatrix");Pt.setAttribute("type","matrix"),Pt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Et.append(Pt)},Es=function(Et){const Pt=et(this,Nt).createElementNS(c,"filter");return Pt.setAttribute("color-interpolation-filters","sRGB"),Pt.setAttribute("id",Et),et(this,Ct,ss).append(Pt),Pt},js=function(Et,Pt,zt){const Ht=et(this,Nt).createElementNS(c,Pt);Ht.setAttribute("type","discrete"),Ht.setAttribute("tableValues",zt),Et.append(Ht)},us=function(Et,Pt,zt,Ht){const tr=et(this,Nt).createElementNS(c,"feComponentTransfer");Ht.append(tr),$t(this,Ct,js).call(this,tr,"feFuncR",Et),$t(this,Ct,js).call(this,tr,"feFuncG",Pt),$t(this,Ct,js).call(this,tr,"feFuncB",zt)},ds=function(Et){return et(this,Ct,ss).style.color=Et,nt(getComputedStyle(et(this,Ct,ss)).getPropertyValue("color"))},s.DOMFilterFactory=_;class h extends a.BaseCanvasFactory{constructor({ownerDocument:Bt=globalThis.document}={}){super(),this._document=Bt}_createCanvas(Bt,Et){const Pt=this._document.createElement("canvas");return Pt.width=Bt,Pt.height=Et,Pt}}s.DOMCanvasFactory=h;async function j(Vt,Bt=!1){if(dt(Vt,document.baseURI)){const Et=await fetch(Vt);if(!Et.ok)throw new Error(Et.statusText);return Bt?new Uint8Array(await Et.arrayBuffer()):(0,o.stringToBytes)(await Et.text())}return new Promise((Et,Pt)=>{const zt=new XMLHttpRequest;zt.open("GET",Vt,!0),Bt&&(zt.responseType="arraybuffer"),zt.onreadystatechange=()=>{if(zt.readyState===XMLHttpRequest.DONE){if(zt.status===200||zt.status===0){let Ht;if(Bt&&zt.response?Ht=new Uint8Array(zt.response):!Bt&&zt.responseText&&(Ht=(0,o.stringToBytes)(zt.responseText)),Ht){Et(Ht);return}}Pt(new Error(zt.statusText))}},zt.send(null)})}class $ extends a.BaseCMapReaderFactory{_fetchData(Bt,Et){return j(Bt,this.isCompressed).then(Pt=>({cMapData:Pt,compressionType:Et}))}}s.DOMCMapReaderFactory=$;class it extends a.BaseStandardFontDataFactory{_fetchData(Bt){return j(Bt,!0)}}s.DOMStandardFontDataFactory=it;class ot extends a.BaseSVGFactory{_createSVG(Bt){return document.createElementNS(c,Bt)}}s.DOMSVGFactory=ot;class mt{constructor({viewBox:Bt,scale:Et,rotation:Pt,offsetX:zt=0,offsetY:Ht=0,dontFlip:tr=!1}){this.viewBox=Bt,this.scale=Et,this.rotation=Pt,this.offsetX=zt,this.offsetY=Ht;const ar=(Bt[2]+Bt[0])/2,ir=(Bt[3]+Bt[1])/2;let It,hr,dr,_r;switch(Pt%=360,Pt<0&&(Pt+=360),Pt){case 180:It=-1,hr=0,dr=0,_r=1;break;case 90:It=0,hr=1,dr=1,_r=0;break;case 270:It=0,hr=-1,dr=-1,_r=0;break;case 0:It=1,hr=0,dr=0,_r=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}tr&&(dr=-dr,_r=-_r);let Ar,Mr,gr,kr;It===0?(Ar=Math.abs(ir-Bt[1])*Et+zt,Mr=Math.abs(ar-Bt[0])*Et+Ht,gr=(Bt[3]-Bt[1])*Et,kr=(Bt[2]-Bt[0])*Et):(Ar=Math.abs(ar-Bt[0])*Et+zt,Mr=Math.abs(ir-Bt[1])*Et+Ht,gr=(Bt[2]-Bt[0])*Et,kr=(Bt[3]-Bt[1])*Et),this.transform=[It*Et,hr*Et,dr*Et,_r*Et,Ar-It*Et*ar-dr*Et*ir,Mr-hr*Et*ar-_r*Et*ir],this.width=gr,this.height=kr}get rawDims(){const{viewBox:Bt}=this;return(0,o.shadow)(this,"rawDims",{pageWidth:Bt[2]-Bt[0],pageHeight:Bt[3]-Bt[1],pageX:Bt[0],pageY:Bt[1]})}clone({scale:Bt=this.scale,rotation:Et=this.rotation,offsetX:Pt=this.offsetX,offsetY:zt=this.offsetY,dontFlip:Ht=!1}={}){return new mt({viewBox:this.viewBox.slice(),scale:Bt,rotation:Et,offsetX:Pt,offsetY:zt,dontFlip:Ht})}convertToViewportPoint(Bt,Et){return o.Util.applyTransform([Bt,Et],this.transform)}convertToViewportRectangle(Bt){const Et=o.Util.applyTransform([Bt[0],Bt[1]],this.transform),Pt=o.Util.applyTransform([Bt[2],Bt[3]],this.transform);return[Et[0],Et[1],Pt[0],Pt[1]]}convertToPdfPoint(Bt,Et){return o.Util.applyInverseTransform([Bt,Et],this.transform)}}s.PageViewport=mt;class at extends o.BaseException{constructor(Bt,Et=0){super(Bt,"RenderingCancelledException"),this.extraDelay=Et}}s.RenderingCancelledException=at;function xt(Vt){const Bt=Vt.length;let Et=0;for(;Et<Bt&&Vt[Et].trim()==="";)Et++;return Vt.substring(Et,Et+5).toLowerCase()==="data:"}function lt(Vt){return typeof Vt=="string"&&/\.pdf$/i.test(Vt)}function b(Vt,Bt=!1){return Bt||([Vt]=Vt.split(/[#?]/,1)),Vt.substring(Vt.lastIndexOf("/")+1)}function _e(Vt,Bt="document.pdf"){if(typeof Vt!="string")return Bt;if(xt(Vt))return(0,o.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Bt;const Et=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Pt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,zt=Et.exec(Vt);let Ht=Pt.exec(zt[1])||Pt.exec(zt[2])||Pt.exec(zt[3]);if(Ht&&(Ht=Ht[0],Ht.includes("%")))try{Ht=Pt.exec(decodeURIComponent(Ht))[0]}catch{}return Ht||Bt}class rt{constructor(){Ur(this,"started",Object.create(null));Ur(this,"times",[])}time(Bt){Bt in this.started&&(0,o.warn)(`Timer is already running for ${Bt}`),this.started[Bt]=Date.now()}timeEnd(Bt){Bt in this.started||(0,o.warn)(`Timer has not been started for ${Bt}`),this.times.push({name:Bt,start:this.started[Bt],end:Date.now()}),delete this.started[Bt]}toString(){const Bt=[];let Et=0;for(const{name:Pt}of this.times)Et=Math.max(Pt.length,Et);for(const{name:Pt,start:zt,end:Ht}of this.times)Bt.push(`${Pt.padEnd(Et)} ${Ht-zt}ms
`);return Bt.join("")}}s.StatTimer=rt;function dt(Vt,Bt){try{const{protocol:Et}=Bt?new URL(Vt,Bt):new URL(Vt);return Et==="http:"||Et==="https:"}catch{return!1}}function st(Vt){Vt.preventDefault()}function pt(Vt,Bt=!1){return new Promise((Et,Pt)=>{const zt=document.createElement("script");zt.src=Vt,zt.onload=function(Ht){Bt&&zt.remove(),Et(Ht)},zt.onerror=function(){Pt(new Error(`Cannot load script at: ${zt.src}`))},(document.head||document.documentElement).append(zt)})}function g(Vt){console.log("Deprecated API usage: "+Vt)}let tt;class ct{static toDateObject(Bt){if(!Bt||typeof Bt!="string")return null;tt||(tt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Et=tt.exec(Bt);if(!Et)return null;const Pt=parseInt(Et[1],10);let zt=parseInt(Et[2],10);zt=zt>=1&&zt<=12?zt-1:0;let Ht=parseInt(Et[3],10);Ht=Ht>=1&&Ht<=31?Ht:1;let tr=parseInt(Et[4],10);tr=tr>=0&&tr<=23?tr:0;let ar=parseInt(Et[5],10);ar=ar>=0&&ar<=59?ar:0;let ir=parseInt(Et[6],10);ir=ir>=0&&ir<=59?ir:0;const It=Et[7]||"Z";let hr=parseInt(Et[8],10);hr=hr>=0&&hr<=23?hr:0;let dr=parseInt(Et[9],10)||0;return dr=dr>=0&&dr<=59?dr:0,It==="-"?(tr+=hr,ar+=dr):It==="+"&&(tr-=hr,ar-=dr),new Date(Date.UTC(Pt,zt,Ht,tr,ar,ir))}}s.PDFDateString=ct;function gt(Vt,{scale:Bt=1,rotation:Et=0}){const{width:Pt,height:zt}=Vt.attributes.style,Ht=[0,0,parseInt(Pt),parseInt(zt)];return new mt({viewBox:Ht,scale:Bt,rotation:Et})}function nt(Vt){if(Vt.startsWith("#")){const Bt=parseInt(Vt.slice(1),16);return[(Bt&16711680)>>16,(Bt&65280)>>8,Bt&255]}return Vt.startsWith("rgb(")?Vt.slice(4,-1).split(",").map(Bt=>parseInt(Bt)):Vt.startsWith("rgba(")?Vt.slice(5,-1).split(",").map(Bt=>parseInt(Bt)).slice(0,3):((0,o.warn)(`Not a valid color format: "${Vt}"`),[0,0,0])}function ft(Vt){const Bt=document.createElement("span");Bt.style.visibility="hidden",document.body.append(Bt);for(const Et of Vt.keys()){Bt.style.color=Et;const Pt=window.getComputedStyle(Bt).color;Vt.set(Et,nt(Pt))}Bt.remove()}function vt(Vt){const{a:Bt,b:Et,c:Pt,d:zt,e:Ht,f:tr}=Vt.getTransform();return[Bt,Et,Pt,zt,Ht,tr]}function Dt(Vt){const{a:Bt,b:Et,c:Pt,d:zt,e:Ht,f:tr}=Vt.getTransform().invertSelf();return[Bt,Et,Pt,zt,Ht,tr]}function Tt(Vt,Bt,Et=!1,Pt=!0){if(Bt instanceof mt){const{pageWidth:zt,pageHeight:Ht}=Bt.rawDims,{style:tr}=Vt,ar=o.FeatureTest.isCSSRoundSupported,ir=`var(--scale-factor) * ${zt}px`,It=`var(--scale-factor) * ${Ht}px`,hr=ar?`round(${ir}, 1px)`:`calc(${ir})`,dr=ar?`round(${It}, 1px)`:`calc(${It})`;!Et||Bt.rotation%180===0?(tr.width=hr,tr.height=dr):(tr.width=dr,tr.height=hr)}Pt&&Vt.setAttribute("data-main-rotation",Bt.rotation)}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BaseStandardFontDataFactory=s.BaseSVGFactory=s.BaseFilterFactory=s.BaseCanvasFactory=s.BaseCMapReaderFactory=void 0;var a=i(1);class o{constructor(){this.constructor===o&&(0,a.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter($){return"none"}addHCMFilter($,it){return"none"}addHighlightHCMFilter($,it,ot,mt){return"none"}destroy($=!1){}}s.BaseFilterFactory=o;class c{constructor(){this.constructor===c&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}create($,it){if($<=0||it<=0)throw new Error("Invalid canvas size");const ot=this._createCanvas($,it);return{canvas:ot,context:ot.getContext("2d")}}reset($,it,ot){if(!$.canvas)throw new Error("Canvas is not specified");if(it<=0||ot<=0)throw new Error("Invalid canvas size");$.canvas.width=it,$.canvas.height=ot}destroy($){if(!$.canvas)throw new Error("Canvas is not specified");$.canvas.width=0,$.canvas.height=0,$.canvas=null,$.context=null}_createCanvas($,it){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}s.BaseCanvasFactory=c;class d{constructor({baseUrl:$=null,isCompressed:it=!0}){this.constructor===d&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=$,this.isCompressed=it}async fetch({name:$}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!$)throw new Error("CMap name must be specified.");const it=this.baseUrl+$+(this.isCompressed?".bcmap":""),ot=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;return this._fetchData(it,ot).catch(mt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${it}`)})}_fetchData($,it){(0,a.unreachable)("Abstract method `_fetchData` called.")}}s.BaseCMapReaderFactory=d;class _{constructor({baseUrl:$=null}){this.constructor===_&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=$}async fetch({filename:$}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!$)throw new Error("Font filename must be specified.");const it=`${this.baseUrl}${$}`;return this._fetchData(it).catch(ot=>{throw new Error(`Unable to load font data at: ${it}`)})}_fetchData($){(0,a.unreachable)("Abstract method `_fetchData` called.")}}s.BaseStandardFontDataFactory=_;class h{constructor(){this.constructor===h&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}create($,it,ot=!1){if($<=0||it<=0)throw new Error("Invalid SVG dimensions");const mt=this._createSVG("svg:svg");return mt.setAttribute("version","1.1"),ot||(mt.setAttribute("width",`${$}px`),mt.setAttribute("height",`${it}px`)),mt.setAttribute("preserveAspectRatio","none"),mt.setAttribute("viewBox",`0 0 ${$} ${it}`),mt}createElement($){if(typeof $!="string")throw new Error("Invalid SVG element type");return this._createSVG($)}_createSVG($){(0,a.unreachable)("Abstract method `_createSVG` called.")}}s.BaseSVGFactory=h},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MurmurHash3_64=void 0;var a=i(1);const o=3285377520,c=4294901760,d=65535;class _{constructor(j){this.h1=j?j&4294967295:o,this.h2=j?j&4294967295:o}update(j){let $,it;if(typeof j=="string"){$=new Uint8Array(j.length*2),it=0;for(let g=0,tt=j.length;g<tt;g++){const ct=j.charCodeAt(g);ct<=255?$[it++]=ct:($[it++]=ct>>>8,$[it++]=ct&255)}}else if((0,a.isArrayBuffer)(j))$=j.slice(),it=$.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ot=it>>2,mt=it-ot*4,at=new Uint32Array($.buffer,0,ot);let xt=0,lt=0,b=this.h1,_e=this.h2;const rt=3432918353,dt=461845907,st=rt&d,pt=dt&d;for(let g=0;g<ot;g++)g&1?(xt=at[g],xt=xt*rt&c|xt*st&d,xt=xt<<15|xt>>>17,xt=xt*dt&c|xt*pt&d,b^=xt,b=b<<13|b>>>19,b=b*5+3864292196):(lt=at[g],lt=lt*rt&c|lt*st&d,lt=lt<<15|lt>>>17,lt=lt*dt&c|lt*pt&d,_e^=lt,_e=_e<<13|_e>>>19,_e=_e*5+3864292196);switch(xt=0,mt){case 3:xt^=$[ot*4+2]<<16;case 2:xt^=$[ot*4+1]<<8;case 1:xt^=$[ot*4],xt=xt*rt&c|xt*st&d,xt=xt<<15|xt>>>17,xt=xt*dt&c|xt*pt&d,ot&1?b^=xt:_e^=xt}this.h1=b,this.h2=_e}hexdigest(){let j=this.h1,$=this.h2;return j^=$>>>1,j=j*3981806797&c|j*36045&d,$=$*4283543511&c|(($<<16|j>>>16)*2950163797&c)>>>16,j^=$>>>1,j=j*444984403&c|j*60499&d,$=$*3301882366&c|(($<<16|j>>>16)*3120437893&c)>>>16,j^=$>>>1,(j>>>0).toString(16).padStart(8,"0")+($>>>0).toString(16).padStart(8,"0")}}s.MurmurHash3_64=_},(e,s,i)=>{var d;Object.defineProperty(s,"__esModule",{value:!0}),s.FontLoader=s.FontFaceObject=void 0;var a=i(1);class o{constructor({ownerDocument:h=globalThis.document,styleElement:j=null}){qt(this,d,new Set);this._document=h,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(h){this.nativeFontFaces.add(h),this._document.fonts.add(h)}removeNativeFontFace(h){this.nativeFontFaces.delete(h),this._document.fonts.delete(h)}insertRule(h){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const j=this.styleElement.sheet;j.insertRule(h,j.cssRules.length)}clear(){for(const h of this.nativeFontFaces)this._document.fonts.delete(h);this.nativeFontFaces.clear(),et(this,d).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(h){if(!(!h||et(this,d).has(h.loadedName))){if((0,a.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:j,src:$,style:it}=h,ot=new FontFace(j,$,it);this.addNativeFontFace(ot);try{await ot.load(),et(this,d).add(j)}catch{(0,a.warn)(`Cannot load system font: ${h.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(ot)}return}(0,a.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(h){if(h.attached||h.missingFile&&!h.systemFontInfo)return;if(h.attached=!0,h.systemFontInfo){await this.loadSystemFont(h.systemFontInfo);return}if(this.isFontLoadingAPISupported){const $=h.createNativeFontFace();if($){this.addNativeFontFace($);try{await $.loaded}catch(it){throw(0,a.warn)(`Failed to load font '${$.family}': '${it}'.`),h.disableFontFace=!0,it}}return}const j=h.createFontFaceRule();if(j){if(this.insertRule(j),this.isSyncFontLoadingSupported)return;await new Promise($=>{const it=this._queueLoadingCallback($);this._prepareFontLoadEvent(h,it)})}}get isFontLoadingAPISupported(){var j;const h=!!((j=this._document)!=null&&j.fonts);return(0,a.shadow)(this,"isFontLoadingAPISupported",h)}get isSyncFontLoadingSupported(){let h=!1;return(a.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(h=!0),(0,a.shadow)(this,"isSyncFontLoadingSupported",h)}_queueLoadingCallback(h){function j(){for((0,a.assert)(!it.done,"completeRequest() cannot be called twice."),it.done=!0;$.length>0&&$[0].done;){const ot=$.shift();setTimeout(ot.callback,0)}}const{loadingRequests:$}=this,it={done:!1,complete:j,callback:h};return $.push(it),it}get _loadTestFont(){const h=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,a.shadow)(this,"_loadTestFont",h)}_prepareFontLoadEvent(h,j){function $(nt,ft){return nt.charCodeAt(ft)<<24|nt.charCodeAt(ft+1)<<16|nt.charCodeAt(ft+2)<<8|nt.charCodeAt(ft+3)&255}function it(nt,ft,vt,Dt){const Tt=nt.substring(0,ft),Mt=nt.substring(ft+vt);return Tt+Dt+Mt}let ot,mt;const at=this._document.createElement("canvas");at.width=1,at.height=1;const xt=at.getContext("2d");let lt=0;function b(nt,ft){if(++lt>30){(0,a.warn)("Load test font never loaded."),ft();return}if(xt.font="30px "+nt,xt.fillText(".",0,20),xt.getImageData(0,0,1,1).data[3]>0){ft();return}setTimeout(b.bind(null,nt,ft))}const _e=`lt${Date.now()}${this.loadTestFontId++}`;let rt=this._loadTestFont;rt=it(rt,976,_e.length,_e);const st=16,pt=1482184792;let g=$(rt,st);for(ot=0,mt=_e.length-3;ot<mt;ot+=4)g=g-pt+$(_e,ot)|0;ot<_e.length&&(g=g-pt+$(_e+"XXX",ot)|0),rt=it(rt,st,4,(0,a.string32)(g));const tt=`url(data:font/opentype;base64,${btoa(rt)});`,ct=`@font-face {font-family:"${_e}";src:${tt}}`;this.insertRule(ct);const gt=this._document.createElement("div");gt.style.visibility="hidden",gt.style.width=gt.style.height="10px",gt.style.position="absolute",gt.style.top=gt.style.left="0px";for(const nt of[h.loadedName,_e]){const ft=this._document.createElement("span");ft.textContent="Hi",ft.style.fontFamily=nt,gt.append(ft)}this._document.body.append(gt),b(_e,()=>{gt.remove(),j.complete()})}}d=new WeakMap,s.FontLoader=o;class c{constructor(h,{isEvalSupported:j=!0,disableFontFace:$=!1,ignoreErrors:it=!1,inspectFont:ot=null}){this.compiledGlyphs=Object.create(null);for(const mt in h)this[mt]=h[mt];this.isEvalSupported=j!==!1,this.disableFontFace=$===!0,this.ignoreErrors=it===!0,this._inspectFont=ot}createNativeFontFace(){var j;if(!this.data||this.disableFontFace)return null;let h;if(!this.cssFontInfo)h=new FontFace(this.loadedName,this.data,{});else{const $={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&($.style=`oblique ${this.cssFontInfo.italicAngle}deg`),h=new FontFace(this.cssFontInfo.fontFamily,this.data,$)}return(j=this._inspectFont)==null||j.call(this,this),h}createFontFaceRule(){var it;if(!this.data||this.disableFontFace)return null;const h=(0,a.bytesToString)(this.data),j=`url(data:${this.mimetype};base64,${btoa(h)});`;let $;if(!this.cssFontInfo)$=`@font-face {font-family:"${this.loadedName}";src:${j}}`;else{let ot=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ot+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),$=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ot}src:${j}}`}return(it=this._inspectFont)==null||it.call(this,this,j),$}getPathGenerator(h,j){if(this.compiledGlyphs[j]!==void 0)return this.compiledGlyphs[j];let $;try{$=h.get(this.loadedName+"_path_"+j)}catch(it){if(!this.ignoreErrors)throw it;return(0,a.warn)(`getPathGenerator - ignoring character: "${it}".`),this.compiledGlyphs[j]=function(ot,mt){}}if(this.isEvalSupported&&a.FeatureTest.isEvalSupported){const it=[];for(const ot of $){const mt=ot.args!==void 0?ot.args.join(","):"";it.push("c.",ot.cmd,"(",mt,`);
`)}return this.compiledGlyphs[j]=new Function("c","size",it.join(""))}return this.compiledGlyphs[j]=function(it,ot){for(const mt of $)mt.cmd==="scale"&&(mt.args=[ot,-ot]),it[mt.cmd].apply(it,mt.args)}}}s.FontFaceObject=c},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NodeStandardFontDataFactory=s.NodeFilterFactory=s.NodeCanvasFactory=s.NodeCMapReaderFactory=void 0;var a=i(7);i(1);const o=function(j){return new Promise(($,it)=>{require$$5.readFile(j,(mt,at)=>{if(mt||!at){it(new Error(mt));return}$(new Uint8Array(at))})})};class c extends a.BaseFilterFactory{}s.NodeFilterFactory=c;class d extends a.BaseCanvasFactory{_createCanvas($,it){return require$$5.createCanvas($,it)}}s.NodeCanvasFactory=d;class _ extends a.BaseCMapReaderFactory{_fetchData($,it){return o($).then(ot=>({cMapData:ot,compressionType:it}))}}s.NodeCMapReaderFactory=_;class h extends a.BaseStandardFontDataFactory{_fetchData($){return o($)}}s.NodeStandardFontDataFactory=h},(e,s,i)=>{var Rt,Xs,qs;Object.defineProperty(s,"__esModule",{value:!0}),s.CanvasGraphics=void 0;var a=i(1),o=i(6),c=i(12),d=i(13);const _=16,h=100,j=4096,$=15,it=10,ot=1e3,mt=16;function at(jt,ut){if(jt._removeMirroring)throw new Error("Context is already forwarding operations.");jt.__originalSave=jt.save,jt.__originalRestore=jt.restore,jt.__originalRotate=jt.rotate,jt.__originalScale=jt.scale,jt.__originalTranslate=jt.translate,jt.__originalTransform=jt.transform,jt.__originalSetTransform=jt.setTransform,jt.__originalResetTransform=jt.resetTransform,jt.__originalClip=jt.clip,jt.__originalMoveTo=jt.moveTo,jt.__originalLineTo=jt.lineTo,jt.__originalBezierCurveTo=jt.bezierCurveTo,jt.__originalRect=jt.rect,jt.__originalClosePath=jt.closePath,jt.__originalBeginPath=jt.beginPath,jt._removeMirroring=()=>{jt.save=jt.__originalSave,jt.restore=jt.__originalRestore,jt.rotate=jt.__originalRotate,jt.scale=jt.__originalScale,jt.translate=jt.__originalTranslate,jt.transform=jt.__originalTransform,jt.setTransform=jt.__originalSetTransform,jt.resetTransform=jt.__originalResetTransform,jt.clip=jt.__originalClip,jt.moveTo=jt.__originalMoveTo,jt.lineTo=jt.__originalLineTo,jt.bezierCurveTo=jt.__originalBezierCurveTo,jt.rect=jt.__originalRect,jt.closePath=jt.__originalClosePath,jt.beginPath=jt.__originalBeginPath,delete jt._removeMirroring},jt.save=function(){ut.save(),this.__originalSave()},jt.restore=function(){ut.restore(),this.__originalRestore()},jt.translate=function(yt,St){ut.translate(yt,St),this.__originalTranslate(yt,St)},jt.scale=function(yt,St){ut.scale(yt,St),this.__originalScale(yt,St)},jt.transform=function(yt,St,At,Ct,Ut,Wt){ut.transform(yt,St,At,Ct,Ut,Wt),this.__originalTransform(yt,St,At,Ct,Ut,Wt)},jt.setTransform=function(yt,St,At,Ct,Ut,Wt){ut.setTransform(yt,St,At,Ct,Ut,Wt),this.__originalSetTransform(yt,St,At,Ct,Ut,Wt)},jt.resetTransform=function(){ut.resetTransform(),this.__originalResetTransform()},jt.rotate=function(yt){ut.rotate(yt),this.__originalRotate(yt)},jt.clip=function(yt){ut.clip(yt),this.__originalClip(yt)},jt.moveTo=function(ht,yt){ut.moveTo(ht,yt),this.__originalMoveTo(ht,yt)},jt.lineTo=function(ht,yt){ut.lineTo(ht,yt),this.__originalLineTo(ht,yt)},jt.bezierCurveTo=function(ht,yt,St,At,Ct,Ut){ut.bezierCurveTo(ht,yt,St,At,Ct,Ut),this.__originalBezierCurveTo(ht,yt,St,At,Ct,Ut)},jt.rect=function(ht,yt,St,At){ut.rect(ht,yt,St,At),this.__originalRect(ht,yt,St,At)},jt.closePath=function(){ut.closePath(),this.__originalClosePath()},jt.beginPath=function(){ut.beginPath(),this.__originalBeginPath()}}class xt{constructor(ut){this.canvasFactory=ut,this.cache=Object.create(null)}getCanvas(ut,ht,yt){let St;return this.cache[ut]!==void 0?(St=this.cache[ut],this.canvasFactory.reset(St,ht,yt)):(St=this.canvasFactory.create(ht,yt),this.cache[ut]=St),St}delete(ut){delete this.cache[ut]}clear(){for(const ut in this.cache){const ht=this.cache[ut];this.canvasFactory.destroy(ht),delete this.cache[ut]}}}function lt(jt,ut,ht,yt,St,At,Ct,Ut,Wt,Qt){const[Zt,nr,Gt,rr,Vt,Bt]=(0,o.getCurrentTransform)(jt);if(nr===0&&Gt===0){const zt=Ct*Zt+Vt,Ht=Math.round(zt),tr=Ut*rr+Bt,ar=Math.round(tr),ir=(Ct+Wt)*Zt+Vt,It=Math.abs(Math.round(ir)-Ht)||1,hr=(Ut+Qt)*rr+Bt,dr=Math.abs(Math.round(hr)-ar)||1;return jt.setTransform(Math.sign(Zt),0,0,Math.sign(rr),Ht,ar),jt.drawImage(ut,ht,yt,St,At,0,0,It,dr),jt.setTransform(Zt,nr,Gt,rr,Vt,Bt),[It,dr]}if(Zt===0&&rr===0){const zt=Ut*Gt+Vt,Ht=Math.round(zt),tr=Ct*nr+Bt,ar=Math.round(tr),ir=(Ut+Qt)*Gt+Vt,It=Math.abs(Math.round(ir)-Ht)||1,hr=(Ct+Wt)*nr+Bt,dr=Math.abs(Math.round(hr)-ar)||1;return jt.setTransform(0,Math.sign(nr),Math.sign(Gt),0,Ht,ar),jt.drawImage(ut,ht,yt,St,At,0,0,dr,It),jt.setTransform(Zt,nr,Gt,rr,Vt,Bt),[dr,It]}jt.drawImage(ut,ht,yt,St,At,Ct,Ut,Wt,Qt);const Et=Math.hypot(Zt,nr),Pt=Math.hypot(Gt,rr);return[Et*Wt,Pt*Qt]}function b(jt){const{width:ut,height:ht}=jt;if(ut>ot||ht>ot)return null;const yt=1e3,St=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),At=ut+1;let Ct=new Uint8Array(At*(ht+1)),Ut,Wt,Qt;const Zt=ut+7&-8;let nr=new Uint8Array(Zt*ht),Gt=0;for(const Pt of jt.data){let zt=128;for(;zt>0;)nr[Gt++]=Pt&zt?0:255,zt>>=1}let rr=0;for(Gt=0,nr[Gt]!==0&&(Ct[0]=1,++rr),Wt=1;Wt<ut;Wt++)nr[Gt]!==nr[Gt+1]&&(Ct[Wt]=nr[Gt]?2:1,++rr),Gt++;for(nr[Gt]!==0&&(Ct[Wt]=2,++rr),Ut=1;Ut<ht;Ut++){Gt=Ut*Zt,Qt=Ut*At,nr[Gt-Zt]!==nr[Gt]&&(Ct[Qt]=nr[Gt]?1:8,++rr);let Pt=(nr[Gt]?4:0)+(nr[Gt-Zt]?8:0);for(Wt=1;Wt<ut;Wt++)Pt=(Pt>>2)+(nr[Gt+1]?4:0)+(nr[Gt-Zt+1]?8:0),St[Pt]&&(Ct[Qt+Wt]=St[Pt],++rr),Gt++;if(nr[Gt-Zt]!==nr[Gt]&&(Ct[Qt+Wt]=nr[Gt]?2:4,++rr),rr>yt)return null}for(Gt=Zt*(ht-1),Qt=Ut*At,nr[Gt]!==0&&(Ct[Qt]=8,++rr),Wt=1;Wt<ut;Wt++)nr[Gt]!==nr[Gt+1]&&(Ct[Qt+Wt]=nr[Gt]?4:8,++rr),Gt++;if(nr[Gt]!==0&&(Ct[Qt+Wt]=4,++rr),rr>yt)return null;const Vt=new Int32Array([0,At,-1,0,-At,0,0,0,1]),Bt=new Path2D;for(Ut=0;rr&&Ut<=ht;Ut++){let Pt=Ut*At;const zt=Pt+ut;for(;Pt<zt&&!Ct[Pt];)Pt++;if(Pt===zt)continue;Bt.moveTo(Pt%At,Ut);const Ht=Pt;let tr=Ct[Pt];do{const ar=Vt[tr];do Pt+=ar;while(!Ct[Pt]);const ir=Ct[Pt];ir!==5&&ir!==10?(tr=ir,Ct[Pt]=0):(tr=ir&51*tr>>4,Ct[Pt]&=tr>>2|tr<<2),Bt.lineTo(Pt%At,Pt/At|0),Ct[Pt]||--rr}while(Ht!==Pt);--Ut}return nr=null,Ct=null,function(Pt){Pt.save(),Pt.scale(1/ut,-1/ht),Pt.translate(0,-ht),Pt.fill(Bt),Pt.beginPath(),Pt.restore()}}class _e{constructor(ut,ht){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,ut,ht])}clone(){const ut=Object.create(this);return ut.clipBox=this.clipBox.slice(),ut}setCurrentPoint(ut,ht){this.x=ut,this.y=ht}updatePathMinMax(ut,ht,yt){[ht,yt]=a.Util.applyTransform([ht,yt],ut),this.minX=Math.min(this.minX,ht),this.minY=Math.min(this.minY,yt),this.maxX=Math.max(this.maxX,ht),this.maxY=Math.max(this.maxY,yt)}updateRectMinMax(ut,ht){const yt=a.Util.applyTransform(ht,ut),St=a.Util.applyTransform(ht.slice(2),ut);this.minX=Math.min(this.minX,yt[0],St[0]),this.minY=Math.min(this.minY,yt[1],St[1]),this.maxX=Math.max(this.maxX,yt[0],St[0]),this.maxY=Math.max(this.maxY,yt[1],St[1])}updateScalingPathMinMax(ut,ht){a.Util.scaleMinMax(ut,ht),this.minX=Math.min(this.minX,ht[0]),this.maxX=Math.max(this.maxX,ht[1]),this.minY=Math.min(this.minY,ht[2]),this.maxY=Math.max(this.maxY,ht[3])}updateCurvePathMinMax(ut,ht,yt,St,At,Ct,Ut,Wt,Qt,Zt){const nr=a.Util.bezierBoundingBox(ht,yt,St,At,Ct,Ut,Wt,Qt);if(Zt){Zt[0]=Math.min(Zt[0],nr[0],nr[2]),Zt[1]=Math.max(Zt[1],nr[0],nr[2]),Zt[2]=Math.min(Zt[2],nr[1],nr[3]),Zt[3]=Math.max(Zt[3],nr[1],nr[3]);return}this.updateRectMinMax(ut,nr)}getPathBoundingBox(ut=c.PathType.FILL,ht=null){const yt=[this.minX,this.minY,this.maxX,this.maxY];if(ut===c.PathType.STROKE){ht||(0,a.unreachable)("Stroke bounding box must include transform.");const St=a.Util.singularValueDecompose2dScale(ht),At=St[0]*this.lineWidth/2,Ct=St[1]*this.lineWidth/2;yt[0]-=At,yt[1]-=Ct,yt[2]+=At,yt[3]+=Ct}return yt}updateClipFromPath(){const ut=a.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(ut||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(ut){this.clipBox=ut,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(ut=c.PathType.FILL,ht=null){return a.Util.intersect(this.clipBox,this.getPathBoundingBox(ut,ht))}}function rt(jt,ut){if(typeof ImageData<"u"&&ut instanceof ImageData){jt.putImageData(ut,0,0);return}const ht=ut.height,yt=ut.width,St=ht%mt,At=(ht-St)/mt,Ct=St===0?At:At+1,Ut=jt.createImageData(yt,mt);let Wt=0,Qt;const Zt=ut.data,nr=Ut.data;let Gt,rr,Vt,Bt;if(ut.kind===a.ImageKind.GRAYSCALE_1BPP){const Et=Zt.byteLength,Pt=new Uint32Array(nr.buffer,0,nr.byteLength>>2),zt=Pt.length,Ht=yt+7>>3,tr=4294967295,ar=a.FeatureTest.isLittleEndian?4278190080:255;for(Gt=0;Gt<Ct;Gt++){for(Vt=Gt<At?mt:St,Qt=0,rr=0;rr<Vt;rr++){const ir=Et-Wt;let It=0;const hr=ir>Ht?yt:ir*8-7,dr=hr&-8;let _r=0,Ar=0;for(;It<dr;It+=8)Ar=Zt[Wt++],Pt[Qt++]=Ar&128?tr:ar,Pt[Qt++]=Ar&64?tr:ar,Pt[Qt++]=Ar&32?tr:ar,Pt[Qt++]=Ar&16?tr:ar,Pt[Qt++]=Ar&8?tr:ar,Pt[Qt++]=Ar&4?tr:ar,Pt[Qt++]=Ar&2?tr:ar,Pt[Qt++]=Ar&1?tr:ar;for(;It<hr;It++)_r===0&&(Ar=Zt[Wt++],_r=128),Pt[Qt++]=Ar&_r?tr:ar,_r>>=1}for(;Qt<zt;)Pt[Qt++]=0;jt.putImageData(Ut,0,Gt*mt)}}else if(ut.kind===a.ImageKind.RGBA_32BPP){for(rr=0,Bt=yt*mt*4,Gt=0;Gt<At;Gt++)nr.set(Zt.subarray(Wt,Wt+Bt)),Wt+=Bt,jt.putImageData(Ut,0,rr),rr+=mt;Gt<Ct&&(Bt=yt*St*4,nr.set(Zt.subarray(Wt,Wt+Bt)),jt.putImageData(Ut,0,rr))}else if(ut.kind===a.ImageKind.RGB_24BPP)for(Vt=mt,Bt=yt*Vt,Gt=0;Gt<Ct;Gt++){for(Gt>=At&&(Vt=St,Bt=yt*Vt),Qt=0,rr=Bt;rr--;)nr[Qt++]=Zt[Wt++],nr[Qt++]=Zt[Wt++],nr[Qt++]=Zt[Wt++],nr[Qt++]=255;jt.putImageData(Ut,0,Gt*mt)}else throw new Error(`bad image kind: ${ut.kind}`)}function dt(jt,ut){if(ut.bitmap){jt.drawImage(ut.bitmap,0,0);return}const ht=ut.height,yt=ut.width,St=ht%mt,At=(ht-St)/mt,Ct=St===0?At:At+1,Ut=jt.createImageData(yt,mt);let Wt=0;const Qt=ut.data,Zt=Ut.data;for(let nr=0;nr<Ct;nr++){const Gt=nr<At?mt:St;({srcPos:Wt}=(0,d.convertBlackAndWhiteToRGBA)({src:Qt,srcPos:Wt,dest:Zt,width:yt,height:Gt,nonBlackColor:0})),jt.putImageData(Ut,0,nr*mt)}}function st(jt,ut){const ht=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const yt of ht)jt[yt]!==void 0&&(ut[yt]=jt[yt]);jt.setLineDash!==void 0&&(ut.setLineDash(jt.getLineDash()),ut.lineDashOffset=jt.lineDashOffset)}function pt(jt){if(jt.strokeStyle=jt.fillStyle="#000000",jt.fillRule="nonzero",jt.globalAlpha=1,jt.lineWidth=1,jt.lineCap="butt",jt.lineJoin="miter",jt.miterLimit=10,jt.globalCompositeOperation="source-over",jt.font="10px sans-serif",jt.setLineDash!==void 0&&(jt.setLineDash([]),jt.lineDashOffset=0),!a.isNodeJS){const{filter:ut}=jt;ut!=="none"&&ut!==""&&(jt.filter="none")}}function g(jt,ut,ht,yt){const St=jt.length;for(let At=3;At<St;At+=4){const Ct=jt[At];if(Ct===0)jt[At-3]=ut,jt[At-2]=ht,jt[At-1]=yt;else if(Ct<255){const Ut=255-Ct;jt[At-3]=jt[At-3]*Ct+ut*Ut>>8,jt[At-2]=jt[At-2]*Ct+ht*Ut>>8,jt[At-1]=jt[At-1]*Ct+yt*Ut>>8}}}function tt(jt,ut,ht){const yt=jt.length,St=1/255;for(let At=3;At<yt;At+=4){const Ct=ht?ht[jt[At]]:jt[At];ut[At]=ut[At]*Ct*St|0}}function ct(jt,ut,ht){const yt=jt.length;for(let St=3;St<yt;St+=4){const At=jt[St-3]*77+jt[St-2]*152+jt[St-1]*28;ut[St]=ht?ut[St]*ht[At>>8]>>8:ut[St]*At>>16}}function gt(jt,ut,ht,yt,St,At,Ct,Ut,Wt,Qt,Zt){const nr=!!At,Gt=nr?At[0]:0,rr=nr?At[1]:0,Vt=nr?At[2]:0,Bt=St==="Luminosity"?ct:tt,Pt=Math.min(yt,Math.ceil(1048576/ht));for(let zt=0;zt<yt;zt+=Pt){const Ht=Math.min(Pt,yt-zt),tr=jt.getImageData(Ut-Qt,zt+(Wt-Zt),ht,Ht),ar=ut.getImageData(Ut,zt+Wt,ht,Ht);nr&&g(tr.data,Gt,rr,Vt),Bt(tr.data,ar.data,Ct),ut.putImageData(ar,Ut,zt+Wt)}}function nt(jt,ut,ht,yt){const St=yt[0],At=yt[1],Ct=yt[2]-St,Ut=yt[3]-At;Ct===0||Ut===0||(gt(ut.context,ht,Ct,Ut,ut.subtype,ut.backdrop,ut.transferMap,St,At,ut.offsetX,ut.offsetY),jt.save(),jt.globalAlpha=1,jt.globalCompositeOperation="source-over",jt.setTransform(1,0,0,1,0,0),jt.drawImage(ht.canvas,0,0),jt.restore())}function ft(jt,ut){const ht=a.Util.singularValueDecompose2dScale(jt);ht[0]=Math.fround(ht[0]),ht[1]=Math.fround(ht[1]);const yt=Math.fround((globalThis.devicePixelRatio||1)*o.PixelsPerInch.PDF_TO_CSS_UNITS);return ut!==void 0?ut:ht[0]<=yt||ht[1]<=yt}const vt=["butt","round","square"],Dt=["miter","round","bevel"],Tt={},Mt={},Ft=class Ft{constructor(ut,ht,yt,St,At,{optionalContentConfig:Ct,markedContentStack:Ut=null},Wt,Qt){qt(this,Rt);this.ctx=ut,this.current=new _e(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=ht,this.objs=yt,this.canvasFactory=St,this.filterFactory=At,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Ut||[],this.optionalContentConfig=Ct,this.cachedCanvases=new xt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Wt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Qt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(ut,ht=null){return typeof ut=="string"?ut.startsWith("g_")?this.commonObjs.get(ut):this.objs.get(ut):ht}beginDrawing({transform:ut,viewport:ht,transparency:yt=!1,background:St=null}){const At=this.ctx.canvas.width,Ct=this.ctx.canvas.height,Ut=this.ctx.fillStyle;if(this.ctx.fillStyle=St||"#ffffff",this.ctx.fillRect(0,0,At,Ct),this.ctx.fillStyle=Ut,yt){const Wt=this.cachedCanvases.getCanvas("transparent",At,Ct);this.compositeCtx=this.ctx,this.transparentCanvas=Wt.canvas,this.ctx=Wt.context,this.ctx.save(),this.ctx.transform(...(0,o.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),pt(this.ctx),ut&&(this.ctx.transform(...ut),this.outputScaleX=ut[0],this.outputScaleY=ut[0]),this.ctx.transform(...ht.transform),this.viewportScale=ht.scale,this.baseTransform=(0,o.getCurrentTransform)(this.ctx)}executeOperatorList(ut,ht,yt,St){const At=ut.argsArray,Ct=ut.fnArray;let Ut=ht||0;const Wt=At.length;if(Wt===Ut)return Ut;const Qt=Wt-Ut>it&&typeof yt=="function",Zt=Qt?Date.now()+$:0;let nr=0;const Gt=this.commonObjs,rr=this.objs;let Vt;for(;;){if(St!==void 0&&Ut===St.nextBreakPoint)return St.breakIt(Ut,yt),Ut;if(Vt=Ct[Ut],Vt!==a.OPS.dependency)this[Vt].apply(this,At[Ut]);else for(const Bt of At[Ut]){const Et=Bt.startsWith("g_")?Gt:rr;if(!Et.has(Bt))return Et.get(Bt,yt),Ut}if(Ut++,Ut===Wt)return Ut;if(Qt&&++nr>it){if(Date.now()>Zt)return yt(),Ut;nr=0}}}endDrawing(){$t(this,Rt,Xs).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const ut of this._cachedBitmapsMap.values()){for(const ht of ut.values())typeof HTMLCanvasElement<"u"&&ht instanceof HTMLCanvasElement&&(ht.width=ht.height=0);ut.clear()}this._cachedBitmapsMap.clear(),$t(this,Rt,qs).call(this)}_scaleImage(ut,ht){const yt=ut.width,St=ut.height;let At=Math.max(Math.hypot(ht[0],ht[1]),1),Ct=Math.max(Math.hypot(ht[2],ht[3]),1),Ut=yt,Wt=St,Qt="prescale1",Zt,nr;for(;At>2&&Ut>1||Ct>2&&Wt>1;){let Gt=Ut,rr=Wt;At>2&&Ut>1&&(Gt=Ut>=16384?Math.floor(Ut/2)-1||1:Math.ceil(Ut/2),At/=Ut/Gt),Ct>2&&Wt>1&&(rr=Wt>=16384?Math.floor(Wt/2)-1||1:Math.ceil(Wt)/2,Ct/=Wt/rr),Zt=this.cachedCanvases.getCanvas(Qt,Gt,rr),nr=Zt.context,nr.clearRect(0,0,Gt,rr),nr.drawImage(ut,0,0,Ut,Wt,0,0,Gt,rr),ut=Zt.canvas,Ut=Gt,Wt=rr,Qt=Qt==="prescale1"?"prescale2":"prescale1"}return{img:ut,paintWidth:Ut,paintHeight:Wt}}_createMaskCanvas(ut){const ht=this.ctx,{width:yt,height:St}=ut,At=this.current.fillColor,Ct=this.current.patternFill,Ut=(0,o.getCurrentTransform)(ht);let Wt,Qt,Zt,nr;if((ut.bitmap||ut.data)&&ut.count>1){const It=ut.bitmap||ut.data.buffer;Qt=JSON.stringify(Ct?Ut:[Ut.slice(0,4),At]),Wt=this._cachedBitmapsMap.get(It),Wt||(Wt=new Map,this._cachedBitmapsMap.set(It,Wt));const hr=Wt.get(Qt);if(hr&&!Ct){const dr=Math.round(Math.min(Ut[0],Ut[2])+Ut[4]),_r=Math.round(Math.min(Ut[1],Ut[3])+Ut[5]);return{canvas:hr,offsetX:dr,offsetY:_r}}Zt=hr}Zt||(nr=this.cachedCanvases.getCanvas("maskCanvas",yt,St),dt(nr.context,ut));let Gt=a.Util.transform(Ut,[1/yt,0,0,-1/St,0,0]);Gt=a.Util.transform(Gt,[1,0,0,1,0,-St]);const rr=a.Util.applyTransform([0,0],Gt),Vt=a.Util.applyTransform([yt,St],Gt),Bt=a.Util.normalizeRect([rr[0],rr[1],Vt[0],Vt[1]]),Et=Math.round(Bt[2]-Bt[0])||1,Pt=Math.round(Bt[3]-Bt[1])||1,zt=this.cachedCanvases.getCanvas("fillCanvas",Et,Pt),Ht=zt.context,tr=Math.min(rr[0],Vt[0]),ar=Math.min(rr[1],Vt[1]);Ht.translate(-tr,-ar),Ht.transform(...Gt),Zt||(Zt=this._scaleImage(nr.canvas,(0,o.getCurrentTransformInverse)(Ht)),Zt=Zt.img,Wt&&Ct&&Wt.set(Qt,Zt)),Ht.imageSmoothingEnabled=ft((0,o.getCurrentTransform)(Ht),ut.interpolate),lt(Ht,Zt,0,0,Zt.width,Zt.height,0,0,yt,St),Ht.globalCompositeOperation="source-in";const ir=a.Util.transform((0,o.getCurrentTransformInverse)(Ht),[1,0,0,1,-tr,-ar]);return Ht.fillStyle=Ct?At.getPattern(ht,this,ir,c.PathType.FILL):At,Ht.fillRect(0,0,yt,St),Wt&&!Ct&&(this.cachedCanvases.delete("fillCanvas"),Wt.set(Qt,zt.canvas)),{canvas:zt.canvas,offsetX:Math.round(tr),offsetY:Math.round(ar)}}setLineWidth(ut){ut!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=ut,this.ctx.lineWidth=ut}setLineCap(ut){this.ctx.lineCap=vt[ut]}setLineJoin(ut){this.ctx.lineJoin=Dt[ut]}setMiterLimit(ut){this.ctx.miterLimit=ut}setDash(ut,ht){const yt=this.ctx;yt.setLineDash!==void 0&&(yt.setLineDash(ut),yt.lineDashOffset=ht)}setRenderingIntent(ut){}setFlatness(ut){}setGState(ut){for(const[ht,yt]of ut)switch(ht){case"LW":this.setLineWidth(yt);break;case"LC":this.setLineCap(yt);break;case"LJ":this.setLineJoin(yt);break;case"ML":this.setMiterLimit(yt);break;case"D":this.setDash(yt[0],yt[1]);break;case"RI":this.setRenderingIntent(yt);break;case"FL":this.setFlatness(yt);break;case"Font":this.setFont(yt[0],yt[1]);break;case"CA":this.current.strokeAlpha=yt;break;case"ca":this.current.fillAlpha=yt,this.ctx.globalAlpha=yt;break;case"BM":this.ctx.globalCompositeOperation=yt;break;case"SMask":this.current.activeSMask=yt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(yt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const ut=this.inSMaskMode;this.current.activeSMask&&!ut?this.beginSMaskMode():!this.current.activeSMask&&ut&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const ut=this.ctx.canvas.width,ht=this.ctx.canvas.height,yt="smaskGroupAt"+this.groupLevel,St=this.cachedCanvases.getCanvas(yt,ut,ht);this.suspendedCtx=this.ctx,this.ctx=St.context;const At=this.ctx;At.setTransform(...(0,o.getCurrentTransform)(this.suspendedCtx)),st(this.suspendedCtx,At),at(At,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),st(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(ut){if(!this.current.activeSMask)return;ut?(ut[0]=Math.floor(ut[0]),ut[1]=Math.floor(ut[1]),ut[2]=Math.ceil(ut[2]),ut[3]=Math.ceil(ut[3])):ut=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const ht=this.current.activeSMask,yt=this.suspendedCtx;nt(yt,ht,this.ctx,ut),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(st(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const ut=this.current;this.stateStack.push(ut),this.current=ut.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),st(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(ut,ht,yt,St,At,Ct){this.ctx.transform(ut,ht,yt,St,At,Ct),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(ut,ht,yt){const St=this.ctx,At=this.current;let Ct=At.x,Ut=At.y,Wt,Qt;const Zt=(0,o.getCurrentTransform)(St),nr=Zt[0]===0&&Zt[3]===0||Zt[1]===0&&Zt[2]===0,Gt=nr?yt.slice(0):null;for(let rr=0,Vt=0,Bt=ut.length;rr<Bt;rr++)switch(ut[rr]|0){case a.OPS.rectangle:Ct=ht[Vt++],Ut=ht[Vt++];const Et=ht[Vt++],Pt=ht[Vt++],zt=Ct+Et,Ht=Ut+Pt;St.moveTo(Ct,Ut),Et===0||Pt===0?St.lineTo(zt,Ht):(St.lineTo(zt,Ut),St.lineTo(zt,Ht),St.lineTo(Ct,Ht)),nr||At.updateRectMinMax(Zt,[Ct,Ut,zt,Ht]),St.closePath();break;case a.OPS.moveTo:Ct=ht[Vt++],Ut=ht[Vt++],St.moveTo(Ct,Ut),nr||At.updatePathMinMax(Zt,Ct,Ut);break;case a.OPS.lineTo:Ct=ht[Vt++],Ut=ht[Vt++],St.lineTo(Ct,Ut),nr||At.updatePathMinMax(Zt,Ct,Ut);break;case a.OPS.curveTo:Wt=Ct,Qt=Ut,Ct=ht[Vt+4],Ut=ht[Vt+5],St.bezierCurveTo(ht[Vt],ht[Vt+1],ht[Vt+2],ht[Vt+3],Ct,Ut),At.updateCurvePathMinMax(Zt,Wt,Qt,ht[Vt],ht[Vt+1],ht[Vt+2],ht[Vt+3],Ct,Ut,Gt),Vt+=6;break;case a.OPS.curveTo2:Wt=Ct,Qt=Ut,St.bezierCurveTo(Ct,Ut,ht[Vt],ht[Vt+1],ht[Vt+2],ht[Vt+3]),At.updateCurvePathMinMax(Zt,Wt,Qt,Ct,Ut,ht[Vt],ht[Vt+1],ht[Vt+2],ht[Vt+3],Gt),Ct=ht[Vt+2],Ut=ht[Vt+3],Vt+=4;break;case a.OPS.curveTo3:Wt=Ct,Qt=Ut,Ct=ht[Vt+2],Ut=ht[Vt+3],St.bezierCurveTo(ht[Vt],ht[Vt+1],Ct,Ut,Ct,Ut),At.updateCurvePathMinMax(Zt,Wt,Qt,ht[Vt],ht[Vt+1],Ct,Ut,Ct,Ut,Gt),Vt+=4;break;case a.OPS.closePath:St.closePath();break}nr&&At.updateScalingPathMinMax(Zt,Gt),At.setCurrentPoint(Ct,Ut)}closePath(){this.ctx.closePath()}stroke(ut=!0){const ht=this.ctx,yt=this.current.strokeColor;ht.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof yt=="object"&&(yt!=null&&yt.getPattern)?(ht.save(),ht.strokeStyle=yt.getPattern(ht,this,(0,o.getCurrentTransformInverse)(ht),c.PathType.STROKE),this.rescaleAndStroke(!1),ht.restore()):this.rescaleAndStroke(!0)),ut&&this.consumePath(this.current.getClippedPathBoundingBox()),ht.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(ut=!0){const ht=this.ctx,yt=this.current.fillColor,St=this.current.patternFill;let At=!1;St&&(ht.save(),ht.fillStyle=yt.getPattern(ht,this,(0,o.getCurrentTransformInverse)(ht),c.PathType.FILL),At=!0);const Ct=this.current.getClippedPathBoundingBox();this.contentVisible&&Ct!==null&&(this.pendingEOFill?(ht.fill("evenodd"),this.pendingEOFill=!1):ht.fill()),At&&ht.restore(),ut&&this.consumePath(Ct)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Tt}eoClip(){this.pendingClip=Mt}beginText(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const ut=this.pendingTextPaths,ht=this.ctx;if(ut===void 0){ht.beginPath();return}ht.save(),ht.beginPath();for(const yt of ut)ht.setTransform(...yt.transform),ht.translate(yt.x,yt.y),yt.addToPath(ht,yt.fontSize);ht.restore(),ht.clip(),ht.beginPath(),delete this.pendingTextPaths}setCharSpacing(ut){this.current.charSpacing=ut}setWordSpacing(ut){this.current.wordSpacing=ut}setHScale(ut){this.current.textHScale=ut/100}setLeading(ut){this.current.leading=-ut}setFont(ut,ht){var Zt;const yt=this.commonObjs.get(ut),St=this.current;if(!yt)throw new Error(`Can't find font for ${ut}`);if(St.fontMatrix=yt.fontMatrix||a.FONT_IDENTITY_MATRIX,(St.fontMatrix[0]===0||St.fontMatrix[3]===0)&&(0,a.warn)("Invalid font matrix for font "+ut),ht<0?(ht=-ht,St.fontDirection=-1):St.fontDirection=1,this.current.font=yt,this.current.fontSize=ht,yt.isType3Font)return;const At=yt.loadedName||"sans-serif",Ct=((Zt=yt.systemFontInfo)==null?void 0:Zt.css)||`"${At}", ${yt.fallbackName}`;let Ut="normal";yt.black?Ut="900":yt.bold&&(Ut="bold");const Wt=yt.italic?"italic":"normal";let Qt=ht;ht<_?Qt=_:ht>h&&(Qt=h),this.current.fontSizeScale=ht/Qt,this.ctx.font=`${Wt} ${Ut} ${Qt}px ${Ct}`}setTextRenderingMode(ut){this.current.textRenderingMode=ut}setTextRise(ut){this.current.textRise=ut}moveText(ut,ht){this.current.x=this.current.lineX+=ut,this.current.y=this.current.lineY+=ht}setLeadingMoveText(ut,ht){this.setLeading(-ht),this.moveText(ut,ht)}setTextMatrix(ut,ht,yt,St,At,Ct){this.current.textMatrix=[ut,ht,yt,St,At,Ct],this.current.textMatrixScale=Math.hypot(ut,ht),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(ut,ht,yt,St){const At=this.ctx,Ct=this.current,Ut=Ct.font,Wt=Ct.textRenderingMode,Qt=Ct.fontSize/Ct.fontSizeScale,Zt=Wt&a.TextRenderingMode.FILL_STROKE_MASK,nr=!!(Wt&a.TextRenderingMode.ADD_TO_PATH_FLAG),Gt=Ct.patternFill&&!Ut.missingFile;let rr;(Ut.disableFontFace||nr||Gt)&&(rr=Ut.getPathGenerator(this.commonObjs,ut)),Ut.disableFontFace||Gt?(At.save(),At.translate(ht,yt),At.beginPath(),rr(At,Qt),St&&At.setTransform(...St),(Zt===a.TextRenderingMode.FILL||Zt===a.TextRenderingMode.FILL_STROKE)&&At.fill(),(Zt===a.TextRenderingMode.STROKE||Zt===a.TextRenderingMode.FILL_STROKE)&&At.stroke(),At.restore()):((Zt===a.TextRenderingMode.FILL||Zt===a.TextRenderingMode.FILL_STROKE)&&At.fillText(ut,ht,yt),(Zt===a.TextRenderingMode.STROKE||Zt===a.TextRenderingMode.FILL_STROKE)&&At.strokeText(ut,ht,yt)),nr&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,o.getCurrentTransform)(At),x:ht,y:yt,fontSize:Qt,addToPath:rr})}get isFontSubpixelAAEnabled(){const{context:ut}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);ut.scale(1.5,1),ut.fillText("I",0,10);const ht=ut.getImageData(0,0,10,10).data;let yt=!1;for(let St=3;St<ht.length;St+=4)if(ht[St]>0&&ht[St]<255){yt=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",yt)}showText(ut){const ht=this.current,yt=ht.font;if(yt.isType3Font)return this.showType3Text(ut);const St=ht.fontSize;if(St===0)return;const At=this.ctx,Ct=ht.fontSizeScale,Ut=ht.charSpacing,Wt=ht.wordSpacing,Qt=ht.fontDirection,Zt=ht.textHScale*Qt,nr=ut.length,Gt=yt.vertical,rr=Gt?1:-1,Vt=yt.defaultVMetrics,Bt=St*ht.fontMatrix[0],Et=ht.textRenderingMode===a.TextRenderingMode.FILL&&!yt.disableFontFace&&!ht.patternFill;At.save(),At.transform(...ht.textMatrix),At.translate(ht.x,ht.y+ht.textRise),Qt>0?At.scale(Zt,-1):At.scale(Zt,1);let Pt;if(ht.patternFill){At.save();const ir=ht.fillColor.getPattern(At,this,(0,o.getCurrentTransformInverse)(At),c.PathType.FILL);Pt=(0,o.getCurrentTransform)(At),At.restore(),At.fillStyle=ir}let zt=ht.lineWidth;const Ht=ht.textMatrixScale;if(Ht===0||zt===0){const ir=ht.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;(ir===a.TextRenderingMode.STROKE||ir===a.TextRenderingMode.FILL_STROKE)&&(zt=this.getSinglePixelWidth())}else zt/=Ht;if(Ct!==1&&(At.scale(Ct,Ct),zt/=Ct),At.lineWidth=zt,yt.isInvalidPDFjsFont){const ir=[];let It=0;for(const hr of ut)ir.push(hr.unicode),It+=hr.width;At.fillText(ir.join(""),0,0),ht.x+=It*Bt*Zt,At.restore(),this.compose();return}let tr=0,ar;for(ar=0;ar<nr;++ar){const ir=ut[ar];if(typeof ir=="number"){tr+=rr*ir*St/1e3;continue}let It=!1;const hr=(ir.isSpace?Wt:0)+Ut,dr=ir.fontChar,_r=ir.accent;let Ar,Mr,gr=ir.width;if(Gt){const Cr=ir.vmetric||Vt,Dr=-(ir.vmetric?Cr[1]:gr*.5)*Bt,lr=Cr[2]*Bt;gr=Cr?-Cr[0]:gr,Ar=Dr/Ct,Mr=(tr+lr)/Ct}else Ar=tr/Ct,Mr=0;if(yt.remeasure&&gr>0){const Cr=At.measureText(dr).width*1e3/St*Ct;if(gr<Cr&&this.isFontSubpixelAAEnabled){const Dr=gr/Cr;It=!0,At.save(),At.scale(Dr,1),Ar/=Dr}else gr!==Cr&&(Ar+=(gr-Cr)/2e3*St/Ct)}if(this.contentVisible&&(ir.isInFont||yt.missingFile)){if(Et&&!_r)At.fillText(dr,Ar,Mr);else if(this.paintChar(dr,Ar,Mr,Pt),_r){const Cr=Ar+St*_r.offset.x/Ct,Dr=Mr-St*_r.offset.y/Ct;this.paintChar(_r.fontChar,Cr,Dr,Pt)}}const kr=Gt?gr*Bt-hr*Qt:gr*Bt+hr*Qt;tr+=kr,It&&At.restore()}Gt?ht.y-=tr:ht.x+=tr*Zt,At.restore(),this.compose()}showType3Text(ut){const ht=this.ctx,yt=this.current,St=yt.font,At=yt.fontSize,Ct=yt.fontDirection,Ut=St.vertical?1:-1,Wt=yt.charSpacing,Qt=yt.wordSpacing,Zt=yt.textHScale*Ct,nr=yt.fontMatrix||a.FONT_IDENTITY_MATRIX,Gt=ut.length,rr=yt.textRenderingMode===a.TextRenderingMode.INVISIBLE;let Vt,Bt,Et,Pt;if(!(rr||At===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,ht.save(),ht.transform(...yt.textMatrix),ht.translate(yt.x,yt.y),ht.scale(Zt,Ct),Vt=0;Vt<Gt;++Vt){if(Bt=ut[Vt],typeof Bt=="number"){Pt=Ut*Bt*At/1e3,this.ctx.translate(Pt,0),yt.x+=Pt*Zt;continue}const zt=(Bt.isSpace?Qt:0)+Wt,Ht=St.charProcOperatorList[Bt.operatorListId];if(!Ht){(0,a.warn)(`Type3 character "${Bt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Bt,this.save(),ht.scale(At,At),ht.transform(...nr),this.executeOperatorList(Ht),this.restore()),Et=a.Util.applyTransform([Bt.width,0],nr)[0]*At+zt,ht.translate(Et,0),yt.x+=Et*Zt}ht.restore(),this.processingType3=null}}setCharWidth(ut,ht){}setCharWidthAndBounds(ut,ht,yt,St,At,Ct){this.ctx.rect(yt,St,At-yt,Ct-St),this.ctx.clip(),this.endPath()}getColorN_Pattern(ut){let ht;if(ut[0]==="TilingPattern"){const yt=ut[1],St=this.baseTransform||(0,o.getCurrentTransform)(this.ctx),At={createCanvasGraphics:Ct=>new Ft(Ct,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};ht=new c.TilingPattern(ut,yt,this.ctx,At,St)}else ht=this._getPattern(ut[1],ut[2]);return ht}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(ut,ht,yt){const St=a.Util.makeHexColor(ut,ht,yt);this.ctx.strokeStyle=St,this.current.strokeColor=St}setFillRGBColor(ut,ht,yt){const St=a.Util.makeHexColor(ut,ht,yt);this.ctx.fillStyle=St,this.current.fillColor=St,this.current.patternFill=!1}_getPattern(ut,ht=null){let yt;return this.cachedPatterns.has(ut)?yt=this.cachedPatterns.get(ut):(yt=(0,c.getShadingPattern)(this.getObject(ut)),this.cachedPatterns.set(ut,yt)),ht&&(yt.matrix=ht),yt}shadingFill(ut){if(!this.contentVisible)return;const ht=this.ctx;this.save();const yt=this._getPattern(ut);ht.fillStyle=yt.getPattern(ht,this,(0,o.getCurrentTransformInverse)(ht),c.PathType.SHADING);const St=(0,o.getCurrentTransformInverse)(ht);if(St){const{width:At,height:Ct}=ht.canvas,[Ut,Wt,Qt,Zt]=a.Util.getAxialAlignedBoundingBox([0,0,At,Ct],St);this.ctx.fillRect(Ut,Wt,Qt-Ut,Zt-Wt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,a.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,a.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(ut,ht){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(ut)&&ut.length===6&&this.transform(...ut),this.baseTransform=(0,o.getCurrentTransform)(this.ctx),ht)){const yt=ht[2]-ht[0],St=ht[3]-ht[1];this.ctx.rect(ht[0],ht[1],yt,St),this.current.updateRectMinMax((0,o.getCurrentTransform)(this.ctx),ht),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(ut){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const ht=this.ctx;ut.isolated||(0,a.info)("TODO: Support non-isolated groups."),ut.knockout&&(0,a.warn)("Knockout groups not supported.");const yt=(0,o.getCurrentTransform)(ht);if(ut.matrix&&ht.transform(...ut.matrix),!ut.bbox)throw new Error("Bounding box is required.");let St=a.Util.getAxialAlignedBoundingBox(ut.bbox,(0,o.getCurrentTransform)(ht));const At=[0,0,ht.canvas.width,ht.canvas.height];St=a.Util.intersect(St,At)||[0,0,0,0];const Ct=Math.floor(St[0]),Ut=Math.floor(St[1]);let Wt=Math.max(Math.ceil(St[2])-Ct,1),Qt=Math.max(Math.ceil(St[3])-Ut,1),Zt=1,nr=1;Wt>j&&(Zt=Wt/j,Wt=j),Qt>j&&(nr=Qt/j,Qt=j),this.current.startNewPathAndClipBox([0,0,Wt,Qt]);let Gt="groupAt"+this.groupLevel;ut.smask&&(Gt+="_smask_"+this.smaskCounter++%2);const rr=this.cachedCanvases.getCanvas(Gt,Wt,Qt),Vt=rr.context;Vt.scale(1/Zt,1/nr),Vt.translate(-Ct,-Ut),Vt.transform(...yt),ut.smask?this.smaskStack.push({canvas:rr.canvas,context:Vt,offsetX:Ct,offsetY:Ut,scaleX:Zt,scaleY:nr,subtype:ut.smask.subtype,backdrop:ut.smask.backdrop,transferMap:ut.smask.transferMap||null,startTransformInverse:null}):(ht.setTransform(1,0,0,1,0,0),ht.translate(Ct,Ut),ht.scale(Zt,nr),ht.save()),st(ht,Vt),this.ctx=Vt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(ht),this.groupLevel++}endGroup(ut){if(!this.contentVisible)return;this.groupLevel--;const ht=this.ctx,yt=this.groupStack.pop();if(this.ctx=yt,this.ctx.imageSmoothingEnabled=!1,ut.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const St=(0,o.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...St);const At=a.Util.getAxialAlignedBoundingBox([0,0,ht.canvas.width,ht.canvas.height],St);this.ctx.drawImage(ht.canvas,0,0),this.ctx.restore(),this.compose(At)}}beginAnnotation(ut,ht,yt,St,At){if($t(this,Rt,Xs).call(this),pt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(ht)&&ht.length===4){const Ct=ht[2]-ht[0],Ut=ht[3]-ht[1];if(At&&this.annotationCanvasMap){yt=yt.slice(),yt[4]-=ht[0],yt[5]-=ht[1],ht=ht.slice(),ht[0]=ht[1]=0,ht[2]=Ct,ht[3]=Ut;const[Wt,Qt]=a.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(this.ctx)),{viewportScale:Zt}=this,nr=Math.ceil(Ct*this.outputScaleX*Zt),Gt=Math.ceil(Ut*this.outputScaleY*Zt);this.annotationCanvas=this.canvasFactory.create(nr,Gt);const{canvas:rr,context:Vt}=this.annotationCanvas;this.annotationCanvasMap.set(ut,rr),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Vt,this.ctx.save(),this.ctx.setTransform(Wt,0,0,-Qt,0,Ut*Qt),pt(this.ctx)}else pt(this.ctx),this.ctx.rect(ht[0],ht[1],Ct,Ut),this.ctx.clip(),this.endPath()}this.current=new _e(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...yt),this.transform(...St)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),$t(this,Rt,qs).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(ut){if(!this.contentVisible)return;const ht=ut.count;ut=this.getObject(ut.data,ut),ut.count=ht;const yt=this.ctx,St=this.processingType3;if(St&&(St.compiled===void 0&&(St.compiled=b(ut)),St.compiled)){St.compiled(yt);return}const At=this._createMaskCanvas(ut),Ct=At.canvas;yt.save(),yt.setTransform(1,0,0,1,0,0),yt.drawImage(Ct,At.offsetX,At.offsetY),yt.restore(),this.compose()}paintImageMaskXObjectRepeat(ut,ht,yt=0,St=0,At,Ct){if(!this.contentVisible)return;ut=this.getObject(ut.data,ut);const Ut=this.ctx;Ut.save();const Wt=(0,o.getCurrentTransform)(Ut);Ut.transform(ht,yt,St,At,0,0);const Qt=this._createMaskCanvas(ut);Ut.setTransform(1,0,0,1,Qt.offsetX-Wt[4],Qt.offsetY-Wt[5]);for(let Zt=0,nr=Ct.length;Zt<nr;Zt+=2){const Gt=a.Util.transform(Wt,[ht,yt,St,At,Ct[Zt],Ct[Zt+1]]),[rr,Vt]=a.Util.applyTransform([0,0],Gt);Ut.drawImage(Qt.canvas,rr,Vt)}Ut.restore(),this.compose()}paintImageMaskXObjectGroup(ut){if(!this.contentVisible)return;const ht=this.ctx,yt=this.current.fillColor,St=this.current.patternFill;for(const At of ut){const{data:Ct,width:Ut,height:Wt,transform:Qt}=At,Zt=this.cachedCanvases.getCanvas("maskCanvas",Ut,Wt),nr=Zt.context;nr.save();const Gt=this.getObject(Ct,At);dt(nr,Gt),nr.globalCompositeOperation="source-in",nr.fillStyle=St?yt.getPattern(nr,this,(0,o.getCurrentTransformInverse)(ht),c.PathType.FILL):yt,nr.fillRect(0,0,Ut,Wt),nr.restore(),ht.save(),ht.transform(...Qt),ht.scale(1,-1),lt(ht,Zt.canvas,0,0,Ut,Wt,0,-1,1,1),ht.restore()}this.compose()}paintImageXObject(ut){if(!this.contentVisible)return;const ht=this.getObject(ut);if(!ht){(0,a.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(ht)}paintImageXObjectRepeat(ut,ht,yt,St){if(!this.contentVisible)return;const At=this.getObject(ut);if(!At){(0,a.warn)("Dependent image isn't ready yet");return}const Ct=At.width,Ut=At.height,Wt=[];for(let Qt=0,Zt=St.length;Qt<Zt;Qt+=2)Wt.push({transform:[ht,0,0,yt,St[Qt],St[Qt+1]],x:0,y:0,w:Ct,h:Ut});this.paintInlineImageXObjectGroup(At,Wt)}applyTransferMapsToCanvas(ut){return this.current.transferMaps!=="none"&&(ut.filter=this.current.transferMaps,ut.drawImage(ut.canvas,0,0),ut.filter="none"),ut.canvas}applyTransferMapsToBitmap(ut){if(this.current.transferMaps==="none")return ut.bitmap;const{bitmap:ht,width:yt,height:St}=ut,At=this.cachedCanvases.getCanvas("inlineImage",yt,St),Ct=At.context;return Ct.filter=this.current.transferMaps,Ct.drawImage(ht,0,0),Ct.filter="none",At.canvas}paintInlineImageXObject(ut){if(!this.contentVisible)return;const ht=ut.width,yt=ut.height,St=this.ctx;if(this.save(),!a.isNodeJS){const{filter:Ut}=St;Ut!=="none"&&Ut!==""&&(St.filter="none")}St.scale(1/ht,-1/yt);let At;if(ut.bitmap)At=this.applyTransferMapsToBitmap(ut);else if(typeof HTMLElement=="function"&&ut instanceof HTMLElement||!ut.data)At=ut;else{const Wt=this.cachedCanvases.getCanvas("inlineImage",ht,yt).context;rt(Wt,ut),At=this.applyTransferMapsToCanvas(Wt)}const Ct=this._scaleImage(At,(0,o.getCurrentTransformInverse)(St));St.imageSmoothingEnabled=ft((0,o.getCurrentTransform)(St),ut.interpolate),lt(St,Ct.img,0,0,Ct.paintWidth,Ct.paintHeight,0,-yt,ht,yt),this.compose(),this.restore()}paintInlineImageXObjectGroup(ut,ht){if(!this.contentVisible)return;const yt=this.ctx;let St;if(ut.bitmap)St=ut.bitmap;else{const At=ut.width,Ct=ut.height,Wt=this.cachedCanvases.getCanvas("inlineImage",At,Ct).context;rt(Wt,ut),St=this.applyTransferMapsToCanvas(Wt)}for(const At of ht)yt.save(),yt.transform(...At.transform),yt.scale(1,-1),lt(yt,St,At.x,At.y,At.w,At.h,0,-1,1,1),yt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(ut){}markPointProps(ut,ht){}beginMarkedContent(ut){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(ut,ht){ut==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(ht)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(ut){const ht=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(ut);const yt=this.ctx;this.pendingClip&&(ht||(this.pendingClip===Mt?yt.clip("evenodd"):yt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),yt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const ut=(0,o.getCurrentTransform)(this.ctx);if(ut[1]===0&&ut[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(ut[0]),Math.abs(ut[3]));else{const ht=Math.abs(ut[0]*ut[3]-ut[2]*ut[1]),yt=Math.hypot(ut[0],ut[2]),St=Math.hypot(ut[1],ut[3]);this._cachedGetSinglePixelWidth=Math.max(yt,St)/ht}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:ut}=this.current,{a:ht,b:yt,c:St,d:At}=this.ctx.getTransform();let Ct,Ut;if(yt===0&&St===0){const Wt=Math.abs(ht),Qt=Math.abs(At);if(Wt===Qt)if(ut===0)Ct=Ut=1/Wt;else{const Zt=Wt*ut;Ct=Ut=Zt<1?1/Zt:1}else if(ut===0)Ct=1/Wt,Ut=1/Qt;else{const Zt=Wt*ut,nr=Qt*ut;Ct=Zt<1?1/Zt:1,Ut=nr<1?1/nr:1}}else{const Wt=Math.abs(ht*At-yt*St),Qt=Math.hypot(ht,yt),Zt=Math.hypot(St,At);if(ut===0)Ct=Zt/Wt,Ut=Qt/Wt;else{const nr=ut*Wt;Ct=Zt>nr?Zt/nr:1,Ut=Qt>nr?Qt/nr:1}}this._cachedScaleForStroking[0]=Ct,this._cachedScaleForStroking[1]=Ut}return this._cachedScaleForStroking}rescaleAndStroke(ut){const{ctx:ht}=this,{lineWidth:yt}=this.current,[St,At]=this.getScaleForStroking();if(ht.lineWidth=yt||1,St===1&&At===1){ht.stroke();return}const Ct=ht.getLineDash();if(ut&&ht.save(),ht.scale(St,At),Ct.length>0){const Ut=Math.max(St,At);ht.setLineDash(Ct.map(Wt=>Wt/Ut)),ht.lineDashOffset/=Ut}ht.stroke(),ut&&ht.restore()}isContentVisible(){for(let ut=this.markedContentStack.length-1;ut>=0;ut--)if(!this.markedContentStack[ut].visible)return!1;return!0}};Rt=new WeakSet,Xs=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},qs=function(){if(this.pageColors){const ut=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(ut!=="none"){const ht=this.ctx.filter;this.ctx.filter=ut,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=ht}}};let kt=Ft;s.CanvasGraphics=kt;for(const jt in a.OPS)kt.prototype[jt]!==void 0&&(kt.prototype[a.OPS[jt]]=kt.prototype[jt])},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TilingPattern=s.PathType=void 0,s.getShadingPattern=mt;var a=i(1),o=i(6);const c={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};s.PathType=c;function d(b,_e){if(!_e)return;const rt=_e[2]-_e[0],dt=_e[3]-_e[1],st=new Path2D;st.rect(_e[0],_e[1],rt,dt),b.clip(st)}class _{constructor(){this.constructor===_&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,a.unreachable)("Abstract method `getPattern` called.")}}class h extends _{constructor(_e){super(),this._type=_e[1],this._bbox=_e[2],this._colorStops=_e[3],this._p0=_e[4],this._p1=_e[5],this._r0=_e[6],this._r1=_e[7],this.matrix=null}_createGradient(_e){let rt;this._type==="axial"?rt=_e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(rt=_e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const dt of this._colorStops)rt.addColorStop(dt[0],dt[1]);return rt}getPattern(_e,rt,dt,st){let pt;if(st===c.STROKE||st===c.FILL){const g=rt.current.getClippedPathBoundingBox(st,(0,o.getCurrentTransform)(_e))||[0,0,0,0],tt=Math.ceil(g[2]-g[0])||1,ct=Math.ceil(g[3]-g[1])||1,gt=rt.cachedCanvases.getCanvas("pattern",tt,ct,!0),nt=gt.context;nt.clearRect(0,0,nt.canvas.width,nt.canvas.height),nt.beginPath(),nt.rect(0,0,nt.canvas.width,nt.canvas.height),nt.translate(-g[0],-g[1]),dt=a.Util.transform(dt,[1,0,0,1,g[0],g[1]]),nt.transform(...rt.baseTransform),this.matrix&&nt.transform(...this.matrix),d(nt,this._bbox),nt.fillStyle=this._createGradient(nt),nt.fill(),pt=_e.createPattern(gt.canvas,"no-repeat");const ft=new DOMMatrix(dt);pt.setTransform(ft)}else d(_e,this._bbox),pt=this._createGradient(_e);return pt}}function j(b,_e,rt,dt,st,pt,g,tt){const ct=_e.coords,gt=_e.colors,nt=b.data,ft=b.width*4;let vt;ct[rt+1]>ct[dt+1]&&(vt=rt,rt=dt,dt=vt,vt=pt,pt=g,g=vt),ct[dt+1]>ct[st+1]&&(vt=dt,dt=st,st=vt,vt=g,g=tt,tt=vt),ct[rt+1]>ct[dt+1]&&(vt=rt,rt=dt,dt=vt,vt=pt,pt=g,g=vt);const Dt=(ct[rt]+_e.offsetX)*_e.scaleX,Tt=(ct[rt+1]+_e.offsetY)*_e.scaleY,Mt=(ct[dt]+_e.offsetX)*_e.scaleX,kt=(ct[dt+1]+_e.offsetY)*_e.scaleY,Rt=(ct[st]+_e.offsetX)*_e.scaleX,bt=(ct[st+1]+_e.offsetY)*_e.scaleY;if(Tt>=bt)return;const Nt=gt[pt],Ft=gt[pt+1],jt=gt[pt+2],ut=gt[g],ht=gt[g+1],yt=gt[g+2],St=gt[tt],At=gt[tt+1],Ct=gt[tt+2],Ut=Math.round(Tt),Wt=Math.round(bt);let Qt,Zt,nr,Gt,rr,Vt,Bt,Et;for(let Pt=Ut;Pt<=Wt;Pt++){if(Pt<kt){const ir=Pt<Tt?0:(Tt-Pt)/(Tt-kt);Qt=Dt-(Dt-Mt)*ir,Zt=Nt-(Nt-ut)*ir,nr=Ft-(Ft-ht)*ir,Gt=jt-(jt-yt)*ir}else{let ir;Pt>bt?ir=1:kt===bt?ir=0:ir=(kt-Pt)/(kt-bt),Qt=Mt-(Mt-Rt)*ir,Zt=ut-(ut-St)*ir,nr=ht-(ht-At)*ir,Gt=yt-(yt-Ct)*ir}let zt;Pt<Tt?zt=0:Pt>bt?zt=1:zt=(Tt-Pt)/(Tt-bt),rr=Dt-(Dt-Rt)*zt,Vt=Nt-(Nt-St)*zt,Bt=Ft-(Ft-At)*zt,Et=jt-(jt-Ct)*zt;const Ht=Math.round(Math.min(Qt,rr)),tr=Math.round(Math.max(Qt,rr));let ar=ft*Pt+Ht*4;for(let ir=Ht;ir<=tr;ir++)zt=(Qt-ir)/(Qt-rr),zt<0?zt=0:zt>1&&(zt=1),nt[ar++]=Zt-(Zt-Vt)*zt|0,nt[ar++]=nr-(nr-Bt)*zt|0,nt[ar++]=Gt-(Gt-Et)*zt|0,nt[ar++]=255}}function $(b,_e,rt){const dt=_e.coords,st=_e.colors;let pt,g;switch(_e.type){case"lattice":const tt=_e.verticesPerRow,ct=Math.floor(dt.length/tt)-1,gt=tt-1;for(pt=0;pt<ct;pt++){let nt=pt*tt;for(let ft=0;ft<gt;ft++,nt++)j(b,rt,dt[nt],dt[nt+1],dt[nt+tt],st[nt],st[nt+1],st[nt+tt]),j(b,rt,dt[nt+tt+1],dt[nt+1],dt[nt+tt],st[nt+tt+1],st[nt+1],st[nt+tt])}break;case"triangles":for(pt=0,g=dt.length;pt<g;pt+=3)j(b,rt,dt[pt],dt[pt+1],dt[pt+2],st[pt],st[pt+1],st[pt+2]);break;default:throw new Error("illegal figure")}}class it extends _{constructor(_e){super(),this._coords=_e[2],this._colors=_e[3],this._figures=_e[4],this._bounds=_e[5],this._bbox=_e[7],this._background=_e[8],this.matrix=null}_createMeshCanvas(_e,rt,dt){const tt=Math.floor(this._bounds[0]),ct=Math.floor(this._bounds[1]),gt=Math.ceil(this._bounds[2])-tt,nt=Math.ceil(this._bounds[3])-ct,ft=Math.min(Math.ceil(Math.abs(gt*_e[0]*1.1)),3e3),vt=Math.min(Math.ceil(Math.abs(nt*_e[1]*1.1)),3e3),Dt=gt/ft,Tt=nt/vt,Mt={coords:this._coords,colors:this._colors,offsetX:-tt,offsetY:-ct,scaleX:1/Dt,scaleY:1/Tt},kt=ft+2*2,Rt=vt+2*2,bt=dt.getCanvas("mesh",kt,Rt,!1),Nt=bt.context,Ft=Nt.createImageData(ft,vt);if(rt){const ut=Ft.data;for(let ht=0,yt=ut.length;ht<yt;ht+=4)ut[ht]=rt[0],ut[ht+1]=rt[1],ut[ht+2]=rt[2],ut[ht+3]=255}for(const ut of this._figures)$(Ft,ut,Mt);return Nt.putImageData(Ft,2,2),{canvas:bt.canvas,offsetX:tt-2*Dt,offsetY:ct-2*Tt,scaleX:Dt,scaleY:Tt}}getPattern(_e,rt,dt,st){d(_e,this._bbox);let pt;if(st===c.SHADING)pt=a.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(_e));else if(pt=a.Util.singularValueDecompose2dScale(rt.baseTransform),this.matrix){const tt=a.Util.singularValueDecompose2dScale(this.matrix);pt=[pt[0]*tt[0],pt[1]*tt[1]]}const g=this._createMeshCanvas(pt,st===c.SHADING?null:this._background,rt.cachedCanvases);return st!==c.SHADING&&(_e.setTransform(...rt.baseTransform),this.matrix&&_e.transform(...this.matrix)),_e.translate(g.offsetX,g.offsetY),_e.scale(g.scaleX,g.scaleY),_e.createPattern(g.canvas,"no-repeat")}}class ot extends _{getPattern(){return"hotpink"}}function mt(b){switch(b[0]){case"RadialAxial":return new h(b);case"Mesh":return new it(b);case"Dummy":return new ot}throw new Error(`Unknown IR type: ${b[0]}`)}const at={COLORED:1,UNCOLORED:2},lt=class lt{constructor(_e,rt,dt,st,pt){this.operatorList=_e[2],this.matrix=_e[3]||[1,0,0,1,0,0],this.bbox=_e[4],this.xstep=_e[5],this.ystep=_e[6],this.paintType=_e[7],this.tilingType=_e[8],this.color=rt,this.ctx=dt,this.canvasGraphicsFactory=st,this.baseTransform=pt}createPatternCanvas(_e){const rt=this.operatorList,dt=this.bbox,st=this.xstep,pt=this.ystep,g=this.paintType,tt=this.tilingType,ct=this.color,gt=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+tt);const nt=dt[0],ft=dt[1],vt=dt[2],Dt=dt[3],Tt=a.Util.singularValueDecompose2dScale(this.matrix),Mt=a.Util.singularValueDecompose2dScale(this.baseTransform),kt=[Tt[0]*Mt[0],Tt[1]*Mt[1]],Rt=this.getSizeAndScale(st,this.ctx.canvas.width,kt[0]),bt=this.getSizeAndScale(pt,this.ctx.canvas.height,kt[1]),Nt=_e.cachedCanvases.getCanvas("pattern",Rt.size,bt.size,!0),Ft=Nt.context,jt=gt.createCanvasGraphics(Ft);jt.groupLevel=_e.groupLevel,this.setFillAndStrokeStyleToContext(jt,g,ct);let ut=nt,ht=ft,yt=vt,St=Dt;return nt<0&&(ut=0,yt+=Math.abs(nt)),ft<0&&(ht=0,St+=Math.abs(ft)),Ft.translate(-(Rt.scale*ut),-(bt.scale*ht)),jt.transform(Rt.scale,0,0,bt.scale,0,0),Ft.save(),this.clipBbox(jt,ut,ht,yt,St),jt.baseTransform=(0,o.getCurrentTransform)(jt.ctx),jt.executeOperatorList(rt),jt.endDrawing(),{canvas:Nt.canvas,scaleX:Rt.scale,scaleY:bt.scale,offsetX:ut,offsetY:ht}}getSizeAndScale(_e,rt,dt){_e=Math.abs(_e);const st=Math.max(lt.MAX_PATTERN_SIZE,rt);let pt=Math.ceil(_e*dt);return pt>=st?pt=st:dt=pt/_e,{scale:dt,size:pt}}clipBbox(_e,rt,dt,st,pt){const g=st-rt,tt=pt-dt;_e.ctx.rect(rt,dt,g,tt),_e.current.updateRectMinMax((0,o.getCurrentTransform)(_e.ctx),[rt,dt,st,pt]),_e.clip(),_e.endPath()}setFillAndStrokeStyleToContext(_e,rt,dt){const st=_e.ctx,pt=_e.current;switch(rt){case at.COLORED:const g=this.ctx;st.fillStyle=g.fillStyle,st.strokeStyle=g.strokeStyle,pt.fillColor=g.fillStyle,pt.strokeColor=g.strokeStyle;break;case at.UNCOLORED:const tt=a.Util.makeHexColor(dt[0],dt[1],dt[2]);st.fillStyle=tt,st.strokeStyle=tt,pt.fillColor=tt,pt.strokeColor=tt;break;default:throw new a.FormatError(`Unsupported paint type: ${rt}`)}}getPattern(_e,rt,dt,st){let pt=dt;st!==c.SHADING&&(pt=a.Util.transform(pt,rt.baseTransform),this.matrix&&(pt=a.Util.transform(pt,this.matrix)));const g=this.createPatternCanvas(rt);let tt=new DOMMatrix(pt);tt=tt.translate(g.offsetX,g.offsetY),tt=tt.scale(1/g.scaleX,1/g.scaleY);const ct=_e.createPattern(g.canvas,"repeat");return ct.setTransform(tt),ct}};Ur(lt,"MAX_PATTERN_SIZE",3e3);let xt=lt;s.TilingPattern=xt},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.convertBlackAndWhiteToRGBA=c,s.convertToRGBA=o,s.grayToRGBA=_;var a=i(1);function o(h){switch(h.kind){case a.ImageKind.GRAYSCALE_1BPP:return c(h);case a.ImageKind.RGB_24BPP:return d(h)}return null}function c({src:h,srcPos:j=0,dest:$,width:it,height:ot,nonBlackColor:mt=4294967295,inverseDecode:at=!1}){const xt=a.FeatureTest.isLittleEndian?4278190080:255,[lt,b]=at?[mt,xt]:[xt,mt],_e=it>>3,rt=it&7,dt=h.length;$=new Uint32Array($.buffer);let st=0;for(let pt=0;pt<ot;pt++){for(const tt=j+_e;j<tt;j++){const ct=j<dt?h[j]:255;$[st++]=ct&128?b:lt,$[st++]=ct&64?b:lt,$[st++]=ct&32?b:lt,$[st++]=ct&16?b:lt,$[st++]=ct&8?b:lt,$[st++]=ct&4?b:lt,$[st++]=ct&2?b:lt,$[st++]=ct&1?b:lt}if(rt===0)continue;const g=j<dt?h[j++]:255;for(let tt=0;tt<rt;tt++)$[st++]=g&1<<7-tt?b:lt}return{srcPos:j,destPos:st}}function d({src:h,srcPos:j=0,dest:$,destPos:it=0,width:ot,height:mt}){let at=0;const xt=h.length>>2,lt=new Uint32Array(h.buffer,j,xt);if(a.FeatureTest.isLittleEndian){for(;at<xt-2;at+=3,it+=4){const b=lt[at],_e=lt[at+1],rt=lt[at+2];$[it]=b|4278190080,$[it+1]=b>>>24|_e<<8|4278190080,$[it+2]=_e>>>16|rt<<16|4278190080,$[it+3]=rt>>>8|4278190080}for(let b=at*4,_e=h.length;b<_e;b+=3)$[it++]=h[b]|h[b+1]<<8|h[b+2]<<16|4278190080}else{for(;at<xt-2;at+=3,it+=4){const b=lt[at],_e=lt[at+1],rt=lt[at+2];$[it]=b|255,$[it+1]=b<<24|_e>>>8|255,$[it+2]=_e<<16|rt>>>16|255,$[it+3]=rt<<8|255}for(let b=at*4,_e=h.length;b<_e;b+=3)$[it++]=h[b]<<24|h[b+1]<<16|h[b+2]<<8|255}return{srcPos:j,destPos:it}}function _(h,j){if(a.FeatureTest.isLittleEndian)for(let $=0,it=h.length;$<it;$++)j[$]=h[$]*65793|4278190080;else for(let $=0,it=h.length;$<it;$++)j[$]=h[$]*16843008|255}},(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GlobalWorkerOptions=void 0;const i=Object.create(null);s.GlobalWorkerOptions=i,i.workerPort=null,i.workerSrc=""},(e,s,i)=>{var h,Dn,In,ks;Object.defineProperty(s,"__esModule",{value:!0}),s.MessageHandler=void 0;var a=i(1);const o={DATA:1,ERROR:2},c={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function d(ot){switch(ot instanceof Error||typeof ot=="object"&&ot!==null||(0,a.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ot.name){case"AbortException":return new a.AbortException(ot.message);case"MissingPDFException":return new a.MissingPDFException(ot.message);case"PasswordException":return new a.PasswordException(ot.message,ot.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(ot.message,ot.status);case"UnknownErrorException":return new a.UnknownErrorException(ot.message,ot.details);default:return new a.UnknownErrorException(ot.message,ot.toString())}}class _{constructor(mt,at,xt){qt(this,h);this.sourceName=mt,this.targetName=at,this.comObj=xt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=lt=>{const b=lt.data;if(b.targetName!==this.sourceName)return;if(b.stream){$t(this,h,In).call(this,b);return}if(b.callback){const rt=b.callbackId,dt=this.callbackCapabilities[rt];if(!dt)throw new Error(`Cannot resolve callback ${rt}`);if(delete this.callbackCapabilities[rt],b.callback===o.DATA)dt.resolve(b.data);else if(b.callback===o.ERROR)dt.reject(d(b.reason));else throw new Error("Unexpected callback case");return}const _e=this.actionHandler[b.action];if(!_e)throw new Error(`Unknown action from worker: ${b.action}`);if(b.callbackId){const rt=this.sourceName,dt=b.sourceName;new Promise(function(st){st(_e(b.data))}).then(function(st){xt.postMessage({sourceName:rt,targetName:dt,callback:o.DATA,callbackId:b.callbackId,data:st})},function(st){xt.postMessage({sourceName:rt,targetName:dt,callback:o.ERROR,callbackId:b.callbackId,reason:d(st)})});return}if(b.streamId){$t(this,h,Dn).call(this,b);return}_e(b.data)},xt.addEventListener("message",this._onComObjOnMessage)}on(mt,at){const xt=this.actionHandler;if(xt[mt])throw new Error(`There is already an actionName called "${mt}"`);xt[mt]=at}send(mt,at,xt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:mt,data:at},xt)}sendWithPromise(mt,at,xt){const lt=this.callbackId++,b=new a.PromiseCapability;this.callbackCapabilities[lt]=b;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:mt,callbackId:lt,data:at},xt)}catch(_e){b.reject(_e)}return b.promise}sendWithStream(mt,at,xt,lt){const b=this.streamId++,_e=this.sourceName,rt=this.targetName,dt=this.comObj;return new ReadableStream({start:st=>{const pt=new a.PromiseCapability;return this.streamControllers[b]={controller:st,startCall:pt,pullCall:null,cancelCall:null,isClosed:!1},dt.postMessage({sourceName:_e,targetName:rt,action:mt,streamId:b,data:at,desiredSize:st.desiredSize},lt),pt.promise},pull:st=>{const pt=new a.PromiseCapability;return this.streamControllers[b].pullCall=pt,dt.postMessage({sourceName:_e,targetName:rt,stream:c.PULL,streamId:b,desiredSize:st.desiredSize}),pt.promise},cancel:st=>{(0,a.assert)(st instanceof Error,"cancel must have a valid reason");const pt=new a.PromiseCapability;return this.streamControllers[b].cancelCall=pt,this.streamControllers[b].isClosed=!0,dt.postMessage({sourceName:_e,targetName:rt,stream:c.CANCEL,streamId:b,reason:d(st)}),pt.promise}},xt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}h=new WeakSet,Dn=function(mt){const at=mt.streamId,xt=this.sourceName,lt=mt.sourceName,b=this.comObj,_e=this,rt=this.actionHandler[mt.action],dt={enqueue(st,pt=1,g){if(this.isCancelled)return;const tt=this.desiredSize;this.desiredSize-=pt,tt>0&&this.desiredSize<=0&&(this.sinkCapability=new a.PromiseCapability,this.ready=this.sinkCapability.promise),b.postMessage({sourceName:xt,targetName:lt,stream:c.ENQUEUE,streamId:at,chunk:st},g)},close(){this.isCancelled||(this.isCancelled=!0,b.postMessage({sourceName:xt,targetName:lt,stream:c.CLOSE,streamId:at}),delete _e.streamSinks[at])},error(st){(0,a.assert)(st instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,b.postMessage({sourceName:xt,targetName:lt,stream:c.ERROR,streamId:at,reason:d(st)}))},sinkCapability:new a.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:mt.desiredSize,ready:null};dt.sinkCapability.resolve(),dt.ready=dt.sinkCapability.promise,this.streamSinks[at]=dt,new Promise(function(st){st(rt(mt.data,dt))}).then(function(){b.postMessage({sourceName:xt,targetName:lt,stream:c.START_COMPLETE,streamId:at,success:!0})},function(st){b.postMessage({sourceName:xt,targetName:lt,stream:c.START_COMPLETE,streamId:at,reason:d(st)})})},In=function(mt){const at=mt.streamId,xt=this.sourceName,lt=mt.sourceName,b=this.comObj,_e=this.streamControllers[at],rt=this.streamSinks[at];switch(mt.stream){case c.START_COMPLETE:mt.success?_e.startCall.resolve():_e.startCall.reject(d(mt.reason));break;case c.PULL_COMPLETE:mt.success?_e.pullCall.resolve():_e.pullCall.reject(d(mt.reason));break;case c.PULL:if(!rt){b.postMessage({sourceName:xt,targetName:lt,stream:c.PULL_COMPLETE,streamId:at,success:!0});break}rt.desiredSize<=0&&mt.desiredSize>0&&rt.sinkCapability.resolve(),rt.desiredSize=mt.desiredSize,new Promise(function(dt){var st;dt((st=rt.onPull)==null?void 0:st.call(rt))}).then(function(){b.postMessage({sourceName:xt,targetName:lt,stream:c.PULL_COMPLETE,streamId:at,success:!0})},function(dt){b.postMessage({sourceName:xt,targetName:lt,stream:c.PULL_COMPLETE,streamId:at,reason:d(dt)})});break;case c.ENQUEUE:if((0,a.assert)(_e,"enqueue should have stream controller"),_e.isClosed)break;_e.controller.enqueue(mt.chunk);break;case c.CLOSE:if((0,a.assert)(_e,"close should have stream controller"),_e.isClosed)break;_e.isClosed=!0,_e.controller.close(),$t(this,h,ks).call(this,_e,at);break;case c.ERROR:(0,a.assert)(_e,"error should have stream controller"),_e.controller.error(d(mt.reason)),$t(this,h,ks).call(this,_e,at);break;case c.CANCEL_COMPLETE:mt.success?_e.cancelCall.resolve():_e.cancelCall.reject(d(mt.reason)),$t(this,h,ks).call(this,_e,at);break;case c.CANCEL:if(!rt)break;new Promise(function(dt){var st;dt((st=rt.onCancel)==null?void 0:st.call(rt,d(mt.reason)))}).then(function(){b.postMessage({sourceName:xt,targetName:lt,stream:c.CANCEL_COMPLETE,streamId:at,success:!0})},function(dt){b.postMessage({sourceName:xt,targetName:lt,stream:c.CANCEL_COMPLETE,streamId:at,reason:d(dt)})}),rt.sinkCapability.reject(d(mt.reason)),rt.isCancelled=!0,delete this.streamSinks[at];break;default:throw new Error("Unexpected stream case")}},ks=async function(mt,at){var xt,lt,b;await Promise.allSettled([(xt=mt.startCall)==null?void 0:xt.promise,(lt=mt.pullCall)==null?void 0:lt.promise,(b=mt.cancelCall)==null?void 0:b.promise]),delete this.streamControllers[at]},s.MessageHandler=_},(e,s,i)=>{var c,d;Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var a=i(1);class o{constructor({parsedData:h,rawData:j}){qt(this,c);qt(this,d);Kt(this,c,h),Kt(this,d,j)}getRaw(){return et(this,d)}get(h){return et(this,c).get(h)??null}getAll(){return(0,a.objectFromMap)(et(this,c))}has(h){return et(this,c).has(h)}}c=new WeakMap,d=new WeakMap,s.Metadata=o},(e,s,i)=>{var h,j,$,it,ot,mt,Ys;Object.defineProperty(s,"__esModule",{value:!0}),s.OptionalContentConfig=void 0;var a=i(1),o=i(8);const c=Symbol("INTERNAL");class d{constructor(lt,b){qt(this,h,!0);this.name=lt,this.intent=b}get visible(){return et(this,h)}_setVisible(lt,b){lt!==c&&(0,a.unreachable)("Internal method `_setVisible` called."),Kt(this,h,b)}}h=new WeakMap;class _{constructor(lt){qt(this,mt);qt(this,j,null);qt(this,$,new Map);qt(this,it,null);qt(this,ot,null);if(this.name=null,this.creator=null,lt!==null){this.name=lt.name,this.creator=lt.creator,Kt(this,ot,lt.order);for(const b of lt.groups)et(this,$).set(b.id,new d(b.name,b.intent));if(lt.baseState==="OFF")for(const b of et(this,$).values())b._setVisible(c,!1);for(const b of lt.on)et(this,$).get(b)._setVisible(c,!0);for(const b of lt.off)et(this,$).get(b)._setVisible(c,!1);Kt(this,it,this.getHash())}}isVisible(lt){if(et(this,$).size===0)return!0;if(!lt)return(0,a.warn)("Optional content group not defined."),!0;if(lt.type==="OCG")return et(this,$).has(lt.id)?et(this,$).get(lt.id).visible:((0,a.warn)(`Optional content group not found: ${lt.id}`),!0);if(lt.type==="OCMD"){if(lt.expression)return $t(this,mt,Ys).call(this,lt.expression);if(!lt.policy||lt.policy==="AnyOn"){for(const b of lt.ids){if(!et(this,$).has(b))return(0,a.warn)(`Optional content group not found: ${b}`),!0;if(et(this,$).get(b).visible)return!0}return!1}else if(lt.policy==="AllOn"){for(const b of lt.ids){if(!et(this,$).has(b))return(0,a.warn)(`Optional content group not found: ${b}`),!0;if(!et(this,$).get(b).visible)return!1}return!0}else if(lt.policy==="AnyOff"){for(const b of lt.ids){if(!et(this,$).has(b))return(0,a.warn)(`Optional content group not found: ${b}`),!0;if(!et(this,$).get(b).visible)return!0}return!1}else if(lt.policy==="AllOff"){for(const b of lt.ids){if(!et(this,$).has(b))return(0,a.warn)(`Optional content group not found: ${b}`),!0;if(et(this,$).get(b).visible)return!1}return!0}return(0,a.warn)(`Unknown optional content policy ${lt.policy}.`),!0}return(0,a.warn)(`Unknown group type ${lt.type}.`),!0}setVisibility(lt,b=!0){if(!et(this,$).has(lt)){(0,a.warn)(`Optional content group not found: ${lt}`);return}et(this,$).get(lt)._setVisible(c,!!b),Kt(this,j,null)}get hasInitialVisibility(){return et(this,it)===null||this.getHash()===et(this,it)}getOrder(){return et(this,$).size?et(this,ot)?et(this,ot).slice():[...et(this,$).keys()]:null}getGroups(){return et(this,$).size>0?(0,a.objectFromMap)(et(this,$)):null}getGroup(lt){return et(this,$).get(lt)||null}getHash(){if(et(this,j)!==null)return et(this,j);const lt=new o.MurmurHash3_64;for(const[b,_e]of et(this,$))lt.update(`${b}:${_e.visible}`);return Kt(this,j,lt.hexdigest())}}j=new WeakMap,$=new WeakMap,it=new WeakMap,ot=new WeakMap,mt=new WeakSet,Ys=function(lt){const b=lt.length;if(b<2)return!0;const _e=lt[0];for(let rt=1;rt<b;rt++){const dt=lt[rt];let st;if(Array.isArray(dt))st=$t(this,mt,Ys).call(this,dt);else if(et(this,$).has(dt))st=et(this,$).get(dt).visible;else return(0,a.warn)(`Optional content group not found: ${dt}`),!0;switch(_e){case"And":if(!st)return!1;break;case"Or":if(st)return!0;break;case"Not":return!st;default:return!0}}return _e==="And"},s.OptionalContentConfig=_},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFDataTransportStream=void 0;var a=i(1),o=i(6);class c{constructor({length:j,initialData:$,progressiveDone:it=!1,contentDispositionFilename:ot=null,disableRange:mt=!1,disableStream:at=!1},xt){if((0,a.assert)(xt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=it,this._contentDispositionFilename=ot,($==null?void 0:$.length)>0){const lt=$ instanceof Uint8Array&&$.byteLength===$.buffer.byteLength?$.buffer:new Uint8Array($).buffer;this._queuedChunks.push(lt)}this._pdfDataRangeTransport=xt,this._isStreamingSupported=!at,this._isRangeSupported=!mt,this._contentLength=j,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((lt,b)=>{this._onReceiveData({begin:lt,chunk:b})}),this._pdfDataRangeTransport.addProgressListener((lt,b)=>{this._onProgress({loaded:lt,total:b})}),this._pdfDataRangeTransport.addProgressiveReadListener(lt=>{this._onReceiveData({chunk:lt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:j,chunk:$}){const it=$ instanceof Uint8Array&&$.byteLength===$.buffer.byteLength?$.buffer:new Uint8Array($).buffer;if(j===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(it):this._queuedChunks.push(it);else{const ot=this._rangeReaders.some(function(mt){return mt._begin!==j?!1:(mt._enqueue(it),!0)});(0,a.assert)(ot,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var j;return((j=this._fullRequestReader)==null?void 0:j._loaded)??0}_onProgress(j){var $,it,ot,mt;j.total===void 0?(it=($=this._rangeReaders[0])==null?void 0:$.onProgress)==null||it.call($,{loaded:j.loaded}):(mt=(ot=this._fullRequestReader)==null?void 0:ot.onProgress)==null||mt.call(ot,{loaded:j.loaded,total:j.total})}_onProgressiveDone(){var j;(j=this._fullRequestReader)==null||j.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(j){const $=this._rangeReaders.indexOf(j);$>=0&&this._rangeReaders.splice($,1)}getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const j=this._queuedChunks;return this._queuedChunks=null,new d(this,j,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(j,$){if($<=this._progressiveDataLength)return null;const it=new _(this,j,$);return this._pdfDataRangeTransport.requestDataRange(j,$),this._rangeReaders.push(it),it}cancelAllRequests(j){var $;($=this._fullRequestReader)==null||$.cancel(j);for(const it of this._rangeReaders.slice(0))it.cancel(j);this._pdfDataRangeTransport.abort()}}s.PDFDataTransportStream=c;class d{constructor(j,$,it=!1,ot=null){this._stream=j,this._done=it||!1,this._filename=(0,o.isPdfFile)(ot)?ot:null,this._queuedChunks=$||[],this._loaded=0;for(const mt of this._queuedChunks)this._loaded+=mt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),j._fullRequestReader=this,this.onProgress=null}_enqueue(j){this._done||(this._requests.length>0?this._requests.shift().resolve({value:j,done:!1}):this._queuedChunks.push(j),this._loaded+=j.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const j=new a.PromiseCapability;return this._requests.push(j),j.promise}cancel(j){this._done=!0;for(const $ of this._requests)$.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class _{constructor(j,$,it){this._stream=j,this._begin=$,this._end=it,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(j){if(!this._done){if(this._requests.length===0)this._queuedChunk=j;else{this._requests.shift().resolve({value:j,done:!1});for(const it of this._requests)it.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const $=this._queuedChunk;return this._queuedChunk=null,{value:$,done:!1}}if(this._done)return{value:void 0,done:!0};const j=new a.PromiseCapability;return this._requests.push(j),j.promise}cancel(j){this._done=!0;for(const $ of this._requests)$.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFetchStream=void 0;var a=i(1),o=i(20);function c(it,ot,mt){return{method:"GET",headers:it,signal:mt.signal,mode:"cors",credentials:ot?"include":"same-origin",redirect:"follow"}}function d(it){const ot=new Headers;for(const mt in it){const at=it[mt];at!==void 0&&ot.append(mt,at)}return ot}function _(it){return it instanceof Uint8Array?it.buffer:it instanceof ArrayBuffer?it:((0,a.warn)(`getArrayBuffer - unexpected data format: ${it}`),new Uint8Array(it).buffer)}class h{constructor(ot){this.source=ot,this.isHttp=/^https?:/i.test(ot.url),this.httpHeaders=this.isHttp&&ot.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ot;return((ot=this._fullRequestReader)==null?void 0:ot._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new j(this),this._fullRequestReader}getRangeReader(ot,mt){if(mt<=this._progressiveDataLength)return null;const at=new $(this,ot,mt);return this._rangeRequestReaders.push(at),at}cancelAllRequests(ot){var mt;(mt=this._fullRequestReader)==null||mt.cancel(ot);for(const at of this._rangeRequestReaders.slice(0))at.cancel(ot)}}s.PDFFetchStream=h;class j{constructor(ot){this._stream=ot,this._reader=null,this._loaded=0,this._filename=null;const mt=ot.source;this._withCredentials=mt.withCredentials||!1,this._contentLength=mt.length,this._headersCapability=new a.PromiseCapability,this._disableRange=mt.disableRange||!1,this._rangeChunkSize=mt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!mt.disableStream,this._isRangeSupported=!mt.disableRange,this._headers=d(this._stream.httpHeaders);const at=mt.url;fetch(at,c(this._headers,this._withCredentials,this._abortController)).then(xt=>{if(!(0,o.validateResponseStatus)(xt.status))throw(0,o.createResponseStatusError)(xt.status,at);this._reader=xt.body.getReader(),this._headersCapability.resolve();const lt=rt=>xt.headers.get(rt),{allowRangeRequests:b,suggestedLength:_e}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:lt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=b,this._contentLength=_e||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(lt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var at;await this._headersCapability.promise;const{value:ot,done:mt}=await this._reader.read();return mt?{value:ot,done:mt}:(this._loaded+=ot.byteLength,(at=this.onProgress)==null||at.call(this,{loaded:this._loaded,total:this._contentLength}),{value:_(ot),done:!1})}cancel(ot){var mt;(mt=this._reader)==null||mt.cancel(ot),this._abortController.abort()}}class ${constructor(ot,mt,at){this._stream=ot,this._reader=null,this._loaded=0;const xt=ot.source;this._withCredentials=xt.withCredentials||!1,this._readCapability=new a.PromiseCapability,this._isStreamingSupported=!xt.disableStream,this._abortController=new AbortController,this._headers=d(this._stream.httpHeaders),this._headers.append("Range",`bytes=${mt}-${at-1}`);const lt=xt.url;fetch(lt,c(this._headers,this._withCredentials,this._abortController)).then(b=>{if(!(0,o.validateResponseStatus)(b.status))throw(0,o.createResponseStatusError)(b.status,lt);this._readCapability.resolve(),this._reader=b.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var at;await this._readCapability.promise;const{value:ot,done:mt}=await this._reader.read();return mt?{value:ot,done:mt}:(this._loaded+=ot.byteLength,(at=this.onProgress)==null||at.call(this,{loaded:this._loaded}),{value:_(ot),done:!1})}cancel(ot){var mt;(mt=this._reader)==null||mt.cancel(ot),this._abortController.abort()}}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createResponseStatusError=h,s.extractFilenameFromHeader=_,s.validateRangeRequestCapabilities=d,s.validateResponseStatus=j;var a=i(1),o=i(21),c=i(6);function d({getResponseHeader:$,isHttp:it,rangeChunkSize:ot,disableRange:mt}){const at={allowRangeRequests:!1,suggestedLength:void 0},xt=parseInt($("Content-Length"),10);return!Number.isInteger(xt)||(at.suggestedLength=xt,xt<=2*ot)||mt||!it||$("Accept-Ranges")!=="bytes"||($("Content-Encoding")||"identity")!=="identity"||(at.allowRangeRequests=!0),at}function _($){const it=$("Content-Disposition");if(it){let ot=(0,o.getFilenameFromContentDispositionHeader)(it);if(ot.includes("%"))try{ot=decodeURIComponent(ot)}catch{}if((0,c.isPdfFile)(ot))return ot}return null}function h($,it){return $===404||$===0&&it.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+it+'".'):new a.UnexpectedResponseException(`Unexpected server response (${$}) while retrieving PDF "${it}".`,$)}function j($){return $===200||$===206}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFilenameFromContentDispositionHeader=o;var a=i(1);function o(c){let d=!0,_=h("filename\\*","i").exec(c);if(_){_=_[1];let xt=ot(_);return xt=unescape(xt),xt=mt(xt),xt=at(xt),$(xt)}if(_=it(c),_){const xt=at(_);return $(xt)}if(_=h("filename","i").exec(c),_){_=_[1];let xt=ot(_);return xt=at(xt),$(xt)}function h(xt,lt){return new RegExp("(?:^|;)\\s*"+xt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',lt)}function j(xt,lt){if(xt){if(!/^[\x00-\xFF]+$/.test(lt))return lt;try{const b=new TextDecoder(xt,{fatal:!0}),_e=(0,a.stringToBytes)(lt);lt=b.decode(_e),d=!1}catch{}}return lt}function $(xt){return d&&/[\x80-\xff]/.test(xt)&&(xt=j("utf-8",xt),d&&(xt=j("iso-8859-1",xt))),xt}function it(xt){const lt=[];let b;const _e=h("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=_e.exec(xt))!==null;){let[,dt,st,pt]=b;if(dt=parseInt(dt,10),dt in lt){if(dt===0)break;continue}lt[dt]=[st,pt]}const rt=[];for(let dt=0;dt<lt.length&&dt in lt;++dt){let[st,pt]=lt[dt];pt=ot(pt),st&&(pt=unescape(pt),dt===0&&(pt=mt(pt))),rt.push(pt)}return rt.join("")}function ot(xt){if(xt.startsWith('"')){const lt=xt.slice(1).split('\\"');for(let b=0;b<lt.length;++b){const _e=lt[b].indexOf('"');_e!==-1&&(lt[b]=lt[b].slice(0,_e),lt.length=b+1),lt[b]=lt[b].replaceAll(/\\(.)/g,"$1")}xt=lt.join('"')}return xt}function mt(xt){const lt=xt.indexOf("'");if(lt===-1)return xt;const b=xt.slice(0,lt),rt=xt.slice(lt+1).replace(/^[^']*'/,"");return j(b,rt)}function at(xt){return!xt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(xt)?xt:xt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(lt,b,_e,rt){if(_e==="q"||_e==="Q")return rt=rt.replaceAll("_"," "),rt=rt.replaceAll(/=([0-9a-fA-F]{2})/g,function(dt,st){return String.fromCharCode(parseInt(st,16))}),j(b,rt);try{rt=atob(rt)}catch{}return j(b,rt)})}return""}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNetworkStream=void 0;var a=i(1),o=i(20);const c=200,d=206;function _(ot){const mt=ot.response;return typeof mt!="string"?mt:(0,a.stringToBytes)(mt).buffer}class h{constructor(mt,at={}){this.url=mt,this.isHttp=/^https?:/i.test(mt),this.httpHeaders=this.isHttp&&at.httpHeaders||Object.create(null),this.withCredentials=at.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(mt,at,xt){const lt={begin:mt,end:at};for(const b in xt)lt[b]=xt[b];return this.request(lt)}requestFull(mt){return this.request(mt)}request(mt){const at=new XMLHttpRequest,xt=this.currXhrId++,lt=this.pendingRequests[xt]={xhr:at};at.open("GET",this.url),at.withCredentials=this.withCredentials;for(const b in this.httpHeaders){const _e=this.httpHeaders[b];_e!==void 0&&at.setRequestHeader(b,_e)}return this.isHttp&&"begin"in mt&&"end"in mt?(at.setRequestHeader("Range",`bytes=${mt.begin}-${mt.end-1}`),lt.expectedStatus=d):lt.expectedStatus=c,at.responseType="arraybuffer",mt.onError&&(at.onerror=function(b){mt.onError(at.status)}),at.onreadystatechange=this.onStateChange.bind(this,xt),at.onprogress=this.onProgress.bind(this,xt),lt.onHeadersReceived=mt.onHeadersReceived,lt.onDone=mt.onDone,lt.onError=mt.onError,lt.onProgress=mt.onProgress,at.send(null),xt}onProgress(mt,at){var lt;const xt=this.pendingRequests[mt];xt&&((lt=xt.onProgress)==null||lt.call(xt,at))}onStateChange(mt,at){var dt,st,pt;const xt=this.pendingRequests[mt];if(!xt)return;const lt=xt.xhr;if(lt.readyState>=2&&xt.onHeadersReceived&&(xt.onHeadersReceived(),delete xt.onHeadersReceived),lt.readyState!==4||!(mt in this.pendingRequests))return;if(delete this.pendingRequests[mt],lt.status===0&&this.isHttp){(dt=xt.onError)==null||dt.call(xt,lt.status);return}const b=lt.status||c;if(!(b===c&&xt.expectedStatus===d)&&b!==xt.expectedStatus){(st=xt.onError)==null||st.call(xt,lt.status);return}const rt=_(lt);if(b===d){const g=lt.getResponseHeader("Content-Range"),tt=/bytes (\d+)-(\d+)\/(\d+)/.exec(g);xt.onDone({begin:parseInt(tt[1],10),chunk:rt})}else rt?xt.onDone({begin:0,chunk:rt}):(pt=xt.onError)==null||pt.call(xt,lt.status)}getRequestXhr(mt){return this.pendingRequests[mt].xhr}isPendingRequest(mt){return mt in this.pendingRequests}abortRequest(mt){const at=this.pendingRequests[mt].xhr;delete this.pendingRequests[mt],at.abort()}}class j{constructor(mt){this._source=mt,this._manager=new h(mt.url,{httpHeaders:mt.httpHeaders,withCredentials:mt.withCredentials}),this._rangeChunkSize=mt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(mt){const at=this._rangeRequestReaders.indexOf(mt);at>=0&&this._rangeRequestReaders.splice(at,1)}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new $(this._manager,this._source),this._fullRequestReader}getRangeReader(mt,at){const xt=new it(this._manager,mt,at);return xt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(xt),xt}cancelAllRequests(mt){var at;(at=this._fullRequestReader)==null||at.cancel(mt);for(const xt of this._rangeRequestReaders.slice(0))xt.cancel(mt)}}s.PDFNetworkStream=j;class ${constructor(mt,at){this._manager=mt;const xt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=at.url,this._fullRequestId=mt.requestFull(xt),this._headersReceivedCapability=new a.PromiseCapability,this._disableRange=at.disableRange||!1,this._contentLength=at.length,this._rangeChunkSize=at.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const mt=this._fullRequestId,at=this._manager.getRequestXhr(mt),xt=_e=>at.getResponseHeader(_e),{allowRangeRequests:lt,suggestedLength:b}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:xt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});lt&&(this._isRangeSupported=!0),this._contentLength=b||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(xt),this._isRangeSupported&&this._manager.abortRequest(mt),this._headersReceivedCapability.resolve()}_onDone(mt){if(mt&&(this._requests.length>0?this._requests.shift().resolve({value:mt.chunk,done:!1}):this._cachedChunks.push(mt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const at of this._requests)at.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(mt){this._storedError=(0,o.createResponseStatusError)(mt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const at of this._requests)at.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(mt){var at;(at=this.onProgress)==null||at.call(this,{loaded:mt.loaded,total:mt.lengthComputable?mt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const mt=new a.PromiseCapability;return this._requests.push(mt),mt.promise}cancel(mt){this._done=!0,this._headersReceivedCapability.reject(mt);for(const at of this._requests)at.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class it{constructor(mt,at,xt){this._manager=mt;const lt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=mt.url,this._requestId=mt.requestRange(at,xt,lt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var mt;(mt=this.onClosed)==null||mt.call(this,this)}_onDone(mt){const at=mt.chunk;this._requests.length>0?this._requests.shift().resolve({value:at,done:!1}):this._queuedChunk=at,this._done=!0;for(const xt of this._requests)xt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(mt){this._storedError=(0,o.createResponseStatusError)(mt,this._url);for(const at of this._requests)at.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(mt){var at;this.isStreamingSupported||(at=this.onProgress)==null||at.call(this,{loaded:mt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const at=this._queuedChunk;return this._queuedChunk=null,{value:at,done:!1}}if(this._done)return{value:void 0,done:!0};const mt=new a.PromiseCapability;return this._requests.push(mt),mt.promise}cancel(mt){this._done=!0;for(const at of this._requests)at.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNodeStream=void 0;var a=i(1),o=i(20);const c=/^file:\/\/\/[a-zA-Z]:\//;function d(xt){const lt=require$$5,b=lt.parse(xt);return b.protocol==="file:"||b.host?b:/^[a-z]:[/\\]/i.test(xt)?lt.parse(`file:///${xt}`):(b.host||(b.protocol="file:"),b)}class _{constructor(lt){this.source=lt,this.url=d(lt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&lt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var lt;return((lt=this._fullRequestReader)==null?void 0:lt._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new mt(this):new it(this),this._fullRequestReader}getRangeReader(lt,b){if(b<=this._progressiveDataLength)return null;const _e=this.isFsUrl?new at(this,lt,b):new ot(this,lt,b);return this._rangeRequestReaders.push(_e),_e}cancelAllRequests(lt){var b;(b=this._fullRequestReader)==null||b.cancel(lt);for(const _e of this._rangeRequestReaders.slice(0))_e.cancel(lt)}}s.PDFNodeStream=_;class h{constructor(lt){this._url=lt.url,this._done=!1,this._storedError=null,this.onProgress=null;const b=lt.source;this._contentLength=b.length,this._loaded=0,this._filename=null,this._disableRange=b.disableRange||!1,this._rangeChunkSize=b.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!b.disableStream,this._isRangeSupported=!b.disableRange,this._readableStream=null,this._readCapability=new a.PromiseCapability,this._headersCapability=new a.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var _e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const lt=this._readableStream.read();return lt===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=lt.length,(_e=this.onProgress)==null||_e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(lt).buffer,done:!1})}cancel(lt){if(!this._readableStream){this._error(lt);return}this._readableStream.destroy(lt)}_error(lt){this._storedError=lt,this._readCapability.resolve()}_setReadableStream(lt){this._readableStream=lt,lt.on("readable",()=>{this._readCapability.resolve()}),lt.on("end",()=>{lt.destroy(),this._done=!0,this._readCapability.resolve()}),lt.on("error",b=>{this._error(b)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class j{constructor(lt){this._url=lt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new a.PromiseCapability;const b=lt.source;this._isStreamingSupported=!b.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var _e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const lt=this._readableStream.read();return lt===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=lt.length,(_e=this.onProgress)==null||_e.call(this,{loaded:this._loaded}),{value:new Uint8Array(lt).buffer,done:!1})}cancel(lt){if(!this._readableStream){this._error(lt);return}this._readableStream.destroy(lt)}_error(lt){this._storedError=lt,this._readCapability.resolve()}_setReadableStream(lt){this._readableStream=lt,lt.on("readable",()=>{this._readCapability.resolve()}),lt.on("end",()=>{lt.destroy(),this._done=!0,this._readCapability.resolve()}),lt.on("error",b=>{this._error(b)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function $(xt,lt){return{protocol:xt.protocol,auth:xt.auth,host:xt.hostname,port:xt.port,path:xt.path,method:"GET",headers:lt}}class it extends h{constructor(lt){super(lt);const b=_e=>{if(_e.statusCode===404){const pt=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=pt,this._headersCapability.reject(pt);return}this._headersCapability.resolve(),this._setReadableStream(_e);const rt=pt=>this._readableStream.headers[pt.toLowerCase()],{allowRangeRequests:dt,suggestedLength:st}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:rt,isHttp:lt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=dt,this._contentLength=st||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(rt)};if(this._request=null,this._url.protocol==="http:"){const _e=require$$5;this._request=_e.request($(this._url,lt.httpHeaders),b)}else{const _e=require$$5;this._request=_e.request($(this._url,lt.httpHeaders),b)}this._request.on("error",_e=>{this._storedError=_e,this._headersCapability.reject(_e)}),this._request.end()}}class ot extends j{constructor(lt,b,_e){super(lt),this._httpHeaders={};for(const dt in lt.httpHeaders){const st=lt.httpHeaders[dt];st!==void 0&&(this._httpHeaders[dt]=st)}this._httpHeaders.Range=`bytes=${b}-${_e-1}`;const rt=dt=>{if(dt.statusCode===404){const st=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=st;return}this._setReadableStream(dt)};if(this._request=null,this._url.protocol==="http:"){const dt=require$$5;this._request=dt.request($(this._url,this._httpHeaders),rt)}else{const dt=require$$5;this._request=dt.request($(this._url,this._httpHeaders),rt)}this._request.on("error",dt=>{this._storedError=dt}),this._request.end()}}class mt extends h{constructor(lt){super(lt);let b=decodeURIComponent(this._url.path);c.test(this._url.href)&&(b=b.replace(/^\//,""));const _e=require$$5;_e.lstat(b,(rt,dt)=>{if(rt){rt.code==="ENOENT"&&(rt=new a.MissingPDFException(`Missing PDF "${b}".`)),this._storedError=rt,this._headersCapability.reject(rt);return}this._contentLength=dt.size,this._setReadableStream(_e.createReadStream(b)),this._headersCapability.resolve()})}}class at extends j{constructor(lt,b,_e){super(lt);let rt=decodeURIComponent(this._url.path);c.test(this._url.href)&&(rt=rt.replace(/^\//,""));const dt=require$$5;this._setReadableStream(dt.createReadStream(rt,{start:b,end:_e-1}))}}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SVGGraphics=void 0;var a=i(6),o=i(1);const c={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},d="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/1999/xlink",h=["butt","round","square"],j=["miter","round","bevel"],$=function(dt,st="",pt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!pt)return URL.createObjectURL(new Blob([dt],{type:st}));const g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let tt=`data:${st};base64,`;for(let ct=0,gt=dt.length;ct<gt;ct+=3){const nt=dt[ct]&255,ft=dt[ct+1]&255,vt=dt[ct+2]&255,Dt=nt>>2,Tt=(nt&3)<<4|ft>>4,Mt=ct+1<gt?(ft&15)<<2|vt>>6:64,kt=ct+2<gt?vt&63:64;tt+=g[Dt]+g[Tt]+g[Mt]+g[kt]}return tt},it=function(){const dt=new Uint8Array([137,80,78,71,13,10,26,10]),st=12,pt=new Int32Array(256);for(let vt=0;vt<256;vt++){let Dt=vt;for(let Tt=0;Tt<8;Tt++)Dt=Dt&1?3988292384^Dt>>1&2147483647:Dt>>1&2147483647;pt[vt]=Dt}function g(vt,Dt,Tt){let Mt=-1;for(let kt=Dt;kt<Tt;kt++){const Rt=(Mt^vt[kt])&255,bt=pt[Rt];Mt=Mt>>>8^bt}return Mt^-1}function tt(vt,Dt,Tt,Mt){let kt=Mt;const Rt=Dt.length;Tt[kt]=Rt>>24&255,Tt[kt+1]=Rt>>16&255,Tt[kt+2]=Rt>>8&255,Tt[kt+3]=Rt&255,kt+=4,Tt[kt]=vt.charCodeAt(0)&255,Tt[kt+1]=vt.charCodeAt(1)&255,Tt[kt+2]=vt.charCodeAt(2)&255,Tt[kt+3]=vt.charCodeAt(3)&255,kt+=4,Tt.set(Dt,kt),kt+=Dt.length;const bt=g(Tt,Mt+4,kt);Tt[kt]=bt>>24&255,Tt[kt+1]=bt>>16&255,Tt[kt+2]=bt>>8&255,Tt[kt+3]=bt&255}function ct(vt,Dt,Tt){let Mt=1,kt=0;for(let Rt=Dt;Rt<Tt;++Rt)Mt=(Mt+(vt[Rt]&255))%65521,kt=(kt+Mt)%65521;return kt<<16|Mt}function gt(vt){if(!o.isNodeJS)return nt(vt);try{const Dt=parseInt(process.versions.node)>=8?vt:Buffer.from(vt),Tt=require$$5.deflateSync(Dt,{level:9});return Tt instanceof Uint8Array?Tt:new Uint8Array(Tt)}catch(Dt){(0,o.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Dt)}return nt(vt)}function nt(vt){let Dt=vt.length;const Tt=65535,Mt=Math.ceil(Dt/Tt),kt=new Uint8Array(2+Dt+Mt*5+4);let Rt=0;kt[Rt++]=120,kt[Rt++]=156;let bt=0;for(;Dt>Tt;)kt[Rt++]=0,kt[Rt++]=255,kt[Rt++]=255,kt[Rt++]=0,kt[Rt++]=0,kt.set(vt.subarray(bt,bt+Tt),Rt),Rt+=Tt,bt+=Tt,Dt-=Tt;kt[Rt++]=1,kt[Rt++]=Dt&255,kt[Rt++]=Dt>>8&255,kt[Rt++]=~Dt&65535&255,kt[Rt++]=(~Dt&65535)>>8&255,kt.set(vt.subarray(bt),Rt),Rt+=vt.length-bt;const Nt=ct(vt,0,vt.length);return kt[Rt++]=Nt>>24&255,kt[Rt++]=Nt>>16&255,kt[Rt++]=Nt>>8&255,kt[Rt++]=Nt&255,kt}function ft(vt,Dt,Tt,Mt){const kt=vt.width,Rt=vt.height;let bt,Nt,Ft;const jt=vt.data;switch(Dt){case o.ImageKind.GRAYSCALE_1BPP:Nt=0,bt=1,Ft=kt+7>>3;break;case o.ImageKind.RGB_24BPP:Nt=2,bt=8,Ft=kt*3;break;case o.ImageKind.RGBA_32BPP:Nt=6,bt=8,Ft=kt*4;break;default:throw new Error("invalid format")}const ut=new Uint8Array((1+Ft)*Rt);let ht=0,yt=0;for(let Qt=0;Qt<Rt;++Qt)ut[ht++]=0,ut.set(jt.subarray(yt,yt+Ft),ht),yt+=Ft,ht+=Ft;if(Dt===o.ImageKind.GRAYSCALE_1BPP&&Mt){ht=0;for(let Qt=0;Qt<Rt;Qt++){ht++;for(let Zt=0;Zt<Ft;Zt++)ut[ht++]^=255}}const St=new Uint8Array([kt>>24&255,kt>>16&255,kt>>8&255,kt&255,Rt>>24&255,Rt>>16&255,Rt>>8&255,Rt&255,bt,Nt,0,0,0]),At=gt(ut),Ct=dt.length+st*3+St.length+At.length,Ut=new Uint8Array(Ct);let Wt=0;return Ut.set(dt,Wt),Wt+=dt.length,tt("IHDR",St,Ut,Wt),Wt+=st+St.length,tt("IDATA",At,Ut,Wt),Wt+=st+At.length,tt("IEND",new Uint8Array(0),Ut,Wt),$(Ut,"image/png",Tt)}return function(Dt,Tt,Mt){const kt=Dt.kind===void 0?o.ImageKind.GRAYSCALE_1BPP:Dt.kind;return ft(Dt,kt,Tt,Mt)}}();class ot{constructor(){this.fontSizeScale=1,this.fontWeight=c.fontWeight,this.fontSize=0,this.textMatrix=o.IDENTITY_MATRIX,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=o.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=c.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(st,pt){this.x=st,this.y=pt}}function mt(dt){let st=[];const pt=[];for(const g of dt){if(g.fn==="save"){st.push({fnId:92,fn:"group",items:[]}),pt.push(st),st=st.at(-1).items;continue}g.fn==="restore"?st=pt.pop():st.push(g)}return st}function at(dt){if(Number.isInteger(dt))return dt.toString();const st=dt.toFixed(10);let pt=st.length-1;if(st[pt]!=="0")return st;do pt--;while(st[pt]==="0");return st.substring(0,st[pt]==="."?pt:pt+1)}function xt(dt){if(dt[4]===0&&dt[5]===0){if(dt[1]===0&&dt[2]===0)return dt[0]===1&&dt[3]===1?"":`scale(${at(dt[0])} ${at(dt[3])})`;if(dt[0]===dt[3]&&dt[1]===-dt[2]){const st=Math.acos(dt[0])*180/Math.PI;return`rotate(${at(st)})`}}else if(dt[0]===1&&dt[1]===0&&dt[2]===0&&dt[3]===1)return`translate(${at(dt[4])} ${at(dt[5])})`;return`matrix(${at(dt[0])} ${at(dt[1])} ${at(dt[2])} ${at(dt[3])} ${at(dt[4])} ${at(dt[5])})`}let lt=0,b=0,_e=0;class rt{constructor(st,pt,g=!1){(0,a.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new a.DOMSVGFactory,this.current=new ot,this.transformMatrix=o.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=st,this.objs=pt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!g,this._operatorIdMapping=[];for(const tt in o.OPS)this._operatorIdMapping[o.OPS[tt]]=tt}getObject(st,pt=null){return typeof st=="string"?st.startsWith("g_")?this.commonObjs.get(st):this.objs.get(st):pt}save(){this.transformStack.push(this.transformMatrix);const st=this.current;this.extraStack.push(st),this.current=st.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(st){this.save(),this.executeOpTree(st),this.restore()}loadDependencies(st){const pt=st.fnArray,g=st.argsArray;for(let tt=0,ct=pt.length;tt<ct;tt++)if(pt[tt]===o.OPS.dependency)for(const gt of g[tt]){const nt=gt.startsWith("g_")?this.commonObjs:this.objs,ft=new Promise(vt=>{nt.get(gt,vt)});this.current.dependencies.push(ft)}return Promise.all(this.current.dependencies)}transform(st,pt,g,tt,ct,gt){const nt=[st,pt,g,tt,ct,gt];this.transformMatrix=o.Util.transform(this.transformMatrix,nt),this.tgrp=null}getSVG(st,pt){this.viewport=pt;const g=this._initialize(pt);return this.loadDependencies(st).then(()=>(this.transformMatrix=o.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(st)),g))}convertOpList(st){const pt=this._operatorIdMapping,g=st.argsArray,tt=st.fnArray,ct=[];for(let gt=0,nt=tt.length;gt<nt;gt++){const ft=tt[gt];ct.push({fnId:ft,fn:pt[ft],args:g[gt]})}return mt(ct)}executeOpTree(st){for(const pt of st){const g=pt.fn,tt=pt.fnId,ct=pt.args;switch(tt|0){case o.OPS.beginText:this.beginText();break;case o.OPS.dependency:break;case o.OPS.setLeading:this.setLeading(ct);break;case o.OPS.setLeadingMoveText:this.setLeadingMoveText(ct[0],ct[1]);break;case o.OPS.setFont:this.setFont(ct);break;case o.OPS.showText:this.showText(ct[0]);break;case o.OPS.showSpacedText:this.showText(ct[0]);break;case o.OPS.endText:this.endText();break;case o.OPS.moveText:this.moveText(ct[0],ct[1]);break;case o.OPS.setCharSpacing:this.setCharSpacing(ct[0]);break;case o.OPS.setWordSpacing:this.setWordSpacing(ct[0]);break;case o.OPS.setHScale:this.setHScale(ct[0]);break;case o.OPS.setTextMatrix:this.setTextMatrix(ct[0],ct[1],ct[2],ct[3],ct[4],ct[5]);break;case o.OPS.setTextRise:this.setTextRise(ct[0]);break;case o.OPS.setTextRenderingMode:this.setTextRenderingMode(ct[0]);break;case o.OPS.setLineWidth:this.setLineWidth(ct[0]);break;case o.OPS.setLineJoin:this.setLineJoin(ct[0]);break;case o.OPS.setLineCap:this.setLineCap(ct[0]);break;case o.OPS.setMiterLimit:this.setMiterLimit(ct[0]);break;case o.OPS.setFillRGBColor:this.setFillRGBColor(ct[0],ct[1],ct[2]);break;case o.OPS.setStrokeRGBColor:this.setStrokeRGBColor(ct[0],ct[1],ct[2]);break;case o.OPS.setStrokeColorN:this.setStrokeColorN(ct);break;case o.OPS.setFillColorN:this.setFillColorN(ct);break;case o.OPS.shadingFill:this.shadingFill(ct[0]);break;case o.OPS.setDash:this.setDash(ct[0],ct[1]);break;case o.OPS.setRenderingIntent:this.setRenderingIntent(ct[0]);break;case o.OPS.setFlatness:this.setFlatness(ct[0]);break;case o.OPS.setGState:this.setGState(ct[0]);break;case o.OPS.fill:this.fill();break;case o.OPS.eoFill:this.eoFill();break;case o.OPS.stroke:this.stroke();break;case o.OPS.fillStroke:this.fillStroke();break;case o.OPS.eoFillStroke:this.eoFillStroke();break;case o.OPS.clip:this.clip("nonzero");break;case o.OPS.eoClip:this.clip("evenodd");break;case o.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case o.OPS.paintImageXObject:this.paintImageXObject(ct[0]);break;case o.OPS.paintInlineImageXObject:this.paintInlineImageXObject(ct[0]);break;case o.OPS.paintImageMaskXObject:this.paintImageMaskXObject(ct[0]);break;case o.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(ct[0],ct[1]);break;case o.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case o.OPS.closePath:this.closePath();break;case o.OPS.closeStroke:this.closeStroke();break;case o.OPS.closeFillStroke:this.closeFillStroke();break;case o.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case o.OPS.nextLine:this.nextLine();break;case o.OPS.transform:this.transform(ct[0],ct[1],ct[2],ct[3],ct[4],ct[5]);break;case o.OPS.constructPath:this.constructPath(ct[0],ct[1]);break;case o.OPS.endPath:this.endPath();break;case 92:this.group(pt.items);break;default:(0,o.warn)(`Unimplemented operator ${g}`);break}}}setWordSpacing(st){this.current.wordSpacing=st}setCharSpacing(st){this.current.charSpacing=st}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(st,pt,g,tt,ct,gt){const nt=this.current;nt.textMatrix=nt.lineMatrix=[st,pt,g,tt,ct,gt],nt.textMatrixScale=Math.hypot(st,pt),nt.x=nt.lineX=0,nt.y=nt.lineY=0,nt.xcoords=[],nt.ycoords=[],nt.tspan=this.svgFactory.createElement("svg:tspan"),nt.tspan.setAttributeNS(null,"font-family",nt.fontFamily),nt.tspan.setAttributeNS(null,"font-size",`${at(nt.fontSize)}px`),nt.tspan.setAttributeNS(null,"y",at(-nt.y)),nt.txtElement=this.svgFactory.createElement("svg:text"),nt.txtElement.append(nt.tspan)}beginText(){const st=this.current;st.x=st.lineX=0,st.y=st.lineY=0,st.textMatrix=o.IDENTITY_MATRIX,st.lineMatrix=o.IDENTITY_MATRIX,st.textMatrixScale=1,st.tspan=this.svgFactory.createElement("svg:tspan"),st.txtElement=this.svgFactory.createElement("svg:text"),st.txtgrp=this.svgFactory.createElement("svg:g"),st.xcoords=[],st.ycoords=[]}moveText(st,pt){const g=this.current;g.x=g.lineX+=st,g.y=g.lineY+=pt,g.xcoords=[],g.ycoords=[],g.tspan=this.svgFactory.createElement("svg:tspan"),g.tspan.setAttributeNS(null,"font-family",g.fontFamily),g.tspan.setAttributeNS(null,"font-size",`${at(g.fontSize)}px`),g.tspan.setAttributeNS(null,"y",at(-g.y))}showText(st){const pt=this.current,g=pt.font,tt=pt.fontSize;if(tt===0)return;const ct=pt.fontSizeScale,gt=pt.charSpacing,nt=pt.wordSpacing,ft=pt.fontDirection,vt=pt.textHScale*ft,Dt=g.vertical,Tt=Dt?1:-1,Mt=g.defaultVMetrics,kt=tt*pt.fontMatrix[0];let Rt=0;for(const Ft of st){if(Ft===null){Rt+=ft*nt;continue}else if(typeof Ft=="number"){Rt+=Tt*Ft*tt/1e3;continue}const jt=(Ft.isSpace?nt:0)+gt,ut=Ft.fontChar;let ht,yt,St=Ft.width;if(Dt){let Ct;const Ut=Ft.vmetric||Mt;Ct=Ft.vmetric?Ut[1]:St*.5,Ct=-Ct*kt;const Wt=Ut[2]*kt;St=Ut?-Ut[0]:St,ht=Ct/ct,yt=(Rt+Wt)/ct}else ht=Rt/ct,yt=0;(Ft.isInFont||g.missingFile)&&(pt.xcoords.push(pt.x+ht),Dt&&pt.ycoords.push(-pt.y+yt),pt.tspan.textContent+=ut);const At=Dt?St*kt-jt*ft:St*kt+jt*ft;Rt+=At}pt.tspan.setAttributeNS(null,"x",pt.xcoords.map(at).join(" ")),Dt?pt.tspan.setAttributeNS(null,"y",pt.ycoords.map(at).join(" ")):pt.tspan.setAttributeNS(null,"y",at(-pt.y)),Dt?pt.y-=Rt:pt.x+=Rt*vt,pt.tspan.setAttributeNS(null,"font-family",pt.fontFamily),pt.tspan.setAttributeNS(null,"font-size",`${at(pt.fontSize)}px`),pt.fontStyle!==c.fontStyle&&pt.tspan.setAttributeNS(null,"font-style",pt.fontStyle),pt.fontWeight!==c.fontWeight&&pt.tspan.setAttributeNS(null,"font-weight",pt.fontWeight);const bt=pt.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;if(bt===o.TextRenderingMode.FILL||bt===o.TextRenderingMode.FILL_STROKE?(pt.fillColor!==c.fillColor&&pt.tspan.setAttributeNS(null,"fill",pt.fillColor),pt.fillAlpha<1&&pt.tspan.setAttributeNS(null,"fill-opacity",pt.fillAlpha)):pt.textRenderingMode===o.TextRenderingMode.ADD_TO_PATH?pt.tspan.setAttributeNS(null,"fill","transparent"):pt.tspan.setAttributeNS(null,"fill","none"),bt===o.TextRenderingMode.STROKE||bt===o.TextRenderingMode.FILL_STROKE){const Ft=1/(pt.textMatrixScale||1);this._setStrokeAttributes(pt.tspan,Ft)}let Nt=pt.textMatrix;pt.textRise!==0&&(Nt=Nt.slice(),Nt[5]+=pt.textRise),pt.txtElement.setAttributeNS(null,"transform",`${xt(Nt)} scale(${at(vt)}, -1)`),pt.txtElement.setAttributeNS(d,"xml:space","preserve"),pt.txtElement.append(pt.tspan),pt.txtgrp.append(pt.txtElement),this._ensureTransformGroup().append(pt.txtElement)}setLeadingMoveText(st,pt){this.setLeading(-pt),this.moveText(st,pt)}addFontStyle(st){if(!st.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const pt=$(st.data,st.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${st.loadedName}"; src: url(${pt}); }
`}setFont(st){const pt=this.current,g=this.commonObjs.get(st[0]);let tt=st[1];pt.font=g,this.embedFonts&&!g.missingFile&&!this.embeddedFonts[g.loadedName]&&(this.addFontStyle(g),this.embeddedFonts[g.loadedName]=g),pt.fontMatrix=g.fontMatrix||o.FONT_IDENTITY_MATRIX;let ct="normal";g.black?ct="900":g.bold&&(ct="bold");const gt=g.italic?"italic":"normal";tt<0?(tt=-tt,pt.fontDirection=-1):pt.fontDirection=1,pt.fontSize=tt,pt.fontFamily=g.loadedName,pt.fontWeight=ct,pt.fontStyle=gt,pt.tspan=this.svgFactory.createElement("svg:tspan"),pt.tspan.setAttributeNS(null,"y",at(-pt.y)),pt.xcoords=[],pt.ycoords=[]}endText(){var pt;const st=this.current;st.textRenderingMode&o.TextRenderingMode.ADD_TO_PATH_FLAG&&((pt=st.txtElement)!=null&&pt.hasChildNodes())&&(st.element=st.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(st){st>0&&(this.current.lineWidth=st)}setLineCap(st){this.current.lineCap=h[st]}setLineJoin(st){this.current.lineJoin=j[st]}setMiterLimit(st){this.current.miterLimit=st}setStrokeAlpha(st){this.current.strokeAlpha=st}setStrokeRGBColor(st,pt,g){this.current.strokeColor=o.Util.makeHexColor(st,pt,g)}setFillAlpha(st){this.current.fillAlpha=st}setFillRGBColor(st,pt,g){this.current.fillColor=o.Util.makeHexColor(st,pt,g),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(st){this.current.strokeColor=this._makeColorN_Pattern(st)}setFillColorN(st){this.current.fillColor=this._makeColorN_Pattern(st)}shadingFill(st){const{width:pt,height:g}=this.viewport,tt=o.Util.inverseTransform(this.transformMatrix),[ct,gt,nt,ft]=o.Util.getAxialAlignedBoundingBox([0,0,pt,g],tt),vt=this.svgFactory.createElement("svg:rect");vt.setAttributeNS(null,"x",ct),vt.setAttributeNS(null,"y",gt),vt.setAttributeNS(null,"width",nt-ct),vt.setAttributeNS(null,"height",ft-gt),vt.setAttributeNS(null,"fill",this._makeShadingPattern(st)),this.current.fillAlpha<1&&vt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(vt)}_makeColorN_Pattern(st){return st[0]==="TilingPattern"?this._makeTilingPattern(st):this._makeShadingPattern(st)}_makeTilingPattern(st){const pt=st[1],g=st[2],tt=st[3]||o.IDENTITY_MATRIX,[ct,gt,nt,ft]=st[4],vt=st[5],Dt=st[6],Tt=st[7],Mt=`shading${_e++}`,[kt,Rt,bt,Nt]=o.Util.normalizeRect([...o.Util.applyTransform([ct,gt],tt),...o.Util.applyTransform([nt,ft],tt)]),[Ft,jt]=o.Util.singularValueDecompose2dScale(tt),ut=vt*Ft,ht=Dt*jt,yt=this.svgFactory.createElement("svg:pattern");yt.setAttributeNS(null,"id",Mt),yt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),yt.setAttributeNS(null,"width",ut),yt.setAttributeNS(null,"height",ht),yt.setAttributeNS(null,"x",`${kt}`),yt.setAttributeNS(null,"y",`${Rt}`);const St=this.svg,At=this.transformMatrix,Ct=this.current.fillColor,Ut=this.current.strokeColor,Wt=this.svgFactory.create(bt-kt,Nt-Rt);if(this.svg=Wt,this.transformMatrix=tt,Tt===2){const Qt=o.Util.makeHexColor(...pt);this.current.fillColor=Qt,this.current.strokeColor=Qt}return this.executeOpTree(this.convertOpList(g)),this.svg=St,this.transformMatrix=At,this.current.fillColor=Ct,this.current.strokeColor=Ut,yt.append(Wt.childNodes[0]),this.defs.append(yt),`url(#${Mt})`}_makeShadingPattern(st){switch(typeof st=="string"&&(st=this.objs.get(st)),st[0]){case"RadialAxial":const pt=`shading${_e++}`,g=st[3];let tt;switch(st[1]){case"axial":const ct=st[4],gt=st[5];tt=this.svgFactory.createElement("svg:linearGradient"),tt.setAttributeNS(null,"id",pt),tt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),tt.setAttributeNS(null,"x1",ct[0]),tt.setAttributeNS(null,"y1",ct[1]),tt.setAttributeNS(null,"x2",gt[0]),tt.setAttributeNS(null,"y2",gt[1]);break;case"radial":const nt=st[4],ft=st[5],vt=st[6],Dt=st[7];tt=this.svgFactory.createElement("svg:radialGradient"),tt.setAttributeNS(null,"id",pt),tt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),tt.setAttributeNS(null,"cx",ft[0]),tt.setAttributeNS(null,"cy",ft[1]),tt.setAttributeNS(null,"r",Dt),tt.setAttributeNS(null,"fx",nt[0]),tt.setAttributeNS(null,"fy",nt[1]),tt.setAttributeNS(null,"fr",vt);break;default:throw new Error(`Unknown RadialAxial type: ${st[1]}`)}for(const ct of g){const gt=this.svgFactory.createElement("svg:stop");gt.setAttributeNS(null,"offset",ct[0]),gt.setAttributeNS(null,"stop-color",ct[1]),tt.append(gt)}return this.defs.append(tt),`url(#${pt})`;case"Mesh":return(0,o.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${st[0]}`)}}setDash(st,pt){this.current.dashArray=st,this.current.dashPhase=pt}constructPath(st,pt){const g=this.current;let tt=g.x,ct=g.y,gt=[],nt=0;for(const ft of st)switch(ft|0){case o.OPS.rectangle:tt=pt[nt++],ct=pt[nt++];const vt=pt[nt++],Dt=pt[nt++],Tt=tt+vt,Mt=ct+Dt;gt.push("M",at(tt),at(ct),"L",at(Tt),at(ct),"L",at(Tt),at(Mt),"L",at(tt),at(Mt),"Z");break;case o.OPS.moveTo:tt=pt[nt++],ct=pt[nt++],gt.push("M",at(tt),at(ct));break;case o.OPS.lineTo:tt=pt[nt++],ct=pt[nt++],gt.push("L",at(tt),at(ct));break;case o.OPS.curveTo:tt=pt[nt+4],ct=pt[nt+5],gt.push("C",at(pt[nt]),at(pt[nt+1]),at(pt[nt+2]),at(pt[nt+3]),at(tt),at(ct)),nt+=6;break;case o.OPS.curveTo2:gt.push("C",at(tt),at(ct),at(pt[nt]),at(pt[nt+1]),at(pt[nt+2]),at(pt[nt+3])),tt=pt[nt+2],ct=pt[nt+3],nt+=4;break;case o.OPS.curveTo3:tt=pt[nt+2],ct=pt[nt+3],gt.push("C",at(pt[nt]),at(pt[nt+1]),at(tt),at(ct),at(tt),at(ct)),nt+=4;break;case o.OPS.closePath:gt.push("Z");break}gt=gt.join(" "),g.path&&st.length>0&&st[0]!==o.OPS.rectangle&&st[0]!==o.OPS.moveTo?gt=g.path.getAttributeNS(null,"d")+gt:(g.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(g.path)),g.path.setAttributeNS(null,"d",gt),g.path.setAttributeNS(null,"fill","none"),g.element=g.path,g.setCurrentPoint(tt,ct)}endPath(){const st=this.current;if(st.path=null,!this.pendingClip)return;if(!st.element){this.pendingClip=null;return}const pt=`clippath${lt++}`,g=this.svgFactory.createElement("svg:clipPath");g.setAttributeNS(null,"id",pt),g.setAttributeNS(null,"transform",xt(this.transformMatrix));const tt=st.element.cloneNode(!0);if(this.pendingClip==="evenodd"?tt.setAttributeNS(null,"clip-rule","evenodd"):tt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,g.append(tt),this.defs.append(g),st.activeClipUrl){st.clipGroup=null;for(const ct of this.extraStack)ct.clipGroup=null;g.setAttributeNS(null,"clip-path",st.activeClipUrl)}st.activeClipUrl=`url(#${pt})`,this.tgrp=null}clip(st){this.pendingClip=st}closePath(){const st=this.current;if(st.path){const pt=`${st.path.getAttributeNS(null,"d")}Z`;st.path.setAttributeNS(null,"d",pt)}}setLeading(st){this.current.leading=-st}setTextRise(st){this.current.textRise=st}setTextRenderingMode(st){this.current.textRenderingMode=st}setHScale(st){this.current.textHScale=st/100}setRenderingIntent(st){}setFlatness(st){}setGState(st){for(const[pt,g]of st)switch(pt){case"LW":this.setLineWidth(g);break;case"LC":this.setLineCap(g);break;case"LJ":this.setLineJoin(g);break;case"ML":this.setMiterLimit(g);break;case"D":this.setDash(g[0],g[1]);break;case"RI":this.setRenderingIntent(g);break;case"FL":this.setFlatness(g);break;case"Font":this.setFont(g);break;case"CA":this.setStrokeAlpha(g);break;case"ca":this.setFillAlpha(g);break;default:(0,o.warn)(`Unimplemented graphic state operator ${pt}`);break}}fill(){const st=this.current;st.element&&(st.element.setAttributeNS(null,"fill",st.fillColor),st.element.setAttributeNS(null,"fill-opacity",st.fillAlpha),this.endPath())}stroke(){const st=this.current;st.element&&(this._setStrokeAttributes(st.element),st.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(st,pt=1){const g=this.current;let tt=g.dashArray;pt!==1&&tt.length>0&&(tt=tt.map(function(ct){return pt*ct})),st.setAttributeNS(null,"stroke",g.strokeColor),st.setAttributeNS(null,"stroke-opacity",g.strokeAlpha),st.setAttributeNS(null,"stroke-miterlimit",at(g.miterLimit)),st.setAttributeNS(null,"stroke-linecap",g.lineCap),st.setAttributeNS(null,"stroke-linejoin",g.lineJoin),st.setAttributeNS(null,"stroke-width",at(pt*g.lineWidth)+"px"),st.setAttributeNS(null,"stroke-dasharray",tt.map(at).join(" ")),st.setAttributeNS(null,"stroke-dashoffset",at(pt*g.dashPhase)+"px")}eoFill(){var st;(st=this.current.element)==null||st.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var st;(st=this.current.element)==null||st.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const st=this.svgFactory.createElement("svg:rect");st.setAttributeNS(null,"x","0"),st.setAttributeNS(null,"y","0"),st.setAttributeNS(null,"width","1px"),st.setAttributeNS(null,"height","1px"),st.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(st)}paintImageXObject(st){const pt=this.getObject(st);if(!pt){(0,o.warn)(`Dependent image with object ID ${st} is not ready yet`);return}this.paintInlineImageXObject(pt)}paintInlineImageXObject(st,pt){const g=st.width,tt=st.height,ct=it(st,this.forceDataSchema,!!pt),gt=this.svgFactory.createElement("svg:rect");gt.setAttributeNS(null,"x","0"),gt.setAttributeNS(null,"y","0"),gt.setAttributeNS(null,"width",at(g)),gt.setAttributeNS(null,"height",at(tt)),this.current.element=gt,this.clip("nonzero");const nt=this.svgFactory.createElement("svg:image");nt.setAttributeNS(_,"xlink:href",ct),nt.setAttributeNS(null,"x","0"),nt.setAttributeNS(null,"y",at(-tt)),nt.setAttributeNS(null,"width",at(g)+"px"),nt.setAttributeNS(null,"height",at(tt)+"px"),nt.setAttributeNS(null,"transform",`scale(${at(1/g)} ${at(-1/tt)})`),pt?pt.append(nt):this._ensureTransformGroup().append(nt)}paintImageMaskXObject(st){const pt=this.getObject(st.data,st);if(pt.bitmap){(0,o.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const g=this.current,tt=pt.width,ct=pt.height,gt=g.fillColor;g.maskId=`mask${b++}`;const nt=this.svgFactory.createElement("svg:mask");nt.setAttributeNS(null,"id",g.maskId);const ft=this.svgFactory.createElement("svg:rect");ft.setAttributeNS(null,"x","0"),ft.setAttributeNS(null,"y","0"),ft.setAttributeNS(null,"width",at(tt)),ft.setAttributeNS(null,"height",at(ct)),ft.setAttributeNS(null,"fill",gt),ft.setAttributeNS(null,"mask",`url(#${g.maskId})`),this.defs.append(nt),this._ensureTransformGroup().append(ft),this.paintInlineImageXObject(pt,nt)}paintFormXObjectBegin(st,pt){if(Array.isArray(st)&&st.length===6&&this.transform(st[0],st[1],st[2],st[3],st[4],st[5]),pt){const g=pt[2]-pt[0],tt=pt[3]-pt[1],ct=this.svgFactory.createElement("svg:rect");ct.setAttributeNS(null,"x",pt[0]),ct.setAttributeNS(null,"y",pt[1]),ct.setAttributeNS(null,"width",at(g)),ct.setAttributeNS(null,"height",at(tt)),this.current.element=ct,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(st){const pt=this.svgFactory.create(st.width,st.height),g=this.svgFactory.createElement("svg:defs");pt.append(g),this.defs=g;const tt=this.svgFactory.createElement("svg:g");return tt.setAttributeNS(null,"transform",xt(st.transform)),pt.append(tt),this.svg=tt,pt}_ensureClipGroup(){if(!this.current.clipGroup){const st=this.svgFactory.createElement("svg:g");st.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(st),this.current.clipGroup=st}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",xt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}s.SVGGraphics=rt},(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaText=void 0;class i{static textContent(o){const c=[],d={items:c,styles:Object.create(null)};function _(h){var it;if(!h)return;let j=null;const $=h.name;if($==="#text")j=h.value;else if(i.shouldBuildText($))(it=h==null?void 0:h.attributes)!=null&&it.textContent?j=h.attributes.textContent:h.value&&(j=h.value);else return;if(j!==null&&c.push({str:j}),!!h.children)for(const ot of h.children)_(ot)}return _(o),d}static shouldBuildText(o){return!(o==="textarea"||o==="input"||o==="option"||o==="select")}}s.XfaText=i},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerRenderTask=void 0,s.renderTextLayer=xt,s.updateTextLayer=lt;var a=i(1),o=i(6);const c=1e5,d=30,_=.8,h=new Map;function j(b,_e){let rt;if(_e&&a.FeatureTest.isOffscreenCanvasSupported)rt=new OffscreenCanvas(b,b).getContext("2d",{alpha:!1});else{const dt=document.createElement("canvas");dt.width=dt.height=b,rt=dt.getContext("2d",{alpha:!1})}return rt}function $(b,_e){const rt=h.get(b);if(rt)return rt;const dt=j(d,_e);dt.font=`${d}px ${b}`;const st=dt.measureText("");let pt=st.fontBoundingBoxAscent,g=Math.abs(st.fontBoundingBoxDescent);if(pt){const ct=pt/(pt+g);return h.set(b,ct),dt.canvas.width=dt.canvas.height=0,ct}dt.strokeStyle="red",dt.clearRect(0,0,d,d),dt.strokeText("g",0,0);let tt=dt.getImageData(0,0,d,d).data;g=0;for(let ct=tt.length-1-3;ct>=0;ct-=4)if(tt[ct]>0){g=Math.ceil(ct/4/d);break}dt.clearRect(0,0,d,d),dt.strokeText("A",0,d),tt=dt.getImageData(0,0,d,d).data,pt=0;for(let ct=0,gt=tt.length;ct<gt;ct+=4)if(tt[ct]>0){pt=d-Math.floor(ct/4/d);break}if(dt.canvas.width=dt.canvas.height=0,pt){const ct=pt/(pt+g);return h.set(b,ct),ct}return h.set(b,_),_}function it(b,_e,rt){const dt=document.createElement("span"),st={angle:0,canvasWidth:0,hasText:_e.str!=="",hasEOL:_e.hasEOL,fontSize:0};b._textDivs.push(dt);const pt=a.Util.transform(b._transform,_e.transform);let g=Math.atan2(pt[1],pt[0]);const tt=rt[_e.fontName];tt.vertical&&(g+=Math.PI/2);const ct=Math.hypot(pt[2],pt[3]),gt=ct*$(tt.fontFamily,b._isOffscreenCanvasSupported);let nt,ft;g===0?(nt=pt[4],ft=pt[5]-gt):(nt=pt[4]+gt*Math.sin(g),ft=pt[5]-gt*Math.cos(g));const vt="calc(var(--scale-factor)*",Dt=dt.style;b._container===b._rootContainer?(Dt.left=`${(100*nt/b._pageWidth).toFixed(2)}%`,Dt.top=`${(100*ft/b._pageHeight).toFixed(2)}%`):(Dt.left=`${vt}${nt.toFixed(2)}px)`,Dt.top=`${vt}${ft.toFixed(2)}px)`),Dt.fontSize=`${vt}${ct.toFixed(2)}px)`,Dt.fontFamily=tt.fontFamily,st.fontSize=ct,dt.setAttribute("role","presentation"),dt.textContent=_e.str,dt.dir=_e.dir,b._fontInspectorEnabled&&(dt.dataset.fontName=_e.fontName),g!==0&&(st.angle=g*(180/Math.PI));let Tt=!1;if(_e.str.length>1)Tt=!0;else if(_e.str!==" "&&_e.transform[0]!==_e.transform[3]){const Mt=Math.abs(_e.transform[0]),kt=Math.abs(_e.transform[3]);Mt!==kt&&Math.max(Mt,kt)/Math.min(Mt,kt)>1.5&&(Tt=!0)}Tt&&(st.canvasWidth=tt.vertical?_e.height:_e.width),b._textDivProperties.set(dt,st),b._isReadableStream&&b._layoutText(dt)}function ot(b){const{div:_e,scale:rt,properties:dt,ctx:st,prevFontSize:pt,prevFontFamily:g}=b,{style:tt}=_e;let ct="";if(dt.canvasWidth!==0&&dt.hasText){const{fontFamily:gt}=tt,{canvasWidth:nt,fontSize:ft}=dt;(pt!==ft||g!==gt)&&(st.font=`${ft*rt}px ${gt}`,b.prevFontSize=ft,b.prevFontFamily=gt);const{width:vt}=st.measureText(_e.textContent);vt>0&&(ct=`scaleX(${nt*rt/vt})`)}dt.angle!==0&&(ct=`rotate(${dt.angle}deg) ${ct}`),ct.length>0&&(tt.transform=ct)}function mt(b){if(b._canceled)return;const _e=b._textDivs,rt=b._capability;if(_e.length>c){rt.resolve();return}if(!b._isReadableStream)for(const st of _e)b._layoutText(st);rt.resolve()}class at{constructor({textContentSource:_e,container:rt,viewport:dt,textDivs:st,textDivProperties:pt,textContentItemsStr:g,isOffscreenCanvasSupported:tt}){var vt;this._textContentSource=_e,this._isReadableStream=_e instanceof ReadableStream,this._container=this._rootContainer=rt,this._textDivs=st||[],this._textContentItemsStr=g||[],this._isOffscreenCanvasSupported=tt,this._fontInspectorEnabled=!!((vt=globalThis.FontInspector)!=null&&vt.enabled),this._reader=null,this._textDivProperties=pt||new WeakMap,this._canceled=!1,this._capability=new a.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:dt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:j(0,tt)};const{pageWidth:ct,pageHeight:gt,pageX:nt,pageY:ft}=dt.rawDims;this._transform=[1,0,0,-1,-nt,ft+gt],this._pageWidth=ct,this._pageHeight=gt,(0,o.setLayerDimensions)(rt,dt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new a.AbortException("TextLayer task cancelled."))}_processItems(_e,rt){for(const dt of _e){if(dt.str===void 0){if(dt.type==="beginMarkedContentProps"||dt.type==="beginMarkedContent"){const st=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),dt.id!==null&&this._container.setAttribute("id",`${dt.id}`),st.append(this._container)}else dt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(dt.str),it(this,dt,rt)}}_layoutText(_e){const rt=this._layoutTextParams.properties=this._textDivProperties.get(_e);if(this._layoutTextParams.div=_e,ot(this._layoutTextParams),rt.hasText&&this._container.append(_e),rt.hasEOL){const dt=document.createElement("br");dt.setAttribute("role","presentation"),this._container.append(dt)}}_render(){const _e=new a.PromiseCapability;let rt=Object.create(null);if(this._isReadableStream){const dt=()=>{this._reader.read().then(({value:st,done:pt})=>{if(pt){_e.resolve();return}Object.assign(rt,st.styles),this._processItems(st.items,rt),dt()},_e.reject)};this._reader=this._textContentSource.getReader(),dt()}else if(this._textContentSource){const{items:dt,styles:st}=this._textContentSource;this._processItems(dt,st),_e.resolve()}else throw new Error('No "textContentSource" parameter specified.');_e.promise.then(()=>{rt=null,mt(this)},this._capability.reject)}}s.TextLayerRenderTask=at;function xt(b){!b.textContentSource&&(b.textContent||b.textContentStream)&&((0,o.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),b.textContentSource=b.textContent||b.textContentStream);const{container:_e,viewport:rt}=b,dt=getComputedStyle(_e),st=dt.getPropertyValue("visibility"),pt=parseFloat(dt.getPropertyValue("--scale-factor"));st==="visible"&&(!pt||Math.abs(pt-rt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const g=new at(b);return g._render(),g}function lt({container:b,viewport:_e,textDivs:rt,textDivProperties:dt,isOffscreenCanvasSupported:st,mustRotate:pt=!0,mustRescale:g=!0}){if(pt&&(0,o.setLayerDimensions)(b,{rotation:_e.rotation}),g){const tt=j(0,st),gt={prevFontSize:null,prevFontFamily:null,div:null,scale:_e.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:tt};for(const nt of rt)gt.properties=dt.get(nt),gt.div=nt,ot(gt)}}},(e,s,i)=>{var $,it,ot,mt,at,xt,lt,b,_e,rt,dt,Ks,ws,Qs,Js;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayer=void 0;var a=i(1),o=i(4),c=i(28),d=i(33),_=i(6),h=i(34);const ct=class ct{constructor({uiManager:nt,pageIndex:ft,div:vt,accessibilityManager:Dt,annotationLayer:Tt,viewport:Mt,l10n:kt}){qt(this,dt);qt(this,$);qt(this,it,!1);qt(this,ot,null);qt(this,mt,this.pointerup.bind(this));qt(this,at,this.pointerdown.bind(this));qt(this,xt,new Map);qt(this,lt,!1);qt(this,b,!1);qt(this,_e,!1);qt(this,rt);const Rt=[c.FreeTextEditor,d.InkEditor,h.StampEditor];if(!ct._initialized){ct._initialized=!0;for(const bt of Rt)bt.initialize(kt)}nt.registerEditorTypes(Rt),Kt(this,rt,nt),this.pageIndex=ft,this.div=vt,Kt(this,$,Dt),Kt(this,ot,Tt),this.viewport=Mt,et(this,rt).addLayer(this)}get isEmpty(){return et(this,xt).size===0}updateToolbar(nt){et(this,rt).updateToolbar(nt)}updateMode(nt=et(this,rt).getMode()){$t(this,dt,Js).call(this),nt===a.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),nt!==a.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",nt===a.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",nt===a.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",nt===a.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(nt){if(!nt&&et(this,rt).getMode()!==a.AnnotationEditorType.INK)return;if(!nt){for(const vt of et(this,xt).values())if(vt.isEmpty()){vt.setInBackground();return}}$t(this,dt,ws).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(nt){et(this,rt).setEditingState(nt)}addCommands(nt){et(this,rt).addCommands(nt)}enable(){this.div.style.pointerEvents="auto";const nt=new Set;for(const vt of et(this,xt).values())vt.enableEditing(),vt.annotationElementId&&nt.add(vt.annotationElementId);if(!et(this,ot))return;const ft=et(this,ot).getEditableAnnotations();for(const vt of ft){if(vt.hide(),et(this,rt).isDeletedAnnotationElement(vt.data.id)||nt.has(vt.data.id))continue;const Dt=this.deserialize(vt);Dt&&(this.addOrRebuild(Dt),Dt.enableEditing())}}disable(){var ft;Kt(this,_e,!0),this.div.style.pointerEvents="none";const nt=new Set;for(const vt of et(this,xt).values()){if(vt.disableEditing(),!vt.annotationElementId||vt.serialize()!==null){nt.add(vt.annotationElementId);continue}(ft=this.getEditableAnnotation(vt.annotationElementId))==null||ft.show(),vt.remove()}if(et(this,ot)){const vt=et(this,ot).getEditableAnnotations();for(const Dt of vt){const{id:Tt}=Dt.data;nt.has(Tt)||et(this,rt).isDeletedAnnotationElement(Tt)||Dt.show()}}$t(this,dt,Js).call(this),this.isEmpty&&(this.div.hidden=!0),Kt(this,_e,!1)}getEditableAnnotation(nt){var ft;return((ft=et(this,ot))==null?void 0:ft.getEditableAnnotation(nt))||null}setActiveEditor(nt){et(this,rt).getActive()!==nt&&et(this,rt).setActiveEditor(nt)}enableClick(){this.div.addEventListener("pointerdown",et(this,at)),this.div.addEventListener("pointerup",et(this,mt))}disableClick(){this.div.removeEventListener("pointerdown",et(this,at)),this.div.removeEventListener("pointerup",et(this,mt))}attach(nt){et(this,xt).set(nt.id,nt);const{annotationElementId:ft}=nt;ft&&et(this,rt).isDeletedAnnotationElement(ft)&&et(this,rt).removeDeletedAnnotationElement(nt)}detach(nt){var ft;et(this,xt).delete(nt.id),(ft=et(this,$))==null||ft.removePointerInTextLayer(nt.contentDiv),!et(this,_e)&&nt.annotationElementId&&et(this,rt).addDeletedAnnotationElement(nt)}remove(nt){this.detach(nt),et(this,rt).removeEditor(nt),nt.div.contains(document.activeElement)&&setTimeout(()=>{et(this,rt).focusMainContainer()},0),nt.div.remove(),nt.isAttachedToDOM=!1,et(this,b)||this.addInkEditorIfNeeded(!1)}changeParent(nt){var ft;nt.parent!==this&&(nt.annotationElementId&&(et(this,rt).addDeletedAnnotationElement(nt.annotationElementId),o.AnnotationEditor.deleteAnnotationElement(nt),nt.annotationElementId=null),this.attach(nt),(ft=nt.parent)==null||ft.detach(nt),nt.setParent(this),nt.div&&nt.isAttachedToDOM&&(nt.div.remove(),this.div.append(nt.div)))}add(nt){if(this.changeParent(nt),et(this,rt).addEditor(nt),this.attach(nt),!nt.isAttachedToDOM){const ft=nt.render();this.div.append(ft),nt.isAttachedToDOM=!0}nt.fixAndSetPosition(),nt.onceAdded(),et(this,rt).addToAnnotationStorage(nt)}moveEditorInDOM(nt){var vt;if(!nt.isAttachedToDOM)return;const{activeElement:ft}=document;nt.div.contains(ft)&&(nt._focusEventsAllowed=!1,setTimeout(()=>{nt.div.contains(document.activeElement)?nt._focusEventsAllowed=!0:(nt.div.addEventListener("focusin",()=>{nt._focusEventsAllowed=!0},{once:!0}),ft.focus())},0)),nt._structTreeParentId=(vt=et(this,$))==null?void 0:vt.moveElementInDOM(this.div,nt.div,nt.contentDiv,!0)}addOrRebuild(nt){nt.needsToBeRebuilt()?nt.rebuild():this.add(nt)}addUndoableEditor(nt){const ft=()=>nt._uiManager.rebuild(nt),vt=()=>{nt.remove()};this.addCommands({cmd:ft,undo:vt,mustExec:!1})}getNextId(){return et(this,rt).getId()}pasteEditor(nt,ft){et(this,rt).updateToolbar(nt),et(this,rt).updateMode(nt);const{offsetX:vt,offsetY:Dt}=$t(this,dt,Qs).call(this),Tt=this.getNextId(),Mt=$t(this,dt,Ks).call(this,{parent:this,id:Tt,x:vt,y:Dt,uiManager:et(this,rt),isCentered:!0,...ft});Mt&&this.add(Mt)}deserialize(nt){switch(nt.annotationType??nt.annotationEditorType){case a.AnnotationEditorType.FREETEXT:return c.FreeTextEditor.deserialize(nt,this,et(this,rt));case a.AnnotationEditorType.INK:return d.InkEditor.deserialize(nt,this,et(this,rt));case a.AnnotationEditorType.STAMP:return h.StampEditor.deserialize(nt,this,et(this,rt))}return null}addNewEditor(){$t(this,dt,ws).call(this,$t(this,dt,Qs).call(this),!0)}setSelected(nt){et(this,rt).setSelected(nt)}toggleSelected(nt){et(this,rt).toggleSelected(nt)}isSelected(nt){return et(this,rt).isSelected(nt)}unselect(nt){et(this,rt).unselect(nt)}pointerup(nt){const{isMac:ft}=a.FeatureTest.platform;if(!(nt.button!==0||nt.ctrlKey&&ft)&&nt.target===this.div&&et(this,lt)){if(Kt(this,lt,!1),!et(this,it)){Kt(this,it,!0);return}if(et(this,rt).getMode()===a.AnnotationEditorType.STAMP){et(this,rt).unselectAll();return}$t(this,dt,ws).call(this,nt,!1)}}pointerdown(nt){if(et(this,lt)){Kt(this,lt,!1);return}const{isMac:ft}=a.FeatureTest.platform;if(nt.button!==0||nt.ctrlKey&&ft||nt.target!==this.div)return;Kt(this,lt,!0);const vt=et(this,rt).getActive();Kt(this,it,!vt||vt.isEmpty())}findNewParent(nt,ft,vt){const Dt=et(this,rt).findParent(ft,vt);return Dt===null||Dt===this?!1:(Dt.changeParent(nt),!0)}destroy(){var nt,ft;((nt=et(this,rt).getActive())==null?void 0:nt.parent)===this&&(et(this,rt).commitOrRemove(),et(this,rt).setActiveEditor(null));for(const vt of et(this,xt).values())(ft=et(this,$))==null||ft.removePointerInTextLayer(vt.contentDiv),vt.setParent(null),vt.isAttachedToDOM=!1,vt.div.remove();this.div=null,et(this,xt).clear(),et(this,rt).removeLayer(this)}render({viewport:nt}){this.viewport=nt,(0,_.setLayerDimensions)(this.div,nt);for(const ft of et(this,rt).getEditors(this.pageIndex))this.add(ft);this.updateMode()}update({viewport:nt}){et(this,rt).commitOrRemove(),this.viewport=nt,(0,_.setLayerDimensions)(this.div,{rotation:nt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:nt,pageHeight:ft}=this.viewport.rawDims;return[nt,ft]}};$=new WeakMap,it=new WeakMap,ot=new WeakMap,mt=new WeakMap,at=new WeakMap,xt=new WeakMap,lt=new WeakMap,b=new WeakMap,_e=new WeakMap,rt=new WeakMap,dt=new WeakSet,Ks=function(nt){switch(et(this,rt).getMode()){case a.AnnotationEditorType.FREETEXT:return new c.FreeTextEditor(nt);case a.AnnotationEditorType.INK:return new d.InkEditor(nt);case a.AnnotationEditorType.STAMP:return new h.StampEditor(nt)}return null},ws=function(nt,ft){const vt=this.getNextId(),Dt=$t(this,dt,Ks).call(this,{parent:this,id:vt,x:nt.offsetX,y:nt.offsetY,uiManager:et(this,rt),isCentered:ft});return Dt&&this.add(Dt),Dt},Qs=function(){const{x:nt,y:ft,width:vt,height:Dt}=this.div.getBoundingClientRect(),Tt=Math.max(0,nt),Mt=Math.max(0,ft),kt=Math.min(window.innerWidth,nt+vt),Rt=Math.min(window.innerHeight,ft+Dt),bt=(Tt+kt)/2-nt,Nt=(Mt+Rt)/2-ft,[Ft,jt]=this.viewport.rotation%180===0?[bt,Nt]:[Nt,bt];return{offsetX:Ft,offsetY:jt}},Js=function(){Kt(this,b,!0);for(const nt of et(this,xt).values())nt.isEmpty()&&nt.remove();Kt(this,b,!1)},Ur(ct,"_initialized",!1);let j=ct;s.AnnotationEditorLayer=j},(e,s,i)=>{var h,j,$,it,ot,mt,at,xt,lt,b,On,Un,zn,hs,Zs,$n,en;Object.defineProperty(s,"__esModule",{value:!0}),s.FreeTextEditor=void 0;var a=i(1),o=i(5),c=i(4),d=i(29);const ct=class ct extends c.AnnotationEditor{constructor(ft){super({...ft,name:"freeTextEditor"});qt(this,b);qt(this,h,this.editorDivBlur.bind(this));qt(this,j,this.editorDivFocus.bind(this));qt(this,$,this.editorDivInput.bind(this));qt(this,it,this.editorDivKeydown.bind(this));qt(this,ot);qt(this,mt,"");qt(this,at,`${this.id}-editor`);qt(this,xt);qt(this,lt,null);Kt(this,ot,ft.color||ct._defaultColor||c.AnnotationEditor._defaultLineColor),Kt(this,xt,ft.fontSize||ct._defaultFontSize)}static get _keyboardManager(){const ft=ct.prototype,vt=Mt=>Mt.isEmpty(),Dt=o.AnnotationEditorUIManager.TRANSLATE_SMALL,Tt=o.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new o.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],ft.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],ft.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],ft._translateEmpty,{args:[-Dt,0],checker:vt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ft._translateEmpty,{args:[-Tt,0],checker:vt}],[["ArrowRight","mac+ArrowRight"],ft._translateEmpty,{args:[Dt,0],checker:vt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ft._translateEmpty,{args:[Tt,0],checker:vt}],[["ArrowUp","mac+ArrowUp"],ft._translateEmpty,{args:[0,-Dt],checker:vt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ft._translateEmpty,{args:[0,-Tt],checker:vt}],[["ArrowDown","mac+ArrowDown"],ft._translateEmpty,{args:[0,Dt],checker:vt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ft._translateEmpty,{args:[0,Tt],checker:vt}]]))}static initialize(ft){c.AnnotationEditor.initialize(ft,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const vt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(vt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ft,vt){switch(ft){case a.AnnotationEditorParamsType.FREETEXT_SIZE:ct._defaultFontSize=vt;break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:ct._defaultColor=vt;break}}updateParams(ft,vt){switch(ft){case a.AnnotationEditorParamsType.FREETEXT_SIZE:$t(this,b,On).call(this,vt);break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:$t(this,b,Un).call(this,vt);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,ct._defaultFontSize],[a.AnnotationEditorParamsType.FREETEXT_COLOR,ct._defaultColor||c.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,et(this,xt)],[a.AnnotationEditorParamsType.FREETEXT_COLOR,et(this,ot)]]}_translateEmpty(ft,vt){this._uiManager.translateSelectedEditors(ft,vt,!0)}getInitialTranslation(){const ft=this.parentScale;return[-ct._internalPadding*ft,-(ct._internalPadding+et(this,xt))*ft]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(a.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",et(this,it)),this.editorDiv.addEventListener("focus",et(this,j)),this.editorDiv.addEventListener("blur",et(this,h)),this.editorDiv.addEventListener("input",et(this,$)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",et(this,at)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",et(this,it)),this.editorDiv.removeEventListener("focus",et(this,j)),this.editorDiv.removeEventListener("blur",et(this,h)),this.editorDiv.removeEventListener("input",et(this,$)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(ft){this._focusEventsAllowed&&(super.focusin(ft),ft.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var ft;if(this.width){$t(this,b,en).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(ft=this._initialOptions)!=null&&ft.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const ft=et(this,mt),vt=Kt(this,mt,$t(this,b,zn).call(this).trimEnd());if(ft===vt)return;const Dt=Tt=>{if(Kt(this,mt,Tt),!Tt){this.remove();return}$t(this,b,Zs).call(this),this._uiManager.rebuild(this),$t(this,b,hs).call(this)};this.addCommands({cmd:()=>{Dt(vt)},undo:()=>{Dt(ft)},mustExec:!1}),$t(this,b,hs).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(ft){this.enterInEditMode()}keydown(ft){ft.target===this.div&&ft.key==="Enter"&&(this.enterInEditMode(),ft.preventDefault())}editorDivKeydown(ft){ct._keyboardManager.exec(this,ft)}editorDivFocus(ft){this.isEditing=!0}editorDivBlur(ft){this.isEditing=!1}editorDivInput(ft){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let ft,vt;this.width&&(ft=this.x,vt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",et(this,at)),this.enableEditing(),c.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Tt=>{var Mt;return(Mt=this.editorDiv)==null?void 0:Mt.setAttribute("aria-label",Tt)}),c.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Tt=>{var Mt;return(Mt=this.editorDiv)==null?void 0:Mt.setAttribute("default-content",Tt)}),this.editorDiv.contentEditable=!0;const{style:Dt}=this.editorDiv;if(Dt.fontSize=`calc(${et(this,xt)}px * var(--scale-factor))`,Dt.color=et(this,ot),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,o.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Tt,Mt]=this.parentDimensions;if(this.annotationElementId){const{position:kt}=et(this,lt);let[Rt,bt]=this.getInitialTranslation();[Rt,bt]=this.pageTranslationToScreen(Rt,bt);const[Nt,Ft]=this.pageDimensions,[jt,ut]=this.pageTranslation;let ht,yt;switch(this.rotation){case 0:ht=ft+(kt[0]-jt)/Nt,yt=vt+this.height-(kt[1]-ut)/Ft;break;case 90:ht=ft+(kt[0]-jt)/Nt,yt=vt-(kt[1]-ut)/Ft,[Rt,bt]=[bt,-Rt];break;case 180:ht=ft-this.width+(kt[0]-jt)/Nt,yt=vt-(kt[1]-ut)/Ft,[Rt,bt]=[-Rt,-bt];break;case 270:ht=ft+(kt[0]-jt-this.height*Ft)/Nt,yt=vt+(kt[1]-ut-this.width*Nt)/Ft,[Rt,bt]=[-bt,Rt];break}this.setAt(ht*Tt,yt*Mt,Rt,bt)}else this.setAt(ft*Tt,vt*Mt,this.width*Tt,this.height*Mt);$t(this,b,Zs).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(ft,vt,Dt){let Tt=null;if(ft instanceof d.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:kt,fontColor:Rt},rect:bt,rotation:Nt,id:Ft},textContent:jt,textPosition:ut,parent:{page:{pageNumber:ht}}}=ft;if(!jt||jt.length===0)return null;Tt=ft={annotationType:a.AnnotationEditorType.FREETEXT,color:Array.from(Rt),fontSize:kt,value:jt.join(`
`),position:ut,pageIndex:ht-1,rect:bt,rotation:Nt,id:Ft,deleted:!1}}const Mt=super.deserialize(ft,vt,Dt);return Kt(Mt,xt,ft.fontSize),Kt(Mt,ot,a.Util.makeHexColor(...ft.color)),Kt(Mt,mt,ft.value),Mt.annotationElementId=ft.id||null,Kt(Mt,lt,Tt),Mt}serialize(ft=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const vt=ct._internalPadding*this.parentScale,Dt=this.getRect(vt,vt),Tt=c.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:et(this,ot)),Mt={annotationType:a.AnnotationEditorType.FREETEXT,color:Tt,fontSize:et(this,xt),value:et(this,mt),pageIndex:this.pageIndex,rect:Dt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return ft?Mt:this.annotationElementId&&!$t(this,b,$n).call(this,Mt)?null:(Mt.id=this.annotationElementId,Mt)}};h=new WeakMap,j=new WeakMap,$=new WeakMap,it=new WeakMap,ot=new WeakMap,mt=new WeakMap,at=new WeakMap,xt=new WeakMap,lt=new WeakMap,b=new WeakSet,On=function(ft){const vt=Tt=>{this.editorDiv.style.fontSize=`calc(${Tt}px * var(--scale-factor))`,this.translate(0,-(Tt-et(this,xt))*this.parentScale),Kt(this,xt,Tt),$t(this,b,hs).call(this)},Dt=et(this,xt);this.addCommands({cmd:()=>{vt(ft)},undo:()=>{vt(Dt)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Un=function(ft){const vt=et(this,ot);this.addCommands({cmd:()=>{Kt(this,ot,this.editorDiv.style.color=ft)},undo:()=>{Kt(this,ot,this.editorDiv.style.color=vt)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},zn=function(){const ft=this.editorDiv.getElementsByTagName("div");if(ft.length===0)return this.editorDiv.innerText;const vt=[];for(const Dt of ft)vt.push(Dt.innerText.replace(/\r\n?|\n/,""));return vt.join(`
`)},hs=function(){const[ft,vt]=this.parentDimensions;let Dt;if(this.isAttachedToDOM)Dt=this.div.getBoundingClientRect();else{const{currentLayer:Tt,div:Mt}=this,kt=Mt.style.display;Mt.style.display="hidden",Tt.div.append(this.div),Dt=Mt.getBoundingClientRect(),Mt.remove(),Mt.style.display=kt}this.rotation%180===this.parentRotation%180?(this.width=Dt.width/ft,this.height=Dt.height/vt):(this.width=Dt.height/ft,this.height=Dt.width/vt),this.fixAndSetPosition()},Zs=function(){if(this.editorDiv.replaceChildren(),!!et(this,mt))for(const ft of et(this,mt).split(`
`)){const vt=document.createElement("div");vt.append(ft?document.createTextNode(ft):document.createElement("br")),this.editorDiv.append(vt)}},$n=function(ft){const{value:vt,fontSize:Dt,color:Tt,rect:Mt,pageIndex:kt}=et(this,lt);return ft.value!==vt||ft.fontSize!==Dt||ft.rect.some((Rt,bt)=>Math.abs(Rt-Mt[bt])>=1)||ft.color.some((Rt,bt)=>Rt!==Tt[bt])||ft.pageIndex!==kt},en=function(ft=!1){if(!this.annotationElementId)return;if($t(this,b,hs).call(this),!ft&&(this.width===0||this.height===0)){setTimeout(()=>$t(this,b,en).call(this,!0),0);return}const vt=ct._internalPadding*this.parentScale;et(this,lt).rect=this.getRect(vt,vt)},Ur(ct,"_freeTextDefaultContent",""),Ur(ct,"_internalPadding",0),Ur(ct,"_defaultColor",null),Ur(ct,"_defaultFontSize",10),Ur(ct,"_type","freetext");let _=ct;s.FreeTextEditor=_},(e,s,i)=>{var yt,At,es,Vn,Wt,Qt,Zt,nr,Gt,rr,Vt,Bt,Et,Pt,zt,Ht,tr,ar,ir,It,hr,dr,Bn,Rs,tn,rn,kr,Cr,Dr,lr,Xt,Yt,xr,sn,Nr,Lt,sr,pr,Wn,nn;Object.defineProperty(s,"__esModule",{value:!0}),s.StampAnnotationElement=s.InkAnnotationElement=s.FreeTextAnnotationElement=s.AnnotationLayer=void 0;var a=i(1),o=i(6),c=i(3),d=i(30),_=i(31),h=i(32);const j=1e3,$=9,it=new WeakSet;function ot(fr){return{width:fr[2]-fr[0],height:fr[3]-fr[1]}}class mt{static create(_t){switch(_t.data.annotationType){case a.AnnotationType.LINK:return new xt(_t);case a.AnnotationType.TEXT:return new lt(_t);case a.AnnotationType.WIDGET:switch(_t.data.fieldType){case"Tx":return new _e(_t);case"Btn":return _t.data.radioButton?new st(_t):_t.data.checkBox?new dt(_t):new pt(_t);case"Ch":return new g(_t);case"Sig":return new rt(_t)}return new b(_t);case a.AnnotationType.POPUP:return new tt(_t);case a.AnnotationType.FREETEXT:return new gt(_t);case a.AnnotationType.LINE:return new nt(_t);case a.AnnotationType.SQUARE:return new ft(_t);case a.AnnotationType.CIRCLE:return new vt(_t);case a.AnnotationType.POLYLINE:return new Dt(_t);case a.AnnotationType.CARET:return new Mt(_t);case a.AnnotationType.INK:return new kt(_t);case a.AnnotationType.POLYGON:return new Tt(_t);case a.AnnotationType.HIGHLIGHT:return new Rt(_t);case a.AnnotationType.UNDERLINE:return new bt(_t);case a.AnnotationType.SQUIGGLY:return new Nt(_t);case a.AnnotationType.STRIKEOUT:return new Ft(_t);case a.AnnotationType.STAMP:return new jt(_t);case a.AnnotationType.FILEATTACHMENT:return new ut(_t);default:return new at(_t)}}}const St=class St{constructor(_t,{isRenderable:wt=!1,ignoreBorder:Ot=!1,createQuadrilaterals:Jt=!1}={}){qt(this,yt,!1);this.isRenderable=wt,this.data=_t.data,this.layer=_t.layer,this.linkService=_t.linkService,this.downloadManager=_t.downloadManager,this.imageResourcesPath=_t.imageResourcesPath,this.renderForms=_t.renderForms,this.svgFactory=_t.svgFactory,this.annotationStorage=_t.annotationStorage,this.enableScripting=_t.enableScripting,this.hasJSActions=_t.hasJSActions,this._fieldObjects=_t.fieldObjects,this.parent=_t.parent,wt&&(this.container=this._createContainer(Ot)),Jt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:_t,contentsObj:wt,richText:Ot}){return!!(_t!=null&&_t.str||wt!=null&&wt.str||Ot!=null&&Ot.str)}get hasPopupData(){return St._hasPopupData(this.data)}_createContainer(_t){const{data:wt,parent:{page:Ot,viewport:Jt}}=this,er=document.createElement("section");er.setAttribute("data-annotation-id",wt.id),this instanceof b||(er.tabIndex=j),er.style.zIndex=this.parent.zIndex++,this.data.popupRef&&er.setAttribute("aria-haspopup","dialog"),wt.noRotate&&er.classList.add("norotate");const{pageWidth:or,pageHeight:cr,pageX:jr,pageY:br}=Jt.rawDims;if(!wt.rect||this instanceof tt){const{rotation:Sr}=wt;return!wt.hasOwnCanvas&&Sr!==0&&this.setRotation(Sr,er),er}const{width:mr,height:Pr}=ot(wt.rect),Er=a.Util.normalizeRect([wt.rect[0],Ot.view[3]-wt.rect[1]+Ot.view[1],wt.rect[2],Ot.view[3]-wt.rect[3]+Ot.view[1]]);if(!_t&&wt.borderStyle.width>0){er.style.borderWidth=`${wt.borderStyle.width}px`;const Sr=wt.borderStyle.horizontalCornerRadius,Tr=wt.borderStyle.verticalCornerRadius;if(Sr>0||Tr>0){const Or=`calc(${Sr}px * var(--scale-factor)) / calc(${Tr}px * var(--scale-factor))`;er.style.borderRadius=Or}else if(this instanceof st){const Or=`calc(${mr}px * var(--scale-factor)) / calc(${Pr}px * var(--scale-factor))`;er.style.borderRadius=Or}switch(wt.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:er.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:er.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:er.style.borderBottomStyle="solid";break}const Ir=wt.borderColor||null;Ir?(Kt(this,yt,!0),er.style.borderColor=a.Util.makeHexColor(Ir[0]|0,Ir[1]|0,Ir[2]|0)):er.style.borderWidth=0}er.style.left=`${100*(Er[0]-jr)/or}%`,er.style.top=`${100*(Er[1]-br)/cr}%`;const{rotation:Rr}=wt;return wt.hasOwnCanvas||Rr===0?(er.style.width=`${100*mr/or}%`,er.style.height=`${100*Pr/cr}%`):this.setRotation(Rr,er),er}setRotation(_t,wt=this.container){if(!this.data.rect)return;const{pageWidth:Ot,pageHeight:Jt}=this.parent.viewport.rawDims,{width:er,height:or}=ot(this.data.rect);let cr,jr;_t%180===0?(cr=100*er/Ot,jr=100*or/Jt):(cr=100*or/Ot,jr=100*er/Jt),wt.style.width=`${cr}%`,wt.style.height=`${jr}%`,wt.setAttribute("data-main-rotation",(360-_t)%360)}get _commonActions(){const _t=(wt,Ot,Jt)=>{const er=Jt.detail[wt],or=er[0],cr=er.slice(1);Jt.target.style[Ot]=d.ColorConverters[`${or}_HTML`](cr),this.annotationStorage.setValue(this.data.id,{[Ot]:d.ColorConverters[`${or}_rgb`](cr)})};return(0,a.shadow)(this,"_commonActions",{display:wt=>{const{display:Ot}=wt.detail,Jt=Ot%2===1;this.container.style.visibility=Jt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Jt,noPrint:Ot===1||Ot===2})},print:wt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!wt.detail.print})},hidden:wt=>{const{hidden:Ot}=wt.detail;this.container.style.visibility=Ot?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Ot,noView:Ot})},focus:wt=>{setTimeout(()=>wt.target.focus({preventScroll:!1}),0)},userName:wt=>{wt.target.title=wt.detail.userName},readonly:wt=>{wt.target.disabled=wt.detail.readonly},required:wt=>{this._setRequired(wt.target,wt.detail.required)},bgColor:wt=>{_t("bgColor","backgroundColor",wt)},fillColor:wt=>{_t("fillColor","backgroundColor",wt)},fgColor:wt=>{_t("fgColor","color",wt)},textColor:wt=>{_t("textColor","color",wt)},borderColor:wt=>{_t("borderColor","borderColor",wt)},strokeColor:wt=>{_t("strokeColor","borderColor",wt)},rotation:wt=>{const Ot=wt.detail.rotation;this.setRotation(Ot),this.annotationStorage.setValue(this.data.id,{rotation:Ot})}})}_dispatchEventFromSandbox(_t,wt){const Ot=this._commonActions;for(const Jt of Object.keys(wt.detail)){const er=_t[Jt]||Ot[Jt];er==null||er(wt)}}_setDefaultPropertiesFromJS(_t){if(!this.enableScripting)return;const wt=this.annotationStorage.getRawValue(this.data.id);if(!wt)return;const Ot=this._commonActions;for(const[Jt,er]of Object.entries(wt)){const or=Ot[Jt];if(or){const cr={detail:{[Jt]:er},target:_t};or(cr),delete wt[Jt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:_t}=this.data;if(!_t)return;const[wt,Ot,Jt,er]=this.data.rect;if(_t.length===1){const[,{x:Tr,y:Ir},{x:Or,y:Vr}]=_t[0];if(Jt===Tr&&er===Ir&&wt===Or&&Ot===Vr)return}const{style:or}=this.container;let cr;if(et(this,yt)){const{borderColor:Tr,borderWidth:Ir}=or;or.borderWidth=0,cr=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Tr}" stroke-width="${Ir}">`],this.container.classList.add("hasBorder")}const jr=Jt-wt,br=er-Ot,{svgFactory:mr}=this,Pr=mr.createElement("svg");Pr.classList.add("quadrilateralsContainer"),Pr.setAttribute("width",0),Pr.setAttribute("height",0);const Er=mr.createElement("defs");Pr.append(Er);const Rr=mr.createElement("clipPath"),Sr=`clippath_${this.data.id}`;Rr.setAttribute("id",Sr),Rr.setAttribute("clipPathUnits","objectBoundingBox"),Er.append(Rr);for(const[,{x:Tr,y:Ir},{x:Or,y:Vr}]of _t){const zr=mr.createElement("rect"),Xr=(Or-wt)/jr,qr=(er-Ir)/br,Yr=(Tr-Or)/jr,fs=(Ir-Vr)/br;zr.setAttribute("x",Xr),zr.setAttribute("y",qr),zr.setAttribute("width",Yr),zr.setAttribute("height",fs),Rr.append(zr),cr==null||cr.push(`<rect vector-effect="non-scaling-stroke" x="${Xr}" y="${qr}" width="${Yr}" height="${fs}"/>`)}et(this,yt)&&(cr.push("</g></svg>')"),or.backgroundImage=cr.join("")),this.container.append(Pr),this.container.style.clipPath=`url(#${Sr})`}_createPopup(){const{container:_t,data:wt}=this;_t.setAttribute("aria-haspopup","dialog");const Ot=new tt({data:{color:wt.color,titleObj:wt.titleObj,modificationDate:wt.modificationDate,contentsObj:wt.contentsObj,richText:wt.richText,parentRect:wt.rect,borderStyle:0,id:`popup_${wt.id}`,rotation:wt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Ot.render())}render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(_t,wt=null){const Ot=[];if(this._fieldObjects){const Jt=this._fieldObjects[_t];if(Jt)for(const{page:er,id:or,exportValues:cr}of Jt){if(er===-1||or===wt)continue;const jr=typeof cr=="string"?cr:null,br=document.querySelector(`[data-element-id="${or}"]`);if(br&&!it.has(br)){(0,a.warn)(`_getElementsByName - element not allowed: ${or}`);continue}Ot.push({id:or,exportValue:jr,domElement:br})}return Ot}for(const Jt of document.getElementsByName(_t)){const{exportValue:er}=Jt,or=Jt.getAttribute("data-element-id");or!==wt&&it.has(Jt)&&Ot.push({id:or,exportValue:er,domElement:Jt})}return Ot}show(){var _t;this.container&&(this.container.hidden=!1),(_t=this.popup)==null||_t.maybeShow()}hide(){var _t;this.container&&(this.container.hidden=!0),(_t=this.popup)==null||_t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const _t=this.getElementsToTriggerPopup();if(Array.isArray(_t))for(const wt of _t)wt.classList.add("highlightArea");else _t.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:_t,data:{id:wt}}=this;this.container.addEventListener("dblclick",()=>{var Ot;(Ot=this.linkService.eventBus)==null||Ot.dispatch("switchannotationeditormode",{source:this,mode:_t,editId:wt})})}};yt=new WeakMap;let at=St;class xt extends at{constructor(wt,Ot=null){super(wt,{isRenderable:!0,ignoreBorder:!!(Ot!=null&&Ot.ignoreBorder),createQuadrilaterals:!0});qt(this,At);this.isTooltipOnly=wt.data.isTooltipOnly}render(){const{data:wt,linkService:Ot}=this,Jt=document.createElement("a");Jt.setAttribute("data-element-id",wt.id);let er=!1;return wt.url?(Ot.addLinkAttributes(Jt,wt.url,wt.newWindow),er=!0):wt.action?(this._bindNamedAction(Jt,wt.action),er=!0):wt.attachment?(this._bindAttachment(Jt,wt.attachment),er=!0):wt.setOCGState?($t(this,At,Vn).call(this,Jt,wt.setOCGState),er=!0):wt.dest?(this._bindLink(Jt,wt.dest),er=!0):(wt.actions&&(wt.actions.Action||wt.actions["Mouse Up"]||wt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Jt,wt),er=!0),wt.resetForm?(this._bindResetFormAction(Jt,wt.resetForm),er=!0):this.isTooltipOnly&&!er&&(this._bindLink(Jt,""),er=!0)),this.container.classList.add("linkAnnotation"),er&&this.container.append(Jt),this.container}_bindLink(wt,Ot){wt.href=this.linkService.getDestinationHash(Ot),wt.onclick=()=>(Ot&&this.linkService.goToDestination(Ot),!1),(Ot||Ot==="")&&$t(this,At,es).call(this)}_bindNamedAction(wt,Ot){wt.href=this.linkService.getAnchorUrl(""),wt.onclick=()=>(this.linkService.executeNamedAction(Ot),!1),$t(this,At,es).call(this)}_bindAttachment(wt,Ot){wt.href=this.linkService.getAnchorUrl(""),wt.onclick=()=>{var Jt;return(Jt=this.downloadManager)==null||Jt.openOrDownloadData(this.container,Ot.content,Ot.filename),!1},$t(this,At,es).call(this)}_bindJSAction(wt,Ot){wt.href=this.linkService.getAnchorUrl("");const Jt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const er of Object.keys(Ot.actions)){const or=Jt.get(er);or&&(wt[or]=()=>{var cr;return(cr=this.linkService.eventBus)==null||cr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ot.id,name:er}}),!1})}wt.onclick||(wt.onclick=()=>!1),$t(this,At,es).call(this)}_bindResetFormAction(wt,Ot){const Jt=wt.onclick;if(Jt||(wt.href=this.linkService.getAnchorUrl("")),$t(this,At,es).call(this),!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Jt||(wt.onclick=()=>!1);return}wt.onclick=()=>{var Pr;Jt==null||Jt();const{fields:er,refs:or,include:cr}=Ot,jr=[];if(er.length!==0||or.length!==0){const Er=new Set(or);for(const Rr of er){const Sr=this._fieldObjects[Rr]||[];for(const{id:Tr}of Sr)Er.add(Tr)}for(const Rr of Object.values(this._fieldObjects))for(const Sr of Rr)Er.has(Sr.id)===cr&&jr.push(Sr)}else for(const Er of Object.values(this._fieldObjects))jr.push(...Er);const br=this.annotationStorage,mr=[];for(const Er of jr){const{id:Rr}=Er;switch(mr.push(Rr),Er.type){case"text":{const Tr=Er.defaultValue||"";br.setValue(Rr,{value:Tr});break}case"checkbox":case"radiobutton":{const Tr=Er.defaultValue===Er.exportValues;br.setValue(Rr,{value:Tr});break}case"combobox":case"listbox":{const Tr=Er.defaultValue||"";br.setValue(Rr,{value:Tr});break}default:continue}const Sr=document.querySelector(`[data-element-id="${Rr}"]`);if(Sr){if(!it.has(Sr)){(0,a.warn)(`_bindResetFormAction - element not allowed: ${Rr}`);continue}}else continue;Sr.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Pr=this.linkService.eventBus)==null||Pr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:mr,name:"ResetForm"}})),!1}}}At=new WeakSet,es=function(){this.container.setAttribute("data-internal-link","")},Vn=function(wt,Ot){wt.href=this.linkService.getAnchorUrl(""),wt.onclick=()=>(this.linkService.executeSetOCGState(Ot),!1),$t(this,At,es).call(this)};class lt extends at{constructor(_t){super(_t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const _t=document.createElement("img");return _t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",_t.alt="[{{type}} Annotation]",_t.dataset.l10nId="text_annotation_type",_t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(_t),this.container}}class b extends at{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(_t){var wt;this.data.hasOwnCanvas&&(((wt=_t.previousSibling)==null?void 0:wt.nodeName)==="CANVAS"&&(_t.previousSibling.hidden=!0),_t.hidden=!1)}_getKeyModifier(_t){const{isWin:wt,isMac:Ot}=a.FeatureTest.platform;return wt&&_t.ctrlKey||Ot&&_t.metaKey}_setEventListener(_t,wt,Ot,Jt,er){Ot.includes("mouse")?_t.addEventListener(Ot,or=>{var cr;(cr=this.linkService.eventBus)==null||cr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Jt,value:er(or),shift:or.shiftKey,modifier:this._getKeyModifier(or)}})}):_t.addEventListener(Ot,or=>{var cr;if(Ot==="blur"){if(!wt.focused||!or.relatedTarget)return;wt.focused=!1}else if(Ot==="focus"){if(wt.focused)return;wt.focused=!0}er&&((cr=this.linkService.eventBus)==null||cr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Jt,value:er(or)}}))})}_setEventListeners(_t,wt,Ot,Jt){var er,or,cr;for(const[jr,br]of Ot)(br==="Action"||(er=this.data.actions)!=null&&er[br])&&((br==="Focus"||br==="Blur")&&(wt||(wt={focused:!1})),this._setEventListener(_t,wt,jr,br,Jt),br==="Focus"&&!((or=this.data.actions)!=null&&or.Blur)?this._setEventListener(_t,wt,"blur","Blur",null):br==="Blur"&&!((cr=this.data.actions)!=null&&cr.Focus)&&this._setEventListener(_t,wt,"focus","Focus",null))}_setBackgroundColor(_t){const wt=this.data.backgroundColor||null;_t.style.backgroundColor=wt===null?"transparent":a.Util.makeHexColor(wt[0],wt[1],wt[2])}_setTextStyle(_t){const wt=["left","center","right"],{fontColor:Ot}=this.data.defaultAppearanceData,Jt=this.data.defaultAppearanceData.fontSize||$,er=_t.style;let or;const cr=2,jr=br=>Math.round(10*br)/10;if(this.data.multiLine){const br=Math.abs(this.data.rect[3]-this.data.rect[1]-cr),mr=Math.round(br/(a.LINE_FACTOR*Jt))||1,Pr=br/mr;or=Math.min(Jt,jr(Pr/a.LINE_FACTOR))}else{const br=Math.abs(this.data.rect[3]-this.data.rect[1]-cr);or=Math.min(Jt,jr(br/a.LINE_FACTOR))}er.fontSize=`calc(${or}px * var(--scale-factor))`,er.color=a.Util.makeHexColor(Ot[0],Ot[1],Ot[2]),this.data.textAlignment!==null&&(er.textAlign=wt[this.data.textAlignment])}_setRequired(_t,wt){wt?_t.setAttribute("required",!0):_t.removeAttribute("required"),_t.setAttribute("aria-required",wt)}}class _e extends b{constructor(_t){const wt=_t.renderForms||!_t.data.hasAppearance&&!!_t.data.fieldValue;super(_t,{isRenderable:wt})}setPropertyOnSiblings(_t,wt,Ot,Jt){const er=this.annotationStorage;for(const or of this._getElementsByName(_t.name,_t.id))or.domElement&&(or.domElement[wt]=Ot),er.setValue(or.id,{[Jt]:Ot})}render(){var Jt,er;const _t=this.annotationStorage,wt=this.data.id;this.container.classList.add("textWidgetAnnotation");let Ot=null;if(this.renderForms){const or=_t.getValue(wt,{value:this.data.fieldValue});let cr=or.value||"";const jr=_t.getValue(wt,{charLimit:this.data.maxLen}).charLimit;jr&&cr.length>jr&&(cr=cr.slice(0,jr));let br=or.formattedValue||((Jt=this.data.textContent)==null?void 0:Jt.join(`
`))||null;br&&this.data.comb&&(br=br.replaceAll(/\s+/g,""));const mr={userValue:cr,formattedValue:br,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Ot=document.createElement("textarea"),Ot.textContent=br??cr,this.data.doNotScroll&&(Ot.style.overflowY="hidden")):(Ot=document.createElement("input"),Ot.type="text",Ot.setAttribute("value",br??cr),this.data.doNotScroll&&(Ot.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Ot.hidden=!0),it.add(Ot),Ot.setAttribute("data-element-id",wt),Ot.disabled=this.data.readOnly,Ot.name=this.data.fieldName,Ot.tabIndex=j,this._setRequired(Ot,this.data.required),jr&&(Ot.maxLength=jr),Ot.addEventListener("input",Er=>{_t.setValue(wt,{value:Er.target.value}),this.setPropertyOnSiblings(Ot,"value",Er.target.value,"value"),mr.formattedValue=null}),Ot.addEventListener("resetform",Er=>{const Rr=this.data.defaultFieldValue??"";Ot.value=mr.userValue=Rr,mr.formattedValue=null});let Pr=Er=>{const{formattedValue:Rr}=mr;Rr!=null&&(Er.target.value=Rr),Er.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Ot.addEventListener("focus",Rr=>{if(mr.focused)return;const{target:Sr}=Rr;mr.userValue&&(Sr.value=mr.userValue),mr.lastCommittedValue=Sr.value,mr.commitKey=1,mr.focused=!0}),Ot.addEventListener("updatefromsandbox",Rr=>{this.showElementAndHideCanvas(Rr.target);const Sr={value(Tr){mr.userValue=Tr.detail.value??"",_t.setValue(wt,{value:mr.userValue.toString()}),Tr.target.value=mr.userValue},formattedValue(Tr){const{formattedValue:Ir}=Tr.detail;mr.formattedValue=Ir,Ir!=null&&Tr.target!==document.activeElement&&(Tr.target.value=Ir),_t.setValue(wt,{formattedValue:Ir})},selRange(Tr){Tr.target.setSelectionRange(...Tr.detail.selRange)},charLimit:Tr=>{var zr;const{charLimit:Ir}=Tr.detail,{target:Or}=Tr;if(Ir===0){Or.removeAttribute("maxLength");return}Or.setAttribute("maxLength",Ir);let Vr=mr.userValue;!Vr||Vr.length<=Ir||(Vr=Vr.slice(0,Ir),Or.value=mr.userValue=Vr,_t.setValue(wt,{value:Vr}),(zr=this.linkService.eventBus)==null||zr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wt,name:"Keystroke",value:Vr,willCommit:!0,commitKey:1,selStart:Or.selectionStart,selEnd:Or.selectionEnd}}))}};this._dispatchEventFromSandbox(Sr,Rr)}),Ot.addEventListener("keydown",Rr=>{var Ir;mr.commitKey=1;let Sr=-1;if(Rr.key==="Escape"?Sr=0:Rr.key==="Enter"&&!this.data.multiLine?Sr=2:Rr.key==="Tab"&&(mr.commitKey=3),Sr===-1)return;const{value:Tr}=Rr.target;mr.lastCommittedValue!==Tr&&(mr.lastCommittedValue=Tr,mr.userValue=Tr,(Ir=this.linkService.eventBus)==null||Ir.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wt,name:"Keystroke",value:Tr,willCommit:!0,commitKey:Sr,selStart:Rr.target.selectionStart,selEnd:Rr.target.selectionEnd}}))});const Er=Pr;Pr=null,Ot.addEventListener("blur",Rr=>{var Tr;if(!mr.focused||!Rr.relatedTarget)return;mr.focused=!1;const{value:Sr}=Rr.target;mr.userValue=Sr,mr.lastCommittedValue!==Sr&&((Tr=this.linkService.eventBus)==null||Tr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wt,name:"Keystroke",value:Sr,willCommit:!0,commitKey:mr.commitKey,selStart:Rr.target.selectionStart,selEnd:Rr.target.selectionEnd}})),Er(Rr)}),(er=this.data.actions)!=null&&er.Keystroke&&Ot.addEventListener("beforeinput",Rr=>{var qr;mr.lastCommittedValue=null;const{data:Sr,target:Tr}=Rr,{value:Ir,selectionStart:Or,selectionEnd:Vr}=Tr;let zr=Or,Xr=Vr;switch(Rr.inputType){case"deleteWordBackward":{const Yr=Ir.substring(0,Or).match(/\w*[^\w]*$/);Yr&&(zr-=Yr[0].length);break}case"deleteWordForward":{const Yr=Ir.substring(Or).match(/^[^\w]*\w*/);Yr&&(Xr+=Yr[0].length);break}case"deleteContentBackward":Or===Vr&&(zr-=1);break;case"deleteContentForward":Or===Vr&&(Xr+=1);break}Rr.preventDefault(),(qr=this.linkService.eventBus)==null||qr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wt,name:"Keystroke",value:Ir,change:Sr||"",willCommit:!1,selStart:zr,selEnd:Xr}})}),this._setEventListeners(Ot,mr,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Rr=>Rr.target.value)}if(Pr&&Ot.addEventListener("blur",Pr),this.data.comb){const Rr=(this.data.rect[2]-this.data.rect[0])/jr;Ot.classList.add("comb"),Ot.style.letterSpacing=`calc(${Rr}px * var(--scale-factor) - 1ch)`}}else Ot=document.createElement("div"),Ot.textContent=this.data.fieldValue,Ot.style.verticalAlign="middle",Ot.style.display="table-cell";return this._setTextStyle(Ot),this._setBackgroundColor(Ot),this._setDefaultPropertiesFromJS(Ot),this.container.append(Ot),this.container}}class rt extends b{constructor(_t){super(_t,{isRenderable:!!_t.data.hasOwnCanvas})}}class dt extends b{constructor(_t){super(_t,{isRenderable:_t.renderForms})}render(){const _t=this.annotationStorage,wt=this.data,Ot=wt.id;let Jt=_t.getValue(Ot,{value:wt.exportValue===wt.fieldValue}).value;typeof Jt=="string"&&(Jt=Jt!=="Off",_t.setValue(Ot,{value:Jt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const er=document.createElement("input");return it.add(er),er.setAttribute("data-element-id",Ot),er.disabled=wt.readOnly,this._setRequired(er,this.data.required),er.type="checkbox",er.name=wt.fieldName,Jt&&er.setAttribute("checked",!0),er.setAttribute("exportValue",wt.exportValue),er.tabIndex=j,er.addEventListener("change",or=>{const{name:cr,checked:jr}=or.target;for(const br of this._getElementsByName(cr,Ot)){const mr=jr&&br.exportValue===wt.exportValue;br.domElement&&(br.domElement.checked=mr),_t.setValue(br.id,{value:mr})}_t.setValue(Ot,{value:jr})}),er.addEventListener("resetform",or=>{const cr=wt.defaultFieldValue||"Off";or.target.checked=cr===wt.exportValue}),this.enableScripting&&this.hasJSActions&&(er.addEventListener("updatefromsandbox",or=>{const cr={value(jr){jr.target.checked=jr.detail.value!=="Off",_t.setValue(Ot,{value:jr.target.checked})}};this._dispatchEventFromSandbox(cr,or)}),this._setEventListeners(er,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],or=>or.target.checked)),this._setBackgroundColor(er),this._setDefaultPropertiesFromJS(er),this.container.append(er),this.container}}class st extends b{constructor(_t){super(_t,{isRenderable:_t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const _t=this.annotationStorage,wt=this.data,Ot=wt.id;let Jt=_t.getValue(Ot,{value:wt.fieldValue===wt.buttonValue}).value;typeof Jt=="string"&&(Jt=Jt!==wt.buttonValue,_t.setValue(Ot,{value:Jt}));const er=document.createElement("input");if(it.add(er),er.setAttribute("data-element-id",Ot),er.disabled=wt.readOnly,this._setRequired(er,this.data.required),er.type="radio",er.name=wt.fieldName,Jt&&er.setAttribute("checked",!0),er.tabIndex=j,er.addEventListener("change",or=>{const{name:cr,checked:jr}=or.target;for(const br of this._getElementsByName(cr,Ot))_t.setValue(br.id,{value:!1});_t.setValue(Ot,{value:jr})}),er.addEventListener("resetform",or=>{const cr=wt.defaultFieldValue;or.target.checked=cr!=null&&cr===wt.buttonValue}),this.enableScripting&&this.hasJSActions){const or=wt.buttonValue;er.addEventListener("updatefromsandbox",cr=>{const jr={value:br=>{const mr=or===br.detail.value;for(const Pr of this._getElementsByName(br.target.name)){const Er=mr&&Pr.id===Ot;Pr.domElement&&(Pr.domElement.checked=Er),_t.setValue(Pr.id,{value:Er})}}};this._dispatchEventFromSandbox(jr,cr)}),this._setEventListeners(er,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],cr=>cr.target.checked)}return this._setBackgroundColor(er),this._setDefaultPropertiesFromJS(er),this.container.append(er),this.container}}class pt extends xt{constructor(_t){super(_t,{ignoreBorder:_t.data.hasAppearance})}render(){const _t=super.render();_t.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(_t.title=this.data.alternativeText);const wt=_t.lastChild;return this.enableScripting&&this.hasJSActions&&wt&&(this._setDefaultPropertiesFromJS(wt),wt.addEventListener("updatefromsandbox",Ot=>{this._dispatchEventFromSandbox({},Ot)})),_t}}class g extends b{constructor(_t){super(_t,{isRenderable:_t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const _t=this.annotationStorage,wt=this.data.id,Ot=_t.getValue(wt,{value:this.data.fieldValue}),Jt=document.createElement("select");it.add(Jt),Jt.setAttribute("data-element-id",wt),Jt.disabled=this.data.readOnly,this._setRequired(Jt,this.data.required),Jt.name=this.data.fieldName,Jt.tabIndex=j;let er=this.data.combo&&this.data.options.length>0;this.data.combo||(Jt.size=this.data.options.length,this.data.multiSelect&&(Jt.multiple=!0)),Jt.addEventListener("resetform",mr=>{const Pr=this.data.defaultFieldValue;for(const Er of Jt.options)Er.selected=Er.value===Pr});for(const mr of this.data.options){const Pr=document.createElement("option");Pr.textContent=mr.displayValue,Pr.value=mr.exportValue,Ot.value.includes(mr.exportValue)&&(Pr.setAttribute("selected",!0),er=!1),Jt.append(Pr)}let or=null;if(er){const mr=document.createElement("option");mr.value=" ",mr.setAttribute("hidden",!0),mr.setAttribute("selected",!0),Jt.prepend(mr),or=()=>{mr.remove(),Jt.removeEventListener("input",or),or=null},Jt.addEventListener("input",or)}const cr=mr=>{const Pr=mr?"value":"textContent",{options:Er,multiple:Rr}=Jt;return Rr?Array.prototype.filter.call(Er,Sr=>Sr.selected).map(Sr=>Sr[Pr]):Er.selectedIndex===-1?null:Er[Er.selectedIndex][Pr]};let jr=cr(!1);const br=mr=>{const Pr=mr.target.options;return Array.prototype.map.call(Pr,Er=>({displayValue:Er.textContent,exportValue:Er.value}))};return this.enableScripting&&this.hasJSActions?(Jt.addEventListener("updatefromsandbox",mr=>{const Pr={value(Er){or==null||or();const Rr=Er.detail.value,Sr=new Set(Array.isArray(Rr)?Rr:[Rr]);for(const Tr of Jt.options)Tr.selected=Sr.has(Tr.value);_t.setValue(wt,{value:cr(!0)}),jr=cr(!1)},multipleSelection(Er){Jt.multiple=!0},remove(Er){const Rr=Jt.options,Sr=Er.detail.remove;Rr[Sr].selected=!1,Jt.remove(Sr),Rr.length>0&&Array.prototype.findIndex.call(Rr,Ir=>Ir.selected)===-1&&(Rr[0].selected=!0),_t.setValue(wt,{value:cr(!0),items:br(Er)}),jr=cr(!1)},clear(Er){for(;Jt.length!==0;)Jt.remove(0);_t.setValue(wt,{value:null,items:[]}),jr=cr(!1)},insert(Er){const{index:Rr,displayValue:Sr,exportValue:Tr}=Er.detail.insert,Ir=Jt.children[Rr],Or=document.createElement("option");Or.textContent=Sr,Or.value=Tr,Ir?Ir.before(Or):Jt.append(Or),_t.setValue(wt,{value:cr(!0),items:br(Er)}),jr=cr(!1)},items(Er){const{items:Rr}=Er.detail;for(;Jt.length!==0;)Jt.remove(0);for(const Sr of Rr){const{displayValue:Tr,exportValue:Ir}=Sr,Or=document.createElement("option");Or.textContent=Tr,Or.value=Ir,Jt.append(Or)}Jt.options.length>0&&(Jt.options[0].selected=!0),_t.setValue(wt,{value:cr(!0),items:br(Er)}),jr=cr(!1)},indices(Er){const Rr=new Set(Er.detail.indices);for(const Sr of Er.target.options)Sr.selected=Rr.has(Sr.index);_t.setValue(wt,{value:cr(!0)}),jr=cr(!1)},editable(Er){Er.target.disabled=!Er.detail.editable}};this._dispatchEventFromSandbox(Pr,mr)}),Jt.addEventListener("input",mr=>{var Er;const Pr=cr(!0);_t.setValue(wt,{value:Pr}),mr.preventDefault(),(Er=this.linkService.eventBus)==null||Er.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wt,name:"Keystroke",value:jr,changeEx:Pr,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Jt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],mr=>mr.target.value)):Jt.addEventListener("input",function(mr){_t.setValue(wt,{value:cr(!0)})}),this.data.combo&&this._setTextStyle(Jt),this._setBackgroundColor(Jt),this._setDefaultPropertiesFromJS(Jt),this.container.append(Jt),this.container}}class tt extends at{constructor(_t){const{data:wt,elements:Ot}=_t;super(_t,{isRenderable:at._hasPopupData(wt)}),this.elements=Ot}render(){this.container.classList.add("popupAnnotation");const _t=new ct({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),wt=[];for(const Ot of this.elements)Ot.popup=_t,wt.push(Ot.data.id),Ot.addHighlightArea();return this.container.setAttribute("aria-controls",wt.map(Ot=>`${a.AnnotationPrefix}${Ot}`).join(",")),this.container}}class ct{constructor({container:_t,color:wt,elements:Ot,titleObj:Jt,modificationDate:er,contentsObj:or,richText:cr,parent:jr,rect:br,parentRect:mr,open:Pr}){qt(this,dr);qt(this,Wt,null);qt(this,Qt,$t(this,dr,Bn).bind(this));qt(this,Zt,$t(this,dr,rn).bind(this));qt(this,nr,$t(this,dr,tn).bind(this));qt(this,Gt,$t(this,dr,Rs).bind(this));qt(this,rr,null);qt(this,Vt,null);qt(this,Bt,null);qt(this,Et,null);qt(this,Pt,null);qt(this,zt,null);qt(this,Ht,!1);qt(this,tr,null);qt(this,ar,null);qt(this,ir,null);qt(this,It,null);qt(this,hr,!1);var Rr;Kt(this,Vt,_t),Kt(this,It,Jt),Kt(this,Bt,or),Kt(this,ir,cr),Kt(this,Pt,jr),Kt(this,rr,wt),Kt(this,ar,br),Kt(this,zt,mr),Kt(this,Et,Ot);const Er=o.PDFDateString.toDateObject(er);Er&&Kt(this,Wt,jr.l10n.get("annotation_date_string",{date:Er.toLocaleDateString(),time:Er.toLocaleTimeString()})),this.trigger=Ot.flatMap(Sr=>Sr.getElementsToTriggerPopup());for(const Sr of this.trigger)Sr.addEventListener("click",et(this,Gt)),Sr.addEventListener("mouseenter",et(this,nr)),Sr.addEventListener("mouseleave",et(this,Zt)),Sr.classList.add("popupTriggerArea");for(const Sr of Ot)(Rr=Sr.container)==null||Rr.addEventListener("keydown",et(this,Qt));et(this,Vt).hidden=!0,Pr&&$t(this,dr,Rs).call(this)}render(){if(et(this,tr))return;const{page:{view:_t},viewport:{rawDims:{pageWidth:wt,pageHeight:Ot,pageX:Jt,pageY:er}}}=et(this,Pt),or=Kt(this,tr,document.createElement("div"));if(or.className="popup",et(this,rr)){const zr=or.style.outlineColor=a.Util.makeHexColor(...et(this,rr));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?or.style.backgroundColor=`color-mix(in srgb, ${zr} 30%, white)`:or.style.backgroundColor=a.Util.makeHexColor(...et(this,rr).map(qr=>Math.floor(.7*(255-qr)+qr)))}const cr=document.createElement("span");cr.className="header";const jr=document.createElement("h1");if(cr.append(jr),{dir:jr.dir,str:jr.textContent}=et(this,It),or.append(cr),et(this,Wt)){const zr=document.createElement("span");zr.classList.add("popupDate"),et(this,Wt).then(Xr=>{zr.textContent=Xr}),cr.append(zr)}const br=et(this,Bt),mr=et(this,ir);if(mr!=null&&mr.str&&(!(br!=null&&br.str)||br.str===mr.str))h.XfaLayer.render({xfaHtml:mr.html,intent:"richText",div:or}),or.lastChild.classList.add("richText","popupContent");else{const zr=this._formatContents(br);or.append(zr)}let Pr=!!et(this,zt),Er=Pr?et(this,zt):et(this,ar);for(const zr of et(this,Et))if(!Er||a.Util.intersect(zr.data.rect,Er)!==null){Er=zr.data.rect,Pr=!0;break}const Rr=a.Util.normalizeRect([Er[0],_t[3]-Er[1]+_t[1],Er[2],_t[3]-Er[3]+_t[1]]),Tr=Pr?Er[2]-Er[0]+5:0,Ir=Rr[0]+Tr,Or=Rr[1],{style:Vr}=et(this,Vt);Vr.left=`${100*(Ir-Jt)/wt}%`,Vr.top=`${100*(Or-er)/Ot}%`,et(this,Vt).append(or)}_formatContents({str:_t,dir:wt}){const Ot=document.createElement("p");Ot.classList.add("popupContent"),Ot.dir=wt;const Jt=_t.split(/(?:\r\n?|\n)/);for(let er=0,or=Jt.length;er<or;++er){const cr=Jt[er];Ot.append(document.createTextNode(cr)),er<or-1&&Ot.append(document.createElement("br"))}return Ot}forceHide(){Kt(this,hr,this.isVisible),et(this,hr)&&(et(this,Vt).hidden=!0)}maybeShow(){et(this,hr)&&(Kt(this,hr,!1),et(this,Vt).hidden=!1)}get isVisible(){return et(this,Vt).hidden===!1}}Wt=new WeakMap,Qt=new WeakMap,Zt=new WeakMap,nr=new WeakMap,Gt=new WeakMap,rr=new WeakMap,Vt=new WeakMap,Bt=new WeakMap,Et=new WeakMap,Pt=new WeakMap,zt=new WeakMap,Ht=new WeakMap,tr=new WeakMap,ar=new WeakMap,ir=new WeakMap,It=new WeakMap,hr=new WeakMap,dr=new WeakSet,Bn=function(_t){_t.altKey||_t.shiftKey||_t.ctrlKey||_t.metaKey||(_t.key==="Enter"||_t.key==="Escape"&&et(this,Ht))&&$t(this,dr,Rs).call(this)},Rs=function(){Kt(this,Ht,!et(this,Ht)),et(this,Ht)?($t(this,dr,tn).call(this),et(this,Vt).addEventListener("click",et(this,Gt)),et(this,Vt).addEventListener("keydown",et(this,Qt))):($t(this,dr,rn).call(this),et(this,Vt).removeEventListener("click",et(this,Gt)),et(this,Vt).removeEventListener("keydown",et(this,Qt)))},tn=function(){et(this,tr)||this.render(),this.isVisible?et(this,Ht)&&et(this,Vt).classList.add("focused"):(et(this,Vt).hidden=!1,et(this,Vt).style.zIndex=parseInt(et(this,Vt).style.zIndex)+1e3)},rn=function(){et(this,Vt).classList.remove("focused"),!(et(this,Ht)||!this.isVisible)&&(et(this,Vt).hidden=!0,et(this,Vt).style.zIndex=parseInt(et(this,Vt).style.zIndex)-1e3)};class gt extends at{constructor(_t){super(_t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=_t.data.textContent,this.textPosition=_t.data.textPosition,this.annotationEditorType=a.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const _t=document.createElement("div");_t.classList.add("annotationTextContent"),_t.setAttribute("role","comment");for(const wt of this.textContent){const Ot=document.createElement("span");Ot.textContent=wt,_t.append(Ot)}this.container.append(_t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}s.FreeTextAnnotationElement=gt;class nt extends at{constructor(wt){super(wt,{isRenderable:!0,ignoreBorder:!0});qt(this,kr,null)}render(){this.container.classList.add("lineAnnotation");const wt=this.data,{width:Ot,height:Jt}=ot(wt.rect),er=this.svgFactory.create(Ot,Jt,!0),or=Kt(this,kr,this.svgFactory.createElement("svg:line"));return or.setAttribute("x1",wt.rect[2]-wt.lineCoordinates[0]),or.setAttribute("y1",wt.rect[3]-wt.lineCoordinates[1]),or.setAttribute("x2",wt.rect[2]-wt.lineCoordinates[2]),or.setAttribute("y2",wt.rect[3]-wt.lineCoordinates[3]),or.setAttribute("stroke-width",wt.borderStyle.width||1),or.setAttribute("stroke","transparent"),or.setAttribute("fill","transparent"),er.append(or),this.container.append(er),!wt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return et(this,kr)}addHighlightArea(){this.container.classList.add("highlightArea")}}kr=new WeakMap;class ft extends at{constructor(wt){super(wt,{isRenderable:!0,ignoreBorder:!0});qt(this,Cr,null)}render(){this.container.classList.add("squareAnnotation");const wt=this.data,{width:Ot,height:Jt}=ot(wt.rect),er=this.svgFactory.create(Ot,Jt,!0),or=wt.borderStyle.width,cr=Kt(this,Cr,this.svgFactory.createElement("svg:rect"));return cr.setAttribute("x",or/2),cr.setAttribute("y",or/2),cr.setAttribute("width",Ot-or),cr.setAttribute("height",Jt-or),cr.setAttribute("stroke-width",or||1),cr.setAttribute("stroke","transparent"),cr.setAttribute("fill","transparent"),er.append(cr),this.container.append(er),!wt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return et(this,Cr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Cr=new WeakMap;class vt extends at{constructor(wt){super(wt,{isRenderable:!0,ignoreBorder:!0});qt(this,Dr,null)}render(){this.container.classList.add("circleAnnotation");const wt=this.data,{width:Ot,height:Jt}=ot(wt.rect),er=this.svgFactory.create(Ot,Jt,!0),or=wt.borderStyle.width,cr=Kt(this,Dr,this.svgFactory.createElement("svg:ellipse"));return cr.setAttribute("cx",Ot/2),cr.setAttribute("cy",Jt/2),cr.setAttribute("rx",Ot/2-or/2),cr.setAttribute("ry",Jt/2-or/2),cr.setAttribute("stroke-width",or||1),cr.setAttribute("stroke","transparent"),cr.setAttribute("fill","transparent"),er.append(cr),this.container.append(er),!wt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return et(this,Dr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dr=new WeakMap;class Dt extends at{constructor(wt){super(wt,{isRenderable:!0,ignoreBorder:!0});qt(this,lr,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const wt=this.data,{width:Ot,height:Jt}=ot(wt.rect),er=this.svgFactory.create(Ot,Jt,!0);let or=[];for(const jr of wt.vertices){const br=jr.x-wt.rect[0],mr=wt.rect[3]-jr.y;or.push(br+","+mr)}or=or.join(" ");const cr=Kt(this,lr,this.svgFactory.createElement(this.svgElementName));return cr.setAttribute("points",or),cr.setAttribute("stroke-width",wt.borderStyle.width||1),cr.setAttribute("stroke","transparent"),cr.setAttribute("fill","transparent"),er.append(cr),this.container.append(er),!wt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return et(this,lr)}addHighlightArea(){this.container.classList.add("highlightArea")}}lr=new WeakMap;class Tt extends Dt{constructor(_t){super(_t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Mt extends at{constructor(_t){super(_t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class kt extends at{constructor(wt){super(wt,{isRenderable:!0,ignoreBorder:!0});qt(this,Xt,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=a.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const wt=this.data,{width:Ot,height:Jt}=ot(wt.rect),er=this.svgFactory.create(Ot,Jt,!0);for(const or of wt.inkLists){let cr=[];for(const br of or){const mr=br.x-wt.rect[0],Pr=wt.rect[3]-br.y;cr.push(`${mr},${Pr}`)}cr=cr.join(" ");const jr=this.svgFactory.createElement(this.svgElementName);et(this,Xt).push(jr),jr.setAttribute("points",cr),jr.setAttribute("stroke-width",wt.borderStyle.width||1),jr.setAttribute("stroke","transparent"),jr.setAttribute("fill","transparent"),!wt.popupRef&&this.hasPopupData&&this._createPopup(),er.append(jr)}return this.container.append(er),this.container}getElementsToTriggerPopup(){return et(this,Xt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xt=new WeakMap,s.InkAnnotationElement=kt;class Rt extends at{constructor(_t){super(_t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class bt extends at{constructor(_t){super(_t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Nt extends at{constructor(_t){super(_t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Ft extends at{constructor(_t){super(_t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class jt extends at{constructor(_t){super(_t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}s.StampAnnotationElement=jt;class ut extends at{constructor(wt){var er;super(wt,{isRenderable:!0});qt(this,xr);qt(this,Yt,null);const{filename:Ot,content:Jt}=this.data.file;this.filename=(0,o.getFilenameFromUrl)(Ot,!0),this.content=Jt,(er=this.linkService.eventBus)==null||er.dispatch("fileattachmentannotation",{source:this,filename:Ot,content:Jt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:wt,data:Ot}=this;let Jt;Ot.hasAppearance||Ot.fillAlpha===0?Jt=document.createElement("div"):(Jt=document.createElement("img"),Jt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Ot.name)?"paperclip":"pushpin"}.svg`,Ot.fillAlpha&&Ot.fillAlpha<1&&(Jt.style=`filter: opacity(${Math.round(Ot.fillAlpha*100)}%);`)),Jt.addEventListener("dblclick",$t(this,xr,sn).bind(this)),Kt(this,Yt,Jt);const{isMac:er}=a.FeatureTest.platform;return wt.addEventListener("keydown",or=>{or.key==="Enter"&&(er?or.metaKey:or.ctrlKey)&&$t(this,xr,sn).call(this)}),!Ot.popupRef&&this.hasPopupData?this._createPopup():Jt.classList.add("popupTriggerArea"),wt.append(Jt),wt}getElementsToTriggerPopup(){return et(this,Yt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yt=new WeakMap,xr=new WeakSet,sn=function(){var wt;(wt=this.downloadManager)==null||wt.openOrDownloadData(this.container,this.content,this.filename)};class ht{constructor({div:_t,accessibilityManager:wt,annotationCanvasMap:Ot,l10n:Jt,page:er,viewport:or}){qt(this,pr);qt(this,Nr,null);qt(this,Lt,null);qt(this,sr,new Map);this.div=_t,Kt(this,Nr,wt),Kt(this,Lt,Ot),this.l10n=Jt,this.page=er,this.viewport=or,this.zIndex=0,this.l10n||(this.l10n=_.NullL10n)}async render(_t){const{annotations:wt}=_t,Ot=this.div;(0,o.setLayerDimensions)(Ot,this.viewport);const Jt=new Map,er={data:null,layer:Ot,linkService:_t.linkService,downloadManager:_t.downloadManager,imageResourcesPath:_t.imageResourcesPath||"",renderForms:_t.renderForms!==!1,svgFactory:new o.DOMSVGFactory,annotationStorage:_t.annotationStorage||new c.AnnotationStorage,enableScripting:_t.enableScripting===!0,hasJSActions:_t.hasJSActions,fieldObjects:_t.fieldObjects,parent:this,elements:null};for(const or of wt){if(or.noHTML)continue;const cr=or.annotationType===a.AnnotationType.POPUP;if(cr){const mr=Jt.get(or.id);if(!mr)continue;er.elements=mr}else{const{width:mr,height:Pr}=ot(or.rect);if(mr<=0||Pr<=0)continue}er.data=or;const jr=mt.create(er);if(!jr.isRenderable)continue;if(!cr&&or.popupRef){const mr=Jt.get(or.popupRef);mr?mr.push(jr):Jt.set(or.popupRef,[jr])}jr.annotationEditorType>0&&et(this,sr).set(jr.data.id,jr);const br=jr.render();or.hidden&&(br.style.visibility="hidden"),$t(this,pr,Wn).call(this,br,or.id)}$t(this,pr,nn).call(this),await this.l10n.translate(Ot)}update({viewport:_t}){const wt=this.div;this.viewport=_t,(0,o.setLayerDimensions)(wt,{rotation:_t.rotation}),$t(this,pr,nn).call(this),wt.hidden=!1}getEditableAnnotations(){return Array.from(et(this,sr).values())}getEditableAnnotation(_t){return et(this,sr).get(_t)}}Nr=new WeakMap,Lt=new WeakMap,sr=new WeakMap,pr=new WeakSet,Wn=function(_t,wt){var Jt;const Ot=_t.firstChild||_t;Ot.id=`${a.AnnotationPrefix}${wt}`,this.div.append(_t),(Jt=et(this,Nr))==null||Jt.moveElementInDOM(this.div,_t,Ot,!1)},nn=function(){if(!et(this,Lt))return;const _t=this.div;for(const[wt,Ot]of et(this,Lt)){const Jt=_t.querySelector(`[data-annotation-id="${wt}"]`);if(!Jt)continue;const{firstChild:er}=Jt;er?er.nodeName==="CANVAS"?er.replaceWith(Ot):er.before(Ot):Jt.append(Ot)}et(this,Lt).clear()},s.AnnotationLayer=ht},(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorConverters=void 0;function i(c){return Math.floor(Math.max(0,Math.min(1,c))*255).toString(16).padStart(2,"0")}function a(c){return Math.max(0,Math.min(255,255*c))}class o{static CMYK_G([d,_,h,j]){return["G",1-Math.min(1,.3*d+.59*h+.11*_+j)]}static G_CMYK([d]){return["CMYK",0,0,0,1-d]}static G_RGB([d]){return["RGB",d,d,d]}static G_rgb([d]){return d=a(d),[d,d,d]}static G_HTML([d]){const _=i(d);return`#${_}${_}${_}`}static RGB_G([d,_,h]){return["G",.3*d+.59*_+.11*h]}static RGB_rgb(d){return d.map(a)}static RGB_HTML(d){return`#${d.map(i).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([d,_,h,j]){return["RGB",1-Math.min(1,d+j),1-Math.min(1,h+j),1-Math.min(1,_+j)]}static CMYK_rgb([d,_,h,j]){return[a(1-Math.min(1,d+j)),a(1-Math.min(1,h+j)),a(1-Math.min(1,_+j))]}static CMYK_HTML(d){const _=this.CMYK_RGB(d).slice(1);return this.RGB_HTML(_)}static RGB_CMYK([d,_,h]){const j=1-d,$=1-_,it=1-h,ot=Math.min(j,$,it);return["CMYK",j,$,it,ot]}}s.ColorConverters=o},(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.getL10nFallback=a;const i={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};i.print_progress_percent="{{progress}}%";function a(d,_){switch(d){case"find_match_count":d=`find_match_count[${_.total===1?"one":"other"}]`;break;case"find_match_count_limit":d=`find_match_count_limit[${_.limit===1?"one":"other"}]`;break}return i[d]||""}function o(d,_){return _?d.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(h,j)=>j in _?_[j]:"{{"+j+"}}"):d}const c={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(d,_=null,h=a(d,_)){return o(h,_)},async translate(d){}};s.NullL10n=c},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayer=void 0;var a=i(25);class o{static setupStorage(d,_,h,j,$){const it=j.getValue(_,{value:null});switch(h.name){case"textarea":if(it.value!==null&&(d.textContent=it.value),$==="print")break;d.addEventListener("input",ot=>{j.setValue(_,{value:ot.target.value})});break;case"input":if(h.attributes.type==="radio"||h.attributes.type==="checkbox"){if(it.value===h.attributes.xfaOn?d.setAttribute("checked",!0):it.value===h.attributes.xfaOff&&d.removeAttribute("checked"),$==="print")break;d.addEventListener("change",ot=>{j.setValue(_,{value:ot.target.checked?ot.target.getAttribute("xfaOn"):ot.target.getAttribute("xfaOff")})})}else{if(it.value!==null&&d.setAttribute("value",it.value),$==="print")break;d.addEventListener("input",ot=>{j.setValue(_,{value:ot.target.value})})}break;case"select":if(it.value!==null){d.setAttribute("value",it.value);for(const ot of h.children)ot.attributes.value===it.value?ot.attributes.selected=!0:ot.attributes.hasOwnProperty("selected")&&delete ot.attributes.selected}d.addEventListener("input",ot=>{const mt=ot.target.options,at=mt.selectedIndex===-1?"":mt[mt.selectedIndex].value;j.setValue(_,{value:at})});break}}static setAttributes({html:d,element:_,storage:h=null,intent:j,linkService:$}){const{attributes:it}=_,ot=d instanceof HTMLAnchorElement;it.type==="radio"&&(it.name=`${it.name}-${j}`);for(const[mt,at]of Object.entries(it))if(at!=null)switch(mt){case"class":at.length&&d.setAttribute(mt,at.join(" "));break;case"dataId":break;case"id":d.setAttribute("data-element-id",at);break;case"style":Object.assign(d.style,at);break;case"textContent":d.textContent=at;break;default:(!ot||mt!=="href"&&mt!=="newWindow")&&d.setAttribute(mt,at)}ot&&$.addLinkAttributes(d,it.href,it.newWindow),h&&it.dataId&&this.setupStorage(d,it.dataId,_,h)}static render(d){var xt;const _=d.annotationStorage,h=d.linkService,j=d.xfaHtml,$=d.intent||"display",it=document.createElement(j.name);j.attributes&&this.setAttributes({html:it,element:j,intent:$,linkService:h});const ot=[[j,-1,it]],mt=d.div;if(mt.append(it),d.viewport){const lt=`matrix(${d.viewport.transform.join(",")})`;mt.style.transform=lt}$!=="richText"&&mt.setAttribute("class","xfaLayer xfaFont");const at=[];for(;ot.length>0;){const[lt,b,_e]=ot.at(-1);if(b+1===lt.children.length){ot.pop();continue}const rt=lt.children[++ot.at(-1)[1]];if(rt===null)continue;const{name:dt}=rt;if(dt==="#text"){const pt=document.createTextNode(rt.value);at.push(pt),_e.append(pt);continue}const st=(xt=rt==null?void 0:rt.attributes)!=null&&xt.xmlns?document.createElementNS(rt.attributes.xmlns,dt):document.createElement(dt);if(_e.append(st),rt.attributes&&this.setAttributes({html:st,element:rt,storage:_,intent:$,linkService:h}),rt.children&&rt.children.length>0)ot.push([rt,-1,st]);else if(rt.value){const pt=document.createTextNode(rt.value);a.XfaText.shouldBuildText(dt)&&at.push(pt),st.append(pt)}}for(const lt of mt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))lt.setAttribute("readOnly",!0);return{textDivs:at}}static update(d){const _=`matrix(${d.viewport.transform.join(",")})`;d.div.style.transform=_,d.div.hidden=!1}}s.XfaLayer=o},(e,s,i)=>{var j,$,it,ot,mt,at,xt,lt,b,_e,rt,dt,st,pt,g,Hn,Gn,Xn,qn,an,Yn,on,Kn,Qn,Jn,Zn,_i,Jr,ln,As,Ss,ns,un,_s,At,na,dn,xa,ga,hn,Ns,is;Object.defineProperty(s,"__esModule",{value:!0}),s.InkEditor=void 0;var a=i(1),o=i(4),c=i(29),d=i(6),_=i(5);const rr=class rr extends o.AnnotationEditor{constructor(Et){super({...Et,name:"inkEditor"});qt(this,g);qt(this,j,0);qt(this,$,0);qt(this,it,this.canvasPointermove.bind(this));qt(this,ot,this.canvasPointerleave.bind(this));qt(this,mt,this.canvasPointerup.bind(this));qt(this,at,this.canvasPointerdown.bind(this));qt(this,xt,new Path2D);qt(this,lt,!1);qt(this,b,!1);qt(this,_e,!1);qt(this,rt,null);qt(this,dt,0);qt(this,st,0);qt(this,pt,null);this.color=Et.color||null,this.thickness=Et.thickness||null,this.opacity=Et.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Et){o.AnnotationEditor.initialize(Et,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Et,Pt){switch(Et){case a.AnnotationEditorParamsType.INK_THICKNESS:rr._defaultThickness=Pt;break;case a.AnnotationEditorParamsType.INK_COLOR:rr._defaultColor=Pt;break;case a.AnnotationEditorParamsType.INK_OPACITY:rr._defaultOpacity=Pt/100;break}}updateParams(Et,Pt){switch(Et){case a.AnnotationEditorParamsType.INK_THICKNESS:$t(this,g,Hn).call(this,Pt);break;case a.AnnotationEditorParamsType.INK_COLOR:$t(this,g,Gn).call(this,Pt);break;case a.AnnotationEditorParamsType.INK_OPACITY:$t(this,g,Xn).call(this,Pt);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,rr._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,rr._defaultColor||o.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(rr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||rr._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,this.color||rr._defaultColor||o.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??rr._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||($t(this,g,As).call(this),$t(this,g,Ss).call(this)),this.isAttachedToDOM||(this.parent.add(this),$t(this,g,ns).call(this)),$t(this,g,is).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,et(this,rt).disconnect(),Kt(this,rt,null),super.remove())}setParent(Et){!this.parent&&Et?this._uiManager.removeShouldRescale(this):this.parent&&Et===null&&this._uiManager.addShouldRescale(this),super.setParent(Et)}onScaleChanging(){const[Et,Pt]=this.parentDimensions,zt=this.width*Et,Ht=this.height*Pt;this.setDimensions(zt,Ht)}enableEditMode(){et(this,lt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",et(this,at)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",et(this,at)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){et(this,lt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Kt(this,lt,!0),this.div.classList.add("disabled"),$t(this,g,is).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Et){this._focusEventsAllowed&&(super.focusin(Et),this.enableEditMode())}canvasPointerdown(Et){Et.button!==0||!this.isInEditMode()||et(this,lt)||(this.setInForeground(),Et.preventDefault(),Et.type!=="mouse"&&this.div.focus(),$t(this,g,Yn).call(this,Et.offsetX,Et.offsetY))}canvasPointermove(Et){Et.preventDefault(),$t(this,g,on).call(this,Et.offsetX,Et.offsetY)}canvasPointerup(Et){Et.preventDefault(),$t(this,g,ln).call(this,Et)}canvasPointerleave(Et){$t(this,g,ln).call(this,Et)}get isResizable(){return!this.isEmpty()&&et(this,lt)}render(){if(this.div)return this.div;let Et,Pt;this.width&&(Et=this.x,Pt=this.y),super.render(),o.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(ir=>{var It;return(It=this.div)==null?void 0:It.setAttribute("aria-label",ir)});const[zt,Ht,tr,ar]=$t(this,g,qn).call(this);if(this.setAt(zt,Ht,0,0),this.setDims(tr,ar),$t(this,g,As).call(this),this.width){const[ir,It]=this.parentDimensions;this.setAspectRatio(this.width*ir,this.height*It),this.setAt(Et*ir,Pt*It,this.width*ir,this.height*It),Kt(this,_e,!0),$t(this,g,ns).call(this),this.setDims(this.width*ir,this.height*It),$t(this,g,Jr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return $t(this,g,Ss).call(this),this.div}setDimensions(Et,Pt){const zt=Math.round(Et),Ht=Math.round(Pt);if(et(this,dt)===zt&&et(this,st)===Ht)return;Kt(this,dt,zt),Kt(this,st,Ht),this.canvas.style.visibility="hidden";const[tr,ar]=this.parentDimensions;this.width=Et/tr,this.height=Pt/ar,this.fixAndSetPosition(),et(this,lt)&&$t(this,g,un).call(this,Et,Pt),$t(this,g,ns).call(this),$t(this,g,Jr).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Et,Pt,zt){var kr,Cr,Dr;if(Et instanceof c.InkAnnotationElement)return null;const Ht=super.deserialize(Et,Pt,zt);Ht.thickness=Et.thickness,Ht.color=a.Util.makeHexColor(...Et.color),Ht.opacity=Et.opacity;const[tr,ar]=Ht.pageDimensions,ir=Ht.width*tr,It=Ht.height*ar,hr=Ht.parentScale,dr=Et.thickness/2;Kt(Ht,lt,!0),Kt(Ht,dt,Math.round(ir)),Kt(Ht,st,Math.round(It));const{paths:_r,rect:Ar,rotation:Mr}=Et;for(let{bezier:lr}of _r){lr=$t(kr=rr,At,xa).call(kr,lr,Ar,Mr);const Xt=[];Ht.paths.push(Xt);let Yt=hr*(lr[0]-dr),xr=hr*(lr[1]-dr);for(let Nr=2,Lt=lr.length;Nr<Lt;Nr+=6){const sr=hr*(lr[Nr]-dr),pr=hr*(lr[Nr+1]-dr),vr=hr*(lr[Nr+2]-dr),wr=hr*(lr[Nr+3]-dr),fr=hr*(lr[Nr+4]-dr),_t=hr*(lr[Nr+5]-dr);Xt.push([[Yt,xr],[sr,pr],[vr,wr],[fr,_t]]),Yt=fr,xr=_t}const Fr=$t(this,At,na).call(this,Xt);Ht.bezierPath2D.push(Fr)}const gr=$t(Cr=Ht,g,hn).call(Cr);return Kt(Ht,$,Math.max(o.AnnotationEditor.MIN_SIZE,gr[2]-gr[0])),Kt(Ht,j,Math.max(o.AnnotationEditor.MIN_SIZE,gr[3]-gr[1])),$t(Dr=Ht,g,un).call(Dr,ir,It),Ht}serialize(){if(this.isEmpty())return null;const Et=this.getRect(0,0),Pt=o.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:a.AnnotationEditorType.INK,color:Pt,thickness:this.thickness,opacity:this.opacity,paths:$t(this,g,ga).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Et),pageIndex:this.pageIndex,rect:Et,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};j=new WeakMap,$=new WeakMap,it=new WeakMap,ot=new WeakMap,mt=new WeakMap,at=new WeakMap,xt=new WeakMap,lt=new WeakMap,b=new WeakMap,_e=new WeakMap,rt=new WeakMap,dt=new WeakMap,st=new WeakMap,pt=new WeakMap,g=new WeakSet,Hn=function(Et){const Pt=this.thickness;this.addCommands({cmd:()=>{this.thickness=Et,$t(this,g,is).call(this)},undo:()=>{this.thickness=Pt,$t(this,g,is).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Gn=function(Et){const Pt=this.color;this.addCommands({cmd:()=>{this.color=Et,$t(this,g,Jr).call(this)},undo:()=>{this.color=Pt,$t(this,g,Jr).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Xn=function(Et){Et/=100;const Pt=this.opacity;this.addCommands({cmd:()=>{this.opacity=Et,$t(this,g,Jr).call(this)},undo:()=>{this.opacity=Pt,$t(this,g,Jr).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},qn=function(){const{parentRotation:Et,parentDimensions:[Pt,zt]}=this;switch(Et){case 90:return[0,zt,zt,Pt];case 180:return[Pt,zt,Pt,zt];case 270:return[Pt,0,zt,Pt];default:return[0,0,Pt,zt]}},an=function(){const{ctx:Et,color:Pt,opacity:zt,thickness:Ht,parentScale:tr,scaleFactor:ar}=this;Et.lineWidth=Ht*tr/ar,Et.lineCap="round",Et.lineJoin="round",Et.miterLimit=10,Et.strokeStyle=`${Pt}${(0,_.opacityToHex)(zt)}`},Yn=function(Et,Pt){this.canvas.addEventListener("contextmenu",d.noContextMenu),this.canvas.addEventListener("pointerleave",et(this,ot)),this.canvas.addEventListener("pointermove",et(this,it)),this.canvas.addEventListener("pointerup",et(this,mt)),this.canvas.removeEventListener("pointerdown",et(this,at)),this.isEditing=!0,et(this,_e)||(Kt(this,_e,!0),$t(this,g,ns).call(this),this.thickness||(this.thickness=rr._defaultThickness),this.color||(this.color=rr._defaultColor||o.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=rr._defaultOpacity)),this.currentPath.push([Et,Pt]),Kt(this,b,!1),$t(this,g,an).call(this),Kt(this,pt,()=>{$t(this,g,Jn).call(this),et(this,pt)&&window.requestAnimationFrame(et(this,pt))}),window.requestAnimationFrame(et(this,pt))},on=function(Et,Pt){const[zt,Ht]=this.currentPath.at(-1);if(this.currentPath.length>1&&Et===zt&&Pt===Ht)return;const tr=this.currentPath;let ar=et(this,xt);if(tr.push([Et,Pt]),Kt(this,b,!0),tr.length<=2){ar.moveTo(...tr[0]),ar.lineTo(Et,Pt);return}tr.length===3&&(Kt(this,xt,ar=new Path2D),ar.moveTo(...tr[0])),$t(this,g,Zn).call(this,ar,...tr.at(-3),...tr.at(-2),Et,Pt)},Kn=function(){if(this.currentPath.length===0)return;const Et=this.currentPath.at(-1);et(this,xt).lineTo(...Et)},Qn=function(Et,Pt){Kt(this,pt,null),Et=Math.min(Math.max(Et,0),this.canvas.width),Pt=Math.min(Math.max(Pt,0),this.canvas.height),$t(this,g,on).call(this,Et,Pt),$t(this,g,Kn).call(this);let zt;if(this.currentPath.length!==1)zt=$t(this,g,_i).call(this);else{const It=[Et,Pt];zt=[[It,It.slice(),It.slice(),It]]}const Ht=et(this,xt),tr=this.currentPath;this.currentPath=[],Kt(this,xt,new Path2D);const ar=()=>{this.allRawPaths.push(tr),this.paths.push(zt),this.bezierPath2D.push(Ht),this.rebuild()},ir=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||($t(this,g,As).call(this),$t(this,g,Ss).call(this)),$t(this,g,is).call(this))};this.addCommands({cmd:ar,undo:ir,mustExec:!0})},Jn=function(){if(!et(this,b))return;Kt(this,b,!1);const Et=Math.ceil(this.thickness*this.parentScale),Pt=this.currentPath.slice(-3),zt=Pt.map(ar=>ar[0]),Ht=Pt.map(ar=>ar[1]);Math.min(...zt)-Et,Math.max(...zt)+Et,Math.min(...Ht)-Et,Math.max(...Ht)+Et;const{ctx:tr}=this;tr.save(),tr.clearRect(0,0,this.canvas.width,this.canvas.height);for(const ar of this.bezierPath2D)tr.stroke(ar);tr.stroke(et(this,xt)),tr.restore()},Zn=function(Et,Pt,zt,Ht,tr,ar,ir){const It=(Pt+Ht)/2,hr=(zt+tr)/2,dr=(Ht+ar)/2,_r=(tr+ir)/2;Et.bezierCurveTo(It+2*(Ht-It)/3,hr+2*(tr-hr)/3,dr+2*(Ht-dr)/3,_r+2*(tr-_r)/3,dr,_r)},_i=function(){const Et=this.currentPath;if(Et.length<=2)return[[Et[0],Et[0],Et.at(-1),Et.at(-1)]];const Pt=[];let zt,[Ht,tr]=Et[0];for(zt=1;zt<Et.length-2;zt++){const[Ar,Mr]=Et[zt],[gr,kr]=Et[zt+1],Cr=(Ar+gr)/2,Dr=(Mr+kr)/2,lr=[Ht+2*(Ar-Ht)/3,tr+2*(Mr-tr)/3],Xt=[Cr+2*(Ar-Cr)/3,Dr+2*(Mr-Dr)/3];Pt.push([[Ht,tr],lr,Xt,[Cr,Dr]]),[Ht,tr]=[Cr,Dr]}const[ar,ir]=Et[zt],[It,hr]=Et[zt+1],dr=[Ht+2*(ar-Ht)/3,tr+2*(ir-tr)/3],_r=[It+2*(ar-It)/3,hr+2*(ir-hr)/3];return Pt.push([[Ht,tr],dr,_r,[It,hr]]),Pt},Jr=function(){if(this.isEmpty()){$t(this,g,_s).call(this);return}$t(this,g,an).call(this);const{canvas:Et,ctx:Pt}=this;Pt.setTransform(1,0,0,1,0,0),Pt.clearRect(0,0,Et.width,Et.height),$t(this,g,_s).call(this);for(const zt of this.bezierPath2D)Pt.stroke(zt)},ln=function(Et){this.canvas.removeEventListener("pointerleave",et(this,ot)),this.canvas.removeEventListener("pointermove",et(this,it)),this.canvas.removeEventListener("pointerup",et(this,mt)),this.canvas.addEventListener("pointerdown",et(this,at)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",d.noContextMenu)},10),$t(this,g,Qn).call(this,Et.offsetX,Et.offsetY),this.addToAnnotationStorage(),this.setInBackground()},As=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",o.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Et=>{var Pt;return(Pt=this.canvas)==null?void 0:Pt.setAttribute("aria-label",Et)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Ss=function(){Kt(this,rt,new ResizeObserver(Et=>{const Pt=Et[0].contentRect;Pt.width&&Pt.height&&this.setDimensions(Pt.width,Pt.height)})),et(this,rt).observe(this.div)},ns=function(){if(!et(this,_e))return;const[Et,Pt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Et),this.canvas.height=Math.ceil(this.height*Pt),$t(this,g,_s).call(this)},un=function(Et,Pt){const zt=$t(this,g,Ns).call(this),Ht=(Et-zt)/et(this,$),tr=(Pt-zt)/et(this,j);this.scaleFactor=Math.min(Ht,tr)},_s=function(){const Et=$t(this,g,Ns).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Et,this.translationY*this.scaleFactor+Et)},At=new WeakSet,na=function(Et){const Pt=new Path2D;for(let zt=0,Ht=Et.length;zt<Ht;zt++){const[tr,ar,ir,It]=Et[zt];zt===0&&Pt.moveTo(...tr),Pt.bezierCurveTo(ar[0],ar[1],ir[0],ir[1],It[0],It[1])}return Pt},dn=function(Et,Pt,zt){const[Ht,tr,ar,ir]=Pt;switch(zt){case 0:for(let It=0,hr=Et.length;It<hr;It+=2)Et[It]+=Ht,Et[It+1]=ir-Et[It+1];break;case 90:for(let It=0,hr=Et.length;It<hr;It+=2){const dr=Et[It];Et[It]=Et[It+1]+Ht,Et[It+1]=dr+tr}break;case 180:for(let It=0,hr=Et.length;It<hr;It+=2)Et[It]=ar-Et[It],Et[It+1]+=tr;break;case 270:for(let It=0,hr=Et.length;It<hr;It+=2){const dr=Et[It];Et[It]=ar-Et[It+1],Et[It+1]=ir-dr}break;default:throw new Error("Invalid rotation")}return Et},xa=function(Et,Pt,zt){const[Ht,tr,ar,ir]=Pt;switch(zt){case 0:for(let It=0,hr=Et.length;It<hr;It+=2)Et[It]-=Ht,Et[It+1]=ir-Et[It+1];break;case 90:for(let It=0,hr=Et.length;It<hr;It+=2){const dr=Et[It];Et[It]=Et[It+1]-tr,Et[It+1]=dr-Ht}break;case 180:for(let It=0,hr=Et.length;It<hr;It+=2)Et[It]=ar-Et[It],Et[It+1]-=tr;break;case 270:for(let It=0,hr=Et.length;It<hr;It+=2){const dr=Et[It];Et[It]=ir-Et[It+1],Et[It+1]=ar-dr}break;default:throw new Error("Invalid rotation")}return Et},ga=function(Et,Pt,zt,Ht){var hr,dr;const tr=[],ar=this.thickness/2,ir=Et*Pt+ar,It=Et*zt+ar;for(const _r of this.paths){const Ar=[],Mr=[];for(let gr=0,kr=_r.length;gr<kr;gr++){const[Cr,Dr,lr,Xt]=_r[gr],Yt=Et*Cr[0]+ir,xr=Et*Cr[1]+It,Fr=Et*Dr[0]+ir,Nr=Et*Dr[1]+It,Lt=Et*lr[0]+ir,sr=Et*lr[1]+It,pr=Et*Xt[0]+ir,vr=Et*Xt[1]+It;gr===0&&(Ar.push(Yt,xr),Mr.push(Yt,xr)),Ar.push(Fr,Nr,Lt,sr,pr,vr),Mr.push(Fr,Nr),gr===kr-1&&Mr.push(pr,vr)}tr.push({bezier:$t(hr=rr,At,dn).call(hr,Ar,Ht,this.rotation),points:$t(dr=rr,At,dn).call(dr,Mr,Ht,this.rotation)})}return tr},hn=function(){let Et=1/0,Pt=-1/0,zt=1/0,Ht=-1/0;for(const tr of this.paths)for(const[ar,ir,It,hr]of tr){const dr=a.Util.bezierBoundingBox(...ar,...ir,...It,...hr);Et=Math.min(Et,dr[0]),zt=Math.min(zt,dr[1]),Pt=Math.max(Pt,dr[2]),Ht=Math.max(Ht,dr[3])}return[Et,zt,Pt,Ht]},Ns=function(){return et(this,lt)?Math.ceil(this.thickness*this.parentScale):0},is=function(Et=!1){if(this.isEmpty())return;if(!et(this,lt)){$t(this,g,Jr).call(this);return}const Pt=$t(this,g,hn).call(this),zt=$t(this,g,Ns).call(this);Kt(this,$,Math.max(o.AnnotationEditor.MIN_SIZE,Pt[2]-Pt[0])),Kt(this,j,Math.max(o.AnnotationEditor.MIN_SIZE,Pt[3]-Pt[1]));const Ht=Math.ceil(zt+et(this,$)*this.scaleFactor),tr=Math.ceil(zt+et(this,j)*this.scaleFactor),[ar,ir]=this.parentDimensions;this.width=Ht/ar,this.height=tr/ir,this.setAspectRatio(Ht,tr);const It=this.translationX,hr=this.translationY;this.translationX=-Pt[0],this.translationY=-Pt[1],$t(this,g,ns).call(this),$t(this,g,Jr).call(this),Kt(this,dt,Ht),Kt(this,st,tr),this.setDims(Ht,tr);const dr=Et?zt/this.scaleFactor/2:0;this.translate(It-this.translationX-dr,hr-this.translationY-dr)},qt(rr,At),Ur(rr,"_defaultColor",null),Ur(rr,"_defaultOpacity",1),Ur(rr,"_defaultThickness",1),Ur(rr,"_type","ink");let h=rr;s.InkEditor=h},(e,s,i)=>{var h,j,$,it,ot,mt,at,xt,lt,b,_e,ps,ms,Cs,pn,ba,_a,mn,Ps,$a;Object.defineProperty(s,"__esModule",{value:!0}),s.StampEditor=void 0;var a=i(1),o=i(4),c=i(6),d=i(29);const ft=class ft extends o.AnnotationEditor{constructor(Tt){super({...Tt,name:"stampEditor"});qt(this,_e);qt(this,h,null);qt(this,j,null);qt(this,$,null);qt(this,it,null);qt(this,ot,null);qt(this,mt,null);qt(this,at,null);qt(this,xt,null);qt(this,lt,!1);qt(this,b,!1);Kt(this,it,Tt.bitmapUrl),Kt(this,ot,Tt.bitmapFile)}static initialize(Tt){o.AnnotationEditor.initialize(Tt)}static get supportedTypes(){const Tt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,a.shadow)(this,"supportedTypes",Tt.map(Mt=>`image/${Mt}`))}static get supportedTypesStr(){return(0,a.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Tt){return this.supportedTypes.includes(Tt)}static paste(Tt,Mt){Mt.pasteEditor(a.AnnotationEditorType.STAMP,{bitmapFile:Tt.getAsFile()})}remove(){var Tt,Mt;et(this,j)&&(Kt(this,h,null),this._uiManager.imageManager.deleteId(et(this,j)),(Tt=et(this,mt))==null||Tt.remove(),Kt(this,mt,null),(Mt=et(this,at))==null||Mt.disconnect(),Kt(this,at,null)),super.remove()}rebuild(){if(!this.parent){et(this,j)&&$t(this,_e,Cs).call(this);return}super.rebuild(),this.div!==null&&(et(this,j)&&$t(this,_e,Cs).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(et(this,$)||et(this,h)||et(this,it)||et(this,ot))}get isResizable(){return!0}render(){if(this.div)return this.div;let Tt,Mt;if(this.width&&(Tt=this.x,Mt=this.y),super.render(),this.div.hidden=!0,et(this,h)?$t(this,_e,pn).call(this):$t(this,_e,Cs).call(this),this.width){const[kt,Rt]=this.parentDimensions;this.setAt(Tt*kt,Mt*Rt,this.width*kt,this.height*Rt)}return this.div}static deserialize(Tt,Mt,kt){if(Tt instanceof d.StampAnnotationElement)return null;const Rt=super.deserialize(Tt,Mt,kt),{rect:bt,bitmapUrl:Nt,bitmapId:Ft,isSvg:jt,accessibilityData:ut}=Tt;Ft&&kt.imageManager.isValidId(Ft)?Kt(Rt,j,Ft):Kt(Rt,it,Nt),Kt(Rt,lt,jt);const[ht,yt]=Rt.pageDimensions;return Rt.width=(bt[2]-bt[0])/ht,Rt.height=(bt[3]-bt[1])/yt,ut&&(Rt.altTextData=ut),Rt}serialize(Tt=!1,Mt=null){if(this.isEmpty())return null;const kt={annotationType:a.AnnotationEditorType.STAMP,bitmapId:et(this,j),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:et(this,lt),structTreeParentId:this._structTreeParentId};if(Tt)return kt.bitmapUrl=$t(this,_e,Ps).call(this,!0),kt.accessibilityData=this.altTextData,kt;const{decorative:Rt,altText:bt}=this.altTextData;if(!Rt&&bt&&(kt.accessibilityData={type:"Figure",alt:bt}),Mt===null)return kt;Mt.stamps||(Mt.stamps=new Map);const Nt=et(this,lt)?(kt.rect[2]-kt.rect[0])*(kt.rect[3]-kt.rect[1]):null;if(!Mt.stamps.has(et(this,j)))Mt.stamps.set(et(this,j),{area:Nt,serialized:kt}),kt.bitmap=$t(this,_e,Ps).call(this,!1);else if(et(this,lt)){const Ft=Mt.stamps.get(et(this,j));Nt>Ft.area&&(Ft.area=Nt,Ft.serialized.bitmap.close(),Ft.serialized.bitmap=$t(this,_e,Ps).call(this,!1))}return kt}};h=new WeakMap,j=new WeakMap,$=new WeakMap,it=new WeakMap,ot=new WeakMap,mt=new WeakMap,at=new WeakMap,xt=new WeakMap,lt=new WeakMap,b=new WeakMap,_e=new WeakSet,ps=function(Tt,Mt=!1){if(!Tt){this.remove();return}Kt(this,h,Tt.bitmap),Mt||(Kt(this,j,Tt.id),Kt(this,lt,Tt.isSvg)),$t(this,_e,pn).call(this)},ms=function(){Kt(this,$,null),this._uiManager.enableWaiting(!1),et(this,mt)&&this.div.focus()},Cs=function(){if(et(this,j)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(et(this,j)).then(Mt=>$t(this,_e,ps).call(this,Mt,!0)).finally(()=>$t(this,_e,ms).call(this));return}if(et(this,it)){const Mt=et(this,it);Kt(this,it,null),this._uiManager.enableWaiting(!0),Kt(this,$,this._uiManager.imageManager.getFromUrl(Mt).then(kt=>$t(this,_e,ps).call(this,kt)).finally(()=>$t(this,_e,ms).call(this)));return}if(et(this,ot)){const Mt=et(this,ot);Kt(this,ot,null),this._uiManager.enableWaiting(!0),Kt(this,$,this._uiManager.imageManager.getFromFile(Mt).then(kt=>$t(this,_e,ps).call(this,kt)).finally(()=>$t(this,_e,ms).call(this)));return}const Tt=document.createElement("input");Tt.type="file",Tt.accept=ft.supportedTypesStr,Kt(this,$,new Promise(Mt=>{Tt.addEventListener("change",async()=>{if(!Tt.files||Tt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const kt=await this._uiManager.imageManager.getFromFile(Tt.files[0]);$t(this,_e,ps).call(this,kt)}Mt()}),Tt.addEventListener("cancel",()=>{this.remove(),Mt()})}).finally(()=>$t(this,_e,ms).call(this))),Tt.click()},pn=function(){const{div:Tt}=this;let{width:Mt,height:kt}=et(this,h);const[Rt,bt]=this.pageDimensions,Nt=.75;if(this.width)Mt=this.width*Rt,kt=this.height*bt;else if(Mt>Nt*Rt||kt>Nt*bt){const ht=Math.min(Nt*Rt/Mt,Nt*bt/kt);Mt*=ht,kt*=ht}const[Ft,jt]=this.parentDimensions;this.setDims(Mt*Ft/Rt,kt*jt/bt),this._uiManager.enableWaiting(!1);const ut=Kt(this,mt,document.createElement("canvas"));Tt.append(ut),Tt.hidden=!1,$t(this,_e,mn).call(this,Mt,kt),$t(this,_e,$a).call(this),et(this,b)||(this.parent.addUndoableEditor(this),Kt(this,b,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},ba=function(Tt,Mt){var Nt;const[kt,Rt]=this.parentDimensions;this.width=Tt/kt,this.height=Mt/Rt,this.setDims(Tt,Mt),(Nt=this._initialOptions)!=null&&Nt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,et(this,xt)!==null&&clearTimeout(et(this,xt)),Kt(this,xt,setTimeout(()=>{Kt(this,xt,null),$t(this,_e,mn).call(this,Tt,Mt)},200))},_a=function(Tt,Mt){const{width:kt,height:Rt}=et(this,h);let bt=kt,Nt=Rt,Ft=et(this,h);for(;bt>2*Tt||Nt>2*Mt;){const jt=bt,ut=Nt;bt>2*Tt&&(bt=bt>=16384?Math.floor(bt/2)-1:Math.ceil(bt/2)),Nt>2*Mt&&(Nt=Nt>=16384?Math.floor(Nt/2)-1:Math.ceil(Nt/2));const ht=new OffscreenCanvas(bt,Nt);ht.getContext("2d").drawImage(Ft,0,0,jt,ut,0,0,bt,Nt),Ft=ht.transferToImageBitmap()}return Ft},mn=function(Tt,Mt){Tt=Math.ceil(Tt),Mt=Math.ceil(Mt);const kt=et(this,mt);if(!kt||kt.width===Tt&&kt.height===Mt)return;kt.width=Tt,kt.height=Mt;const Rt=et(this,lt)?et(this,h):$t(this,_e,_a).call(this,Tt,Mt),bt=kt.getContext("2d");bt.filter=this._uiManager.hcmFilter,bt.drawImage(Rt,0,0,Rt.width,Rt.height,0,0,Tt,Mt)},Ps=function(Tt){if(Tt){if(et(this,lt)){const Rt=this._uiManager.imageManager.getSvgUrl(et(this,j));if(Rt)return Rt}const Mt=document.createElement("canvas");return{width:Mt.width,height:Mt.height}=et(this,h),Mt.getContext("2d").drawImage(et(this,h),0,0),Mt.toDataURL()}if(et(this,lt)){const[Mt,kt]=this.pageDimensions,Rt=Math.round(this.width*Mt*c.PixelsPerInch.PDF_TO_CSS_UNITS),bt=Math.round(this.height*kt*c.PixelsPerInch.PDF_TO_CSS_UNITS),Nt=new OffscreenCanvas(Rt,bt);return Nt.getContext("2d").drawImage(et(this,h),0,0,et(this,h).width,et(this,h).height,0,0,Rt,bt),Nt.transferToImageBitmap()}return structuredClone(et(this,h))},$a=function(){Kt(this,at,new ResizeObserver(Tt=>{const Mt=Tt[0].contentRect;Mt.width&&Mt.height&&$t(this,_e,ba).call(this,Mt.width,Mt.height)})),et(this,at).observe(this.div)},Ur(ft,"_type","stamp");let _=ft;s.StampEditor=_}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var s=__webpack_module_cache__[e];if(s!==void 0)return s.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](i,i.exports,__w_pdfjs_require__),i.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return s.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return c.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return s.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return s.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return d.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return _.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return a.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return s.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return h.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return s.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return a.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return a.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return s.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return a.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return i.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return j.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return a.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return a.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return a.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return a.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return a.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return a.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return a.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return s.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return o.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return a.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return o.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return i.version}});var s=__w_pdfjs_require__(1),i=__w_pdfjs_require__(2),a=__w_pdfjs_require__(6),o=__w_pdfjs_require__(26),c=__w_pdfjs_require__(27),d=__w_pdfjs_require__(5),_=__w_pdfjs_require__(29),h=__w_pdfjs_require__(14),j=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf$1);var pdfExports=pdf$1.exports;const pdf=getDefaultExportFromCjs(pdfExports),pdfjsModule=_mergeNamespaces({__proto__:null,default:pdf},[pdfExports]),pdfjs="default"in pdfjsModule?pdf:pdfjsModule;var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function e(a,o,c,d,_,h){if(h!==ReactPropTypesSecret){var j=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw j.name="Invariant Violation",j}}e.isRequired=e;function s(){return e}var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:s,element:e,elementType:e,instanceOf:s,node:e,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return i.PropTypes=i,i};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var __spreadArray=function(e,s,i){if(i||arguments.length===2)for(var a=0,o=s.length,c;a<o;a++)(c||!(a in s))&&(c||(c=Array.prototype.slice.call(s,0,a)),c[a]=s[a]);return e.concat(c||Array.prototype.slice.call(s))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(e,s){var i={};return allEvents.forEach(function(a){var o=e[a];o&&(s?i[a]=function(c){return o(c,s(a))}:i[a]=o)}),i}function makeCancellablePromise(e){var s=!1,i=new Promise(function(a,o){e.then(function(c){return!s&&a(c)}).catch(function(c){return!s&&o(c)})});return{promise:i,cancel:function(){s=!0}}}function r(e){var s,i,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(s=0;s<o;s++)e[s]&&(i=r(e[s]))&&(a&&(a+=" "),a+=i)}else for(i in e)e[i]&&(a&&(a+=" "),a+=i);return a}function clsx(){for(var e,s,i=0,a="",o=arguments.length;i<o;i++)(e=arguments[i])&&(s=r(e))&&(a&&(a+=" "),a+=s);return a}var prefix="Invariant failed";function invariant(e,s){if(!e)throw new Error(prefix)}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1);var has=Object.prototype.hasOwnProperty;function find(e,s,i){for(i of e.keys())if(dequal(i,s))return i}function dequal(e,s){var i,a,o;if(e===s)return!0;if(e&&s&&(i=e.constructor)===s.constructor){if(i===Date)return e.getTime()===s.getTime();if(i===RegExp)return e.toString()===s.toString();if(i===Array){if((a=e.length)===s.length)for(;a--&&dequal(e[a],s[a]););return a===-1}if(i===Set){if(e.size!==s.size)return!1;for(a of e)if(o=a,o&&typeof o=="object"&&(o=find(s,o),!o)||!s.has(o))return!1;return!0}if(i===Map){if(e.size!==s.size)return!1;for(a of e)if(o=a[0],o&&typeof o=="object"&&(o=find(s,o),!o)||!dequal(a[1],s.get(o)))return!1;return!0}if(i===ArrayBuffer)e=new Uint8Array(e),s=new Uint8Array(s);else if(i===DataView){if((a=e.byteLength)===s.byteLength)for(;a--&&e.getInt8(a)===s.getInt8(a););return a===-1}if(ArrayBuffer.isView(e)){if((a=e.byteLength)===s.byteLength)for(;a--&&e[a]===s[a];);return a===-1}if(!i||typeof e=="object"){a=0;for(i in e)if(has.call(e,i)&&++a&&!has.call(s,i)||!(i in s)||!dequal(e[i],s[i]))return!1;return Object.keys(s).length===a}}return e!==e&&s!==s}const DocumentContext=reactExports.createContext(null);function Message({children:e,type:s}){return React.createElement("div",{className:`react-pdf__message react-pdf__message--${s}`},e)}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(s){this.pdfDocument=s}setViewer(s){this.pdfViewer=s}setExternalLinkRel(s){this.externalLinkRel=s}setExternalLinkTarget(s){this.externalLinkTarget=s}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(s){invariant(this.pdfViewer),this.pdfViewer.currentPageNumber=s}get rotation(){return 0}set rotation(s){}goToDestination(s){return new Promise(i=>{invariant(this.pdfDocument),invariant(s),typeof s=="string"?this.pdfDocument.getDestination(s).then(i):Array.isArray(s)?i(s):s.then(i)}).then(i=>{invariant(Array.isArray(i));const a=i[0];new Promise(o=>{invariant(this.pdfDocument),a instanceof Object?this.pdfDocument.getPageIndex(a).then(c=>{o(c)}).catch(()=>{invariant(!1)}):typeof a=="number"?o(a):invariant(!1)}).then(o=>{const c=o+1;invariant(this.pdfViewer),invariant(c>=1&&c<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:i,pageIndex:o,pageNumber:c})})})}navigateTo(s){this.goToDestination(s)}goToPage(s){const i=s-1;invariant(this.pdfViewer),invariant(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:i,pageNumber:s})}addLinkAttributes(s,i,a){s.href=i,s.rel=this.externalLinkRel||DEFAULT_LINK_REL,s.target=a?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(e){return typeof e<"u"}function isProvided(e){return isDefined(e)&&e!==null}function isString(e){return typeof e=="string"}function isArrayBuffer(e){return e instanceof ArrayBuffer}function isBlob(e){return invariant(isBrowser),e instanceof Blob}function isDataURI(e){return isString(e)&&/^data:/.test(e)}function dataURItoByteString(e){invariant(isDataURI(e));const[s="",i=""]=e.split(",");return s.split(";").indexOf("base64")!==-1?atob(i):unescape(i)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning$1(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning$1(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(e){e&&e.cancel&&e.cancel()}function makePageCallback(e,s){return Object.defineProperty(e,"width",{get(){return this.view[2]*s},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*s},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function isCancelException(e){return e.name==="RenderingCancelledException"}function loadFromFile(e){return new Promise((s,i)=>{const a=new FileReader;a.onload=()=>{if(!a.result)return i(new Error("Error while reading a file."));s(a.result)},a.onerror=o=>{if(!o.target)return i(new Error("Error while reading a file."));const{error:c}=o.target;if(!c)return i(new Error("Error while reading a file."));switch(c.code){case c.NOT_FOUND_ERR:return i(new Error("Error while reading a file: File not found."));case c.SECURITY_ERR:return i(new Error("Error while reading a file: Security error."));case c.ABORT_ERR:return i(new Error("Error while reading a file: Aborted."));default:return i(new Error("Error while reading a file."))}},a.readAsArrayBuffer(e)})}function reducer(e,s){switch(s.type){case"RESOLVE":return{value:s.value,error:void 0};case"REJECT":return{value:!1,error:s.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}const{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs,eventProps=(()=>{const e={};return allEvents.forEach(s=>{e[s]=PropTypes.func}),e})(),isTypedArray=PropTypes.oneOfType([PropTypes.instanceOf(Int8Array),PropTypes.instanceOf(Uint8Array),PropTypes.instanceOf(Uint8ClampedArray),PropTypes.instanceOf(Int16Array),PropTypes.instanceOf(Uint16Array),PropTypes.instanceOf(Int32Array),PropTypes.instanceOf(Uint32Array),PropTypes.instanceOf(Float32Array),PropTypes.instanceOf(Float64Array)]),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.arrayOf(PropTypes.number.isRequired),isTypedArray]).isRequired}),PropTypes.shape({range:PropTypes.instanceOf(PDFDataRangeTransport$1).isRequired}),PropTypes.shape({url:PropTypes.string.isRequired})];typeof Blob<"u"&&fileTypes.push(PropTypes.instanceOf(Blob));const isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes);PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);PropTypes.shape({commonObjs:PropTypes.shape({}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired});const isPageIndex=function e(s,i,a){const{[i]:o,pageNumber:c,pdf:d}=s;if(!isDefined(d))return null;if(isDefined(o)){if(typeof o!="number")return new Error(`\`${i}\` of type \`${typeof o}\` supplied to \`${a}\`, expected \`number\`.`);if(o<0)return new Error(`Expected \`${i}\` to be greater or equal to 0.`);const{numPages:_}=d;if(o+1>_)return new Error(`Expected \`${i}\` to be less or equal to ${_-1}.`)}else if(!isDefined(c))return new Error(`\`${i}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${a}\`.`);return null},isPageNumber=function e(s,i,a){const{[i]:o,pageIndex:c,pdf:d}=s;if(!isDefined(d))return null;if(isDefined(o)){if(typeof o!="number")return new Error(`\`${i}\` of type \`${typeof o}\` supplied to \`${a}\`, expected \`number\`.`);if(o<1)return new Error(`Expected \`${i}\` to be greater or equal to 1.`);const{numPages:_}=d;if(o>_)return new Error(`Expected \`${i}\` to be less or equal to ${_}.`)}else if(!isDefined(c))return new Error(`\`${i}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${a}\`.`);return null},isPdf=PropTypes.oneOfType([PropTypes.any,PropTypes.oneOf([!1])]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.exact({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","custom","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]);var __awaiter=function(e,s,i,a){function o(c){return c instanceof i?c:new i(function(d){d(c)})}return new(i||(i=Promise))(function(c,d){function _($){try{j(a.next($))}catch(it){d(it)}}function h($){try{j(a.throw($))}catch(it){d(it)}}function j($){$.done?c($.value):o($.value).then(_,h)}j((a=a.apply(e,s||[])).next())})},__rest$1=function(e,s){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&s.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)s.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(i[a[o]]=e[a[o]]);return i};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(e,s)=>{switch(s){case PasswordResponses.NEED_PASSWORD:{const i=prompt("Enter the password to open this PDF file.");e(i);break}case PasswordResponses.INCORRECT_PASSWORD:{const i=prompt("Invalid password. Please try again.");e(i);break}}};function isParameterObject(e){return typeof e=="object"&&e!==null&&("data"in e||"range"in e||"url"in e)}const Document=reactExports.forwardRef(function e(s,i){var{children:a,className:o,error:c="Failed to load PDF file.",externalLinkRel:d,externalLinkTarget:_,file:h,inputRef:j,imageResourcesPath:$,loading:it="Loading PDF…",noData:ot="No PDF file specified.",onItemClick:mt,onLoadError:at,onLoadProgress:xt,onLoadSuccess:lt,onPassword:b=defaultOnPassword,onSourceError:_e,onSourceSuccess:rt,options:dt,renderMode:st,rotate:pt}=s,g=__rest$1(s,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[tt,ct]=useResolver(),{value:gt,error:nt}=tt,[ft,vt]=useResolver(),{value:Dt,error:Tt}=ft,Mt=reactExports.useRef(new LinkService),kt=reactExports.useRef([]),Rt=reactExports.useRef(),bt=reactExports.useRef();reactExports.useEffect(()=>{h&&h!==Rt.current&&isParameterObject(h)&&(warning$1(!dequal(h,Rt.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Rt.current=h)},[h]),reactExports.useEffect(()=>{dt&&dt!==bt.current&&(warning$1(!dequal(dt,bt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),bt.current=dt)},[dt]);const Nt=reactExports.useRef({scrollPageIntoView:Vt=>{const{dest:Bt,pageNumber:Et,pageIndex:Pt=Et-1}=Vt;if(mt){mt({dest:Bt,pageIndex:Pt,pageNumber:Et});return}const zt=kt.current[Pt];if(zt){zt.scrollIntoView();return}warning$1(!1,`An internal link leading to page ${Et} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(i,()=>({linkService:Mt,pages:kt,viewer:Nt}),[]);function Ft(){rt&&rt()}function jt(){nt&&(warning$1(!1,nt.toString()),_e&&_e(nt))}function ut(){ct({type:"RESET"})}reactExports.useEffect(ut,[h,ct]);const ht=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!h)return null;if(typeof h=="string")return isDataURI(h)?{data:dataURItoByteString(h)}:(displayCORSWarning(),{url:h});if(h instanceof PDFDataRangeTransport)return{range:h};if(isArrayBuffer(h))return{data:h};if(isBrowser&&isBlob(h))return{data:yield loadFromFile(h)};if(invariant(typeof h=="object"),invariant(isParameterObject(h)),"url"in h&&typeof h.url=="string"){if(isDataURI(h.url)){const{url:Vt}=h,Bt=__rest$1(h,["url"]),Et=dataURItoByteString(Vt);return Object.assign({data:Et},Bt)}displayCORSWarning()}return h}),[h]);reactExports.useEffect(()=>{const Vt=makeCancellablePromise(ht());return Vt.promise.then(Bt=>{ct({type:"RESOLVE",value:Bt})}).catch(Bt=>{ct({type:"REJECT",error:Bt})}),()=>{cancelRunningTask(Vt)}},[ht,ct]),reactExports.useEffect(()=>{if(!(typeof gt>"u")){if(gt===!1){jt();return}Ft()}},[gt]);function yt(){Dt&&(lt&&lt(Dt),kt.current=new Array(Dt.numPages),Mt.current.setDocument(Dt))}function St(){Tt&&(warning$1(!1,Tt.toString()),at&&at(Tt))}function At(){vt({type:"RESET"})}reactExports.useEffect(At,[vt,gt]);function Ct(){if(!gt)return;const Vt=Object.assign(Object.assign({},dt),{isEvalSupported:!1}),Bt=Object.assign(Object.assign({},gt),Vt),Et=pdfjs.getDocument(Bt);xt&&(Et.onProgress=xt),b&&(Et.onPassword=b);const Pt=Et;return Pt.promise.then(zt=>{vt({type:"RESOLVE",value:zt})}).catch(zt=>{Pt.destroyed||vt({type:"REJECT",error:zt})}),()=>{Pt.destroy()}}reactExports.useEffect(Ct,[dt,vt,gt]),reactExports.useEffect(()=>{if(!(typeof Dt>"u")){if(Dt===!1){St();return}yt()}},[Dt]);function Ut(){Mt.current.setViewer(Nt.current),Mt.current.setExternalLinkRel(d),Mt.current.setExternalLinkTarget(_)}reactExports.useEffect(Ut,[d,_]);function Wt(Vt,Bt){kt.current[Vt]=Bt}function Qt(Vt){delete kt.current[Vt]}const Zt=reactExports.useMemo(()=>({imageResourcesPath:$,linkService:Mt.current,onItemClick:mt,pdf:Dt,registerPage:Wt,renderMode:st,rotate:pt,unregisterPage:Qt}),[$,mt,Dt,st,pt]),nr=reactExports.useMemo(()=>makeEventProps(g,()=>Dt),[g,Dt]);function Gt(){return React.createElement(DocumentContext.Provider,{value:Zt},a)}function rr(){return h?Dt==null?React.createElement(Message,{type:"loading"},typeof it=="function"?it():it):Dt===!1?React.createElement(Message,{type:"error"},typeof c=="function"?c():c):Gt():React.createElement(Message,{type:"no-data"},typeof ot=="function"?ot():ot)}return React.createElement("div",Object.assign({className:clsx("react-pdf__Document",o),ref:j,style:{"--scale-factor":"1"}},nr),rr())}),isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=Object.assign(Object.assign({},eventProps),{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.oneOf(["_self","_blank","_parent","_top"]),file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,options:PropTypes.shape({canvasFactory:PropTypes.any,canvasMaxAreaInBytes:PropTypes.number,cMapPacked:PropTypes.bool,CMapReaderFactory:PropTypes.any,cMapUrl:PropTypes.string,disableAutoFetch:PropTypes.bool,disableFontFace:PropTypes.bool,disableRange:PropTypes.bool,disableStream:PropTypes.bool,docBaseUrl:PropTypes.string,enableXfa:PropTypes.bool,filterFactory:PropTypes.any,fontExtraProperties:PropTypes.bool,httpHeaders:PropTypes.object,isEvalSupported:PropTypes.bool,isOffscreenCanvasSupported:PropTypes.bool,length:PropTypes.number,maxImageSize:PropTypes.number,ownerDocument:PropTypes.any,password:PropTypes.string,pdfBug:PropTypes.bool,rangeChunkSize:PropTypes.number,StandardFontDataFactory:PropTypes.any,standardFontDataUrl:PropTypes.string,stopAtErrors:PropTypes.bool,useSystemFonts:PropTypes.bool,useWorkerFetch:PropTypes.bool,verbosity:PropTypes.number,withCredentials:PropTypes.bool,worker:PropTypes.any}),rotate:PropTypes.number});function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];var i=e.filter(Boolean);if(i.length<=1){var a=i[0];return a||null}return function(c){i.forEach(function(d){typeof d=="function"?d(c):d&&(d.current=c)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(e){return e in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(e){return"children"in e}function isStructTreeNodeWithOnlyContentChild(e){return isStructTreeNode(e)?e.children.length===1&&0 in e.children&&"id"in e.children[0]:!1}function getRoleAttributes(e){const s={};if(isStructTreeNode(e)){const{role:i}=e,a=i.match(HEADING_PATTERN);if(a)s.role="heading",s["aria-level"]=Number(a[1]);else if(isPdfRole(i)){const o=PDF_ROLE_TO_HTML_ROLE[i];o&&(s.role=o)}}return s}function getBaseAttributes(e){const s={};if(isStructTreeNode(e)){if(e.alt!==void 0&&(s["aria-label"]=e.alt),e.lang!==void 0&&(s.lang=e.lang),isStructTreeNodeWithOnlyContentChild(e)){const[i]=e.children;if(i){const a=getBaseAttributes(i);return Object.assign(Object.assign({},s),a)}}}else"id"in e&&(s["aria-owns"]=e.id);return s}function getAttributes(e){return e?Object.assign(Object.assign({},getRoleAttributes(e)),getBaseAttributes(e)):null}function StructTreeItem({className:e,node:s}){const i=reactExports.useMemo(()=>getAttributes(s),[s]),a=reactExports.useMemo(()=>!isStructTreeNode(s)||isStructTreeNodeWithOnlyContentChild(s)?null:s.children.map((o,c)=>React.createElement(StructTreeItem,{key:c,node:o})),[s]);return React.createElement("span",Object.assign({className:e},i),a)}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const e=usePageContext();invariant(e);const{onGetStructTreeError:s,onGetStructTreeSuccess:i}=e,[a,o]=useResolver(),{value:c,error:d}=a,{customTextRenderer:_,page:h}=e;function j(){c&&i&&i(c)}function $(){d&&(warning$1(!1,d.toString()),s&&s(d))}function it(){o({type:"RESET"})}reactExports.useEffect(it,[o,h]);function ot(){if(_||!h)return;const mt=makeCancellablePromise(h.getStructTree()),at=mt;return mt.promise.then(xt=>{o({type:"RESOLVE",value:xt})}).catch(xt=>{o({type:"REJECT",error:xt})}),()=>cancelRunningTask(at)}return reactExports.useEffect(ot,[_,h,o]),reactExports.useEffect(()=>{if(c!==void 0){if(c===!1){$();return}j()}},[c]),c?React.createElement(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:c}):null}const ANNOTATION_MODE=pdfjs.AnnotationMode;function PageCanvas(e){const s=usePageContext();invariant(s);const i=Object.assign(Object.assign({},s),e),{_className:a,canvasBackground:o,devicePixelRatio:c=getDevicePixelRatio(),onRenderError:d,onRenderSuccess:_,page:h,renderForms:j,renderTextLayer:$,rotate:it,scale:ot}=i,{canvasRef:mt}=e;invariant(h);const at=reactExports.useRef(null);function xt(){h&&_&&_(makePageCallback(h,ot))}function lt(st){isCancelException(st)||(warning$1(!1,st.toString()),d&&d(st))}const b=reactExports.useMemo(()=>h.getViewport({scale:ot*c,rotation:it}),[c,h,it,ot]),_e=reactExports.useMemo(()=>h.getViewport({scale:ot,rotation:it}),[h,it,ot]);function rt(){if(!h)return;h.cleanup();const{current:st}=at;if(!st)return;st.width=b.width,st.height=b.height,st.style.width=`${Math.floor(_e.width)}px`,st.style.height=`${Math.floor(_e.height)}px`,st.style.visibility="hidden";const pt={annotationMode:j?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:st.getContext("2d",{alpha:!1}),viewport:b};o&&(pt.background=o);const g=h.render(pt),tt=g;return g.promise.then(()=>{st.style.visibility="",xt()}).catch(lt),()=>cancelRunningTask(tt)}reactExports.useEffect(rt,[o,at,c,h,j,b,_e]);const dt=reactExports.useCallback(()=>{const{current:st}=at;st&&(st.width=0,st.height=0)},[at]);return reactExports.useEffect(()=>dt,[dt]),React.createElement("canvas",{className:`${a}__canvas`,dir:"ltr",ref:mergeRefs(mt,at),style:{display:"block",userSelect:"none"}},$?React.createElement(StructTree,null):null)}function PageSVG(){const e=usePageContext();invariant(e);const{_className:s,onRenderSuccess:i,onRenderError:a,page:o,rotate:c,scale:d}=e;invariant(o);const[_,h]=useResolver(),{value:j,error:$}=_;function it(){o&&i&&i(makePageCallback(o,d))}function ot(){$&&(isCancelException($)||(warning$1(!1,$.toString()),a&&a($)))}const mt=reactExports.useMemo(()=>o.getViewport({scale:d,rotation:c}),[o,c,d]);function at(){h({type:"RESET"})}reactExports.useEffect(at,[o,h,mt]);function xt(){if(!o)return;const rt=makeCancellablePromise(o.getOperatorList());return rt.promise.then(dt=>{new pdfjs.SVGGraphics(o.commonObjs,o.objs).getSVG(dt,mt).then(pt=>{if(!(pt instanceof SVGElement))throw new Error("getSVG returned unexpected result.");h({type:"RESOLVE",value:pt})}).catch(pt=>{h({type:"REJECT",error:pt})})}).catch(dt=>{h({type:"REJECT",error:dt})}),()=>cancelRunningTask(rt)}reactExports.useEffect(xt,[o,h,mt]),reactExports.useEffect(()=>{if(j!==void 0){if(j===!1){ot();return}it()}},[j]);function lt(rt){if(!rt||!j)return;rt.firstElementChild||rt.appendChild(j);const{width:dt,height:st}=mt;j.setAttribute("width",`${dt}`),j.setAttribute("height",`${st}`)}const{width:b,height:_e}=mt;return React.createElement("div",{className:`${s}__svg`,ref:rt=>lt(rt),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:b,height:_e,userSelect:"none"}})}function isTextItem(e){return"str"in e}function TextLayer(){const e=usePageContext();invariant(e);const{customTextRenderer:s,onGetTextError:i,onGetTextSuccess:a,onRenderTextLayerError:o,onRenderTextLayerSuccess:c,page:d,pageIndex:_,pageNumber:h,rotate:j,scale:$}=e;invariant(d);const[it,ot]=useResolver(),{value:mt,error:at}=it,xt=reactExports.useRef(null),lt=reactExports.useRef();warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function b(){mt&&a&&a(mt)}function _e(){at&&(warning$1(!1,at.toString()),i&&i(at))}function rt(){ot({type:"RESET"})}reactExports.useEffect(rt,[d,ot]);function dt(){if(!d)return;const nt=makeCancellablePromise(d.getTextContent()),ft=nt;return nt.promise.then(vt=>{ot({type:"RESOLVE",value:vt})}).catch(vt=>{ot({type:"REJECT",error:vt})}),()=>cancelRunningTask(ft)}reactExports.useEffect(dt,[d,ot]),reactExports.useEffect(()=>{if(mt!==void 0){if(mt===!1){_e();return}b()}},[mt]);const st=reactExports.useCallback(()=>{c&&c()},[c]),pt=reactExports.useCallback(nt=>{warning$1(!1,nt.toString()),o&&o(nt)},[o]);function g(){const nt=lt.current;nt&&nt.classList.add("active")}function tt(){const nt=lt.current;nt&&nt.classList.remove("active")}const ct=reactExports.useMemo(()=>d.getViewport({scale:$,rotation:j}),[d,j,$]);function gt(){if(!d||!mt)return;const{current:nt}=xt;if(!nt)return;nt.innerHTML="";const ft=d.streamTextContent({includeMarkedContent:!0}),vt={container:nt,textContentSource:ft,viewport:ct},Dt=pdfjs.renderTextLayer(vt),Tt=Dt;return Dt.promise.then(()=>{const Mt=document.createElement("div");Mt.className="endOfContent",nt.append(Mt),lt.current=Mt;const kt=nt.querySelectorAll('[role="presentation"]');if(s){let Rt=0;mt.items.forEach((bt,Nt)=>{if(!isTextItem(bt))return;const Ft=kt[Rt];if(!Ft)return;const jt=s(Object.assign({pageIndex:_,pageNumber:h,itemIndex:Nt},bt));Ft.innerHTML=jt,Rt+=bt.str&&bt.hasEOL?2:1})}st()}).catch(pt),()=>cancelRunningTask(Tt)}return reactExports.useLayoutEffect(gt,[s,pt,st,d,_,h,mt,ct]),React.createElement("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:tt,onMouseDown:g,ref:xt})}function AnnotationLayer(){const e=useDocumentContext(),s=usePageContext();invariant(s);const i=Object.assign(Object.assign({},e),s),{imageResourcesPath:a,linkService:o,onGetAnnotationsError:c,onGetAnnotationsSuccess:d,onRenderAnnotationLayerError:_,onRenderAnnotationLayerSuccess:h,page:j,pdf:$,renderForms:it,rotate:ot,scale:mt=1}=i;invariant($),invariant(j),invariant(o);const[at,xt]=useResolver(),{value:lt,error:b}=at,_e=reactExports.useRef(null);warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function rt(){lt&&d&&d(lt)}function dt(){b&&(warning$1(!1,b.toString()),c&&c(b))}function st(){xt({type:"RESET"})}reactExports.useEffect(st,[xt,j]);function pt(){if(!j)return;const nt=makeCancellablePromise(j.getAnnotations()),ft=nt;return nt.promise.then(vt=>{xt({type:"RESOLVE",value:vt})}).catch(vt=>{xt({type:"REJECT",error:vt})}),()=>{cancelRunningTask(ft)}}reactExports.useEffect(pt,[xt,j,it]),reactExports.useEffect(()=>{if(lt!==void 0){if(lt===!1){dt();return}rt()}},[lt]);function g(){h&&h()}function tt(nt){warning$1(!1,`${nt}`),_&&_(nt)}const ct=reactExports.useMemo(()=>j.getViewport({scale:mt,rotation:ot}),[j,ot,mt]);function gt(){if(!$||!j||!o||!lt)return;const{current:nt}=_e;if(!nt)return;const ft=ct.clone({dontFlip:!0}),vt={accessibilityManager:null,annotationCanvasMap:null,div:nt,l10n:null,page:j,viewport:ft},Dt={annotations:lt,annotationStorage:$.annotationStorage,div:nt,downloadManager:null,imageResourcesPath:a,linkService:o,page:j,renderForms:it,viewport:ft};nt.innerHTML="";try{new pdfjs.AnnotationLayer(vt).render(Dt),g()}catch(Tt){tt(Tt)}return()=>{}}return reactExports.useEffect(gt,[lt,a,o,j,it,ct]),React.createElement("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:_e})}var __rest=function(e,s){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&s.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)s.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(i[a[o]]=e[a[o]]);return i};const defaultScale=1,Page=function e(s){const i=useDocumentContext(),a=Object.assign(Object.assign({},i),s),{_className:o="react-pdf__Page",_enableRegisterUnregisterPage:c=!0,canvasBackground:d,canvasRef:_,children:h,className:j,customRenderer:$,customTextRenderer:it,devicePixelRatio:ot,error:mt="Failed to load the page.",height:at,inputRef:xt,loading:lt="Loading page…",noData:b="No page specified.",onGetAnnotationsError:_e,onGetAnnotationsSuccess:rt,onGetStructTreeError:dt,onGetStructTreeSuccess:st,onGetTextError:pt,onGetTextSuccess:g,onLoadError:tt,onLoadSuccess:ct,onRenderAnnotationLayerError:gt,onRenderAnnotationLayerSuccess:nt,onRenderError:ft,onRenderSuccess:vt,onRenderTextLayerError:Dt,onRenderTextLayerSuccess:Tt,pageIndex:Mt,pageNumber:kt,pdf:Rt,registerPage:bt,renderAnnotationLayer:Nt=!0,renderForms:Ft=!1,renderMode:jt="canvas",renderTextLayer:ut=!0,rotate:ht,scale:yt=defaultScale,unregisterPage:St,width:At}=a,Ct=__rest(a,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ut,Wt]=useResolver(),{value:Qt,error:Zt}=Ut,nr=reactExports.useRef(null);invariant(Rt);const Gt=isProvided(kt)?kt-1:Mt??null,rr=kt??(isProvided(Mt)?Mt+1:null),Vt=ht??(Qt?Qt.rotate:null),Bt=reactExports.useMemo(()=>{if(!Qt)return null;let kr=1;const Cr=yt??defaultScale;if(At||at){const Dr=Qt.getViewport({scale:1,rotation:Vt});At?kr=At/Dr.width:at&&(kr=at/Dr.height)}return Cr*kr},[at,Qt,Vt,yt,At]);function Et(){return()=>{isProvided(Gt)&&c&&St&&St(Gt)}}reactExports.useEffect(Et,[c,Rt,Gt,St]);function Pt(){if(ct){if(!Qt||!Bt)return;ct(makePageCallback(Qt,Bt))}if(c&&bt){if(!isProvided(Gt)||!nr.current)return;bt(Gt,nr.current)}}function zt(){Zt&&(warning$1(!1,Zt.toString()),tt&&tt(Zt))}function Ht(){Wt({type:"RESET"})}reactExports.useEffect(Ht,[Wt,Rt,Gt]);function tr(){if(!Rt||!rr)return;const kr=makeCancellablePromise(Rt.getPage(rr)),Cr=kr;return kr.promise.then(Dr=>{Wt({type:"RESOLVE",value:Dr})}).catch(Dr=>{Wt({type:"REJECT",error:Dr})}),()=>cancelRunningTask(Cr)}reactExports.useEffect(tr,[Wt,Rt,Gt,rr,bt]),reactExports.useEffect(()=>{if(Qt!==void 0){if(Qt===!1){zt();return}Pt()}},[Qt,Bt]);const ar=reactExports.useMemo(()=>Qt&&isProvided(Gt)&&rr&&isProvided(Vt)&&isProvided(Bt)?{_className:o,canvasBackground:d,customTextRenderer:it,devicePixelRatio:ot,onGetAnnotationsError:_e,onGetAnnotationsSuccess:rt,onGetStructTreeError:dt,onGetStructTreeSuccess:st,onGetTextError:pt,onGetTextSuccess:g,onRenderAnnotationLayerError:gt,onRenderAnnotationLayerSuccess:nt,onRenderError:ft,onRenderSuccess:vt,onRenderTextLayerError:Dt,onRenderTextLayerSuccess:Tt,page:Qt,pageIndex:Gt,pageNumber:rr,renderForms:Ft,renderTextLayer:ut,rotate:Vt,scale:Bt}:null,[o,d,it,ot,_e,rt,dt,st,pt,g,gt,nt,ft,vt,Dt,Tt,Qt,Gt,rr,Ft,ut,Vt,Bt]),ir=reactExports.useMemo(()=>makeEventProps(Ct,()=>Qt&&(Bt?makePageCallback(Qt,Bt):void 0)),[Ct,Qt,Bt]),It=`${Gt}@${Bt}/${Vt}`,hr=`${Gt}/${Vt}`;function dr(){switch(jt){case"custom":return invariant($),React.createElement($,{key:`${It}_custom`});case"none":return null;case"svg":return React.createElement(PageSVG,{key:`${hr}_svg`});case"canvas":default:return React.createElement(PageCanvas,{key:`${It}_canvas`,canvasRef:_})}}function _r(){return ut?React.createElement(TextLayer,{key:`${It}_text`}):null}function Ar(){return Nt?React.createElement(AnnotationLayer,{key:`${It}_annotations`}):null}function Mr(){return React.createElement(PageContext.Provider,{value:ar},dr(),_r(),Ar(),h)}function gr(){return rr?Rt===null||Qt===void 0||Qt===null?React.createElement(Message,{type:"loading"},typeof lt=="function"?lt():lt):Rt===!1||Qt===!1?React.createElement(Message,{type:"error"},typeof mt=="function"?mt():mt):Mr():React.createElement(Message,{type:"no-data"},typeof b=="function"?b():b)}return React.createElement("div",Object.assign({className:clsx(o,j),"data-page-number":rr,ref:mergeRefs(xt,nr),style:{"--scale-factor":`${Bt}`,backgroundColor:d||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},ir),gr())},isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Page.propTypes=Object.assign(Object.assign({},eventProps),{canvasBackground:PropTypes.string,canvasRef:isRef,children:PropTypes.node,className:isClassName,customRenderer:PropTypes.func,customTextRenderer:PropTypes.func,devicePixelRatio:PropTypes.number,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,onRenderTextLayerError:PropTypes.func,onRenderTextLayerSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,width:PropTypes.number});displayWorkerWarning();pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";pdfjs.GlobalWorkerOptions.workerSrc=`//unpkg.com/pdfjs-dist@${pdfjs.version}/build/pdf.worker.min.js`;function PDFViewer({isOpen:e,onClose:s,pdfUrl:i,title:a}){const[o,c]=reactExports.useState(0),[d,_]=reactExports.useState(1),[h,j]=reactExports.useState(1),[$,it]=reactExports.useState(!0),[ot,mt]=reactExports.useState(""),at=({numPages:st})=>{c(st),it(!1),mt("")},xt=st=>{mt("Failed to load PDF document"),it(!1),console.error("PDF load error:",st)},lt=()=>{_(st=>Math.max(1,st-1))},b=()=>{_(st=>Math.min(o,st+1))},_e=()=>{j(st=>Math.min(3,st+.2))},rt=()=>{j(st=>Math.max(.5,st-.2))},dt=()=>{j(1)};return!e||!i?null:jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-2xl max-w-4xl max-h-[90vh] w-full mx-4 flex flex-col border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a||"Script Preview"}),o>0&&jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Page ",d," of ",o]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 mr-4",children:[jsxRuntimeExports.jsx("button",{onClick:rt,className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors",title:"Zoom Out",children:jsxRuntimeExports.jsx(ZoomOut,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),jsxRuntimeExports.jsxs("button",{onClick:dt,className:"px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors",title:"Reset Zoom",children:[Math.round(h*100),"%"]}),jsxRuntimeExports.jsx("button",{onClick:_e,className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors",title:"Zoom In",children:jsxRuntimeExports.jsx(ZoomIn,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]}),jsxRuntimeExports.jsx("a",{href:i,download:!0,className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors",title:"Download PDF",children:jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),jsxRuntimeExports.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-auto bg-gray-100 dark:bg-dark-900 p-4",children:[$&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading PDF..."})]})}),ot&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-red-600 dark:text-red-400 mb-2",children:"Error loading PDF"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:ot})]})}),!$&&!ot&&jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx(Document,{file:i,onLoadSuccess:at,onLoadError:xt,className:"shadow-lg",children:jsxRuntimeExports.jsx(Page,{pageNumber:d,scale:h,className:"border border-gray-300 dark:border-dark-600"})})})]}),o>1&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-4 p-4 border-t border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("button",{onClick:lt,disabled:d<=1,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-dark-700 hover:bg-gray-200 dark:hover:bg-dark-600 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors",children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-white",children:"Previous"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"number",min:1,max:o,value:d,onChange:st=>{const pt=parseInt(st.target.value);pt>=1&&pt<=o&&_(pt)},className:"w-16 px-2 py-1 text-center border border-gray-300 dark:border-dark-600 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white"}),jsxRuntimeExports.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["of ",o]})]}),jsxRuntimeExports.jsxs("button",{onClick:b,disabled:d>=o,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-dark-700 hover:bg-gray-200 dark:hover:bg-dark-600 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-white",children:"Next"}),jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"})]})]})]})})}const themeAtom=atom("light"),activityFiltersAtom=atom({}),scriptFiltersAtom=atom({}),lessonFiltersAtom=atom({skillLevels:[],activityTypes:[],playOrCraftTypes:[],search:""}),userFiltersAtom=atom({}),activitiesAtom=atom([]),scriptsAtom=atom([]),filteredActivitiesAtom=atom([]),savedLessonsAtom=atom([]),usersAtom=atom([]),userStatsAtom=atom({totalUsers:0,activeUsers:0,teacherCount:0,adminCount:0,studentCount:0,newUsersThisMonth:0,subscribedUsers:0,totalRevenue:0}),activitiesLoadingAtom=atom(!1),scriptsLoadingAtom=atom(!1),savedLessonsLoadingAtom=atom(!1),usersLoadingAtom=atom(!1),selectedActivityAtom=atom(null),selectedScriptAtom=atom(null),selectedUserAtom=atom(null),activeTabAtom=atom("lessons"),showCreateModalAtom=atom(!1),showSaveLessonModalAtom=atom(!1),showUserModalAtom=atom(!1),sidebarCollapsedAtom=atom(!1),activityViewModeAtom=atom("card"),scriptViewModeAtom=atom("card"),lessonPlanningViewModeAtom=atom("card"),currentLessonPlanAtom=atom({warmUp:null,mainActivities:[],coolDown:null,totalDuration:0,estimatedTime:"0 min"}),lessonGenerationStateAtom=atom("idle"),selectedPdfUrlAtom=atom(null),pdfViewerOpenAtom=atom(!1),authStateAtom=atom({user:null,isAuthenticated:!1,isLoading:!1,error:null}),showAuthModalAtom=atom(!1),authModeAtom=atom("signin");function useTheme(){const[e,s]=useAtom(themeAtom);return reactExports.useEffect(()=>{const a=localStorage.getItem("activityhub-theme");if(a)s(a);else{const o=window.matchMedia("(prefers-color-scheme: dark)").matches;s(o?"dark":"light")}},[s]),reactExports.useEffect(()=>{const a=document.documentElement;e==="dark"?a.classList.add("dark"):a.classList.remove("dark"),localStorage.setItem("activityhub-theme",e)},[e]),{theme:e,toggleTheme:()=>{s(e==="light"?"dark":"light")}}}function ThemeToggle(){const{theme:e,toggleTheme:s}=useTheme();return jsxRuntimeExports.jsx("button",{onClick:s,className:"relative p-2 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200 group",title:`Switch to ${e==="light"?"dark":"light"} mode`,children:jsxRuntimeExports.jsxs("div",{className:"relative w-5 h-5",children:[jsxRuntimeExports.jsx(Sun,{className:`absolute inset-0 w-5 h-5 text-yellow-500 transition-all duration-300 ${e==="light"?"opacity-100 rotate-0 scale-100":"opacity-0 rotate-90 scale-75"}`}),jsxRuntimeExports.jsx(Moon,{className:`absolute inset-0 w-5 h-5 text-blue-400 transition-all duration-300 ${e==="dark"?"opacity-100 rotate-0 scale-100":"opacity-0 -rotate-90 scale-75"}`})]})})}function UserMenu({user:e,onSignOut:s,onEditProfile:i}){const[a,o]=reactExports.useState(!1),c=_=>({teacher:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",admin:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",student:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"})[_]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",d=_=>({teacher:"👩‍🏫",admin:"👑",student:"🎓"})[_]||"👤";return jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>o(!a),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-teal-600 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsxs("span",{className:"text-white text-sm font-medium",children:[e.firstName.charAt(0),e.lastName.charAt(0)]})}),jsxRuntimeExports.jsxs("div",{className:"text-left hidden sm:block",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[e.firstName," ",e.lastName]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.email})]}),jsxRuntimeExports.jsx(ChevronDown,{className:`w-4 h-4 text-gray-400 dark:text-gray-500 transition-transform duration-200 ${a?"rotate-180":""}`})]}),a&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)}),jsxRuntimeExports.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white dark:bg-dark-800 rounded-lg shadow-lg dark:shadow-xl shadow-gray-200 dark:shadow-black/20 border border-gray-200 dark:border-dark-700 z-20 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-teal-600 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsxs("span",{className:"text-white font-medium",children:[e.firstName.charAt(0),e.lastName.charAt(0)]})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white",children:[e.firstName," ",e.lastName]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[jsxRuntimeExports.jsx("span",{className:"text-lg",children:d(e.role)}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${c(e.role)}`,children:e.role.charAt(0).toUpperCase()+e.role.slice(1)})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:e.email})]}),e.organization&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Building,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:e.organization})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:["Joined ",new Date(e.createdAt).toLocaleDateString()]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{i(),o(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors duration-200",children:[jsxRuntimeExports.jsx(Settings,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Edit Profile"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{s(),o(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-left text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors duration-200",children:[jsxRuntimeExports.jsx(LogOut,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Sign Out"})]})]})]})]})]})}const userRoles$3=[{value:"teacher",label:"Teacher"},{value:"admin",label:"Administrator"},{value:"student",label:"Student"}];function EditProfileModal({isOpen:e,onClose:s,user:i,onSave:a,loading:o}){const[c,d]=reactExports.useState({firstName:i.firstName,lastName:i.lastName,email:i.email,role:i.role,organization:i.organization||""}),_=async j=>{j.preventDefault(),await a(c),s()},h=()=>{d({firstName:i.firstName,lastName:i.lastName,email:i.email,role:i.role,organization:i.organization||""}),s()};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-teal-600 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(User,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Edit Profile"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Update your account information"})]})]}),jsxRuntimeExports.jsx("button",{onClick:h,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:_,className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["First Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:c.firstName,onChange:j=>d({...c,firstName:j.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Last Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:c.lastName,onChange:j=>d({...c,lastName:j.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Email Address ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"email",required:!0,value:c.email,onChange:j=>d({...c,email:j.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Role ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("select",{value:c.role,onChange:j=>d({...c,role:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:userRoles$3.map(j=>jsxRuntimeExports.jsx("option",{value:j.value,children:j.label},j.value))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Organization"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Building,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",value:c.organization,onChange:j=>d({...c,organization:j.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200",placeholder:"Your school or organization"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:h,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:o,className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-blue-600 to-teal-600 text-white rounded-lg hover:from-blue-700 hover:to-teal-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg",children:[o?jsxRuntimeExports.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Save Changes"})]})]})]})]})}):null}function ownKeys(e,s){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);s&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),i.push.apply(i,a)}return i}function _objectSpread2(e){for(var s=1;s<arguments.length;s++){var i=arguments[s]!=null?arguments[s]:{};s%2?ownKeys(Object(i),!0).forEach(function(a){_defineProperty(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function _typeof(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(s){return typeof s}:_typeof=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof(e)}function _defineProperty(e,s,i){return s in e?Object.defineProperty(e,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[s]=i,e}function _objectWithoutPropertiesLoose(e,s){if(e==null)return{};var i={},a=Object.keys(e),o,c;for(c=0;c<a.length;c++)o=a[c],!(s.indexOf(o)>=0)&&(i[o]=e[o]);return i}function _objectWithoutProperties(e,s){if(e==null)return{};var i=_objectWithoutPropertiesLoose(e,s),a,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)a=c[o],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function _slicedToArray(e,s){return _arrayWithHoles(e)||_iterableToArrayLimit(e,s)||_unsupportedIterableToArray(e,s)||_nonIterableRest()}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,s){var i=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(i!=null){var a=[],o=!0,c=!1,d,_;try{for(i=i.call(e);!(o=(d=i.next()).done)&&(a.push(d.value),!(s&&a.length===s));o=!0);}catch(h){c=!0,_=h}finally{try{!o&&i.return!=null&&i.return()}finally{if(c)throw _}}return a}}function _unsupportedIterableToArray(e,s){if(e){if(typeof e=="string")return _arrayLikeToArray(e,s);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(e,s)}}function _arrayLikeToArray(e,s){(s==null||s>e.length)&&(s=e.length);for(var i=0,a=new Array(s);i<s;i++)a[i]=e[i];return a}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var useAttachEvent=function e(s,i,a){var o=!!a,c=React.useRef(a);React.useEffect(function(){c.current=a},[a]),React.useEffect(function(){if(!o||!s)return function(){};var d=function(){c.current&&c.current.apply(c,arguments)};return s.on(i,d),function(){s.off(i,d)}},[o,i,s,c])},usePrevious=function e(s){var i=React.useRef(s);return React.useEffect(function(){i.current=s},[s]),i.current},isUnknownObject=function e(s){return s!==null&&_typeof(s)==="object"},isPromise=function e(s){return isUnknownObject(s)&&typeof s.then=="function"},isStripe=function e(s){return isUnknownObject(s)&&typeof s.elements=="function"&&typeof s.createToken=="function"&&typeof s.createPaymentMethod=="function"&&typeof s.confirmCardPayment=="function"},PLAIN_OBJECT_STR="[object Object]",isEqual=function e(s,i){if(!isUnknownObject(s)||!isUnknownObject(i))return s===i;var a=Array.isArray(s),o=Array.isArray(i);if(a!==o)return!1;var c=Object.prototype.toString.call(s)===PLAIN_OBJECT_STR,d=Object.prototype.toString.call(i)===PLAIN_OBJECT_STR;if(c!==d)return!1;if(!c&&!a)return s===i;var _=Object.keys(s),h=Object.keys(i);if(_.length!==h.length)return!1;for(var j={},$=0;$<_.length;$+=1)j[_[$]]=!0;for(var it=0;it<h.length;it+=1)j[h[it]]=!0;var ot=Object.keys(j);if(ot.length!==_.length)return!1;var mt=s,at=i,xt=function(b){return e(mt[b],at[b])};return ot.every(xt)},extractAllowedOptionsUpdates=function e(s,i,a){return isUnknownObject(s)?Object.keys(s).reduce(function(o,c){var d=!isUnknownObject(i)||!isEqual(s[c],i[c]);return a.includes(c)?(d&&console.warn("Unsupported prop change: options.".concat(c," is not a mutable property.")),o):d?_objectSpread2(_objectSpread2({},o||{}),{},_defineProperty({},c,s[c])):o},null):null},INVALID_STRIPE_ERROR$2="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",validateStripe=function e(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:INVALID_STRIPE_ERROR$2;if(s===null||isStripe(s))return s;throw new Error(i)},parseStripeProp=function e(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:INVALID_STRIPE_ERROR$2;if(isPromise(s))return{tag:"async",stripePromise:Promise.resolve(s).then(function(o){return validateStripe(o,i)})};var a=validateStripe(s,i);return a===null?{tag:"empty"}:{tag:"sync",stripe:a}},registerWithStripeJs=function e(s){!s||!s._registerWrapper||!s.registerAppInfo||(s._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),s.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},ElementsContext=React.createContext(null);ElementsContext.displayName="ElementsContext";var parseElementsContext=function e(s,i){if(!s)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(i," in an <Elements> provider."));return s},Elements=function e(s){var i=s.stripe,a=s.options,o=s.children,c=React.useMemo(function(){return parseStripeProp(i)},[i]),d=React.useState(function(){return{stripe:c.tag==="sync"?c.stripe:null,elements:c.tag==="sync"?c.stripe.elements(a):null}}),_=_slicedToArray(d,2),h=_[0],j=_[1];React.useEffect(function(){var ot=!0,mt=function(xt){j(function(lt){return lt.stripe?lt:{stripe:xt,elements:xt.elements(a)}})};return c.tag==="async"&&!h.stripe?c.stripePromise.then(function(at){at&&ot&&mt(at)}):c.tag==="sync"&&!h.stripe&&mt(c.stripe),function(){ot=!1}},[c,h,a]);var $=usePrevious(i);React.useEffect(function(){$!==null&&$!==i&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[$,i]);var it=usePrevious(a);return React.useEffect(function(){if(h.elements){var ot=extractAllowedOptionsUpdates(a,it,["clientSecret","fonts"]);ot&&h.elements.update(ot)}},[a,it,h.elements]),React.useEffect(function(){registerWithStripeJs(h.stripe)},[h.stripe]),React.createElement(ElementsContext.Provider,{value:h},o)};Elements.propTypes={stripe:PropTypes.any,options:PropTypes.object};var useElementsContextWithUseCase=function e(s){var i=React.useContext(ElementsContext);return parseElementsContext(i,s)},useElements=function e(){var s=useElementsContextWithUseCase("calls useElements()"),i=s.elements;return i};PropTypes.func.isRequired;var CheckoutSdkContext=React.createContext(null);CheckoutSdkContext.displayName="CheckoutSdkContext";var parseCheckoutSdkContext=function e(s,i){if(!s)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(i," in an <CheckoutProvider> provider."));return s},CheckoutContext=React.createContext(null);CheckoutContext.displayName="CheckoutContext";PropTypes.any,PropTypes.shape({fetchClientSecret:PropTypes.func.isRequired,elementsOptions:PropTypes.object}).isRequired;var useElementsOrCheckoutSdkContextWithUseCase=function e(s){var i=React.useContext(CheckoutSdkContext),a=React.useContext(ElementsContext);if(i&&a)throw new Error("You cannot wrap the part of your app that ".concat(s," in both <CheckoutProvider> and <Elements> providers."));return i?parseCheckoutSdkContext(i,s):parseElementsContext(a,s)},_excluded=["mode"],capitalized=function e(s){return s.charAt(0).toUpperCase()+s.slice(1)},createElementComponent=function e(s,i){var a="".concat(capitalized(s),"Element"),o=function(h){var j=h.id,$=h.className,it=h.options,ot=it===void 0?{}:it,mt=h.onBlur,at=h.onFocus,xt=h.onReady,lt=h.onChange,b=h.onEscape,_e=h.onClick,rt=h.onLoadError,dt=h.onLoaderStart,st=h.onNetworksChange,pt=h.onConfirm,g=h.onCancel,tt=h.onShippingAddressChange,ct=h.onShippingRateChange,gt=useElementsOrCheckoutSdkContextWithUseCase("mounts <".concat(a,">")),nt="elements"in gt?gt.elements:null,ft="checkoutSdk"in gt?gt.checkoutSdk:null,vt=React.useState(null),Dt=_slicedToArray(vt,2),Tt=Dt[0],Mt=Dt[1],kt=React.useRef(null),Rt=React.useRef(null);useAttachEvent(Tt,"blur",mt),useAttachEvent(Tt,"focus",at),useAttachEvent(Tt,"escape",b),useAttachEvent(Tt,"click",_e),useAttachEvent(Tt,"loaderror",rt),useAttachEvent(Tt,"loaderstart",dt),useAttachEvent(Tt,"networkschange",st),useAttachEvent(Tt,"confirm",pt),useAttachEvent(Tt,"cancel",g),useAttachEvent(Tt,"shippingaddresschange",tt),useAttachEvent(Tt,"shippingratechange",ct),useAttachEvent(Tt,"change",lt);var bt;xt&&(s==="expressCheckout"?bt=xt:bt=function(){xt(Tt)}),useAttachEvent(Tt,"ready",bt),React.useLayoutEffect(function(){if(kt.current===null&&Rt.current!==null&&(nt||ft)){var Ft=null;if(ft)switch(s){case"payment":Ft=ft.createPaymentElement(ot);break;case"address":if("mode"in ot){var jt=ot.mode,ut=_objectWithoutProperties(ot,_excluded);if(jt==="shipping")Ft=ft.createShippingAddressElement(ut);else if(jt==="billing")Ft=ft.createBillingAddressElement(ut);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":Ft=ft.createExpressCheckoutElement(ot);break;case"currencySelector":Ft=ft.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(a,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else nt&&(Ft=nt.create(s,ot));kt.current=Ft,Mt(Ft),Ft&&Ft.mount(Rt.current)}},[nt,ft,ot]);var Nt=usePrevious(ot);return React.useEffect(function(){if(kt.current){var Ft=extractAllowedOptionsUpdates(ot,Nt,["paymentRequest"]);Ft&&"update"in kt.current&&kt.current.update(Ft)}},[ot,Nt]),React.useLayoutEffect(function(){return function(){if(kt.current&&typeof kt.current.destroy=="function")try{kt.current.destroy(),kt.current=null}catch{}}},[]),React.createElement("div",{id:j,className:$,ref:Rt})},c=function(h){useElementsOrCheckoutSdkContextWithUseCase("mounts <".concat(a,">"));var j=h.id,$=h.className;return React.createElement("div",{id:j,className:$})},d=i?c:o;return d.propTypes={id:PropTypes.string,className:PropTypes.string,onChange:PropTypes.func,onBlur:PropTypes.func,onFocus:PropTypes.func,onReady:PropTypes.func,onEscape:PropTypes.func,onClick:PropTypes.func,onLoadError:PropTypes.func,onLoaderStart:PropTypes.func,onNetworksChange:PropTypes.func,onConfirm:PropTypes.func,onCancel:PropTypes.func,onShippingAddressChange:PropTypes.func,onShippingRateChange:PropTypes.func,options:PropTypes.object},d.displayName=a,d.__elementType=s,d},isServer=typeof window>"u",EmbeddedCheckoutContext=React.createContext(null);EmbeddedCheckoutContext.displayName="EmbeddedCheckoutProviderContext";var useStripe=function e(){var s=useElementsOrCheckoutSdkContextWithUseCase("calls useStripe()"),i=s.stripe;return i};createElementComponent("auBankAccount",isServer);createElementComponent("card",isServer);createElementComponent("cardNumber",isServer);createElementComponent("cardExpiry",isServer);createElementComponent("cardCvc",isServer);createElementComponent("fpxBank",isServer);createElementComponent("iban",isServer);createElementComponent("idealBank",isServer);createElementComponent("p24Bank",isServer);createElementComponent("epsBank",isServer);var PaymentElement=createElementComponent("payment",isServer);createElementComponent("expressCheckout",isServer);createElementComponent("currencySelector",isServer);createElementComponent("paymentRequestButton",isServer);createElementComponent("linkAuthentication",isServer);createElementComponent("address",isServer);createElementComponent("shippingAddress",isServer);createElementComponent("paymentMethodMessaging",isServer);createElementComponent("affirmMessage",isServer);createElementComponent("afterpayClearpayMessage",isServer);const stripePromise=loadStripe("pk_test_51RZbgpHJfFjCNpvusQZhCnbWanbuxIE2cyrNZuJ2I02nFnWl45SkhClG0XLb3UwhXoCUWVTFYxJMkRfWTqWPbghD001v7bAUPj"),API_BASE_URL="https://5872-35-78-107-144.ngrok-free.app/api";function PaymentForm({onSuccess:e,onError:s,loading:i,onBack:a}){const o=useStripe(),c=useElements(),[d,_]=reactExports.useState(""),h=async j=>{if(j.preventDefault(),!(!o||!c))try{const{error:$}=await o.confirmPayment({elements:c,confirmParams:{return_url:window.location.origin}});if($)_($.message||"Payment failed"),s($.message||"Payment failed");else{const{paymentMethod:it}=await o.createPaymentMethod({elements:c});if(it)e(it.id);else throw new Error("Failed to create payment method")}}catch($){const it=$ instanceof Error?$.message:"Payment failed";_(it),s(it)}};return jsxRuntimeExports.jsxs("form",{onSubmit:h,className:"space-y-6",children:[jsxRuntimeExports.jsx(PaymentElement,{}),d&&jsxRuntimeExports.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-red-800 dark:text-red-300",children:d})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:a,className:"flex-1 py-3 px-4 border border-gray-300 dark:border-dark-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:"Back to Plans"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:!o||i,className:"flex-1 py-3 px-4 bg-gradient-to-r from-rose-500 to-purple-600 text-white rounded-lg hover:from-rose-600 hover:to-purple-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[i?jsxRuntimeExports.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):jsxRuntimeExports.jsx(CreditCard,{className:"w-5 h-5"}),i?"Processing...":"Subscribe Now"]})]})]})}function SubscriptionModal({isOpen:e,onClose:s,currentSubscription:i,onSubscriptionUpdate:a,isAdmin:o,userId:c}){var Dt,Tt,Mt;if(o)return null;const[d,_]=reactExports.useState([]),[h,j]=reactExports.useState(!1),[$,it]=reactExports.useState(""),[ot,mt]=reactExports.useState(""),[at,xt]=reactExports.useState("plans"),[lt,b]=reactExports.useState(5),[_e,rt]=reactExports.useState("");reactExports.useEffect(()=>{e&&dt()},[e]);const dt=async()=>{try{const kt=await StripeService.getPlans();_(kt)}catch{mt("Failed to load subscription plans")}},st=async kt=>{it(kt),j(!0);try{const Rt=await fetch(`${API_BASE_URL}/stripe/create-payment-intent`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${AuthService.getAuthToken()}`},body:JSON.stringify({planId:kt})}),{clientSecret:bt}=await Rt.json();rt(bt),xt("payment")}catch{mt("Failed to initialize payment")}finally{j(!1)}},pt=()=>{xt("additional-lessons")},g=async()=>{if(i){j(!0),mt("");try{const kt=await StripeService.purchaseAdditionalLessons(c,lt);a(kt),s()}catch(kt){mt(kt instanceof Error?kt.message:"Purchase failed")}finally{j(!1)}}},tt=async kt=>{if($){xt("processing"),j(!0),mt("");try{let Rt;i?Rt=await StripeService.updateSubscription(c,$):Rt=await StripeService.createSubscription(c,$,kt);let bt=0,Nt=null;for(;bt<5;)try{if(Nt=await StripeService.getUserSubscription(c),Nt&&Nt.status==="active")break;await new Promise(Ft=>setTimeout(Ft,1e3)),bt++}catch(Ft){console.error("Error fetching updated subscription:",Ft);break}a(Nt||Rt),s()}catch(Rt){mt(Rt instanceof Error?Rt.message:"Subscription failed"),xt("payment")}finally{j(!1)}}},ct=kt=>{switch(kt){case"romeo":return jsxRuntimeExports.jsx(Heart,{className:"w-6 h-6"});case"juliet":return jsxRuntimeExports.jsx(Crown,{className:"w-6 h-6"});default:return jsxRuntimeExports.jsx(CreditCard,{className:"w-6 h-6"})}},gt=kt=>{switch(kt){case"romeo":return"from-rose-500 to-pink-600";case"juliet":return"from-purple-500 to-indigo-600";default:return"from-gray-500 to-gray-600"}},nt=kt=>(i==null?void 0:i.plan.id)===kt,ft=()=>i&&StripeService.canPurchaseAdditionalLessons(i)&&i.plan.id==="romeo",vt=()=>{xt("plans"),it(""),mt(""),b(5),s()};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-rose-500 to-purple-600 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Heart,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:at==="plans"?"Choose Your Plan":at==="payment"?"Payment Details":at==="additional-lessons"?"Buy Additional Lessons":"Processing Payment"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:at==="plans"?"Romeo & Juliet themed lesson planning":at==="payment"?"Complete your subscription":at==="additional-lessons"?"Add more lessons to your Romeo plan":"Please wait while we process your payment"})]})]}),jsxRuntimeExports.jsx("button",{onClick:vt,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[at==="plans"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[i&&jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-rose-50 to-purple-50 dark:from-rose-900/20 dark:to-purple-900/20 border border-rose-200 dark:border-rose-800 rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-rose-500 to-purple-600 rounded-lg flex items-center justify-center",children:ct(i.plan.id)}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"font-medium text-rose-900 dark:text-rose-300",children:["Current Plan: ",i.plan.name]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-rose-700 dark:text-rose-400",children:StripeService.getRemainingLessons(i)===-1?"Unlimited lessons remaining":`${StripeService.getRemainingLessons(i)} lessons remaining this month`})]})]}),ft()&&jsxRuntimeExports.jsxs("button",{onClick:pt,className:"flex items-center gap-2 bg-rose-600 text-white px-4 py-2 rounded-lg hover:bg-rose-700 transition-colors text-sm font-medium",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Buy More Lessons"]})]})}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:d.map(kt=>jsxRuntimeExports.jsxs("div",{className:`relative bg-white dark:bg-dark-700 border-2 rounded-xl p-6 transition-all duration-200 hover:shadow-lg dark:hover:shadow-xl hover:shadow-gray-200 dark:hover:shadow-black/20 ${kt.isPopular?"border-purple-500 dark:border-purple-400 shadow-lg dark:shadow-xl":"border-gray-200 dark:border-dark-600 hover:border-gray-300 dark:hover:border-dark-500"} ${nt(kt.id)?"ring-2 ring-rose-500 dark:ring-rose-400":""}`,children:[kt.isPopular&&jsxRuntimeExports.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:jsxRuntimeExports.jsxs("span",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 text-white px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[jsxRuntimeExports.jsx(Star,{className:"w-3 h-3"}),"Most Popular"]})}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${gt(kt.id)} rounded-xl flex items-center justify-center mx-auto mb-4`,children:jsxRuntimeExports.jsx("div",{className:"text-white",children:ct(kt.id)})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:kt.name}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:kt.description}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("span",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:["$",kt.price]}),jsxRuntimeExports.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["/",kt.interval]}),kt.allowAdditionalLessons&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["+ $",kt.additionalLessonPrice," per extra lesson"]})]}),jsxRuntimeExports.jsx("ul",{className:"space-y-3 mb-6 text-left",children:kt.features.map((Rt,bt)=>jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx(Check,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:Rt})]},bt))}),nt(kt.id)?jsxRuntimeExports.jsx("button",{disabled:!0,className:"w-full py-3 px-4 bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 rounded-lg font-medium cursor-not-allowed",children:"Current Plan"}):jsxRuntimeExports.jsx("button",{onClick:()=>st(kt.id),className:`w-full py-3 px-4 rounded-lg font-medium transition-all duration-200 ${kt.isPopular?"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white shadow-md hover:shadow-lg":"bg-gradient-to-r from-rose-500 to-pink-600 hover:from-rose-600 hover:to-pink-700 text-white shadow-md hover:shadow-lg"}`,children:i?"Switch to This Plan":"Get Started"})]})]},kt.id))}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-rose-50 to-purple-50 dark:from-rose-900/20 dark:to-purple-900/20 rounded-lg p-6",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Heart,{className:"w-5 h-5 text-rose-500"}),"Why Romeo & Juliet?"]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-rose-100 dark:bg-rose-900/30 rounded-lg flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(Heart,{className:"w-4 h-4 text-rose-600 dark:text-rose-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Romeo Plan"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Perfect for teachers starting their drama education journey. Like Romeo's passionate but measured approach to love, this plan gives you a solid foundation with the flexibility to grow."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(Crown,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Juliet Plan"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"For educators who want it all. Like Juliet's bold and unlimited devotion, this plan provides complete access to every resource and feature we offer."})]})]})]})]})]}),at==="additional-lessons"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6 max-w-md mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-rose-500 to-pink-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(ShoppingCart,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Buy Additional Lessons"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Add more lessons to your Romeo plan for just $",(i==null?void 0:i.plan.additionalLessonPrice)||3," each"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-rose-50 dark:bg-rose-900/20 border border-rose-200 dark:border-rose-800 rounded-lg p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-rose-900 dark:text-rose-300",children:"Current Lessons"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-rose-700 dark:text-rose-400",children:[i?StripeService.getRemainingLessons(i):0," remaining"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-rose-900 dark:text-rose-300",children:"Additional Purchased"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-rose-700 dark:text-rose-400",children:[(i==null?void 0:i.additionalLessonsPurchased)||0," lessons"]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Number of Additional Lessons"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>b(Math.max(1,lt-1)),className:"w-10 h-10 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg flex items-center justify-center transition-colors",children:"-"}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",max:"50",value:lt,onChange:kt=>b(Math.max(1,parseInt(kt.target.value)||1)),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white text-center"}),jsxRuntimeExports.jsx("button",{onClick:()=>b(Math.min(50,lt+1)),className:"w-10 h-10 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg flex items-center justify-center transition-colors",children:"+"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 dark:bg-dark-700 rounded-lg p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[lt," lesson",lt>1?"s":""," × $",(i==null?void 0:i.plan.additionalLessonPrice)||3]}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["$",(((i==null?void 0:i.plan.additionalLessonPrice)||3)*lt).toFixed(2)]})]}),jsxRuntimeExports.jsx("div",{className:"border-t border-gray-200 dark:border-dark-600 pt-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Total"}),jsxRuntimeExports.jsxs("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["$",(((i==null?void 0:i.plan.additionalLessonPrice)||3)*lt).toFixed(2)]})]})})]}),ot&&jsxRuntimeExports.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-red-800 dark:text-red-300",children:ot})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>xt("plans"),className:"flex-1 py-3 px-4 border border-gray-300 dark:border-dark-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:"Back"}),jsxRuntimeExports.jsxs("button",{onClick:g,disabled:h,className:"flex-1 py-3 px-4 bg-gradient-to-r from-rose-500 to-pink-600 text-white rounded-lg hover:from-rose-600 hover:to-pink-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[h?jsxRuntimeExports.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):jsxRuntimeExports.jsx(ShoppingCart,{className:"w-5 h-5"}),h?"Processing...":"Purchase Lessons"]})]})]}),at==="payment"&&_e&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[$&&jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-rose-50 to-purple-50 dark:from-rose-900/20 dark:to-purple-900/20 border border-rose-200 dark:border-rose-800 rounded-lg p-4",children:[jsxRuntimeExports.jsxs("h3",{className:"font-medium text-rose-900 dark:text-rose-300 mb-2",children:["Selected Plan: ",(Dt=d.find(kt=>kt.id===$))==null?void 0:Dt.name]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-rose-700 dark:text-rose-400",children:["$",(Tt=d.find(kt=>kt.id===$))==null?void 0:Tt.price,"/",(Mt=d.find(kt=>kt.id===$))==null?void 0:Mt.interval]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Payment Information"}),jsxRuntimeExports.jsx(Elements,{stripe:stripePromise,options:{clientSecret:_e},children:jsxRuntimeExports.jsx(PaymentForm,{onSuccess:tt,onError:mt,loading:h,onBack:()=>xt("plans")})})]})]}),at==="processing"&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-rose-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6",children:jsxRuntimeExports.jsx("div",{className:"w-8 h-8 border-2 border-white border-t-transparent rounded-full animate-spin"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Processing Your Subscription"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Please wait while we set up your account..."})]})]})]})}):null}function SubscriptionBanner({subscription:e,onUpgrade:s,isAdmin:i}){if(i)return jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 text-white p-4 rounded-lg mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Crown,{className:"w-6 h-6"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Admin Subscription - Unlimited Access"}),jsxRuntimeExports.jsx("p",{className:"text-sm opacity-90",children:"You have full access to all features with your admin privileges"})]})]})});if(!e)return jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-rose-500 to-purple-600 text-white p-4 rounded-lg mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Heart,{className:"w-6 h-6"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Start Your Drama Education Journey"}),jsxRuntimeExports.jsx("p",{className:"text-sm opacity-90",children:"Choose Romeo or Juliet plan to begin creating amazing lesson plans"})]})]}),jsxRuntimeExports.jsx("button",{onClick:s,className:"bg-white text-rose-600 px-4 py-2 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"View Plans"})]})});const a=StripeService.getRemainingLessons(e),o=a===-1,c=!o&&a<=2,d=!o&&a===0,_=StripeService.canPurchaseAdditionalLessons(e);return e.status!=="active"?jsxRuntimeExports.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-800 dark:text-red-300 p-4 rounded-lg mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(AlertTriangle,{className:"w-6 h-6"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Subscription Issue"}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["Your subscription is ",e.status,". Please update your payment method."]})]})]}),jsxRuntimeExports.jsx("button",{onClick:s,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-red-700 transition-colors",children:"Fix Now"})]})}):d?jsxRuntimeExports.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 text-orange-800 dark:text-orange-300 p-4 rounded-lg mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(AlertTriangle,{className:"w-6 h-6"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Lesson Limit Reached"}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["You've used all your lessons this month.",_?" Buy more lessons or upgrade to Juliet plan!":" Upgrade to Juliet plan for unlimited access!"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[_&&jsxRuntimeExports.jsxs("button",{onClick:s,className:"flex items-center gap-1 bg-rose-600 text-white px-3 py-2 rounded-lg font-medium hover:bg-rose-700 transition-colors text-sm",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Buy Lessons"]}),jsxRuntimeExports.jsx("button",{onClick:s,className:"bg-orange-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-orange-700 transition-colors text-sm",children:"Upgrade"})]})]})}):c?jsxRuntimeExports.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 text-yellow-800 dark:text-yellow-300 p-4 rounded-lg mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(AlertTriangle,{className:"w-6 h-6"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Running Low on Lessons"}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["Only ",a," lesson",a===1?"":"s"," remaining this month",_&&" - buy more for just $3 each!"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[_&&jsxRuntimeExports.jsxs("button",{onClick:s,className:"flex items-center gap-1 bg-rose-600 text-white px-3 py-2 rounded-lg font-medium hover:bg-rose-700 transition-colors text-sm",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Buy More"]}),jsxRuntimeExports.jsx("button",{onClick:s,className:"bg-yellow-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-yellow-700 transition-colors text-sm",children:"Upgrade"})]})]})}):o?jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 text-white p-4 rounded-lg mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Crown,{className:"w-6 h-6"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold",children:[e.plan.name," - Unlimited Access"]}),jsxRuntimeExports.jsx("p",{className:"text-sm opacity-90",children:"Generate unlimited lessons with your premium subscription"})]})]})}):jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-rose-50 to-purple-50 dark:from-rose-900/20 dark:to-purple-900/20 border border-rose-200 dark:border-rose-800 text-rose-800 dark:text-rose-300 p-4 rounded-lg mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Heart,{className:"w-6 h-6"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold",children:[e.plan.name," Active"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[a," lesson",a===1?"":"s"," remaining this month"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[_&&jsxRuntimeExports.jsxs("button",{onClick:s,className:"flex items-center gap-1 bg-rose-600 text-white px-3 py-2 rounded-lg font-medium hover:bg-rose-700 transition-colors text-sm",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Buy More"]}),jsxRuntimeExports.jsx("button",{onClick:s,className:"bg-rose-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-rose-700 transition-colors text-sm",children:"Manage"})]})]})})}const userRoles$2=[{value:"teacher",label:"Teacher",icon:jsxRuntimeExports.jsx(GraduationCap,{className:"w-4 h-4"}),color:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"},{value:"admin",label:"Administrator",icon:jsxRuntimeExports.jsx(Shield,{className:"w-4 h-4"}),color:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400"},{value:"student",label:"Student",icon:jsxRuntimeExports.jsx(User,{className:"w-4 h-4"}),color:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"}];function UserManagementPanel({users:e,filters:s,onFiltersChange:i,onCreateUser:a,onEditUser:o,onDeleteUser:c,onToggleUserStatus:d,loading:_}){const[h,j]=reactExports.useState([]),[$,it]=reactExports.useState(null),ot=(rt,dt)=>{i({...s,[rt]:dt||void 0})},mt=rt=>userRoles$2.find(dt=>dt.value===rt)||userRoles$2[0],at=rt=>new Date(rt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),xt=rt=>{if(!rt)return"Never";const dt=new Date(rt),pt=Math.floor((new Date().getTime()-dt.getTime())/(1e3*60*60*24));return pt===0?"Today":pt===1?"Yesterday":pt<7?`${pt} days ago`:at(dt)},lt=rt=>{j(dt=>dt.includes(rt)?dt.filter(st=>st!==rt):[...dt,rt])},b=()=>{j(e.map(rt=>rt.id))},_e=()=>{j([])};return _?jsxRuntimeExports.jsx("div",{className:"space-y-4",children:jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 p-6 transition-colors duration-200",children:jsxRuntimeExports.jsxs("div",{className:"animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded mb-4 w-1/4"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:[...Array(5)].map((rt,dt)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3"}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})]},dt))})]})})}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"User Management"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage user accounts and permissions"})]}),jsxRuntimeExports.jsxs("button",{onClick:a,className:"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-teal-600 text-white px-4 py-2 rounded-lg hover:from-blue-700 hover:to-teal-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Add User"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx(Filter,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Filters"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search users...",value:s.search||"",onChange:rt=>ot("search",rt.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("select",{value:s.role||"",onChange:rt=>ot("role",rt.target.value),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Roles"}),userRoles$2.map(rt=>jsxRuntimeExports.jsx("option",{value:rt.value,children:rt.label},rt.value))]}),jsxRuntimeExports.jsxs("select",{value:s.isActive===void 0?"":s.isActive.toString(),onChange:rt=>ot("isActive",rt.target.value===""?void 0:rt.target.value==="true"),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Status"}),jsxRuntimeExports.jsx("option",{value:"true",children:"Active"}),jsxRuntimeExports.jsx("option",{value:"false",children:"Inactive"})]}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Filter by organization...",value:s.organization||"",onChange:rt=>ot("organization",rt.target.value),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]})]}),h.length>0&&jsxRuntimeExports.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 transition-colors duration-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-blue-800 dark:text-blue-300 font-medium",children:[h.length," user",h.length>1?"s":""," selected"]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:jsxRuntimeExports.jsx("button",{onClick:_e,className:"px-3 py-1 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm transition-colors",children:"Clear Selection"})})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-sm border border-gray-200 dark:border-dark-700 overflow-hidden transition-colors duration-200",children:[jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 dark:bg-dark-700 border-b border-gray-200 dark:border-dark-600",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left",children:jsxRuntimeExports.jsx("input",{type:"checkbox",checked:h.length===e.length&&e.length>0,onChange:h.length===e.length?_e:b,className:"w-4 h-4 text-blue-600 border-gray-300 dark:border-dark-600 rounded focus:ring-blue-500 bg-white dark:bg-dark-700"})}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"User"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Role"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Organization"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Login"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Created"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white dark:bg-dark-800 divide-y divide-gray-200 dark:divide-dark-700",children:e.map(rt=>{const dt=mt(rt.role);return jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsx("input",{type:"checkbox",checked:h.includes(rt.id),onChange:()=>lt(rt.id),className:"w-4 h-4 text-blue-600 border-gray-300 dark:border-dark-600 rounded focus:ring-blue-500 bg-white dark:bg-dark-700"})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-teal-600 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsxs("span",{className:"text-white text-sm font-medium",children:[rt.firstName.charAt(0),rt.lastName.charAt(0)]})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[rt.firstName," ",rt.lastName]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Mail,{className:"w-3 h-3"}),rt.email]})]})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${dt.color}`,children:[dt.icon,dt.label]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-900 dark:text-white flex items-center gap-1",children:rt.organization?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Building,{className:"w-3 h-3 text-gray-400 dark:text-gray-500"}),rt.organization]}):jsxRuntimeExports.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"No organization"})})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${rt.isActive?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:[rt.isActive?jsxRuntimeExports.jsx(UserCheck,{className:"w-3 h-3"}):jsxRuntimeExports.jsx(UserX,{className:"w-3 h-3"}),rt.isActive?"Active":"Inactive"]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:xt(rt.lastLoginAt)}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-3 h-3"}),at(rt.createdAt)]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-right",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("button",{onClick:()=>it($===rt.id?null:rt.id),className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-600 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(MoreVertical,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),$===rt.id&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>it(null)}),jsxRuntimeExports.jsx("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white dark:bg-dark-700 rounded-lg shadow-lg dark:shadow-xl shadow-gray-200 dark:shadow-black/20 border border-gray-200 dark:border-dark-600 z-20 transition-colors duration-200",children:jsxRuntimeExports.jsxs("div",{className:"py-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{o(rt),it(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-dark-600 transition-colors",children:[jsxRuntimeExports.jsx(SquarePen,{className:"w-4 h-4"}),"Edit User"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{d(rt.id),it(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-dark-600 transition-colors",children:[rt.isActive?jsxRuntimeExports.jsx(EyeOff,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"}),rt.isActive?"Deactivate":"Activate"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{c(rt.id),it(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-left text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 transition-colors",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"}),"Delete User"]})]})})]})]})})]},rt.id)})})]})}),e.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Users,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No users found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:Object.keys(s).some(rt=>s[rt])?"Try adjusting your filters to see more users.":"Get started by creating your first user account."}),!Object.keys(s).some(rt=>s[rt])&&jsxRuntimeExports.jsx("button",{onClick:a,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Create User"})]})]})]})}function UserStatsPanel({stats:e,loading:s}){const i=[{title:"Total Users",value:e.totalUsers,icon:jsxRuntimeExports.jsx(Users,{className:"w-6 h-6"}),color:"bg-blue-500",bgColor:"bg-blue-50 dark:bg-blue-900/20",textColor:"text-blue-600 dark:text-blue-400"},{title:"Active Users",value:e.activeUsers,icon:jsxRuntimeExports.jsx(UserCheck,{className:"w-6 h-6"}),color:"bg-green-500",bgColor:"bg-green-50 dark:bg-green-900/20",textColor:"text-green-600 dark:text-green-400"},{title:"Teachers",value:e.teacherCount,icon:jsxRuntimeExports.jsx(GraduationCap,{className:"w-6 h-6"}),color:"bg-purple-500",bgColor:"bg-purple-50 dark:bg-purple-900/20",textColor:"text-purple-600 dark:text-purple-400"},{title:"Administrators",value:e.adminCount,icon:jsxRuntimeExports.jsx(Shield,{className:"w-6 h-6"}),color:"bg-orange-500",bgColor:"bg-orange-50 dark:bg-orange-900/20",textColor:"text-orange-600 dark:text-orange-400"},{title:"Students",value:e.studentCount,icon:jsxRuntimeExports.jsx(User,{className:"w-6 h-6"}),color:"bg-teal-500",bgColor:"bg-teal-50 dark:bg-teal-900/20",textColor:"text-teal-600 dark:text-teal-400"},{title:"New This Month",value:e.newUsersThisMonth,icon:jsxRuntimeExports.jsx(TrendingUp,{className:"w-6 h-6"}),color:"bg-pink-500",bgColor:"bg-pink-50 dark:bg-pink-900/20",textColor:"text-pink-600 dark:text-pink-400"},{title:"Subscribed Users",value:e.subscribedUsers,icon:jsxRuntimeExports.jsx(CreditCard,{className:"w-6 h-6"}),color:"bg-indigo-500",bgColor:"bg-indigo-50 dark:bg-indigo-900/20",textColor:"text-indigo-600 dark:text-indigo-400"},{title:"Monthly Revenue",value:`$${e.totalRevenue.toFixed(2)}`,icon:jsxRuntimeExports.jsx(DollarSign,{className:"w-6 h-6"}),color:"bg-emerald-500",bgColor:"bg-emerald-50 dark:bg-emerald-900/20",textColor:"text-emerald-600 dark:text-emerald-400"}];return s?jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-8 gap-4 mb-6",children:[...Array(8)].map((a,o)=>jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-lg border border-gray-200 dark:border-dark-700 animate-pulse",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-2 w-20"}),jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-12"})]}),jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-lg"})]})},o))}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-8 gap-4 mb-6",children:i.map((a,o)=>jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-lg border border-gray-200 dark:border-dark-700 hover:shadow-md dark:hover:shadow-xl hover:shadow-gray-200 dark:hover:shadow-black/20 transition-all duration-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:a.title}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.value})]}),jsxRuntimeExports.jsx("div",{className:`w-12 h-12 ${a.bgColor} rounded-lg flex items-center justify-center`,children:jsxRuntimeExports.jsx("div",{className:a.textColor,children:a.icon})})]})},o))})}const userRoles$1=[{value:"teacher",label:"Teacher",description:"Create and manage activities and lessons",icon:jsxRuntimeExports.jsx(GraduationCap,{className:"w-4 h-4"})},{value:"admin",label:"Administrator",description:"Full access to all features and user management",icon:jsxRuntimeExports.jsx(Shield,{className:"w-4 h-4"})},{value:"student",label:"Student",description:"View and participate in activities",icon:jsxRuntimeExports.jsx(User,{className:"w-4 h-4"})}];function CreateUserModal({isOpen:e,onClose:s,onCreate:i,editUser:a,loading:o}){const[c,d]=reactExports.useState({firstName:(a==null?void 0:a.firstName)||"",lastName:(a==null?void 0:a.lastName)||"",email:(a==null?void 0:a.email)||"",role:(a==null?void 0:a.role)||"teacher",organization:(a==null?void 0:a.organization)||"",isActive:(a==null?void 0:a.isActive)??!0}),_=async j=>{j.preventDefault(),await i(c),h()},h=()=>{d({firstName:"",lastName:"",email:"",role:"teacher",organization:"",isActive:!0}),s()};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-teal-600 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(User,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:a?"Edit User":"Create New User"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a?"Update user information":"Add a new user to the system"})]})]}),jsxRuntimeExports.jsx("button",{onClick:h,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:_,className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["First Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:c.firstName,onChange:j=>d({...c,firstName:j.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",placeholder:"John"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Last Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:c.lastName,onChange:j=>d({...c,lastName:j.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",placeholder:"Doe"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Email Address ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"email",required:!0,value:c.email,onChange:j=>d({...c,email:j.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200",placeholder:"john.doe@example.com"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:["Role ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:userRoles$1.map(j=>jsxRuntimeExports.jsxs("label",{className:"flex items-start cursor-pointer group",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"role",value:j.value,checked:c.role===j.value,onChange:$=>d({...c,role:$.target.value}),className:"w-4 h-4 text-blue-600 border-gray-300 dark:border-dark-600 rounded mt-1 focus:ring-blue-500 bg-white dark:bg-dark-700"}),jsxRuntimeExports.jsxs("div",{className:"ml-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400 dark:text-gray-500 group-hover:text-blue-500 dark:group-hover:text-blue-400 transition-colors",children:j.icon}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:j.label})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:j.description})]})]},j.value))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Organization"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Building,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",value:c.organization,onChange:j=>d({...c,organization:j.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200",placeholder:"School or organization name"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:c.isActive,onChange:j=>d({...c,isActive:j.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 dark:border-dark-600 rounded focus:ring-blue-500 bg-white dark:bg-dark-700"}),jsxRuntimeExports.jsxs("div",{className:"ml-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx(UserCheck,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Active Account"})]})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 ml-7",children:"Inactive users cannot sign in to the system"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:h,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:o,className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-blue-600 to-teal-600 text-white rounded-lg hover:from-blue-700 hover:to-teal-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg",children:[o?jsxRuntimeExports.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):jsxRuntimeExports.jsx(User,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:a?"Update User":"Create User"})]})]})]})]})}):null}function setRef(e,s){if(typeof e=="function")return e(s);e!=null&&(e.current=s)}function composeRefs(...e){return s=>{let i=!1;const a=e.map(o=>{const c=setRef(o,s);return!i&&typeof c=="function"&&(i=!0),c});if(i)return()=>{for(let o=0;o<a.length;o++){const c=a[o];typeof c=="function"?c():setRef(e[o],null)}}}}function createSlot(e){const s=createSlotClone(e),i=reactExports.forwardRef((a,o)=>{const{children:c,...d}=a,_=reactExports.Children.toArray(c),h=_.find(isSlottable);if(h){const j=h.props.children,$=_.map(it=>it===h?reactExports.Children.count(j)>1?reactExports.Children.only(null):reactExports.isValidElement(j)?j.props.children:null:it);return jsxRuntimeExports.jsx(s,{...d,ref:o,children:reactExports.isValidElement(j)?reactExports.cloneElement(j,void 0,$):null})}return jsxRuntimeExports.jsx(s,{...d,ref:o,children:c})});return i.displayName=`${e}.Slot`,i}var Slot=createSlot("Slot");function createSlotClone(e){const s=reactExports.forwardRef((i,a)=>{const{children:o,...c}=i;if(reactExports.isValidElement(o)){const d=getElementRef(o),_=mergeProps(c,o.props);return o.type!==reactExports.Fragment&&(_.ref=a?composeRefs(a,d):d),reactExports.cloneElement(o,_)}return reactExports.Children.count(o)>1?reactExports.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function isSlottable(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(e,s){const i={...s};for(const a in s){const o=e[a],c=s[a];/^on[A-Z]/.test(a)?o&&c?i[a]=(..._)=>{const h=c(..._);return o(..._),h}:o&&(i[a]=o):a==="style"?i[a]={...o,...c}:a==="className"&&(i[a]=[o,c].filter(Boolean).join(" "))}return{...e,...i}}function getElementRef(e){var a,o;let s=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,i=s&&"isReactWarning"in s&&s.isReactWarning;return i?e.ref:(s=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,i=s&&"isReactWarning"in s&&s.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}const falsyToString=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cx=clsx,cva=(e,s)=>i=>{var a;if((s==null?void 0:s.variants)==null)return cx(e,i==null?void 0:i.class,i==null?void 0:i.className);const{variants:o,defaultVariants:c}=s,d=Object.keys(o).map(j=>{const $=i==null?void 0:i[j],it=c==null?void 0:c[j];if($===null)return null;const ot=falsyToString($)||falsyToString(it);return o[j][ot]}),_=i&&Object.entries(i).reduce((j,$)=>{let[it,ot]=$;return ot===void 0||(j[it]=ot),j},{}),h=s==null||(a=s.compoundVariants)===null||a===void 0?void 0:a.reduce((j,$)=>{let{class:it,className:ot,...mt}=$;return Object.entries(mt).every(at=>{let[xt,lt]=at;return Array.isArray(lt)?lt.includes({...c,..._}[xt]):{...c,..._}[xt]===lt})?[...j,it,ot]:j},[]);return cx(e,d,h,i==null?void 0:i.class,i==null?void 0:i.className)},CLASS_PART_SEPARATOR="-",createClassGroupUtils=e=>{const s=createClassMap(e),{conflictingClassGroups:i,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:d=>{const _=d.split(CLASS_PART_SEPARATOR);return _[0]===""&&_.length!==1&&_.shift(),getGroupRecursive(_,s)||getGroupIdForArbitraryProperty(d)},getConflictingClassGroupIds:(d,_)=>{const h=i[d]||[];return _&&a[d]?[...h,...a[d]]:h}}},getGroupRecursive=(e,s)=>{var d;if(e.length===0)return s.classGroupId;const i=e[0],a=s.nextPart.get(i),o=a?getGroupRecursive(e.slice(1),a):void 0;if(o)return o;if(s.validators.length===0)return;const c=e.join(CLASS_PART_SEPARATOR);return(d=s.validators.find(({validator:_})=>_(c)))==null?void 0:d.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=e=>{if(arbitraryPropertyRegex.test(e)){const s=arbitraryPropertyRegex.exec(e)[1],i=s==null?void 0:s.substring(0,s.indexOf(":"));if(i)return"arbitrary.."+i}},createClassMap=e=>{const{theme:s,classGroups:i}=e,a={nextPart:new Map,validators:[]};for(const o in i)processClassesRecursively(i[o],a,o,s);return a},processClassesRecursively=(e,s,i,a)=>{e.forEach(o=>{if(typeof o=="string"){const c=o===""?s:getPart(s,o);c.classGroupId=i;return}if(typeof o=="function"){if(isThemeGetter(o)){processClassesRecursively(o(a),s,i,a);return}s.validators.push({validator:o,classGroupId:i});return}Object.entries(o).forEach(([c,d])=>{processClassesRecursively(d,getPart(s,c),i,a)})})},getPart=(e,s)=>{let i=e;return s.split(CLASS_PART_SEPARATOR).forEach(a=>{i.nextPart.has(a)||i.nextPart.set(a,{nextPart:new Map,validators:[]}),i=i.nextPart.get(a)}),i},isThemeGetter=e=>e.isThemeGetter,createLruCache=e=>{if(e<1)return{get:()=>{},set:()=>{}};let s=0,i=new Map,a=new Map;const o=(c,d)=>{i.set(c,d),s++,s>e&&(s=0,a=i,i=new Map)};return{get(c){let d=i.get(c);if(d!==void 0)return d;if((d=a.get(c))!==void 0)return o(c,d),d},set(c,d){i.has(c)?i.set(c,d):o(c,d)}}},IMPORTANT_MODIFIER="!",MODIFIER_SEPARATOR=":",MODIFIER_SEPARATOR_LENGTH=MODIFIER_SEPARATOR.length,createParseClassName=e=>{const{prefix:s,experimentalParseClassName:i}=e;let a=o=>{const c=[];let d=0,_=0,h=0,j;for(let at=0;at<o.length;at++){let xt=o[at];if(d===0&&_===0){if(xt===MODIFIER_SEPARATOR){c.push(o.slice(h,at)),h=at+MODIFIER_SEPARATOR_LENGTH;continue}if(xt==="/"){j=at;continue}}xt==="["?d++:xt==="]"?d--:xt==="("?_++:xt===")"&&_--}const $=c.length===0?o:o.substring(h),it=stripImportantModifier($),ot=it!==$,mt=j&&j>h?j-h:void 0;return{modifiers:c,hasImportantModifier:ot,baseClassName:it,maybePostfixModifierPosition:mt}};if(s){const o=s+MODIFIER_SEPARATOR,c=a;a=d=>d.startsWith(o)?c(d.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(i){const o=a;a=c=>i({className:c,parseClassName:o})}return a},stripImportantModifier=e=>e.endsWith(IMPORTANT_MODIFIER)?e.substring(0,e.length-1):e.startsWith(IMPORTANT_MODIFIER)?e.substring(1):e,createSortModifiers=e=>{const s=Object.fromEntries(e.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const o=[];let c=[];return a.forEach(d=>{d[0]==="["||s[d]?(o.push(...c.sort(),d),c=[]):c.push(d)}),o.push(...c.sort()),o}},createConfigUtils=e=>({cache:createLruCache(e.cacheSize),parseClassName:createParseClassName(e),sortModifiers:createSortModifiers(e),...createClassGroupUtils(e)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(e,s)=>{const{parseClassName:i,getClassGroupId:a,getConflictingClassGroupIds:o,sortModifiers:c}=s,d=[],_=e.trim().split(SPLIT_CLASSES_REGEX);let h="";for(let j=_.length-1;j>=0;j-=1){const $=_[j],{isExternal:it,modifiers:ot,hasImportantModifier:mt,baseClassName:at,maybePostfixModifierPosition:xt}=i($);if(it){h=$+(h.length>0?" "+h:h);continue}let lt=!!xt,b=a(lt?at.substring(0,xt):at);if(!b){if(!lt){h=$+(h.length>0?" "+h:h);continue}if(b=a(at),!b){h=$+(h.length>0?" "+h:h);continue}lt=!1}const _e=c(ot).join(":"),rt=mt?_e+IMPORTANT_MODIFIER:_e,dt=rt+b;if(d.includes(dt))continue;d.push(dt);const st=o(b,lt);for(let pt=0;pt<st.length;++pt){const g=st[pt];d.push(rt+g)}h=$+(h.length>0?" "+h:h)}return h};function twJoin(){let e=0,s,i,a="";for(;e<arguments.length;)(s=arguments[e++])&&(i=toValue(s))&&(a&&(a+=" "),a+=i);return a}const toValue=e=>{if(typeof e=="string")return e;let s,i="";for(let a=0;a<e.length;a++)e[a]&&(s=toValue(e[a]))&&(i&&(i+=" "),i+=s);return i};function createTailwindMerge(e,...s){let i,a,o,c=d;function d(h){const j=s.reduce(($,it)=>it($),e());return i=createConfigUtils(j),a=i.cache.get,o=i.cache.set,c=_,_(h)}function _(h){const j=a(h);if(j)return j;const $=mergeClassList(h,i);return o(h,$),$}return function(){return c(twJoin.apply(null,arguments))}}const fromTheme=e=>{const s=i=>i[e]||[];return s.isThemeGetter=!0,s},arbitraryValueRegex=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,arbitraryVariableRegex=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fractionRegex=/^\d+\/\d+$/,tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isFraction=e=>fractionRegex.test(e),isNumber=e=>!!e&&!Number.isNaN(Number(e)),isInteger=e=>!!e&&Number.isInteger(Number(e)),isPercent=e=>e.endsWith("%")&&isNumber(e.slice(0,-1)),isTshirtSize=e=>tshirtUnitRegex.test(e),isAny=()=>!0,isLengthOnly=e=>lengthUnitRegex.test(e)&&!colorFunctionRegex.test(e),isNever=()=>!1,isShadow=e=>shadowRegex.test(e),isImage=e=>imageRegex.test(e),isAnyNonArbitrary=e=>!isArbitraryValue(e)&&!isArbitraryVariable(e),isArbitrarySize=e=>getIsArbitraryValue(e,isLabelSize,isNever),isArbitraryValue=e=>arbitraryValueRegex.test(e),isArbitraryLength=e=>getIsArbitraryValue(e,isLabelLength,isLengthOnly),isArbitraryNumber=e=>getIsArbitraryValue(e,isLabelNumber,isNumber),isArbitraryPosition=e=>getIsArbitraryValue(e,isLabelPosition,isNever),isArbitraryImage=e=>getIsArbitraryValue(e,isLabelImage,isImage),isArbitraryShadow=e=>getIsArbitraryValue(e,isLabelShadow,isShadow),isArbitraryVariable=e=>arbitraryVariableRegex.test(e),isArbitraryVariableLength=e=>getIsArbitraryVariable(e,isLabelLength),isArbitraryVariableFamilyName=e=>getIsArbitraryVariable(e,isLabelFamilyName),isArbitraryVariablePosition=e=>getIsArbitraryVariable(e,isLabelPosition),isArbitraryVariableSize=e=>getIsArbitraryVariable(e,isLabelSize),isArbitraryVariableImage=e=>getIsArbitraryVariable(e,isLabelImage),isArbitraryVariableShadow=e=>getIsArbitraryVariable(e,isLabelShadow,!0),getIsArbitraryValue=(e,s,i)=>{const a=arbitraryValueRegex.exec(e);return a?a[1]?s(a[1]):i(a[2]):!1},getIsArbitraryVariable=(e,s,i=!1)=>{const a=arbitraryVariableRegex.exec(e);return a?a[1]?s(a[1]):i:!1},isLabelPosition=e=>e==="position"||e==="percentage",isLabelImage=e=>e==="image"||e==="url",isLabelSize=e=>e==="length"||e==="size"||e==="bg-size",isLabelLength=e=>e==="length",isLabelNumber=e=>e==="number",isLabelFamilyName=e=>e==="family-name",isLabelShadow=e=>e==="shadow",getDefaultConfig=()=>{const e=fromTheme("color"),s=fromTheme("font"),i=fromTheme("text"),a=fromTheme("font-weight"),o=fromTheme("tracking"),c=fromTheme("leading"),d=fromTheme("breakpoint"),_=fromTheme("container"),h=fromTheme("spacing"),j=fromTheme("radius"),$=fromTheme("shadow"),it=fromTheme("inset-shadow"),ot=fromTheme("text-shadow"),mt=fromTheme("drop-shadow"),at=fromTheme("blur"),xt=fromTheme("perspective"),lt=fromTheme("aspect"),b=fromTheme("ease"),_e=fromTheme("animate"),rt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],dt=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],st=()=>[...dt(),isArbitraryVariable,isArbitraryValue],pt=()=>["auto","hidden","clip","visible","scroll"],g=()=>["auto","contain","none"],tt=()=>[isArbitraryVariable,isArbitraryValue,h],ct=()=>[isFraction,"full","auto",...tt()],gt=()=>[isInteger,"none","subgrid",isArbitraryVariable,isArbitraryValue],nt=()=>["auto",{span:["full",isInteger,isArbitraryVariable,isArbitraryValue]},isInteger,isArbitraryVariable,isArbitraryValue],ft=()=>[isInteger,"auto",isArbitraryVariable,isArbitraryValue],vt=()=>["auto","min","max","fr",isArbitraryVariable,isArbitraryValue],Dt=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Tt=()=>["start","end","center","stretch","center-safe","end-safe"],Mt=()=>["auto",...tt()],kt=()=>[isFraction,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...tt()],Rt=()=>[e,isArbitraryVariable,isArbitraryValue],bt=()=>[...dt(),isArbitraryVariablePosition,isArbitraryPosition,{position:[isArbitraryVariable,isArbitraryValue]}],Nt=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Ft=()=>["auto","cover","contain",isArbitraryVariableSize,isArbitrarySize,{size:[isArbitraryVariable,isArbitraryValue]}],jt=()=>[isPercent,isArbitraryVariableLength,isArbitraryLength],ut=()=>["","none","full",j,isArbitraryVariable,isArbitraryValue],ht=()=>["",isNumber,isArbitraryVariableLength,isArbitraryLength],yt=()=>["solid","dashed","dotted","double"],St=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],At=()=>[isNumber,isPercent,isArbitraryVariablePosition,isArbitraryPosition],Ct=()=>["","none",at,isArbitraryVariable,isArbitraryValue],Ut=()=>["none",isNumber,isArbitraryVariable,isArbitraryValue],Wt=()=>["none",isNumber,isArbitraryVariable,isArbitraryValue],Qt=()=>[isNumber,isArbitraryVariable,isArbitraryValue],Zt=()=>[isFraction,"full",...tt()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[isTshirtSize],breakpoint:[isTshirtSize],color:[isAny],container:[isTshirtSize],"drop-shadow":[isTshirtSize],ease:["in","out","in-out"],font:[isAnyNonArbitrary],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[isTshirtSize],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[isTshirtSize],shadow:[isTshirtSize],spacing:["px",isNumber],text:[isTshirtSize],"text-shadow":[isTshirtSize],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",isFraction,isArbitraryValue,isArbitraryVariable,lt]}],container:["container"],columns:[{columns:[isNumber,isArbitraryValue,isArbitraryVariable,_]}],"break-after":[{"break-after":rt()}],"break-before":[{"break-before":rt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:st()}],overflow:[{overflow:pt()}],"overflow-x":[{"overflow-x":pt()}],"overflow-y":[{"overflow-y":pt()}],overscroll:[{overscroll:g()}],"overscroll-x":[{"overscroll-x":g()}],"overscroll-y":[{"overscroll-y":g()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ct()}],"inset-x":[{"inset-x":ct()}],"inset-y":[{"inset-y":ct()}],start:[{start:ct()}],end:[{end:ct()}],top:[{top:ct()}],right:[{right:ct()}],bottom:[{bottom:ct()}],left:[{left:ct()}],visibility:["visible","invisible","collapse"],z:[{z:[isInteger,"auto",isArbitraryVariable,isArbitraryValue]}],basis:[{basis:[isFraction,"full","auto",_,...tt()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[isNumber,isFraction,"auto","initial","none",isArbitraryValue]}],grow:[{grow:["",isNumber,isArbitraryVariable,isArbitraryValue]}],shrink:[{shrink:["",isNumber,isArbitraryVariable,isArbitraryValue]}],order:[{order:[isInteger,"first","last","none",isArbitraryVariable,isArbitraryValue]}],"grid-cols":[{"grid-cols":gt()}],"col-start-end":[{col:nt()}],"col-start":[{"col-start":ft()}],"col-end":[{"col-end":ft()}],"grid-rows":[{"grid-rows":gt()}],"row-start-end":[{row:nt()}],"row-start":[{"row-start":ft()}],"row-end":[{"row-end":ft()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":vt()}],"auto-rows":[{"auto-rows":vt()}],gap:[{gap:tt()}],"gap-x":[{"gap-x":tt()}],"gap-y":[{"gap-y":tt()}],"justify-content":[{justify:[...Dt(),"normal"]}],"justify-items":[{"justify-items":[...Tt(),"normal"]}],"justify-self":[{"justify-self":["auto",...Tt()]}],"align-content":[{content:["normal",...Dt()]}],"align-items":[{items:[...Tt(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Tt(),{baseline:["","last"]}]}],"place-content":[{"place-content":Dt()}],"place-items":[{"place-items":[...Tt(),"baseline"]}],"place-self":[{"place-self":["auto",...Tt()]}],p:[{p:tt()}],px:[{px:tt()}],py:[{py:tt()}],ps:[{ps:tt()}],pe:[{pe:tt()}],pt:[{pt:tt()}],pr:[{pr:tt()}],pb:[{pb:tt()}],pl:[{pl:tt()}],m:[{m:Mt()}],mx:[{mx:Mt()}],my:[{my:Mt()}],ms:[{ms:Mt()}],me:[{me:Mt()}],mt:[{mt:Mt()}],mr:[{mr:Mt()}],mb:[{mb:Mt()}],ml:[{ml:Mt()}],"space-x":[{"space-x":tt()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":tt()}],"space-y-reverse":["space-y-reverse"],size:[{size:kt()}],w:[{w:[_,"screen",...kt()]}],"min-w":[{"min-w":[_,"screen","none",...kt()]}],"max-w":[{"max-w":[_,"screen","none","prose",{screen:[d]},...kt()]}],h:[{h:["screen","lh",...kt()]}],"min-h":[{"min-h":["screen","lh","none",...kt()]}],"max-h":[{"max-h":["screen","lh",...kt()]}],"font-size":[{text:["base",i,isArbitraryVariableLength,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,isArbitraryVariable,isArbitraryNumber]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",isPercent,isArbitraryValue]}],"font-family":[{font:[isArbitraryVariableFamilyName,isArbitraryValue,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,isArbitraryVariable,isArbitraryValue]}],"line-clamp":[{"line-clamp":[isNumber,"none",isArbitraryVariable,isArbitraryNumber]}],leading:[{leading:[c,...tt()]}],"list-image":[{"list-image":["none",isArbitraryVariable,isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",isArbitraryVariable,isArbitraryValue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Rt()}],"text-color":[{text:Rt()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...yt(),"wavy"]}],"text-decoration-thickness":[{decoration:[isNumber,"from-font","auto",isArbitraryVariable,isArbitraryLength]}],"text-decoration-color":[{decoration:Rt()}],"underline-offset":[{"underline-offset":[isNumber,"auto",isArbitraryVariable,isArbitraryValue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:tt()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryVariable,isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryVariable,isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:bt()}],"bg-repeat":[{bg:Nt()}],"bg-size":[{bg:Ft()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},isInteger,isArbitraryVariable,isArbitraryValue],radial:["",isArbitraryVariable,isArbitraryValue],conic:[isInteger,isArbitraryVariable,isArbitraryValue]},isArbitraryVariableImage,isArbitraryImage]}],"bg-color":[{bg:Rt()}],"gradient-from-pos":[{from:jt()}],"gradient-via-pos":[{via:jt()}],"gradient-to-pos":[{to:jt()}],"gradient-from":[{from:Rt()}],"gradient-via":[{via:Rt()}],"gradient-to":[{to:Rt()}],rounded:[{rounded:ut()}],"rounded-s":[{"rounded-s":ut()}],"rounded-e":[{"rounded-e":ut()}],"rounded-t":[{"rounded-t":ut()}],"rounded-r":[{"rounded-r":ut()}],"rounded-b":[{"rounded-b":ut()}],"rounded-l":[{"rounded-l":ut()}],"rounded-ss":[{"rounded-ss":ut()}],"rounded-se":[{"rounded-se":ut()}],"rounded-ee":[{"rounded-ee":ut()}],"rounded-es":[{"rounded-es":ut()}],"rounded-tl":[{"rounded-tl":ut()}],"rounded-tr":[{"rounded-tr":ut()}],"rounded-br":[{"rounded-br":ut()}],"rounded-bl":[{"rounded-bl":ut()}],"border-w":[{border:ht()}],"border-w-x":[{"border-x":ht()}],"border-w-y":[{"border-y":ht()}],"border-w-s":[{"border-s":ht()}],"border-w-e":[{"border-e":ht()}],"border-w-t":[{"border-t":ht()}],"border-w-r":[{"border-r":ht()}],"border-w-b":[{"border-b":ht()}],"border-w-l":[{"border-l":ht()}],"divide-x":[{"divide-x":ht()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ht()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...yt(),"hidden","none"]}],"divide-style":[{divide:[...yt(),"hidden","none"]}],"border-color":[{border:Rt()}],"border-color-x":[{"border-x":Rt()}],"border-color-y":[{"border-y":Rt()}],"border-color-s":[{"border-s":Rt()}],"border-color-e":[{"border-e":Rt()}],"border-color-t":[{"border-t":Rt()}],"border-color-r":[{"border-r":Rt()}],"border-color-b":[{"border-b":Rt()}],"border-color-l":[{"border-l":Rt()}],"divide-color":[{divide:Rt()}],"outline-style":[{outline:[...yt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[isNumber,isArbitraryVariable,isArbitraryValue]}],"outline-w":[{outline:["",isNumber,isArbitraryVariableLength,isArbitraryLength]}],"outline-color":[{outline:Rt()}],shadow:[{shadow:["","none",$,isArbitraryVariableShadow,isArbitraryShadow]}],"shadow-color":[{shadow:Rt()}],"inset-shadow":[{"inset-shadow":["none",it,isArbitraryVariableShadow,isArbitraryShadow]}],"inset-shadow-color":[{"inset-shadow":Rt()}],"ring-w":[{ring:ht()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Rt()}],"ring-offset-w":[{"ring-offset":[isNumber,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":Rt()}],"inset-ring-w":[{"inset-ring":ht()}],"inset-ring-color":[{"inset-ring":Rt()}],"text-shadow":[{"text-shadow":["none",ot,isArbitraryVariableShadow,isArbitraryShadow]}],"text-shadow-color":[{"text-shadow":Rt()}],opacity:[{opacity:[isNumber,isArbitraryVariable,isArbitraryValue]}],"mix-blend":[{"mix-blend":[...St(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":St()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[isNumber]}],"mask-image-linear-from-pos":[{"mask-linear-from":At()}],"mask-image-linear-to-pos":[{"mask-linear-to":At()}],"mask-image-linear-from-color":[{"mask-linear-from":Rt()}],"mask-image-linear-to-color":[{"mask-linear-to":Rt()}],"mask-image-t-from-pos":[{"mask-t-from":At()}],"mask-image-t-to-pos":[{"mask-t-to":At()}],"mask-image-t-from-color":[{"mask-t-from":Rt()}],"mask-image-t-to-color":[{"mask-t-to":Rt()}],"mask-image-r-from-pos":[{"mask-r-from":At()}],"mask-image-r-to-pos":[{"mask-r-to":At()}],"mask-image-r-from-color":[{"mask-r-from":Rt()}],"mask-image-r-to-color":[{"mask-r-to":Rt()}],"mask-image-b-from-pos":[{"mask-b-from":At()}],"mask-image-b-to-pos":[{"mask-b-to":At()}],"mask-image-b-from-color":[{"mask-b-from":Rt()}],"mask-image-b-to-color":[{"mask-b-to":Rt()}],"mask-image-l-from-pos":[{"mask-l-from":At()}],"mask-image-l-to-pos":[{"mask-l-to":At()}],"mask-image-l-from-color":[{"mask-l-from":Rt()}],"mask-image-l-to-color":[{"mask-l-to":Rt()}],"mask-image-x-from-pos":[{"mask-x-from":At()}],"mask-image-x-to-pos":[{"mask-x-to":At()}],"mask-image-x-from-color":[{"mask-x-from":Rt()}],"mask-image-x-to-color":[{"mask-x-to":Rt()}],"mask-image-y-from-pos":[{"mask-y-from":At()}],"mask-image-y-to-pos":[{"mask-y-to":At()}],"mask-image-y-from-color":[{"mask-y-from":Rt()}],"mask-image-y-to-color":[{"mask-y-to":Rt()}],"mask-image-radial":[{"mask-radial":[isArbitraryVariable,isArbitraryValue]}],"mask-image-radial-from-pos":[{"mask-radial-from":At()}],"mask-image-radial-to-pos":[{"mask-radial-to":At()}],"mask-image-radial-from-color":[{"mask-radial-from":Rt()}],"mask-image-radial-to-color":[{"mask-radial-to":Rt()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":dt()}],"mask-image-conic-pos":[{"mask-conic":[isNumber]}],"mask-image-conic-from-pos":[{"mask-conic-from":At()}],"mask-image-conic-to-pos":[{"mask-conic-to":At()}],"mask-image-conic-from-color":[{"mask-conic-from":Rt()}],"mask-image-conic-to-color":[{"mask-conic-to":Rt()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:bt()}],"mask-repeat":[{mask:Nt()}],"mask-size":[{mask:Ft()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",isArbitraryVariable,isArbitraryValue]}],filter:[{filter:["","none",isArbitraryVariable,isArbitraryValue]}],blur:[{blur:Ct()}],brightness:[{brightness:[isNumber,isArbitraryVariable,isArbitraryValue]}],contrast:[{contrast:[isNumber,isArbitraryVariable,isArbitraryValue]}],"drop-shadow":[{"drop-shadow":["","none",mt,isArbitraryVariableShadow,isArbitraryShadow]}],"drop-shadow-color":[{"drop-shadow":Rt()}],grayscale:[{grayscale:["",isNumber,isArbitraryVariable,isArbitraryValue]}],"hue-rotate":[{"hue-rotate":[isNumber,isArbitraryVariable,isArbitraryValue]}],invert:[{invert:["",isNumber,isArbitraryVariable,isArbitraryValue]}],saturate:[{saturate:[isNumber,isArbitraryVariable,isArbitraryValue]}],sepia:[{sepia:["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-filter":[{"backdrop-filter":["","none",isArbitraryVariable,isArbitraryValue]}],"backdrop-blur":[{"backdrop-blur":Ct()}],"backdrop-brightness":[{"backdrop-brightness":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-contrast":[{"backdrop-contrast":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-invert":[{"backdrop-invert":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-opacity":[{"backdrop-opacity":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-saturate":[{"backdrop-saturate":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-sepia":[{"backdrop-sepia":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":tt()}],"border-spacing-x":[{"border-spacing-x":tt()}],"border-spacing-y":[{"border-spacing-y":tt()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",isArbitraryVariable,isArbitraryValue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[isNumber,"initial",isArbitraryVariable,isArbitraryValue]}],ease:[{ease:["linear","initial",b,isArbitraryVariable,isArbitraryValue]}],delay:[{delay:[isNumber,isArbitraryVariable,isArbitraryValue]}],animate:[{animate:["none",_e,isArbitraryVariable,isArbitraryValue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[xt,isArbitraryVariable,isArbitraryValue]}],"perspective-origin":[{"perspective-origin":st()}],rotate:[{rotate:Ut()}],"rotate-x":[{"rotate-x":Ut()}],"rotate-y":[{"rotate-y":Ut()}],"rotate-z":[{"rotate-z":Ut()}],scale:[{scale:Wt()}],"scale-x":[{"scale-x":Wt()}],"scale-y":[{"scale-y":Wt()}],"scale-z":[{"scale-z":Wt()}],"scale-3d":["scale-3d"],skew:[{skew:Qt()}],"skew-x":[{"skew-x":Qt()}],"skew-y":[{"skew-y":Qt()}],transform:[{transform:[isArbitraryVariable,isArbitraryValue,"","none","gpu","cpu"]}],"transform-origin":[{origin:st()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Zt()}],"translate-x":[{"translate-x":Zt()}],"translate-y":[{"translate-y":Zt()}],"translate-z":[{"translate-z":Zt()}],"translate-none":["translate-none"],accent:[{accent:Rt()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Rt()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryVariable,isArbitraryValue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":tt()}],"scroll-mx":[{"scroll-mx":tt()}],"scroll-my":[{"scroll-my":tt()}],"scroll-ms":[{"scroll-ms":tt()}],"scroll-me":[{"scroll-me":tt()}],"scroll-mt":[{"scroll-mt":tt()}],"scroll-mr":[{"scroll-mr":tt()}],"scroll-mb":[{"scroll-mb":tt()}],"scroll-ml":[{"scroll-ml":tt()}],"scroll-p":[{"scroll-p":tt()}],"scroll-px":[{"scroll-px":tt()}],"scroll-py":[{"scroll-py":tt()}],"scroll-ps":[{"scroll-ps":tt()}],"scroll-pe":[{"scroll-pe":tt()}],"scroll-pt":[{"scroll-pt":tt()}],"scroll-pr":[{"scroll-pr":tt()}],"scroll-pb":[{"scroll-pb":tt()}],"scroll-pl":[{"scroll-pl":tt()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryVariable,isArbitraryValue]}],fill:[{fill:["none",...Rt()]}],"stroke-w":[{stroke:[isNumber,isArbitraryVariableLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:["none",...Rt()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...e){return twMerge(clsx(e))}const buttonVariants=cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button=reactExports.forwardRef(({className:e,variant:s,size:i,asChild:a=!1,...o},c)=>{const d=a?Slot:"button";return jsxRuntimeExports.jsx(d,{className:cn(buttonVariants({variant:s,size:i,className:e})),ref:c,...o})});Button.displayName="Button";const Card=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("div",{ref:i,className:cn("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));Card.displayName="Card";const CardHeader=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("div",{ref:i,className:cn("flex flex-col space-y-1.5 p-6",e),...s}));CardHeader.displayName="CardHeader";const CardTitle=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("h3",{ref:i,className:cn("text-2xl font-semibold leading-none tracking-tight",e),...s}));CardTitle.displayName="CardTitle";const CardDescription=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("p",{ref:i,className:cn("text-sm text-muted-foreground",e),...s}));CardDescription.displayName="CardDescription";const CardContent=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("div",{ref:i,className:cn("p-6 pt-0",e),...s}));CardContent.displayName="CardContent";const CardFooter=reactExports.forwardRef(({className:e,...s},i)=>jsxRuntimeExports.jsx("div",{ref:i,className:cn("flex items-center p-6 pt-0",e),...s}));CardFooter.displayName="CardFooter";const LandingPage=({onSignIn:e,onSignUp:s,onShowLessons:i})=>{const a=[{icon:Target,title:"Purpose-Driven",description:"Every lesson is designed with clear learning objectives and outcomes in mind."},{icon:Heart,title:"Inclusive Learning",description:"We believe drama education should be accessible to students of all backgrounds and abilities."},{icon:Award,title:"Quality Content",description:"Our lessons are crafted by experienced educators and continuously refined."}];return jsxRuntimeExports.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-purple-500/20 rounded-full mix-blend-multiply filter blur-xl animate-float",style:{animationDelay:"0s"}}),jsxRuntimeExports.jsx("div",{className:"absolute top-40 right-10 w-72 h-72 bg-pink-500/20 rounded-full mix-blend-multiply filter blur-xl animate-float",style:{animationDelay:"2s"}}),jsxRuntimeExports.jsx("div",{className:"absolute -top-8 left-1/2 w-72 h-72 bg-yellow-500/20 rounded-full mix-blend-multiply filter blur-xl animate-float",style:{animationDelay:"4s"}})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.8)), url('juliet.png')"}}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"p-6 flex justify-between items-center backdrop-blur-sm bg-white/5 border-b border-white/10",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 group",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Theater,{className:"w-8 h-8 text-purple-400 group-hover:text-purple-300 transition-all duration-300 group-hover:scale-110"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-purple-400/20 rounded-full blur-md group-hover:bg-purple-300/30 transition-all duration-300"})]}),jsxRuntimeExports.jsx("span",{className:"text-2xl font-bold text-white group-hover:text-purple-100 transition-colors duration-300",children:"JulietLessons"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",onClick:e,className:"text-white hover:bg-white/10 border border-white/20 hover:border-white/40 transition-all duration-300 hover:scale-105 backdrop-blur-sm",children:"Sign In"}),jsxRuntimeExports.jsx(Button,{onClick:s,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white shadow-lg hover:shadow-purple-500/25 transition-all duration-300 hover:scale-105",children:"Sign Up"})]})]}),jsxRuntimeExports.jsx("main",{className:"flex-1 flex items-center justify-center px-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8 animate-fade-in",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(GraduationCap,{className:"w-12 h-12 text-purple-400 animate-float"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-purple-400/30 blur-lg rounded-full animate-pulse"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-8 h-8 text-yellow-400 animate-bounce"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-yellow-400/30 blur-md rounded-full animate-ping"})]})]}),jsxRuntimeExports.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white mb-6 leading-tight",children:[jsxRuntimeExports.jsx("span",{className:"inline-block hover:scale-105 transition-transform duration-300",children:"Craft"})," ",jsxRuntimeExports.jsx("span",{className:"inline-block hover:scale-105 transition-transform duration-300",children:"Perfect"}),jsxRuntimeExports.jsx("span",{className:"block bg-gradient-to-r from-purple-400 via-pink-400 to-yellow-400 bg-clip-text text-transparent animate-pulse",children:"Drama Lessons"})]}),jsxRuntimeExports.jsx("p",{className:"text-xl md:text-2xl text-gray-200 mb-8 leading-relaxed max-w-3xl mx-auto hover:text-white transition-colors duration-300",children:"Generate engaging, structured drama lessons tailored to your students' experience level. From warm-ups to cool-downs, create the perfect theatrical learning experience."})]}),jsxRuntimeExports.jsx("div",{className:"animate-fade-in mb-16",style:{animationDelay:"0.3s"},children:jsxRuntimeExports.jsxs(Button,{onClick:i,size:"lg",className:"relative bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white text-lg px-12 py-4 h-auto font-semibold shadow-2xl transform hover:scale-110 transition-all duration-300 overflow-hidden group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400 to-pink-400 opacity-0 group-hover:opacity-20 transition-opacity duration-300"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-white/10 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700 skew-x-12"}),jsxRuntimeExports.jsx(Theater,{className:"w-6 h-6 mr-3 group-hover:rotate-12 transition-transform duration-300"}),jsxRuntimeExports.jsx("span",{className:"relative z-10",children:"Generate Lessons"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-md bg-purple-500/20 blur-xl group-hover:bg-purple-400/40 transition-all duration-300"})]})}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-3 gap-8 animate-fade-in",style:{animationDelay:"0.6s"},children:[jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-6 rounded-lg border border-white/10 hover:border-purple-400/50 transition-all duration-300 hover:scale-105 hover:shadow-2xl hover:shadow-purple-500/20",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-purple-500/40 transition-all duration-300 group-hover:scale-110",children:jsxRuntimeExports.jsx(GraduationCap,{className:"w-6 h-6 text-purple-400 group-hover:text-purple-300"})}),jsxRuntimeExports.jsx("h3",{className:"text-white font-semibold mb-2 group-hover:text-purple-200 transition-colors",children:"Level-Based"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm group-hover:text-white transition-colors",children:"Activities matched to your students' experience level"})]}),jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-6 rounded-lg border border-white/10 hover:border-pink-400/50 transition-all duration-300 hover:scale-105 hover:shadow-2xl hover:shadow-pink-500/20",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-pink-500/20 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-pink-500/40 transition-all duration-300 group-hover:scale-110",children:jsxRuntimeExports.jsx(Theater,{className:"w-6 h-6 text-pink-400 group-hover:text-pink-300"})}),jsxRuntimeExports.jsx("h3",{className:"text-white font-semibold mb-2 group-hover:text-pink-200 transition-colors",children:"Structured Flow"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm group-hover:text-white transition-colors",children:"Warm-up, main activity, and cool-down sequences"})]}),jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-6 rounded-lg border border-white/10 hover:border-yellow-400/50 transition-all duration-300 hover:scale-105 hover:shadow-2xl hover:shadow-yellow-500/20",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-yellow-500/20 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-yellow-500/40 transition-all duration-300 group-hover:scale-110",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-6 h-6 text-yellow-400 group-hover:text-yellow-300"})}),jsxRuntimeExports.jsx("h3",{className:"text-white font-semibold mb-2 group-hover:text-yellow-200 transition-colors",children:"Instant Generation"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm group-hover:text-white transition-colors",children:"Get complete lesson plans in seconds"})]})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 bg-gradient-to-b from-transparent via-background/80 to-background",children:[jsxRuntimeExports.jsxs("section",{className:"py-16 px-6 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-900/10 to-pink-900/10 backdrop-blur-sm"}),jsxRuntimeExports.jsx("div",{className:"container mx-auto max-w-4xl relative z-10",children:jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-purple-500/30 hover:border-purple-400/50 transition-all duration-500 hover:scale-[1.02] hover:shadow-2xl hover:shadow-purple-500/20",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-3xl gradient-text text-center animate-fade-in",children:jsxRuntimeExports.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-white text-center",children:["Our ",jsxRuntimeExports.jsx("span",{className:"bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Story"})]})})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-6 text-lg leading-relaxed",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-300 hover:text-purple-100 transition-colors duration-300",children:"Born from the collaboration between seasoned drama educators and innovative technologists, our platform addresses a critical need in the creative education space: the time-consuming process of developing structured, engaging drama lessons."}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 hover:text-purple-100 transition-colors duration-300",children:"We recognized that while drama teachers are incredibly creative and passionate, they often struggle with the administrative burden of lesson planning, especially when trying to adapt content for different age groups and skill levels."}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 hover:text-purple-100 transition-colors duration-300",children:"Our AI-powered lesson generator doesn't replace the educator's creativity—it amplifies it, providing a structured foundation that teachers can build upon and customize for their unique classroom needs."})]})]})})]}),jsxRuntimeExports.jsxs("section",{className:"py-16 px-6 bg-gradient-to-br from-purple-50/5 to-pink-50/5 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 backdrop-blur-sm"}),jsxRuntimeExports.jsxs("div",{className:"container mx-auto max-w-6xl relative z-10",children:[jsxRuntimeExports.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-8 text-center",children:["Our ",jsxRuntimeExports.jsx("span",{className:"bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Values"})]}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:a.map((o,c)=>jsxRuntimeExports.jsxs(Card,{className:"group glass-effect border-purple-500/30 text-center hover:border-purple-400/50 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-purple-500/20",style:{animationDelay:`${c*.2}s`},children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-purple-500/20 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-purple-500/40 transition-all duration-300 group-hover:scale-110 group-hover:rotate-12",children:jsxRuntimeExports.jsx(o.icon,{className:"w-8 h-8 text-purple-400 group-hover:text-purple-300"})}),jsxRuntimeExports.jsx(CardTitle,{className:"text-xl text-gray-100 group-hover:text-purple-200 transition-colors",children:o.title})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-gray-300 group-hover:text-white transition-colors",children:o.description})})]},c))})]})]}),jsxRuntimeExports.jsxs("section",{className:"py-24 px-6 relative overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-gradient-to-r from-purple-500/20 to-blue-500/20 rounded-full mix-blend-multiply filter blur-3xl animate-pulse-slow"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-gradient-to-r from-pink-500/20 to-violet-500/20 rounded-full mix-blend-multiply filter blur-3xl animate-pulse-slow",style:{animationDelay:"2s"}}),jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-gradient-to-r from-yellow-500/10 to-orange-500/10 rounded-full mix-blend-multiply filter blur-2xl animate-bounce-slow"})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-10",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-12 gap-4 h-full",children:Array.from({length:144}).map((o,c)=>jsxRuntimeExports.jsx("div",{className:"bg-white/5 rounded animate-shimmer",style:{animationDelay:`${c%12*.1}s`}},c))})}),jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto relative z-10",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-20",children:[jsxRuntimeExports.jsxs("div",{className:"relative inline-block mb-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-5xl md:text-6xl font-bold text-white animate-fade-in relative z-10",children:["How It"," ",jsxRuntimeExports.jsxs("span",{className:"relative",children:[jsxRuntimeExports.jsx("span",{className:"rounded-md px-2 bg-gradient-to-r from-purple-400 via-pink-400 to-yellow-400 bg-clip-text text-transparent animate-glow",children:"Works"}),jsxRuntimeExports.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-purple-400/30 via-pink-400/30 to-yellow-400/30 blur-xl rounded-lg animate-pulse"})]})]}),jsxRuntimeExports.jsx("div",{className:"absolute -top-4 -right-4",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-8 h-8 text-yellow-400 animate-spin",style:{animationDuration:"3s"}})}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-2 -left-6",children:jsxRuntimeExports.jsx(Zap,{className:"w-6 h-6 text-purple-400 animate-bounce"})})]}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed animate-fade-in",style:{animationDelay:"0.3s"},children:"Creating professional drama lessons has never been easier. Follow these simple steps to transform your teaching experience."})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-3 gap-16",children:[jsxRuntimeExports.jsxs("div",{className:"text-center group animate-fade-in relative",style:{animationDelay:"0.4s"},children:[jsxRuntimeExports.jsxs("div",{className:"relative mb-8",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/20 to-purple-600/20 rounded-full blur-2xl group-hover:blur-xl transition-all duration-500 animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-2 bg-gradient-to-r from-purple-400/10 to-purple-500/10 rounded-full blur-xl group-hover:blur-lg transition-all duration-500"}),jsxRuntimeExports.jsxs("div",{className:"relative w-24 h-24 bg-gradient-to-br from-purple-600 via-purple-700 to-purple-800 rounded-full flex items-center justify-center mx-auto group-hover:scale-125 transition-all duration-500 shadow-2xl group-hover:shadow-purple-500/50 border-2 border-purple-400/30 group-hover:border-purple-300/60",children:[jsxRuntimeExports.jsx("span",{className:"text-3xl font-bold text-white relative z-10 group-hover:scale-110 transition-transform duration-300",children:"1"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent rounded-full"})]}),jsxRuntimeExports.jsx("div",{className:"absolute -top-2 -right-2 w-3 h-3 bg-purple-400 rounded-full animate-ping"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-1 -left-3 w-2 h-2 bg-pink-400 rounded-full animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 -right-4 w-1 h-1 bg-yellow-400 rounded-full animate-bounce"})]}),jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-semibold text-white mb-6 group-hover:text-purple-200 transition-colors duration-300 relative",children:["Choose Your Settings",jsxRuntimeExports.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-0 h-0.5 bg-gradient-to-r from-purple-400 to-pink-400 group-hover:w-full transition-all duration-500"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors duration-300 leading-relaxed",children:"Select age group, experience level, and lesson focus to customize your drama activities with precision."})]}),jsxRuntimeExports.jsxs("div",{className:"text-center group animate-fade-in relative",style:{animationDelay:"0.6s"},children:[jsxRuntimeExports.jsxs("div",{className:"relative mb-8",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-500/20 to-pink-600/20 rounded-full blur-2xl group-hover:blur-xl transition-all duration-500 animate-pulse",style:{animationDelay:"1s"}}),jsxRuntimeExports.jsx("div",{className:"absolute inset-2 bg-gradient-to-r from-pink-400/10 to-pink-500/10 rounded-full blur-xl group-hover:blur-lg transition-all duration-500"}),jsxRuntimeExports.jsxs("div",{className:"relative w-24 h-24 bg-gradient-to-br from-pink-600 via-pink-700 to-pink-800 rounded-full flex items-center justify-center mx-auto group-hover:scale-125 transition-all duration-500 shadow-2xl group-hover:shadow-pink-500/50 border-2 border-pink-400/30 group-hover:border-pink-300/60",children:[jsxRuntimeExports.jsx("span",{className:"text-3xl font-bold text-white relative z-10 group-hover:scale-110 transition-transform duration-300",children:"2"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent rounded-full"})]}),jsxRuntimeExports.jsx("div",{className:"absolute -top-3 -left-2 w-3 h-3 bg-pink-400 rounded-full animate-ping",style:{animationDelay:"0.5s"}}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-2 -right-2 w-2 h-2 bg-purple-400 rounded-full animate-pulse",style:{animationDelay:"1s"}}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-1 h-1 bg-yellow-400 rounded-full animate-bounce",style:{animationDelay:"1.5s"}})]}),jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-semibold text-white mb-6 group-hover:text-pink-200 transition-colors duration-300 relative",children:["Generate Instantly",jsxRuntimeExports.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-0 h-0.5 bg-gradient-to-r from-pink-400 to-yellow-400 group-hover:w-full transition-all duration-500"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors duration-300 leading-relaxed",children:"Our AI creates a complete lesson plan with warm-ups, main activities, and cool-downs in seconds."})]}),jsxRuntimeExports.jsxs("div",{className:"text-center group animate-fade-in relative",style:{animationDelay:"0.8s"},children:[jsxRuntimeExports.jsxs("div",{className:"relative mb-8",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/20 to-yellow-600/20 rounded-full blur-2xl group-hover:blur-xl transition-all duration-500 animate-pulse",style:{animationDelay:"2s"}}),jsxRuntimeExports.jsx("div",{className:"absolute inset-2 bg-gradient-to-r from-yellow-400/10 to-yellow-500/10 rounded-full blur-xl group-hover:blur-lg transition-all duration-500"}),jsxRuntimeExports.jsxs("div",{className:"relative w-24 h-24 bg-gradient-to-br from-yellow-600 via-yellow-700 to-yellow-800 rounded-full flex items-center justify-center mx-auto group-hover:scale-125 transition-all duration-500 shadow-2xl group-hover:shadow-yellow-500/50 border-2 border-yellow-400/30 group-hover:border-yellow-300/60",children:[jsxRuntimeExports.jsx("span",{className:"text-3xl font-bold text-white relative z-10 group-hover:scale-110 transition-transform duration-300",children:"3"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent rounded-full"})]}),jsxRuntimeExports.jsx("div",{className:"absolute -top-1 -right-3 w-3 h-3 bg-yellow-400 rounded-full animate-ping",style:{animationDelay:"1s"}}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-3 -left-1 w-2 h-2 bg-orange-400 rounded-full animate-pulse",style:{animationDelay:"1.5s"}}),jsxRuntimeExports.jsx("div",{className:"absolute top-1/4 -left-4 w-1 h-1 bg-pink-400 rounded-full animate-bounce",style:{animationDelay:"2s"}})]}),jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-semibold text-white mb-6 group-hover:text-yellow-200 transition-colors duration-300 relative",children:["Teach & Engage",jsxRuntimeExports.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-0 h-0.5 bg-gradient-to-r from-yellow-400 to-orange-400 group-hover:w-full transition-all duration-500"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors duration-300 leading-relaxed",children:"Use your personalized lesson plan to create memorable theatrical experiences for your students."})]})]}),jsxRuntimeExports.jsx("div",{className:"hidden md:block absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full max-w-4xl",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-1/6 w-1/3 h-0.5 bg-gradient-to-r from-purple-400/50 to-pink-400/50 animate-shimmer"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-1/6 w-1/3 h-0.5 bg-gradient-to-r from-pink-400/50 to-yellow-400/50 animate-shimmer",style:{animationDelay:"1s"}})]})})]})]}),jsxRuntimeExports.jsxs("section",{className:"py-24 px-6 bg-gradient-to-r from-purple-900/20 to-pink-900/20 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 backdrop-blur-sm"}),jsxRuntimeExports.jsx("div",{className:"max-w-6xl mx-auto relative z-10",children:jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"animate-fade-in",children:[jsxRuntimeExports.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-8",children:["Why Choose ",jsxRuntimeExports.jsx("span",{className:"bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"JulietLessons?"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 group",children:[jsxRuntimeExports.jsx(CheckCircle,{className:"w-6 h-6 text-green-400 mt-1 flex-shrink-0 group-hover:scale-110 transition-transform duration-300"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2 group-hover:text-green-200 transition-colors",children:"Save Hours of Planning"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Generate complete lesson plans in seconds instead of spending hours researching and planning."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 group",children:[jsxRuntimeExports.jsx(CheckCircle,{className:"w-6 h-6 text-green-400 mt-1 flex-shrink-0 group-hover:scale-110 transition-transform duration-300"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2 group-hover:text-green-200 transition-colors",children:"Age-Appropriate Content"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Every activity is carefully tailored to your students' age group and experience level."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 group",children:[jsxRuntimeExports.jsx(CheckCircle,{className:"w-6 h-6 text-green-400 mt-1 flex-shrink-0 group-hover:scale-110 transition-transform duration-300"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2 group-hover:text-green-200 transition-colors",children:"Professional Structure"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Each lesson follows proven pedagogical principles with clear warm-up, main, and cool-down phases."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 group",children:[jsxRuntimeExports.jsx(CheckCircle,{className:"w-6 h-6 text-green-400 mt-1 flex-shrink-0 group-hover:scale-110 transition-transform duration-300"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2 group-hover:text-green-200 transition-colors",children:"Endless Variety"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Never run out of fresh ideas with our vast database of drama activities and exercises."})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-6 rounded-lg border border-white/10 hover:border-purple-400/50 transition-all duration-300 hover:scale-105 hover:shadow-xl hover:shadow-purple-500/20",children:[jsxRuntimeExports.jsx(Clock,{className:"w-10 h-10 text-purple-400 mb-4 group-hover:scale-110 transition-transform duration-300"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mb-2 group-hover:text-purple-200 transition-colors",children:"Immediately"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Create a complete lesson using auto generation"})]}),jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-6 rounded-lg border border-white/10 hover:border-pink-400/50 transition-all duration-300 hover:scale-105 hover:shadow-xl hover:shadow-pink-500/20",children:[jsxRuntimeExports.jsx(Users,{className:"w-10 h-10 text-pink-400 mb-4 group-hover:scale-110 transition-transform duration-300"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mb-2 group-hover:text-pink-200 transition-colors",children:"10K+"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Educators using our platform"})]}),jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-6 rounded-lg border border-white/10 hover:border-yellow-400/50 transition-all duration-300 hover:scale-105 hover:shadow-xl hover:shadow-yellow-500/20",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-10 h-10 text-yellow-400 mb-4 group-hover:scale-110 transition-transform duration-300"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mb-2 group-hover:text-yellow-200 transition-colors",children:"500+"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Unique drama activities"})]}),jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-6 rounded-lg border border-white/10 hover:border-green-400/50 transition-all duration-300 hover:scale-105 hover:shadow-xl hover:shadow-green-500/20",children:[jsxRuntimeExports.jsx(Star,{className:"w-10 h-10 text-green-400 mb-4 group-hover:scale-110 transition-transform duration-300"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mb-2 group-hover:text-green-200 transition-colors",children:"4.9/5"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Average user rating"})]})]})]})})]}),jsxRuntimeExports.jsxs("section",{className:"py-24 px-6 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900/10 to-pink-900/10"}),jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto relative z-10",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-16",children:[jsxRuntimeExports.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6 animate-fade-in",children:["What Educators ",jsxRuntimeExports.jsx("span",{className:"bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Say"})]}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Join thousands of drama teachers who are transforming their lesson planning."})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-8 rounded-lg border border-white/10 hover:border-purple-400/50 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-purple-500/20 animate-fade-in",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((o,c)=>jsxRuntimeExports.jsx(Star,{className:"w-5 h-5 text-yellow-400 fill-current group-hover:scale-110 transition-transform duration-300",style:{transitionDelay:`${c*.1}s`}},c))}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 mb-6 italic group-hover:text-white transition-colors",children:'"JulietLessons has revolutionized my teaching. I can create engaging lessons in minutes instead of hours. My students love the variety!"'}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:jsxRuntimeExports.jsx("span",{className:"text-white font-bold",children:"SM"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-white font-semibold group-hover:text-purple-200 transition-colors",children:"Sarah Mitchell"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm group-hover:text-gray-300 transition-colors",children:"High School Drama Teacher"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-8 rounded-lg border border-white/10 hover:border-pink-400/50 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-pink-500/20 animate-fade-in",style:{animationDelay:"0.2s"},children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((o,c)=>jsxRuntimeExports.jsx(Star,{className:"w-5 h-5 text-yellow-400 fill-current group-hover:scale-110 transition-transform duration-300",style:{transitionDelay:`${c*.1}s`}},c))}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 mb-6 italic group-hover:text-white transition-colors",children:'"The age-appropriate content is spot on. Every lesson is perfectly structured and my elementary students are always engaged."'}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-pink-600 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:jsxRuntimeExports.jsx("span",{className:"text-white font-bold",children:"MR"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-white font-semibold group-hover:text-pink-200 transition-colors",children:"Michael Rodriguez"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm group-hover:text-gray-300 transition-colors",children:"Elementary Arts Coordinator"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-8 rounded-lg border border-white/10 hover:border-yellow-400/50 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-yellow-500/20 animate-fade-in",style:{animationDelay:"0.4s"},children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((o,c)=>jsxRuntimeExports.jsx(Star,{className:"w-5 h-5 text-yellow-400 fill-current group-hover:scale-110 transition-transform duration-300",style:{transitionDelay:`${c*.1}s`}},c))}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 mb-6 italic group-hover:text-white transition-colors",children:'"As a new teacher, this platform gave me the confidence to deliver professional drama lessons from day one. Absolutely incredible!"'}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-yellow-600 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:jsxRuntimeExports.jsx("span",{className:"text-white font-bold",children:"EL"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-white font-semibold group-hover:text-yellow-200 transition-colors",children:"Emily Lane"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm group-hover:text-gray-300 transition-colors",children:"Community Theater Director"})]})]})]})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"py-24 px-6 bg-gradient-to-r from-purple-900/40 to-pink-900/40 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 backdrop-blur-sm"}),jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[jsxRuntimeExports.jsxs("h2",{className:"text-4xl md:text-6xl font-bold text-white mb-6 animate-fade-in",children:["Ready to Transform Your",jsxRuntimeExports.jsx("span",{className:"block bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent animate-pulse",children:"Drama Teaching?"})]}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"Join thousands of educators who are already creating amazing drama lessons with our AI-powered platform."}),jsxRuntimeExports.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:jsxRuntimeExports.jsxs(Button,{onClick:i,size:"lg",className:"relative bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white text-xl px-12 py-6 h-auto font-semibold shadow-2xl transform hover:scale-110 transition-all duration-300 overflow-hidden group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400 to-pink-400 opacity-0 group-hover:opacity-30 transition-opacity duration-300"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-white/10 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700 skew-x-12"}),jsxRuntimeExports.jsx(Theater,{className:"w-6 h-6 mr-3 group-hover:rotate-12 transition-transform duration-300"}),jsxRuntimeExports.jsx("span",{className:"relative z-10",children:"Generate Lessons"}),jsxRuntimeExports.jsx(ArrowRight,{className:"w-6 h-6 ml-3 group-hover:translate-x-2 transition-transform duration-300"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-md bg-purple-500/20 blur-xl group-hover:bg-purple-400/40 transition-all duration-300"})]})})]})]}),jsxRuntimeExports.jsxs("footer",{className:"p-6 text-center border-t border-white/10 backdrop-blur-sm bg-white/5",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-6 mb-4",children:[jsxRuntimeExports.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-all duration-300 hover:scale-105",children:"Home"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"•"}),jsxRuntimeExports.jsx("a",{href:"#",onClick:e,className:"text-gray-400 hover:text-white transition-all duration-300 hover:scale-105",children:"Sign In"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"•"}),jsxRuntimeExports.jsx("a",{href:"#",onClick:s,className:"text-gray-400 hover:text-white transition-all duration-300 hover:scale-105",children:"Sign Up"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm hover:text-white transition-colors duration-300",children:"Empowering drama educators with intelligent lesson planning"})]})]})]})},userRoles=[{value:"teacher",label:"Teacher",description:"Create and manage activities and lessons"},{value:"student",label:"Student",description:"View and participate in activities"}];function AuthModal({isOpen:e,onClose:s,mode:i,onModeChange:a,onSignIn:o,onSignUp:c,loading:d,error:_}){const[h,j]=reactExports.useState(!1),[$,it]=reactExports.useState({email:"",password:"",firstName:"",lastName:"",role:"teacher",organization:""}),ot=async lt=>{lt.preventDefault(),i==="signin"?await o({email:$.email,password:$.password}):await c({email:$.email,password:$.password,firstName:$.firstName,lastName:$.lastName,role:$.role,organization:$.organization||void 0})},mt=()=>{it({email:"",password:"",firstName:"",lastName:"",role:"teacher",organization:""}),j(!1)},at=lt=>{mt(),a(lt)},xt=()=>{mt(),s()};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-teal-600 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(User,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:i==="signin"?"Welcome Back":"Join JulietLessons"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:i==="signin"?"Sign in to your account":"Create your account to get started"})]})]}),jsxRuntimeExports.jsx("button",{onClick:xt,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})]}),_&&jsxRuntimeExports.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border-b border-red-100 dark:border-red-800",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-red-800 dark:text-red-300",children:_})}),jsxRuntimeExports.jsxs("form",{onSubmit:ot,className:"p-6 space-y-4",children:[i==="signup"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["First Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:$.firstName,onChange:lt=>it({...$,firstName:lt.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",placeholder:"John"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Last Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:$.lastName,onChange:lt=>it({...$,lastName:lt.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",placeholder:"Doe"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Role ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:userRoles.map(lt=>jsxRuntimeExports.jsxs("label",{className:"flex items-start cursor-pointer group",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"role",value:lt.value,checked:$.role===lt.value,onChange:b=>it({...$,role:b.target.value}),className:"w-4 h-4 text-blue-600 border-gray-300 dark:border-dark-600 rounded mt-1 focus:ring-blue-500 bg-white dark:bg-dark-700 transition-colors duration-200"}),jsxRuntimeExports.jsxs("div",{className:"ml-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(UserCheck,{className:"w-4 h-4 text-gray-400 dark:text-gray-500 group-hover:text-blue-500 dark:group-hover:text-blue-400"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:lt.label})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:lt.description})]})]},lt.value))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Organization"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Building,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",value:$.organization,onChange:lt=>it({...$,organization:lt.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200",placeholder:"Your school or organization"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Email Address ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"email",required:!0,value:$.email,onChange:lt=>it({...$,email:lt.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200",placeholder:"you@example.com"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Password ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Lock,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:h?"text":"password",required:!0,value:$.password,onChange:lt=>it({...$,password:lt.target.value}),className:"w-full pl-10 pr-12 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200",placeholder:i==="signin"?"Enter your password":"Create a password (min 6 characters)",minLength:i==="signup"?6:void 0}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>j(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:h?jsxRuntimeExports.jsx(EyeOff,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"})})]}),i==="signup"&&jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Password must be at least 6 characters long"})]}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:d,className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-teal-600 text-white py-3 rounded-lg hover:from-blue-700 hover:to-teal-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg",children:[d?jsxRuntimeExports.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):jsxRuntimeExports.jsx(User,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:d?i==="signin"?"Signing In...":"Creating Account...":i==="signin"?"Sign In":"Create Account"})]})]}),jsxRuntimeExports.jsx("div",{className:"p-6 bg-gray-50 dark:bg-dark-700 border-t border-gray-200 dark:border-dark-600 rounded-b-xl transition-colors duration-200",children:jsxRuntimeExports.jsxs("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:[i==="signin"?"Don't have an account? ":"Already have an account? ",jsxRuntimeExports.jsx("button",{onClick:()=>at(i==="signin"?"signup":"signin"),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-medium transition-colors",children:i==="signin"?"Sign up":"Sign in"})]})})]})}):null}const LandingPageWrapper=()=>{const[e,s]=useAtom(showAuthModalAtom),[i,a]=useAtom(authModeAtom),[o,c]=useAtom(authStateAtom),d=()=>{a("signin"),s(!0)},_=()=>{a("signup"),s(!0)},h=()=>{a("signin"),s(!0)},j=async it=>{c(ot=>({...ot,isLoading:!0,error:null}));try{const{user:ot}=await AuthService.signIn(it);try{const mt=await StripeService.getUserSubscription(ot.id);c({user:{...ot,subscription:mt||void 0},isAuthenticated:!0,isLoading:!1,error:null})}catch{c({user:ot,isAuthenticated:!0,isLoading:!1,error:null})}s(!1)}catch(ot){c(mt=>({...mt,isLoading:!1,error:ot instanceof Error?ot.message:"Sign in failed"}))}},$=async it=>{c(ot=>({...ot,isLoading:!0,error:null}));try{const{user:ot}=await AuthService.signUp(it);c({user:ot,isAuthenticated:!0,isLoading:!1,error:null}),s(!1)}catch(ot){c(mt=>({...mt,isLoading:!1,error:ot instanceof Error?ot.message:"Sign up failed"}))}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LandingPage,{onSignIn:d,onSignUp:_,onShowLessons:h}),jsxRuntimeExports.jsx(AuthModal,{isOpen:e,onClose:()=>s(!1),mode:i,onModeChange:a,onSignIn:j,onSignUp:$,loading:o.isLoading,error:o.error})]})};function App(){var fn,xn,gn,yn,bn,vn,En,jn,kn,wn,Rn;useTheme();const[e,s]=useAtom(activeTabAtom),[i,a]=useAtom(activitiesAtom),[o,c]=useAtom(scriptsAtom),[d,_]=useAtom(activityFiltersAtom),[h,j]=useAtom(scriptFiltersAtom),[$,it]=useAtom(lessonFiltersAtom),[ot,mt]=useAtom(userFiltersAtom),[at,xt]=useAtom(activitiesLoadingAtom),[lt,b]=useAtom(scriptsLoadingAtom),[_e,rt]=useAtom(savedLessonsLoadingAtom),[dt,st]=useAtom(usersLoadingAtom),[pt,g]=useAtom(showCreateModalAtom),[tt,ct]=useAtom(showSaveLessonModalAtom),[gt,nt]=useAtom(showUserModalAtom);useAtom(selectedActivityAtom),useAtom(selectedScriptAtom),useAtom(selectedUserAtom);const[ft,vt]=useAtom(currentLessonPlanAtom),[Dt,Tt]=useAtom(lessonGenerationStateAtom),[Mt,kt]=useAtom(savedLessonsAtom),[Rt,bt]=useAtom(usersAtom),[Nt,Ft]=useAtom(userStatsAtom);useAtom(sidebarCollapsedAtom);const[jt,ut]=useAtom(activityViewModeAtom),[ht,yt]=useAtom(filteredActivitiesAtom),[St,At]=useAtom(scriptViewModeAtom),[Ct,Ut]=useAtom(lessonPlanningViewModeAtom),[Wt,Qt]=useAtom(selectedPdfUrlAtom),[Zt,nr]=useAtom(pdfViewerOpenAtom),[Gt,rr]=useAtom(authStateAtom),[Vt,Bt]=useAtom(showAuthModalAtom);useAtom(authModeAtom);const[Et,Pt]=reactExports.useState(),[zt,Ht]=reactExports.useState(),[tr,ar]=reactExports.useState(),[ir,It]=reactExports.useState(""),[hr,dr]=reactExports.useState(!0),[_r,Ar]=reactExports.useState(!1),[Mr,gr]=reactExports.useState(""),[kr,Cr]=reactExports.useState(!1),[Dr,lr]=reactExports.useState(null),[Xt,Yt]=reactExports.useState(!1),[xr,Fr]=reactExports.useState(!1),[Nr,Lt]=reactExports.useState(null);reactExports.useEffect(()=>{AuthService.initializeDemoUsers(),sr()},[]);const sr=async()=>{rr(ur=>({...ur,isLoading:!0}));try{const ur=await AuthService.checkAuth();if(ur)try{const yr=await StripeService.getUserSubscription(ur.id);rr({user:{...ur,subscription:yr||void 0},isAuthenticated:!0,isLoading:!1,error:null})}catch{rr({user:ur,isAuthenticated:!0,isLoading:!1,error:null})}else rr({user:null,isAuthenticated:!1,isLoading:!1,error:null})}catch{rr({user:null,isAuthenticated:!1,isLoading:!1,error:"Failed to check authentication status"})}},pr=(ur,yr)=>ur.filter(Lr=>{if(yr.ageGroup&&Lr.ageGroup!==yr.ageGroup||yr.skillLevels.length>0&&!yr.skillLevels.includes(Lr.skillLevel)||yr.activityTypes.length>0&&!yr.activityTypes.includes(Lr.activityType)||yr.playOrCraftTypes.length>0&&!yr.playOrCraftTypes.includes(Lr.playOrCraft)||yr.duration&&Lr.duration>yr.duration)return!1;if(yr.search){const $r=yr.search.toLowerCase();if(!(Lr.title.toLowerCase().includes($r)||Lr.description.toLowerCase().includes($r)||Lr.tags.some(Wr=>Wr.toLowerCase().includes($r))))return!1}return!0}),vr=async()=>{try{xt(!0),It("");const ur=await ApiService.getActivities(d);a(ur)}catch(ur){It("Failed to load activities. Make sure the server is running."),console.error("Error loading activities:",ur)}finally{xt(!1)}},wr=async()=>{try{b(!0),It("");const ur=await ApiService.getScripts(h);c(ur)}catch(ur){It("Failed to load scripts. Make sure the server is running."),console.error("Error loading scripts:",ur)}finally{b(!1)}},fr=async()=>{var ur;try{rt(!0);const yr=(ur=Gt.user)==null?void 0:ur.id,Lr=yr?{userId:yr}:{},$r=await ApiService.getSavedLessons(Lr);kt($r)}catch(yr){console.error("Error loading saved lessons:",yr),It("Failed to load saved lessons. Make sure the server is running.")}finally{rt(!1)}},_t=async()=>{var ur;if(((ur=Gt.user)==null?void 0:ur.role)==="admin")try{st(!0);const yr=await AuthService.getAllUsers(ot);bt(yr)}catch(yr){console.error("Error loading users:",yr)}finally{st(!1)}},wt=async()=>{var ur;if(((ur=Gt.user)==null?void 0:ur.role)==="admin")try{const yr=await AuthService.getUserStats();Ft(yr)}catch(yr){console.error("Error loading user stats:",yr)}};reactExports.useEffect(()=>{Gt.isAuthenticated&&vr()},[d,Gt.isAuthenticated]),reactExports.useEffect(()=>{Gt.isAuthenticated&&wr()},[h,Gt.isAuthenticated]),reactExports.useEffect(()=>{Gt.isAuthenticated&&fr()},[Gt.isAuthenticated]),reactExports.useEffect(()=>{var ur;Gt.isAuthenticated&&((ur=Gt.user)==null?void 0:ur.role)==="admin"&&(_t(),wt())},[ot,Gt.isAuthenticated,(fn=Gt.user)==null?void 0:fn.role]),reactExports.useEffect(()=>{const ur=pr(i,$);yt(ur)},[i,$]);const Ot=async()=>{try{await AuthService.signOut(),rr({user:null,isAuthenticated:!1,isLoading:!1,error:null}),a([]),c([]),kt([]),bt([]),vt({warmUp:null,mainActivities:[],coolDown:null,totalDuration:0,estimatedTime:"0 min"}),s("lessons")}catch(ur){console.error("Sign out error:",ur)}},Jt=async ur=>{if(Gt.user)try{const yr=await AuthService.updateProfile(Gt.user.id,ur);rr(Lr=>({...Lr,user:yr}))}catch(yr){It("Failed to update profile"),console.error("Profile update error:",yr)}},er=async ur=>{if(Gt.user)try{const yr=await StripeService.getUserSubscription(Gt.user.id);rr(Lr=>({...Lr,user:{...Lr.user,subscription:yr||void 0}}))}catch(yr){console.error("Subscription update error:",yr)}},or={ageGroup:$.ageGroup,search:$.search,skillLevel:$.skillLevels[0],activityType:$.activityTypes[0],playOrCraft:$.playOrCraftTypes[0]},cr=ur=>{it({ageGroup:ur.ageGroup,search:ur.search||"",skillLevels:ur.skillLevel?[ur.skillLevel]:[],activityTypes:ur.activityType?[ur.activityType]:[],playOrCraftTypes:ur.playOrCraft?[ur.playOrCraft]:[],duration:$.duration})},jr=async ur=>{try{Et?await ApiService.updateActivity(Et.id,ur):await ApiService.createActivity(ur),vr(),Pt(void 0)}catch(yr){It("Failed to save activity"),console.error("Error saving activity:",yr)}},br=async ur=>{if(console.log("handleDeleteActivity called with id:",ur),confirm("Are you sure you want to delete this activity?"))try{console.log("Calling ApiService.deleteActivity..."),await ApiService.deleteActivity(ur),console.log("Activity deleted successfully, reloading activities..."),vr()}catch(yr){console.error("Error in handleDeleteActivity:",yr),It("Failed to delete activity"),console.error("Error deleting activity:",yr)}else console.log("Delete cancelled by user")},mr=async ur=>{try{zt?await ApiService.updateScript(zt.id,ur):await ApiService.createScript(ur),wr(),Ht(void 0)}catch(yr){It("Failed to save script"),console.error("Error saving script:",yr)}},Pr=async ur=>{if(confirm("Are you sure you want to delete this script?"))try{await ApiService.deleteScript(ur),wr()}catch(yr){It("Failed to delete script"),console.error("Error deleting script:",yr)}},Er=async(ur,yr)=>{try{await ApiService.uploadScriptFile(ur,yr),wr()}catch(Lr){It("Failed to upload file"),console.error("Error uploading file:",Lr)}},Rr=async ur=>{try{tr?await AuthService.updateUser(tr.id,ur):await AuthService.createUser(ur),_t(),wt(),ar(void 0)}catch(yr){It(yr instanceof Error?yr.message:"Failed to save user"),console.error("Error saving user:",yr)}},Sr=async ur=>{if(confirm("Are you sure you want to delete this user? This action cannot be undone."))try{await AuthService.deleteUser(ur),_t(),wt()}catch(yr){It(yr instanceof Error?yr.message:"Failed to delete user"),console.error("Error deleting user:",yr)}},Tr=async ur=>{try{await AuthService.toggleUserStatus(ur),_t(),wt()}catch(yr){It(yr instanceof Error?yr.message:"Failed to update user status"),console.error("Error toggling user status:",yr)}},Ir=ur=>{vt(yr=>{var Br,Wr,Zr,Kr;const Lr={...yr};return((Br=Lr.warmUp)==null?void 0:Br.id)===ur.id||Lr.mainActivities.some(Qr=>Qr.id===ur.id)||((Wr=Lr.coolDown)==null?void 0:Wr.id)===ur.id?yr:(Nr?(Nr==="warmUp"?Lr.warmUp=ur:Nr==="coolDown"?Lr.coolDown=ur:Nr==="main"&&(Lr.mainActivities=[...Lr.mainActivities,ur]),Lt(null)):Lr.mainActivities=[...Lr.mainActivities,ur],Lr.totalDuration=(((Zr=Lr.warmUp)==null?void 0:Zr.duration)||0)+Lr.mainActivities.reduce((Qr,Hr)=>Qr+Hr.duration,0)+(((Kr=Lr.coolDown)==null?void 0:Kr.duration)||0),Lr.estimatedTime=`${Lr.totalDuration} min`,Lr)})},Or=ur=>{Lt(ur),console.log(`Add ${ur} activity`)},Vr=(ur,yr)=>{vt(Lr=>{var Kr,Qr;let $r={...Lr};ur==="warmUp"?$r.warmUp=null:ur==="coolDown"?$r.coolDown=null:ur==="main"&&typeof yr=="number"&&($r.mainActivities=$r.mainActivities.filter((Hr,as)=>as!==yr));const Br=((Kr=$r.warmUp)==null?void 0:Kr.duration)||0,Wr=$r.mainActivities.reduce((Hr,as)=>Hr+as.duration,0),Zr=((Qr=$r.coolDown)==null?void 0:Qr.duration)||0;return $r.totalDuration=Br+Wr+Zr,$r})},zr=async()=>{if(!Gt.user){Bt(!0);return}try{const ur=await StripeService.checkSubscriptionAccess(Gt.user.id);if(console.log("aaaaa",ur),!ur.canGenerate){if(!Gt.user.subscription){Cr(!0);return}if(ur.reason==="Lesson limit reached"){Cr(!0);return}It(ur.reason||"Cannot generate lesson at this time");return}}catch{It("Failed to check subscription status");return}Tt("generating");try{await StripeService.incrementLessonCount(Gt.user.id);const ur=await StripeService.getUserSubscription(Gt.user.id);ur&&rr(yr=>({...yr,user:yr.user?{...yr.user,subscription:ur||void 0}:null})),setTimeout(()=>{const yr=ht,Lr=yr.filter(Hr=>Hr.activityType==="warm-up"),$r=yr.filter(Hr=>Hr.activityType==="main"||Hr.activityType==="game"),Br=yr.filter(Hr=>Hr.activityType==="cool-down"),Wr=Lr[Math.floor(Math.random()*Lr.length)],Zr=$r.slice(0,2),Kr=Br[Math.floor(Math.random()*Br.length)],Qr=((Wr==null?void 0:Wr.duration)||0)+Zr.reduce((Hr,as)=>Hr+as.duration,0)+((Kr==null?void 0:Kr.duration)||0);vt({warmUp:Wr||null,mainActivities:Zr,coolDown:Kr||null,totalDuration:Qr,estimatedTime:`${Qr} min`}),Tt("complete")},2e3)}catch(ur){console.error("Error generating lesson:",ur),It("Failed to generate lesson. Please try again."),Tt("idle")}},Xr=async ur=>{try{if(!Gt.user){It("You must be logged in to save lessons");return}const yr={...ur,createdBy:Gt.user.id};try{const Lr=await StripeService.checkSubscriptionAccess(Gt.user.id);if(!Lr.canGenerate){if(!Gt.user.subscription){Cr(!0);return}if(Lr.reason==="Lesson limit reached"){Cr(!0);return}It(Lr.reason||"Cannot generate lesson at this time");return}}catch{It("Failed to check subscription status");return}try{await StripeService.incrementLessonCount(Gt.user.id);const Lr=await StripeService.getUserSubscription(Gt.user.id);Lr&&rr($r=>({...$r,user:$r.user?{...$r.user,subscription:Lr||void 0}:null})),await ApiService.saveLesson(yr),fr(),ct(!1),It(""),dr(!0)}catch(Lr){console.error("Error generating lesson:",Lr),It("Failed to generate lesson. Please try again.")}}catch(yr){It("Failed to save lesson"),console.error("Error saving lesson:",yr)}},qr=ur=>{const yr=ur.warmUpId&&i.find(Br=>Br.id===ur.warmUpId)||null,Lr=ur.mainActivityIds.map(Br=>i.find(Wr=>Wr.id===Br)).filter(Boolean),$r=ur.coolDownId&&i.find(Br=>Br.id===ur.coolDownId)||null;vt({warmUp:yr,mainActivities:Lr,coolDown:$r,totalDuration:ur.totalDuration,estimatedTime:`${ur.totalDuration} min`}),dr(!1)},Yr=async ur=>{if(confirm("Are you sure you want to delete this saved lesson?"))try{await ApiService.deleteLesson(ur),fr()}catch(yr){It("Failed to delete lesson"),console.error("Error deleting lesson:",yr)}},fs=ur=>{lr(ur),Yt(!0)},xs=ur=>{Qt(ur),gr("Script Preview"),nr(!0)},gs=(ur,yr)=>{Qt(ur),gr(yr),nr(!0)},eo=()=>{const ur=[];return ft.warmUp&&ur.push(ft.warmUp),ur.push(...ft.mainActivities),ft.coolDown&&ur.push(ft.coolDown),ur};return Gt.isLoading?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-900 flex items-center justify-center transition-colors duration-200",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-teal-600 rounded-lg flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(Activity,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"JulietLessons"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your workspace..."})]})}):Gt.isAuthenticated?jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-900 flex flex-col transition-colors duration-200",children:[jsxRuntimeExports.jsx("header",{className:"bg-white dark:bg-dark-800 shadow-sm border-b border-gray-200 dark:border-dark-700 flex-shrink-0 transition-colors duration-200",children:jsxRuntimeExports.jsxs("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center py-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-r from-blue-600 to-teal-600 rounded-lg",children:jsxRuntimeExports.jsx(Activity,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"JulietLessons EDITED BY JAMES LAGS"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Lesson planning and activity management"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{g(!0),Pt(void 0),Ht(void 0),ar(void 0)},className:`flex items-center space-x-2 bg-gradient-to-r from-blue-600 to-teal-600 text-white px-6 py-3 rounded-lg hover:from-blue-700 hover:to-teal-700 transition-all duration-200 shadow-md hover:shadow-lg ${e==="activities"||e==="scripts"||e==="users"?"":"hidden"}`,children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5"}),jsxRuntimeExports.jsxs("span",{children:["Add ",e==="activities"?"Activity":e==="scripts"?"Script":e==="users"?"User":"Activity"]})]}),jsxRuntimeExports.jsx(ThemeToggle,{}),jsxRuntimeExports.jsx(UserMenu,{user:Gt.user,onSignOut:Ot,onEditProfile:()=>Ar(!0)})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-8 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsx("button",{onClick:()=>s("lessons"),className:`pb-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="lessons"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(PanelsTopLeft,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Lesson Planning"})]})}),((xn=Gt.user)==null?void 0:xn.role)==="admin"&&jsxRuntimeExports.jsx("button",{onClick:()=>s("activities"),className:`pb-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="activities"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Activity,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:["Activities (",i.length,")"]})]})}),((gn=Gt.user)==null?void 0:gn.role)==="admin"&&jsxRuntimeExports.jsx("button",{onClick:()=>s("scripts"),className:`pb-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="scripts"?"border-teal-500 text-teal-600 dark:text-teal-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:["Scripts (",o.length,")"]})]})}),((yn=Gt.user)==null?void 0:yn.role)==="admin"&&jsxRuntimeExports.jsx("button",{onClick:()=>s("users"),className:`pb-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="users"?"border-orange-500 text-orange-600 dark:text-orange-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:["Users (",Rt.length,")"]})]})})]})]})}),Nr&&jsxRuntimeExports.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-800 px-6 py-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 text-white"})}),jsxRuntimeExports.jsxs("span",{className:"text-blue-800 dark:text-blue-300 font-medium",children:["Ready to add activity to ",Nr==="warmUp"?"Warm-up":Nr==="coolDown"?"Cool-down":"Main Activities"," section"]}),jsxRuntimeExports.jsx("span",{className:"text-blue-600 dark:text-blue-400 text-sm",children:"Click an activity below to add it to this section"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Lt(null),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm font-medium",children:"Cancel"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e==="lessons"&&jsxRuntimeExports.jsxs("div",{className:"flex-1 flex",children:[jsxRuntimeExports.jsx(LessonPreviewPanel,{lessonPlan:ft,onAddActivity:Or,onRemoveActivity:Vr,onViewScript:xs,onGenerateLesson:zr,onSaveLesson:()=>ct(!0),onShowSavedLessons:()=>dr(!hr),isGenerating:Dt==="generating",showSavedLessons:hr,isCollapsed:xr,onToggleCollapse:()=>Fr(!xr),targetSection:Nr}),jsxRuntimeExports.jsxs("main",{className:"flex-1 overflow-y-auto p-6",children:[jsxRuntimeExports.jsx(SubscriptionBanner,{subscription:((bn=Gt.user)==null?void 0:bn.subscription)||null,onUpgrade:()=>Cr(!0)}),ir&&jsxRuntimeExports.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center space-x-3",children:[jsxRuntimeExports.jsx(AlertCircle,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium",children:"Error"}),jsxRuntimeExports.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm",children:ir})]})]}),hr?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Saved Lessons"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Load a previously saved lesson plan"})]}),jsxRuntimeExports.jsx(SavedLessonsPanel,{savedLessons:Mt,onLoadLesson:qr,onDeleteLesson:Yr,onViewLesson:fs,loading:_e})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Available Activities"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Select activities to build your lesson plan"})]}),jsxRuntimeExports.jsx(SearchFilters,{filters:or,onFiltersChange:cr,showLevel:!0,showPlayOrCraft:!0}),jsxRuntimeExports.jsx(ActivityGrid,{activities:ht,onSelectActivity:Ir,selectedActivities:eo(),loading:at,scripts:o,onViewPDF:gs,onViewScript:xs,viewMode:Ct,onViewModeChange:Ut,showViewToggle:!0,isLessonPlanning:!0,onDelete:br,targetSection:Nr})]})]})]}),e==="activities"&&((vn=Gt.user)==null?void 0:vn.role)==="admin"&&jsxRuntimeExports.jsxs("main",{className:"flex-1 overflow-y-auto px-4 sm:px-6 lg:px-8 py-8",children:[ir&&jsxRuntimeExports.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center space-x-3",children:[jsxRuntimeExports.jsx(AlertCircle,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium",children:"Error"}),jsxRuntimeExports.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm",children:ir})]})]}),jsxRuntimeExports.jsx(SearchFilters,{filters:d,onFiltersChange:_,showLevel:!0,showPlayOrCraft:!0}),at?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Loading activities..."})]}):jsxRuntimeExports.jsx(ActivityGrid,{activities:i,onSelectActivity:()=>{},selectedActivities:[],loading:at,scripts:o,onViewPDF:gs,onViewScript:xs,viewMode:jt,onViewModeChange:ut,showViewToggle:!0,isLessonPlanning:!1,onDelete:br}),!at&&i.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Activity,{className:"w-12 h-12 text-gray-400 dark:text-gray-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No activities found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Get started by creating your first activity."}),jsxRuntimeExports.jsx("button",{onClick:()=>g(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Activity"})]})]}),e==="scripts"&&((En=Gt.user)==null?void 0:En.role)==="admin"&&jsxRuntimeExports.jsxs("main",{className:"flex-1 overflow-y-auto px-4 sm:px-6 lg:px-8 py-8",children:[jsxRuntimeExports.jsx(SearchFilters,{filters:h,onFiltersChange:j,showGenre:!0}),jsxRuntimeExports.jsx(ScriptGrid,{scripts:o,onDelete:Pr,onUpload:Er,loading:lt,viewMode:St,onViewModeChange:At,showViewToggle:!0})]}),e==="users"&&((jn=Gt.user)==null?void 0:jn.role)==="admin"&&jsxRuntimeExports.jsxs("main",{className:"flex-1 overflow-y-auto px-4 sm:px-6 lg:px-8 py-8",children:[ir&&jsxRuntimeExports.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center space-x-3",children:[jsxRuntimeExports.jsx(AlertCircle,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium",children:"Error"}),jsxRuntimeExports.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm",children:ir})]})]}),jsxRuntimeExports.jsx(UserStatsPanel,{stats:Nt,loading:dt}),jsxRuntimeExports.jsx(UserManagementPanel,{users:Rt,filters:ot,onFiltersChange:mt,onCreateUser:()=>{ar(void 0),nt(!0)},onEditUser:ur=>{ar(ur),nt(!0)},onDeleteUser:Sr,onToggleUserStatus:Tr,loading:dt})]})]}),e==="activities"&&jsxRuntimeExports.jsx(CreateActivityModal,{isOpen:pt,onClose:()=>{g(!1),Pt(void 0)},onCreate:jr,editActivity:Et,onViewPDF:gs}),e==="scripts"&&jsxRuntimeExports.jsx(CreateScriptModal,{isOpen:pt,onClose:()=>{g(!1),Ht(void 0)},onCreate:mr,editScript:zt}),e==="users"&&((kn=Gt.user)==null?void 0:kn.role)==="admin"&&jsxRuntimeExports.jsx(CreateUserModal,{isOpen:gt,onClose:()=>{nt(!1),ar(void 0)},onCreate:Rr,editUser:tr,loading:!1}),jsxRuntimeExports.jsx(SaveLessonModal,{isOpen:tt,onClose:()=>ct(!1),onSave:Xr,lessonPlan:ft}),jsxRuntimeExports.jsx(EditProfileModal,{isOpen:_r,onClose:()=>Ar(!1),user:Gt.user,onSave:Jt,loading:!1}),jsxRuntimeExports.jsx(SubscriptionModal,{isOpen:kr,onClose:()=>Cr(!1),currentSubscription:(wn=Gt.user)==null?void 0:wn.subscription,onSubscriptionUpdate:er,userId:((Rn=Gt.user)==null?void 0:Rn.id)||""}),jsxRuntimeExports.jsx(SavedLessonActivitiesModal,{isOpen:Xt,onClose:()=>{Yt(!1),lr(null)},lesson:Dr,activities:i,scripts:o,onViewPDF:gs,onViewScript:xs,onLoadLesson:qr}),jsxRuntimeExports.jsx(PDFViewer,{isOpen:Zt,onClose:()=>nr(!1),pdfUrl:Wt,title:Mr})]}):jsxRuntimeExports.jsx(LandingPageWrapper,{})}const ThemeContext=reactExports.createContext(void 0),ThemeProvider=({children:e})=>{const[s,i]=reactExports.useState(()=>{const o=localStorage.getItem("theme"),c=window.matchMedia("(prefers-color-scheme: dark)").matches;return o||(c?"dark":"light")});reactExports.useEffect(()=>{localStorage.setItem("theme",s),document.documentElement.classList.toggle("dark",s==="dark")},[s]);const a=()=>{i(o=>o==="light"?"dark":"light")};return jsxRuntimeExports.jsx(ThemeContext.Provider,{value:{theme:s,toggleTheme:a},children:e})},AppProvider=({children:e})=>jsxRuntimeExports.jsx(Provider,{children:jsxRuntimeExports.jsx(ThemeProvider,{children:e})});createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(AppProvider,{children:jsxRuntimeExports.jsx(App,{})})}));
