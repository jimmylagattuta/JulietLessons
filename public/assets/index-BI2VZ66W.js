var ho=Object.defineProperty;var Is=s=>{throw TypeError(s)};var fo=(s,i,a)=>i in s?ho(s,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[i]=a;var Gr=(s,i,a)=>fo(s,typeof i!="symbol"?i+"":i,a),Bn=(s,i,a)=>i.has(s)||Is("Cannot "+a);var ft=(s,i,a)=>(Bn(s,i,"read from private field"),a?a.call(s):i.get(s)),tr=(s,i,a)=>i.has(s)?Is("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(s):i.set(s,a),nr=(s,i,a,o)=>(Bn(s,i,"write to private field"),o?o.call(s,a):i.set(s,a),a),Kt=(s,i,a)=>(Bn(s,i,"access private method"),a);var gn=(s,i,a,o)=>({set _(j){nr(s,i,j,a)},get _(){return ft(s,i,o)}});function _mergeNamespaces(s,i){for(var a=0;a<i.length;a++){const o=i[a];if(typeof o!="string"&&!Array.isArray(o)){for(const j in o)if(j!=="default"&&!(j in s)){const _=Object.getOwnPropertyDescriptor(o,j);_&&Object.defineProperty(s,j,_.get?_:{enumerable:!0,get:()=>o[j]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const j of document.querySelectorAll('link[rel="modulepreload"]'))o(j);new MutationObserver(j=>{for(const _ of j)if(_.type==="childList")for(const $ of _.addedNodes)$.tagName==="LINK"&&$.rel==="modulepreload"&&o($)}).observe(document,{childList:!0,subtree:!0});function a(j){const _={};return j.integrity&&(_.integrity=j.integrity),j.referrerPolicy&&(_.referrerPolicy=j.referrerPolicy),j.crossOrigin==="use-credentials"?_.credentials="include":j.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function o(j){if(j.ep)return;j.ep=!0;const _=a(j);fetch(j.href,_)}})();function getDefaultExportFromCjs(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function getAugmentedNamespace(s){if(s.__esModule)return s;var i=s.default;if(typeof i=="function"){var a=function o(){return this instanceof o?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};a.prototype=i.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(s).forEach(function(o){var j=Object.getOwnPropertyDescriptor(s,o);Object.defineProperty(a,o,j.get?j:{enumerable:!0,get:function(){return s[o]}})}),a}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$3=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$3(s){return s===null||typeof s!="object"?null:(s=z$3&&s[z$3]||s["@@iterator"],typeof s=="function"?s:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$2(s,i,a){this.props=s,this.context=i,this.refs=D$2,this.updater=a||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(s,i){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,s,i,"setState")};E$2.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function F$1(){}F$1.prototype=E$2.prototype;function G$2(s,i,a){this.props=s,this.context=i,this.refs=D$2,this.updater=a||B$2}var H$2=G$2.prototype=new F$1;H$2.constructor=G$2;C$2(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(s,i,a){var o,j={},_=null,$=null;if(i!=null)for(o in i.ref!==void 0&&($=i.ref),i.key!==void 0&&(_=""+i.key),i)J.call(i,o)&&!L$1.hasOwnProperty(o)&&(j[o]=i[o]);var et=arguments.length-2;if(et===1)j.children=a;else if(1<et){for(var _e=Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt+2];j.children=_e}if(s&&s.defaultProps)for(o in et=s.defaultProps,et)j[o]===void 0&&(j[o]=et[o]);return{$$typeof:l$3,type:s,key:_,ref:$,props:j,_owner:K$1.current}}function N$1(s,i){return{$$typeof:l$3,type:s.type,key:i,ref:s.ref,props:s.props,_owner:s._owner}}function O$1(s){return typeof s=="object"&&s!==null&&s.$$typeof===l$3}function escape$2(s){var i={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(a){return i[a]})}var P$1=/\/+/g;function Q$1(s,i){return typeof s=="object"&&s!==null&&s.key!=null?escape$2(""+s.key):i.toString(36)}function R$1(s,i,a,o,j){var _=typeof s;(_==="undefined"||_==="boolean")&&(s=null);var $=!1;if(s===null)$=!0;else switch(_){case"string":case"number":$=!0;break;case"object":switch(s.$$typeof){case l$3:case n$3:$=!0}}if($)return $=s,j=j($),s=o===""?"."+Q$1($,0):o,I$2(j)?(a="",s!=null&&(a=s.replace(P$1,"$&/")+"/"),R$1(j,i,a,"",function(tt){return tt})):j!=null&&(O$1(j)&&(j=N$1(j,a+(!j.key||$&&$.key===j.key?"":(""+j.key).replace(P$1,"$&/")+"/")+s)),i.push(j)),1;if($=0,o=o===""?".":o+":",I$2(s))for(var et=0;et<s.length;et++){_=s[et];var _e=o+Q$1(_,et);$+=R$1(_,i,a,_e,j)}else if(_e=A$3(s),typeof _e=="function")for(s=_e.call(s),et=0;!(_=s.next()).done;)_=_.value,_e=o+Q$1(_,et++),$+=R$1(_,i,a,_e,j);else if(_==="object")throw i=String(s),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return $}function S$1(s,i,a){if(s==null)return s;var o=[],j=0;return R$1(s,o,"","",function(_){return i.call(a,_,j++)}),o}function T$1(s){if(s._status===-1){var i=s._result;i=i(),i.then(function(a){(s._status===0||s._status===-1)&&(s._status=1,s._result=a)},function(a){(s._status===0||s._status===-1)&&(s._status=2,s._result=a)}),s._status===-1&&(s._status=0,s._result=i)}if(s._status===1)return s._result.default;throw s._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(s,i,a){S$1(s,function(){i.apply(this,arguments)},a)},count:function(s){var i=0;return S$1(s,function(){i++}),i},toArray:function(s){return S$1(s,function(i){return i})||[]},only:function(s){if(!O$1(s))throw Error("React.Children.only expected to receive a single React element child.");return s}};react_production_min.Component=E$2;react_production_min.Fragment=p$4;react_production_min.Profiler=r$3;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$2;react_production_min.cloneElement=function(s,i,a){if(s==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+s+".");var o=C$2({},s.props),j=s.key,_=s.ref,$=s._owner;if(i!=null){if(i.ref!==void 0&&(_=i.ref,$=K$1.current),i.key!==void 0&&(j=""+i.key),s.type&&s.type.defaultProps)var et=s.type.defaultProps;for(_e in i)J.call(i,_e)&&!L$1.hasOwnProperty(_e)&&(o[_e]=i[_e]===void 0&&et!==void 0?et[_e]:i[_e])}var _e=arguments.length-2;if(_e===1)o.children=a;else if(1<_e){et=Array(_e);for(var tt=0;tt<_e;tt++)et[tt]=arguments[tt+2];o.children=et}return{$$typeof:l$3,type:s.type,key:j,ref:_,props:o,_owner:$}};react_production_min.createContext=function(s){return s={$$typeof:u$1,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},s.Provider={$$typeof:t$1,_context:s},s.Consumer=s};react_production_min.createElement=M$1;react_production_min.createFactory=function(s){var i=M$1.bind(null,s);return i.type=s,i};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(s){return{$$typeof:v$3,render:s}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(s){return{$$typeof:y$2,_payload:{_status:-1,_result:s},_init:T$1}};react_production_min.memo=function(s,i){return{$$typeof:x$2,type:s,compare:i===void 0?null:i}};react_production_min.startTransition=function(s){var i=V$1.transition;V$1.transition={};try{s()}finally{V$1.transition=i}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(s,i){return U$1.current.useCallback(s,i)};react_production_min.useContext=function(s){return U$1.current.useContext(s)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(s){return U$1.current.useDeferredValue(s)};react_production_min.useEffect=function(s,i){return U$1.current.useEffect(s,i)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(s,i,a){return U$1.current.useImperativeHandle(s,i,a)};react_production_min.useInsertionEffect=function(s,i){return U$1.current.useInsertionEffect(s,i)};react_production_min.useLayoutEffect=function(s,i){return U$1.current.useLayoutEffect(s,i)};react_production_min.useMemo=function(s,i){return U$1.current.useMemo(s,i)};react_production_min.useReducer=function(s,i,a){return U$1.current.useReducer(s,i,a)};react_production_min.useRef=function(s){return U$1.current.useRef(s)};react_production_min.useState=function(s){return U$1.current.useState(s)};react_production_min.useSyncExternalStore=function(s,i,a){return U$1.current.useSyncExternalStore(s,i,a)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$2=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$2=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$2(s,i,a){var o,j={},_=null,$=null;a!==void 0&&(_=""+a),i.key!==void 0&&(_=""+i.key),i.ref!==void 0&&($=i.ref);for(o in i)m$3.call(i,o)&&!p$3.hasOwnProperty(o)&&(j[o]=i[o]);if(s&&s.defaultProps)for(o in i=s.defaultProps,i)j[o]===void 0&&(j[o]=i[o]);return{$$typeof:k$2,type:s,key:_,ref:$,props:j,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){function i(Rt,kt){var Dt=Rt.length;Rt.push(kt);e:for(;0<Dt;){var zt=Dt-1>>>1,Ct=Rt[zt];if(0<j(Ct,kt))Rt[zt]=kt,Rt[Dt]=Ct,Dt=zt;else break e}}function a(Rt){return Rt.length===0?null:Rt[0]}function o(Rt){if(Rt.length===0)return null;var kt=Rt[0],Dt=Rt.pop();if(Dt!==kt){Rt[0]=Dt;e:for(var zt=0,Ct=Rt.length,bt=Ct>>>1;zt<bt;){var Et=2*(zt+1)-1,St=Rt[Et],It=Et+1,Pt=Rt[It];if(0>j(St,Dt))It<Ct&&0>j(Pt,St)?(Rt[zt]=Pt,Rt[It]=Dt,zt=It):(Rt[zt]=St,Rt[Et]=Dt,zt=Et);else if(It<Ct&&0>j(Pt,Dt))Rt[zt]=Pt,Rt[It]=Dt,zt=It;else break e}}return kt}function j(Rt,kt){var Dt=Rt.sortIndex-kt.sortIndex;return Dt!==0?Dt:Rt.id-kt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var _=performance;s.unstable_now=function(){return _.now()}}else{var $=Date,et=$.now();s.unstable_now=function(){return $.now()-et}}var _e=[],tt=[],rt=1,nt=null,st=3,ot=!1,ct=!1,gt=!1,dt=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ut(Rt){for(var kt=a(tt);kt!==null;){if(kt.callback===null)o(tt);else if(kt.startTime<=Rt)o(tt),kt.sortIndex=kt.expirationTime,i(_e,kt);else break;kt=a(tt)}}function mt(Rt){if(gt=!1,ut(Rt),!ct)if(a(_e)!==null)ct=!0,Bt(ht);else{var kt=a(tt);kt!==null&&Nt(mt,kt.startTime-Rt)}}function ht(Rt,kt){ct=!1,gt&&(gt=!1,it(pt),pt=-1),ot=!0;var Dt=st;try{for(ut(kt),nt=a(_e);nt!==null&&(!(nt.expirationTime>kt)||Rt&&!xt());){var zt=nt.callback;if(typeof zt=="function"){nt.callback=null,st=nt.priorityLevel;var Ct=zt(nt.expirationTime<=kt);kt=s.unstable_now(),typeof Ct=="function"?nt.callback=Ct:nt===a(_e)&&o(_e),ut(kt)}else o(_e);nt=a(_e)}if(nt!==null)var bt=!0;else{var Et=a(tt);Et!==null&&Nt(mt,Et.startTime-kt),bt=!1}return bt}finally{nt=null,st=Dt,ot=!1}}var vt=!1,at=null,pt=-1,yt=5,jt=-1;function xt(){return!(s.unstable_now()-jt<yt)}function wt(){if(at!==null){var Rt=s.unstable_now();jt=Rt;var kt=!0;try{kt=at(!0,Rt)}finally{kt?At():(vt=!1,at=null)}}else vt=!1}var At;if(typeof lt=="function")At=function(){lt(wt)};else if(typeof MessageChannel<"u"){var Ut=new MessageChannel,Ft=Ut.port2;Ut.port1.onmessage=wt,At=function(){Ft.postMessage(null)}}else At=function(){dt(wt,0)};function Bt(Rt){at=Rt,vt||(vt=!0,At())}function Nt(Rt,kt){pt=dt(function(){Rt(s.unstable_now())},kt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Rt){Rt.callback=null},s.unstable_continueExecution=function(){ct||ot||(ct=!0,Bt(ht))},s.unstable_forceFrameRate=function(Rt){0>Rt||125<Rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):yt=0<Rt?Math.floor(1e3/Rt):5},s.unstable_getCurrentPriorityLevel=function(){return st},s.unstable_getFirstCallbackNode=function(){return a(_e)},s.unstable_next=function(Rt){switch(st){case 1:case 2:case 3:var kt=3;break;default:kt=st}var Dt=st;st=kt;try{return Rt()}finally{st=Dt}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(Rt,kt){switch(Rt){case 1:case 2:case 3:case 4:case 5:break;default:Rt=3}var Dt=st;st=Rt;try{return kt()}finally{st=Dt}},s.unstable_scheduleCallback=function(Rt,kt,Dt){var zt=s.unstable_now();switch(typeof Dt=="object"&&Dt!==null?(Dt=Dt.delay,Dt=typeof Dt=="number"&&0<Dt?zt+Dt:zt):Dt=zt,Rt){case 1:var Ct=-1;break;case 2:Ct=250;break;case 5:Ct=1073741823;break;case 4:Ct=1e4;break;default:Ct=5e3}return Ct=Dt+Ct,Rt={id:rt++,callback:kt,priorityLevel:Rt,startTime:Dt,expirationTime:Ct,sortIndex:-1},Dt>zt?(Rt.sortIndex=Dt,i(tt,Rt),a(_e)===null&&Rt===a(tt)&&(gt?(it(pt),pt=-1):gt=!0,Nt(mt,Dt-zt))):(Rt.sortIndex=Ct,i(_e,Rt),ct||ot||(ct=!0,Bt(ht))),Rt},s.unstable_shouldYield=xt,s.unstable_wrapCallback=function(Rt){var kt=st;return function(){var Dt=st;st=kt;try{return Rt.apply(this,arguments)}finally{st=Dt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$2(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(s,i){ha(s,i),ha(s+"Capture",i)}function ha(s,i){for(ea[s]=i,s=0;s<i.length;s++)da.add(i[s])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(s){return ja.call(ma,s)?!0:ja.call(la,s)?!1:ka.test(s)?ma[s]=!0:(la[s]=!0,!1)}function pa(s,i,a,o){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return o?!1:a!==null?!a.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function qa(s,i,a,o){if(i===null||typeof i>"u"||pa(s,i,a,o))return!0;if(o)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function v$2(s,i,a,o,j,_,$){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=o,this.attributeNamespace=j,this.mustUseProperty=a,this.propertyName=s,this.type=i,this.sanitizeURL=_,this.removeEmptyString=$}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){z$2[s]=new v$2(s,0,!1,s,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];z$2[i]=new v$2(i,1,!1,s[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(s){z$2[s]=new v$2(s,2,!1,s.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){z$2[s]=new v$2(s,2,!1,s,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){z$2[s]=new v$2(s,3,!1,s.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(s){z$2[s]=new v$2(s,3,!0,s,null,!1,!1)});["capture","download"].forEach(function(s){z$2[s]=new v$2(s,4,!1,s,null,!1,!1)});["cols","rows","size","span"].forEach(function(s){z$2[s]=new v$2(s,6,!1,s,null,!1,!1)});["rowSpan","start"].forEach(function(s){z$2[s]=new v$2(s,5,!1,s.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(ra,sa);z$2[i]=new v$2(i,1,!1,s,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(ra,sa);z$2[i]=new v$2(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(ra,sa);z$2[i]=new v$2(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(s){z$2[s]=new v$2(s,1,!1,s.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(s){z$2[s]=new v$2(s,1,!1,s.toLowerCase(),null,!0,!0)});function ta(s,i,a,o){var j=z$2.hasOwnProperty(i)?z$2[i]:null;(j!==null?j.type!==0:o||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(qa(i,a,j,o)&&(a=null),o||j===null?oa(i)&&(a===null?s.removeAttribute(i):s.setAttribute(i,""+a)):j.mustUseProperty?s[j.propertyName]=a===null?j.type===3?!1:"":a:(i=j.attributeName,o=j.attributeNamespace,a===null?s.removeAttribute(i):(j=j.type,a=j===3||j===4&&a===!0?"":""+a,o?s.setAttributeNS(o,i,a):s.setAttribute(i,a))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(s){return s===null||typeof s!="object"?null:(s=Ja&&s[Ja]||s["@@iterator"],typeof s=="function"?s:null)}var A$2=Object.assign,La;function Ma(s){if(La===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);La=i&&i[1]||""}return`
`+La+s}var Na=!1;function Oa(s,i){if(!s||Na)return"";Na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(tt){var o=tt}Reflect.construct(s,[],i)}else{try{i.call()}catch(tt){o=tt}s.call(i.prototype)}else{try{throw Error()}catch(tt){o=tt}s()}}catch(tt){if(tt&&o&&typeof tt.stack=="string"){for(var j=tt.stack.split(`
`),_=o.stack.split(`
`),$=j.length-1,et=_.length-1;1<=$&&0<=et&&j[$]!==_[et];)et--;for(;1<=$&&0<=et;$--,et--)if(j[$]!==_[et]){if($!==1||et!==1)do if($--,et--,0>et||j[$]!==_[et]){var _e=`
`+j[$].replace(" at new "," at ");return s.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",s.displayName)),_e}while(1<=$&&0<=et);break}}}finally{Na=!1,Error.prepareStackTrace=a}return(s=s?s.displayName||s.name:"")?Ma(s):""}function Pa(s){switch(s.tag){case 5:return Ma(s.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return s=Oa(s.type,!1),s;case 11:return s=Oa(s.type.render,!1),s;case 1:return s=Oa(s.type,!0),s;default:return""}}function Qa(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Ca:return(s.displayName||"Context")+".Consumer";case Ba:return(s._context.displayName||"Context")+".Provider";case Da:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ga:return i=s.displayName||null,i!==null?i:Qa(s.type)||"Memo";case Ha:i=s._payload,s=s._init;try{return Qa(s(i))}catch{}}return null}function Ra(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(i);case 8:return i===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Sa(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ta(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ua(s){var i=Ta(s)?"checked":"value",a=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),o=""+s[i];if(!s.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var j=a.get,_=a.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return j.call(this)},set:function($){o=""+$,_.call(this,$)}}),Object.defineProperty(s,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function($){o=""+$},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Va(s){s._valueTracker||(s._valueTracker=Ua(s))}function Wa(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return s&&(o=Ta(s)?s.checked?"true":"false":s.value),s=o,s!==a?(i.setValue(s),!0):!1}function Xa(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ya(s,i){var a=i.checked;return A$2({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??s._wrapperState.initialChecked})}function Za(s,i){var a=i.defaultValue==null?"":i.defaultValue,o=i.checked!=null?i.checked:i.defaultChecked;a=Sa(i.value!=null?i.value:a),s._wrapperState={initialChecked:o,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ab(s,i){i=i.checked,i!=null&&ta(s,"checked",i,!1)}function bb(s,i){ab(s,i);var a=Sa(i.value),o=i.type;if(a!=null)o==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+a):s.value!==""+a&&(s.value=""+a);else if(o==="submit"||o==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?cb(s,i.type,a):i.hasOwnProperty("defaultValue")&&cb(s,i.type,Sa(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function db(s,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var o=i.type;if(!(o!=="submit"&&o!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,a||i===s.value||(s.value=i),s.defaultValue=i}a=s.name,a!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,a!==""&&(s.name=a)}function cb(s,i,a){(i!=="number"||Xa(s.ownerDocument)!==s)&&(a==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+a&&(s.defaultValue=""+a))}var eb=Array.isArray;function fb(s,i,a,o){if(s=s.options,i){i={};for(var j=0;j<a.length;j++)i["$"+a[j]]=!0;for(a=0;a<s.length;a++)j=i.hasOwnProperty("$"+s[a].value),s[a].selected!==j&&(s[a].selected=j),j&&o&&(s[a].defaultSelected=!0)}else{for(a=""+Sa(a),i=null,j=0;j<s.length;j++){if(s[j].value===a){s[j].selected=!0,o&&(s[j].defaultSelected=!0);return}i!==null||s[j].disabled||(i=s[j])}i!==null&&(i.selected=!0)}}function gb(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$2({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function hb(s,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(p$2(92));if(eb(a)){if(1<a.length)throw Error(p$2(93));a=a[0]}i=a}i==null&&(i=""),a=i}s._wrapperState={initialValue:Sa(a)}}function ib(s,i){var a=Sa(i.value),o=Sa(i.defaultValue);a!=null&&(a=""+a,a!==s.value&&(s.value=a),i.defaultValue==null&&s.defaultValue!==a&&(s.defaultValue=a)),o!=null&&(s.defaultValue=""+o)}function jb(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function kb(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?kb(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var mb,nb=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,o,j){MSApp.execUnsafeLocalFunction(function(){return s(i,a,o,j)})}:s}(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=mb.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function ob(s,i){if(i){var a=s.firstChild;if(a&&a===s.lastChild&&a.nodeType===3){a.nodeValue=i;return}}s.textContent=i}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(s){qb.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),pb[i]=pb[s]})});function rb(s,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||pb.hasOwnProperty(s)&&pb[s]?(""+i).trim():i+"px"}function sb(s,i){s=s.style;for(var a in i)if(i.hasOwnProperty(a)){var o=a.indexOf("--")===0,j=rb(a,i[a],o);a==="float"&&(a="cssFloat"),o?s.setProperty(a,j):s[a]=j}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(s,i){if(i){if(tb[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(p$2(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(p$2(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(p$2(61))}if(i.style!=null&&typeof i.style!="object")throw Error(p$2(62))}}function vb(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var yb=null,zb=null,Ab=null;function Bb(s){if(s=Cb(s)){if(typeof yb!="function")throw Error(p$2(280));var i=s.stateNode;i&&(i=Db(i),yb(s.stateNode,s.type,i))}}function Eb(s){zb?Ab?Ab.push(s):Ab=[s]:zb=s}function Fb(){if(zb){var s=zb,i=Ab;if(Ab=zb=null,Bb(s),i)for(s=0;s<i.length;s++)Bb(i[s])}}function Gb(s,i){return s(i)}function Hb(){}var Ib=!1;function Jb(s,i,a){if(Ib)return s(i,a);Ib=!0;try{return Gb(s,i,a)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(s,i){var a=s.stateNode;if(a===null)return null;var o=Db(a);if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(s=s.type,o=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!o;break e;default:s=!1}if(s)return null;if(a&&typeof a!="function")throw Error(p$2(231,i,typeof a));return a}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(s,i,a,o,j,_,$,et,_e){var tt=Array.prototype.slice.call(arguments,3);try{i.apply(a,tt)}catch(rt){this.onError(rt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(s){Ob=!0,Pb=s}};function Tb(s,i,a,o,j,_,$,et,_e){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(s,i,a,o,j,_,$,et,_e){if(Tb.apply(this,arguments),Ob){if(Ob){var tt=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=tt)}}function Vb(s){var i=s,a=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,i.flags&4098&&(a=i.return),s=i.return;while(s)}return i.tag===3?a:null}function Wb(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function Xb(s){if(Vb(s)!==s)throw Error(p$2(188))}function Yb(s){var i=s.alternate;if(!i){if(i=Vb(s),i===null)throw Error(p$2(188));return i!==s?null:s}for(var a=s,o=i;;){var j=a.return;if(j===null)break;var _=j.alternate;if(_===null){if(o=j.return,o!==null){a=o;continue}break}if(j.child===_.child){for(_=j.child;_;){if(_===a)return Xb(j),s;if(_===o)return Xb(j),i;_=_.sibling}throw Error(p$2(188))}if(a.return!==o.return)a=j,o=_;else{for(var $=!1,et=j.child;et;){if(et===a){$=!0,a=j,o=_;break}if(et===o){$=!0,o=j,a=_;break}et=et.sibling}if(!$){for(et=_.child;et;){if(et===a){$=!0,a=_,o=j;break}if(et===o){$=!0,o=_,a=j;break}et=et.sibling}if(!$)throw Error(p$2(189))}}if(a.alternate!==o)throw Error(p$2(190))}if(a.tag!==3)throw Error(p$2(188));return a.stateNode.current===a?s:i}function Zb(s){return s=Yb(s),s!==null?$b(s):null}function $b(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=$b(s);if(i!==null)return i;s=s.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(s){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,s,void 0,(s.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(s){return s>>>=0,s===0?32:31-(pc(s)/qc|0)|0}var rc=64,sc=4194304;function tc(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function uc(s,i){var a=s.pendingLanes;if(a===0)return 0;var o=0,j=s.suspendedLanes,_=s.pingedLanes,$=a&268435455;if($!==0){var et=$&~j;et!==0?o=tc(et):(_&=$,_!==0&&(o=tc(_)))}else $=a&~j,$!==0?o=tc($):_!==0&&(o=tc(_));if(o===0)return 0;if(i!==0&&i!==o&&!(i&j)&&(j=o&-o,_=i&-i,j>=_||j===16&&(_&4194240)!==0))return i;if(o&4&&(o|=a&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=o;0<i;)a=31-oc(i),j=1<<a,o|=s[a],i&=~j;return o}function vc(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(s,i){for(var a=s.suspendedLanes,o=s.pingedLanes,j=s.expirationTimes,_=s.pendingLanes;0<_;){var $=31-oc(_),et=1<<$,_e=j[$];_e===-1?(!(et&a)||et&o)&&(j[$]=vc(et,i)):_e<=i&&(s.expiredLanes|=et),_&=~et}}function xc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function yc(){var s=rc;return rc<<=1,!(rc&4194240)&&(rc=64),s}function zc(s){for(var i=[],a=0;31>a;a++)i.push(s);return i}function Ac(s,i,a){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-oc(i),s[i]=a}function Bc(s,i){var a=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var o=s.eventTimes;for(s=s.expirationTimes;0<a;){var j=31-oc(a),_=1<<j;i[j]=0,o[j]=-1,s[j]=-1,a&=~_}}function Cc(s,i){var a=s.entangledLanes|=i;for(s=s.entanglements;a;){var o=31-oc(a),j=1<<o;j&i|s[o]&i&&(s[o]|=i),a&=~j}}var C$1=0;function Dc(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(s,i){switch(s){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(i.pointerId)}}function Tc(s,i,a,o,j,_){return s===null||s.nativeEvent!==_?(s={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:_,targetContainers:[j]},i!==null&&(i=Cb(i),i!==null&&Fc(i)),s):(s.eventSystemFlags|=o,i=s.targetContainers,j!==null&&i.indexOf(j)===-1&&i.push(j),s)}function Uc(s,i,a,o,j){switch(i){case"focusin":return Lc=Tc(Lc,s,i,a,o,j),!0;case"dragenter":return Mc=Tc(Mc,s,i,a,o,j),!0;case"mouseover":return Nc=Tc(Nc,s,i,a,o,j),!0;case"pointerover":var _=j.pointerId;return Oc.set(_,Tc(Oc.get(_)||null,s,i,a,o,j)),!0;case"gotpointercapture":return _=j.pointerId,Pc.set(_,Tc(Pc.get(_)||null,s,i,a,o,j)),!0}return!1}function Vc(s){var i=Wc(s.target);if(i!==null){var a=Vb(i);if(a!==null){if(i=a.tag,i===13){if(i=Wb(a),i!==null){s.blockedOn=i,Ic(s.priority,function(){Gc(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){s.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Xc(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var a=Yc(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(a===null){a=s.nativeEvent;var o=new a.constructor(a.type,a);wb=o,a.target.dispatchEvent(o),wb=null}else return i=Cb(a),i!==null&&Fc(i),s.blockedOn=a,!1;i.shift()}return!0}function Zc(s,i,a){Xc(s)&&a.delete(i)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(s,i){s.blockedOn===i&&(s.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(s){function i(j){return ad(j,s)}if(0<Kc.length){ad(Kc[0],s);for(var a=1;a<Kc.length;a++){var o=Kc[a];o.blockedOn===s&&(o.blockedOn=null)}}for(Lc!==null&&ad(Lc,s),Mc!==null&&ad(Mc,s),Nc!==null&&ad(Nc,s),Oc.forEach(i),Pc.forEach(i),a=0;a<Qc.length;a++)o=Qc[a],o.blockedOn===s&&(o.blockedOn=null);for(;0<Qc.length&&(a=Qc[0],a.blockedOn===null);)Vc(a),a.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(s,i,a,o){var j=C$1,_=cd.transition;cd.transition=null;try{C$1=1,fd(s,i,a,o)}finally{C$1=j,cd.transition=_}}function gd(s,i,a,o){var j=C$1,_=cd.transition;cd.transition=null;try{C$1=4,fd(s,i,a,o)}finally{C$1=j,cd.transition=_}}function fd(s,i,a,o){if(dd){var j=Yc(s,i,a,o);if(j===null)hd(s,i,o,id,a),Sc(s,o);else if(Uc(j,s,i,a,o))o.stopPropagation();else if(Sc(s,o),i&4&&-1<Rc.indexOf(s)){for(;j!==null;){var _=Cb(j);if(_!==null&&Ec(_),_=Yc(s,i,a,o),_===null&&hd(s,i,o,id,a),_===j)break;j=_}j!==null&&o.stopPropagation()}else hd(s,i,o,null,a)}}var id=null;function Yc(s,i,a,o){if(id=null,s=xb(o),s=Wc(s),s!==null)if(i=Vb(s),i===null)s=null;else if(a=i.tag,a===13){if(s=Wb(i),s!==null)return s;s=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return id=s,null}function jd(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var s,i=ld,a=i.length,o,j="value"in kd?kd.value:kd.textContent,_=j.length;for(s=0;s<a&&i[s]===j[s];s++);var $=a-s;for(o=1;o<=$&&i[a-o]===j[_-o];o++);return md=j.slice(s,1<o?1-o:void 0)}function od(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function pd(){return!0}function qd(){return!1}function rd(s){function i(a,o,j,_,$){this._reactName=a,this._targetInst=j,this.type=o,this.nativeEvent=_,this.target=$,this.currentTarget=null;for(var et in s)s.hasOwnProperty(et)&&(a=s[et],this[et]=a?a(_):_[et]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),i}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==yd&&(yd&&s.type==="mousemove"?(wd=s.screenX-yd.screenX,xd=s.screenY-yd.screenY):xd=wd=0,yd=s),wd)},movementY:function(s){return"movementY"in s?s.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Od[s])?!!i[s]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(s){if(s.key){var i=Md[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=od(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Nd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(s){return s.type==="keypress"?od(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?od(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(s,i){switch(s){case"keyup":return $d.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ie=!1;function je(s,i){switch(s){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(fe=!0,ee);case"textInput":return s=i.data,s===ee&&fe?null:s;default:return null}}function ke(s,i){if(ie)return s==="compositionend"||!ae&&ge(s,i)?(s=nd(),md=ld=kd=null,ie=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return de&&i.locale!=="ko"?null:i.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!le[s.type]:i==="textarea"}function ne(s,i,a,o){Eb(o),i=oe(i,"onChange"),0<i.length&&(a=new td("onChange","change",null,a,o),s.push({event:a,listeners:i}))}var pe=null,qe=null;function re(s){se(s,0)}function te(s){var i=ue(s);if(Wa(i))return s}function ve(s,i){if(s==="change")return i}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(s){if(s.propertyName==="value"&&te(qe)){var i=[];ne(i,qe,s,xb(s)),Jb(re,i)}}function Ce(s,i,a){s==="focusin"?(Ae(),pe=i,qe=a,pe.attachEvent("onpropertychange",Be)):s==="focusout"&&Ae()}function De(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return te(qe)}function Ee(s,i){if(s==="click")return te(i)}function Fe(s,i){if(s==="input"||s==="change")return te(i)}function Ge(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(s,i){if(He(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var a=Object.keys(s),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var j=a[o];if(!ja.call(i,j)||!He(s[j],i[j]))return!1}return!0}function Je(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ke(s,i){var a=Je(s);s=0;for(var o;a;){if(a.nodeType===3){if(o=s+a.textContent.length,s<=i&&o>=i)return{node:a,offset:i-s};s=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Je(a)}}function Le(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Le(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Me(){for(var s=window,i=Xa();i instanceof s.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)s=i.contentWindow;else break;i=Xa(s.document)}return i}function Ne(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function Oe(s){var i=Me(),a=s.focusedElem,o=s.selectionRange;if(i!==a&&a&&a.ownerDocument&&Le(a.ownerDocument.documentElement,a)){if(o!==null&&Ne(a)){if(i=o.start,s=o.end,s===void 0&&(s=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(s,a.value.length);else if(s=(i=a.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var j=a.textContent.length,_=Math.min(o.start,j);o=o.end===void 0?_:Math.min(o.end,j),!s.extend&&_>o&&(j=o,o=_,_=j),j=Ke(a,_);var $=Ke(a,o);j&&$&&(s.rangeCount!==1||s.anchorNode!==j.node||s.anchorOffset!==j.offset||s.focusNode!==$.node||s.focusOffset!==$.offset)&&(i=i.createRange(),i.setStart(j.node,j.offset),s.removeAllRanges(),_>o?(s.addRange(i),s.extend($.node,$.offset)):(i.setEnd($.node,$.offset),s.addRange(i)))}}for(i=[],s=a;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)s=i[a],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(s,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Te||Qe==null||Qe!==Xa(o)||(o=Qe,"selectionStart"in o&&Ne(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Se&&Ie(Se,o)||(Se=o,o=oe(Re,"onSelect"),0<o.length&&(i=new td("onSelect","select",null,i,a),s.push({event:i,listeners:o}),i.target=Qe)))}function Ve(s,i){var a={};return a[s.toLowerCase()]=i.toLowerCase(),a["Webkit"+s]="webkit"+i,a["Moz"+s]="moz"+i,a}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(s){if(Xe[s])return Xe[s];if(!We[s])return s;var i=We[s],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ye)return Xe[s]=i[a];return s}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(s,i){df.set(s,i),fa(i,[s])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(s,i,a){var o=s.type||"unknown-event";s.currentTarget=a,Ub(o,i,void 0,s),s.currentTarget=null}function se(s,i){i=(i&4)!==0;for(var a=0;a<s.length;a++){var o=s[a],j=o.event;o=o.listeners;e:{var _=void 0;if(i)for(var $=o.length-1;0<=$;$--){var et=o[$],_e=et.instance,tt=et.currentTarget;if(et=et.listener,_e!==_&&j.isPropagationStopped())break e;nf(j,et,tt),_=_e}else for($=0;$<o.length;$++){if(et=o[$],_e=et.instance,tt=et.currentTarget,et=et.listener,_e!==_&&j.isPropagationStopped())break e;nf(j,et,tt),_=_e}}}if(Qb)throw s=Rb,Qb=!1,Rb=null,s}function D$1(s,i){var a=i[of];a===void 0&&(a=i[of]=new Set);var o=s+"__bubble";a.has(o)||(pf(i,s,2,!1),a.add(o))}function qf(s,i,a){var o=0;i&&(o|=4),pf(a,s,o,i)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(s){if(!s[rf]){s[rf]=!0,da.forEach(function(a){a!=="selectionchange"&&(mf.has(a)||qf(a,!1,s),qf(a,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[rf]||(i[rf]=!0,qf("selectionchange",!1,i))}}function pf(s,i,a,o){switch(jd(i)){case 1:var j=ed;break;case 4:j=gd;break;default:j=fd}a=j.bind(null,i,a,s),j=void 0,!Lb||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(j=!0),o?j!==void 0?s.addEventListener(i,a,{capture:!0,passive:j}):s.addEventListener(i,a,!0):j!==void 0?s.addEventListener(i,a,{passive:j}):s.addEventListener(i,a,!1)}function hd(s,i,a,o,j){var _=o;if(!(i&1)&&!(i&2)&&o!==null)e:for(;;){if(o===null)return;var $=o.tag;if($===3||$===4){var et=o.stateNode.containerInfo;if(et===j||et.nodeType===8&&et.parentNode===j)break;if($===4)for($=o.return;$!==null;){var _e=$.tag;if((_e===3||_e===4)&&(_e=$.stateNode.containerInfo,_e===j||_e.nodeType===8&&_e.parentNode===j))return;$=$.return}for(;et!==null;){if($=Wc(et),$===null)return;if(_e=$.tag,_e===5||_e===6){o=_=$;continue e}et=et.parentNode}}o=o.return}Jb(function(){var tt=_,rt=xb(a),nt=[];e:{var st=df.get(s);if(st!==void 0){var ot=td,ct=s;switch(s){case"keypress":if(od(a)===0)break e;case"keydown":case"keyup":ot=Rd;break;case"focusin":ct="focus",ot=Fd;break;case"focusout":ct="blur",ot=Fd;break;case"beforeblur":case"afterblur":ot=Fd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=Vd;break;case $e:case af:case bf:ot=Hd;break;case cf:ot=Xd;break;case"scroll":ot=vd;break;case"wheel":ot=Zd;break;case"copy":case"cut":case"paste":ot=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=Td}var gt=(i&4)!==0,dt=!gt&&s==="scroll",it=gt?st!==null?st+"Capture":null:st;gt=[];for(var lt=tt,ut;lt!==null;){ut=lt;var mt=ut.stateNode;if(ut.tag===5&&mt!==null&&(ut=mt,it!==null&&(mt=Kb(lt,it),mt!=null&&gt.push(tf(lt,mt,ut)))),dt)break;lt=lt.return}0<gt.length&&(st=new ot(st,ct,null,a,rt),nt.push({event:st,listeners:gt}))}}if(!(i&7)){e:{if(st=s==="mouseover"||s==="pointerover",ot=s==="mouseout"||s==="pointerout",st&&a!==wb&&(ct=a.relatedTarget||a.fromElement)&&(Wc(ct)||ct[uf]))break e;if((ot||st)&&(st=rt.window===rt?rt:(st=rt.ownerDocument)?st.defaultView||st.parentWindow:window,ot?(ct=a.relatedTarget||a.toElement,ot=tt,ct=ct?Wc(ct):null,ct!==null&&(dt=Vb(ct),ct!==dt||ct.tag!==5&&ct.tag!==6)&&(ct=null)):(ot=null,ct=tt),ot!==ct)){if(gt=Bd,mt="onMouseLeave",it="onMouseEnter",lt="mouse",(s==="pointerout"||s==="pointerover")&&(gt=Td,mt="onPointerLeave",it="onPointerEnter",lt="pointer"),dt=ot==null?st:ue(ot),ut=ct==null?st:ue(ct),st=new gt(mt,lt+"leave",ot,a,rt),st.target=dt,st.relatedTarget=ut,mt=null,Wc(rt)===tt&&(gt=new gt(it,lt+"enter",ct,a,rt),gt.target=ut,gt.relatedTarget=dt,mt=gt),dt=mt,ot&&ct)t:{for(gt=ot,it=ct,lt=0,ut=gt;ut;ut=vf(ut))lt++;for(ut=0,mt=it;mt;mt=vf(mt))ut++;for(;0<lt-ut;)gt=vf(gt),lt--;for(;0<ut-lt;)it=vf(it),ut--;for(;lt--;){if(gt===it||it!==null&&gt===it.alternate)break t;gt=vf(gt),it=vf(it)}gt=null}else gt=null;ot!==null&&wf(nt,st,ot,gt,!1),ct!==null&&dt!==null&&wf(nt,dt,ct,gt,!0)}}e:{if(st=tt?ue(tt):window,ot=st.nodeName&&st.nodeName.toLowerCase(),ot==="select"||ot==="input"&&st.type==="file")var ht=ve;else if(me(st))if(we)ht=Fe;else{ht=De;var vt=Ce}else(ot=st.nodeName)&&ot.toLowerCase()==="input"&&(st.type==="checkbox"||st.type==="radio")&&(ht=Ee);if(ht&&(ht=ht(s,tt))){ne(nt,ht,a,rt);break e}vt&&vt(s,st,tt),s==="focusout"&&(vt=st._wrapperState)&&vt.controlled&&st.type==="number"&&cb(st,"number",st.value)}switch(vt=tt?ue(tt):window,s){case"focusin":(me(vt)||vt.contentEditable==="true")&&(Qe=vt,Re=tt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(nt,a,rt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(nt,a,rt)}var at;if(ae)e:{switch(s){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else ie?ge(s,a)&&(pt="onCompositionEnd"):s==="keydown"&&a.keyCode===229&&(pt="onCompositionStart");pt&&(de&&a.locale!=="ko"&&(ie||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&ie&&(at=nd()):(kd=rt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),vt=oe(tt,pt),0<vt.length&&(pt=new Ld(pt,s,null,a,rt),nt.push({event:pt,listeners:vt}),at?pt.data=at:(at=he(a),at!==null&&(pt.data=at)))),(at=ce?je(s,a):ke(s,a))&&(tt=oe(tt,"onBeforeInput"),0<tt.length&&(rt=new Ld("onBeforeInput","beforeinput",null,a,rt),nt.push({event:rt,listeners:tt}),rt.data=at))}se(nt,i)})}function tf(s,i,a){return{instance:s,listener:i,currentTarget:a}}function oe(s,i){for(var a=i+"Capture",o=[];s!==null;){var j=s,_=j.stateNode;j.tag===5&&_!==null&&(j=_,_=Kb(s,a),_!=null&&o.unshift(tf(s,_,j)),_=Kb(s,i),_!=null&&o.push(tf(s,_,j))),s=s.return}return o}function vf(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function wf(s,i,a,o,j){for(var _=i._reactName,$=[];a!==null&&a!==o;){var et=a,_e=et.alternate,tt=et.stateNode;if(_e!==null&&_e===o)break;et.tag===5&&tt!==null&&(et=tt,j?(_e=Kb(a,_),_e!=null&&$.unshift(tf(a,_e,et))):j||(_e=Kb(a,_),_e!=null&&$.push(tf(a,_e,et)))),a=a.return}$.length!==0&&s.push({event:i,listeners:$})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(s){return(typeof s=="string"?s:""+s).replace(xf,`
`).replace(yf,"")}function Af(s,i,a){if(i=zf(i),zf(s)!==i&&a)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(s){return Hf.resolve(null).then(s).catch(If)}:Ff;function If(s){setTimeout(function(){throw s})}function Kf(s,i){var a=i,o=0;do{var j=a.nextSibling;if(s.removeChild(a),j&&j.nodeType===8)if(a=j.data,a==="/$"){if(o===0){s.removeChild(j),bd(i);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=j}while(a);bd(i)}function Lf(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function Mf(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var a=s.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return s;i--}else a==="/$"&&i++}s=s.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(s){var i=s[Of];if(i)return i;for(var a=s.parentNode;a;){if(i=a[uf]||a[Of]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(s=Mf(s);s!==null;){if(a=s[Of])return a;s=Mf(s)}return i}s=a,a=s.parentNode}return null}function Cb(s){return s=s[Of]||s[uf],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ue(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(p$2(33))}function Db(s){return s[Pf]||null}var Sf=[],Tf=-1;function Uf(s){return{current:s}}function E$1(s){0>Tf||(s.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(s,i){Tf++,Sf[Tf]=s.current,s.current=i}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(s,i){var a=s.type.contextTypes;if(!a)return Vf;var o=s.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===i)return o.__reactInternalMemoizedMaskedChildContext;var j={},_;for(_ in a)j[_]=i[_];return o&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=j),j}function Zf(s){return s=s.childContextTypes,s!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(s,i,a){if(H$1.current!==Vf)throw Error(p$2(168));G$1(H$1,i),G$1(Wf,a)}function bg(s,i,a){var o=s.stateNode;if(i=i.childContextTypes,typeof o.getChildContext!="function")return a;o=o.getChildContext();for(var j in o)if(!(j in i))throw Error(p$2(108,Ra(s)||"Unknown",j));return A$2({},a,o)}function cg(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,s),G$1(Wf,Wf.current),!0}function dg(s,i,a){var o=s.stateNode;if(!o)throw Error(p$2(169));a?(s=bg(s,i,Xf),o.__reactInternalMemoizedMergedChildContext=s,E$1(Wf),E$1(H$1),G$1(H$1,s)):E$1(Wf),G$1(Wf,a)}var eg=null,fg=!1,gg=!1;function hg(s){eg===null?eg=[s]:eg.push(s)}function ig(s){fg=!0,hg(s)}function jg(){if(!gg&&eg!==null){gg=!0;var s=0,i=C$1;try{var a=eg;for(C$1=1;s<a.length;s++){var o=a[s];do o=o(!0);while(o!==null)}eg=null,fg=!1}catch(j){throw eg!==null&&(eg=eg.slice(s+1)),ac(fc,jg),j}finally{C$1=i,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(s,i){kg[lg++]=ng,kg[lg++]=mg,mg=s,ng=i}function ug(s,i,a){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=s;var o=rg;s=sg;var j=32-oc(o)-1;o&=~(1<<j),a+=1;var _=32-oc(i)+j;if(30<_){var $=j-j%5;_=(o&(1<<$)-1).toString(32),o>>=$,j-=$,rg=1<<32-oc(i)+j|a<<j|o,sg=_+s}else rg=1<<_|a<<j|o,sg=s}function vg(s){s.return!==null&&(tg(s,1),ug(s,1,0))}function wg(s){for(;s===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;s===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(s,i){var a=Bg(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=s,i=s.deletions,i===null?(s.deletions=[a],s.flags|=16):i.push(a)}function Cg(s,i){switch(s.tag){case 5:var a=s.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,xg=s,yg=Lf(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,xg=s,yg=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=qg!==null?{id:rg,overflow:sg}:null,s.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Bg(18,null,null,0),a.stateNode=i,a.return=s,s.child=a,xg=s,yg=null,!0):!1;default:return!1}}function Dg(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Eg(s){if(I$1){var i=yg;if(i){var a=i;if(!Cg(s,i)){if(Dg(s))throw Error(p$2(418));i=Lf(a.nextSibling);var o=xg;i&&Cg(s,i)?Ag(o,a):(s.flags=s.flags&-4097|2,I$1=!1,xg=s)}}else{if(Dg(s))throw Error(p$2(418));s.flags=s.flags&-4097|2,I$1=!1,xg=s}}}function Fg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;xg=s}function Gg(s){if(s!==xg)return!1;if(!I$1)return Fg(s),I$1=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Ef(s.type,s.memoizedProps)),i&&(i=yg)){if(Dg(s))throw Hg(),Error(p$2(418));for(;i;)Ag(s,i),i=Lf(i.nextSibling)}if(Fg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(p$2(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var a=s.data;if(a==="/$"){if(i===0){yg=Lf(s.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}s=s.nextSibling}yg=null}}else yg=xg?Lf(s.stateNode.nextSibling):null;return!0}function Hg(){for(var s=yg;s;)s=Lf(s.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(s){zg===null?zg=[s]:zg.push(s)}var Kg=ua.ReactCurrentBatchConfig;function Lg(s,i,a){if(s=a.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(p$2(309));var o=a.stateNode}if(!o)throw Error(p$2(147,s));var j=o,_=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===_?i.ref:(i=function($){var et=j.refs;$===null?delete et[_]:et[_]=$},i._stringRef=_,i)}if(typeof s!="string")throw Error(p$2(284));if(!a._owner)throw Error(p$2(290,s))}return s}function Mg(s,i){throw s=Object.prototype.toString.call(i),Error(p$2(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Ng(s){var i=s._init;return i(s._payload)}function Og(s){function i(it,lt){if(s){var ut=it.deletions;ut===null?(it.deletions=[lt],it.flags|=16):ut.push(lt)}}function a(it,lt){if(!s)return null;for(;lt!==null;)i(it,lt),lt=lt.sibling;return null}function o(it,lt){for(it=new Map;lt!==null;)lt.key!==null?it.set(lt.key,lt):it.set(lt.index,lt),lt=lt.sibling;return it}function j(it,lt){return it=Pg(it,lt),it.index=0,it.sibling=null,it}function _(it,lt,ut){return it.index=ut,s?(ut=it.alternate,ut!==null?(ut=ut.index,ut<lt?(it.flags|=2,lt):ut):(it.flags|=2,lt)):(it.flags|=1048576,lt)}function $(it){return s&&it.alternate===null&&(it.flags|=2),it}function et(it,lt,ut,mt){return lt===null||lt.tag!==6?(lt=Qg(ut,it.mode,mt),lt.return=it,lt):(lt=j(lt,ut),lt.return=it,lt)}function _e(it,lt,ut,mt){var ht=ut.type;return ht===ya?rt(it,lt,ut.props.children,mt,ut.key):lt!==null&&(lt.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===Ha&&Ng(ht)===lt.type)?(mt=j(lt,ut.props),mt.ref=Lg(it,lt,ut),mt.return=it,mt):(mt=Rg(ut.type,ut.key,ut.props,null,it.mode,mt),mt.ref=Lg(it,lt,ut),mt.return=it,mt)}function tt(it,lt,ut,mt){return lt===null||lt.tag!==4||lt.stateNode.containerInfo!==ut.containerInfo||lt.stateNode.implementation!==ut.implementation?(lt=Sg(ut,it.mode,mt),lt.return=it,lt):(lt=j(lt,ut.children||[]),lt.return=it,lt)}function rt(it,lt,ut,mt,ht){return lt===null||lt.tag!==7?(lt=Tg(ut,it.mode,mt,ht),lt.return=it,lt):(lt=j(lt,ut),lt.return=it,lt)}function nt(it,lt,ut){if(typeof lt=="string"&&lt!==""||typeof lt=="number")return lt=Qg(""+lt,it.mode,ut),lt.return=it,lt;if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case va:return ut=Rg(lt.type,lt.key,lt.props,null,it.mode,ut),ut.ref=Lg(it,null,lt),ut.return=it,ut;case wa:return lt=Sg(lt,it.mode,ut),lt.return=it,lt;case Ha:var mt=lt._init;return nt(it,mt(lt._payload),ut)}if(eb(lt)||Ka(lt))return lt=Tg(lt,it.mode,ut,null),lt.return=it,lt;Mg(it,lt)}return null}function st(it,lt,ut,mt){var ht=lt!==null?lt.key:null;if(typeof ut=="string"&&ut!==""||typeof ut=="number")return ht!==null?null:et(it,lt,""+ut,mt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case va:return ut.key===ht?_e(it,lt,ut,mt):null;case wa:return ut.key===ht?tt(it,lt,ut,mt):null;case Ha:return ht=ut._init,st(it,lt,ht(ut._payload),mt)}if(eb(ut)||Ka(ut))return ht!==null?null:rt(it,lt,ut,mt,null);Mg(it,ut)}return null}function ot(it,lt,ut,mt,ht){if(typeof mt=="string"&&mt!==""||typeof mt=="number")return it=it.get(ut)||null,et(lt,it,""+mt,ht);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:return it=it.get(mt.key===null?ut:mt.key)||null,_e(lt,it,mt,ht);case wa:return it=it.get(mt.key===null?ut:mt.key)||null,tt(lt,it,mt,ht);case Ha:var vt=mt._init;return ot(it,lt,ut,vt(mt._payload),ht)}if(eb(mt)||Ka(mt))return it=it.get(ut)||null,rt(lt,it,mt,ht,null);Mg(lt,mt)}return null}function ct(it,lt,ut,mt){for(var ht=null,vt=null,at=lt,pt=lt=0,yt=null;at!==null&&pt<ut.length;pt++){at.index>pt?(yt=at,at=null):yt=at.sibling;var jt=st(it,at,ut[pt],mt);if(jt===null){at===null&&(at=yt);break}s&&at&&jt.alternate===null&&i(it,at),lt=_(jt,lt,pt),vt===null?ht=jt:vt.sibling=jt,vt=jt,at=yt}if(pt===ut.length)return a(it,at),I$1&&tg(it,pt),ht;if(at===null){for(;pt<ut.length;pt++)at=nt(it,ut[pt],mt),at!==null&&(lt=_(at,lt,pt),vt===null?ht=at:vt.sibling=at,vt=at);return I$1&&tg(it,pt),ht}for(at=o(it,at);pt<ut.length;pt++)yt=ot(at,it,pt,ut[pt],mt),yt!==null&&(s&&yt.alternate!==null&&at.delete(yt.key===null?pt:yt.key),lt=_(yt,lt,pt),vt===null?ht=yt:vt.sibling=yt,vt=yt);return s&&at.forEach(function(xt){return i(it,xt)}),I$1&&tg(it,pt),ht}function gt(it,lt,ut,mt){var ht=Ka(ut);if(typeof ht!="function")throw Error(p$2(150));if(ut=ht.call(ut),ut==null)throw Error(p$2(151));for(var vt=ht=null,at=lt,pt=lt=0,yt=null,jt=ut.next();at!==null&&!jt.done;pt++,jt=ut.next()){at.index>pt?(yt=at,at=null):yt=at.sibling;var xt=st(it,at,jt.value,mt);if(xt===null){at===null&&(at=yt);break}s&&at&&xt.alternate===null&&i(it,at),lt=_(xt,lt,pt),vt===null?ht=xt:vt.sibling=xt,vt=xt,at=yt}if(jt.done)return a(it,at),I$1&&tg(it,pt),ht;if(at===null){for(;!jt.done;pt++,jt=ut.next())jt=nt(it,jt.value,mt),jt!==null&&(lt=_(jt,lt,pt),vt===null?ht=jt:vt.sibling=jt,vt=jt);return I$1&&tg(it,pt),ht}for(at=o(it,at);!jt.done;pt++,jt=ut.next())jt=ot(at,it,pt,jt.value,mt),jt!==null&&(s&&jt.alternate!==null&&at.delete(jt.key===null?pt:jt.key),lt=_(jt,lt,pt),vt===null?ht=jt:vt.sibling=jt,vt=jt);return s&&at.forEach(function(wt){return i(it,wt)}),I$1&&tg(it,pt),ht}function dt(it,lt,ut,mt){if(typeof ut=="object"&&ut!==null&&ut.type===ya&&ut.key===null&&(ut=ut.props.children),typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case va:e:{for(var ht=ut.key,vt=lt;vt!==null;){if(vt.key===ht){if(ht=ut.type,ht===ya){if(vt.tag===7){a(it,vt.sibling),lt=j(vt,ut.props.children),lt.return=it,it=lt;break e}}else if(vt.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===Ha&&Ng(ht)===vt.type){a(it,vt.sibling),lt=j(vt,ut.props),lt.ref=Lg(it,vt,ut),lt.return=it,it=lt;break e}a(it,vt);break}else i(it,vt);vt=vt.sibling}ut.type===ya?(lt=Tg(ut.props.children,it.mode,mt,ut.key),lt.return=it,it=lt):(mt=Rg(ut.type,ut.key,ut.props,null,it.mode,mt),mt.ref=Lg(it,lt,ut),mt.return=it,it=mt)}return $(it);case wa:e:{for(vt=ut.key;lt!==null;){if(lt.key===vt)if(lt.tag===4&&lt.stateNode.containerInfo===ut.containerInfo&&lt.stateNode.implementation===ut.implementation){a(it,lt.sibling),lt=j(lt,ut.children||[]),lt.return=it,it=lt;break e}else{a(it,lt);break}else i(it,lt);lt=lt.sibling}lt=Sg(ut,it.mode,mt),lt.return=it,it=lt}return $(it);case Ha:return vt=ut._init,dt(it,lt,vt(ut._payload),mt)}if(eb(ut))return ct(it,lt,ut,mt);if(Ka(ut))return gt(it,lt,ut,mt);Mg(it,ut)}return typeof ut=="string"&&ut!==""||typeof ut=="number"?(ut=""+ut,lt!==null&&lt.tag===6?(a(it,lt.sibling),lt=j(lt,ut),lt.return=it,it=lt):(a(it,lt),lt=Qg(ut,it.mode,mt),lt.return=it,it=lt),$(it)):a(it,lt)}return dt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(s){var i=Wg.current;E$1(Wg),s._currentValue=i}function bh(s,i,a){for(;s!==null;){var o=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),s===a)break;s=s.return}}function ch(s,i){Xg=s,Zg=Yg=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&i&&(dh=!0),s.firstContext=null)}function eh(s){var i=s._currentValue;if(Zg!==s)if(s={context:s,memoizedValue:i,next:null},Yg===null){if(Xg===null)throw Error(p$2(308));Yg=s,Xg.dependencies={lanes:0,firstContext:s}}else Yg=Yg.next=s;return i}var fh=null;function gh(s){fh===null?fh=[s]:fh.push(s)}function hh(s,i,a,o){var j=i.interleaved;return j===null?(a.next=a,gh(i)):(a.next=j.next,j.next=a),i.interleaved=a,ih(s,o)}function ih(s,i){s.lanes|=i;var a=s.alternate;for(a!==null&&(a.lanes|=i),a=s,s=s.return;s!==null;)s.childLanes|=i,a=s.alternate,a!==null&&(a.childLanes|=i),a=s,s=s.return;return a.tag===3?a.stateNode:null}var jh=!1;function kh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function mh(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function nh(s,i,a){var o=s.updateQueue;if(o===null)return null;if(o=o.shared,K&2){var j=o.pending;return j===null?i.next=i:(i.next=j.next,j.next=i),o.pending=i,ih(s,a)}return j=o.interleaved,j===null?(i.next=i,gh(o)):(i.next=j.next,j.next=i),o.interleaved=i,ih(s,a)}function oh(s,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var o=i.lanes;o&=s.pendingLanes,a|=o,i.lanes=a,Cc(s,a)}}function ph(s,i){var a=s.updateQueue,o=s.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var j=null,_=null;if(a=a.firstBaseUpdate,a!==null){do{var $={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};_===null?j=_=$:_=_.next=$,a=a.next}while(a!==null);_===null?j=_=i:_=_.next=i}else j=_=i;a={baseState:o.baseState,firstBaseUpdate:j,lastBaseUpdate:_,shared:o.shared,effects:o.effects},s.updateQueue=a;return}s=a.lastBaseUpdate,s===null?a.firstBaseUpdate=i:s.next=i,a.lastBaseUpdate=i}function qh(s,i,a,o){var j=s.updateQueue;jh=!1;var _=j.firstBaseUpdate,$=j.lastBaseUpdate,et=j.shared.pending;if(et!==null){j.shared.pending=null;var _e=et,tt=_e.next;_e.next=null,$===null?_=tt:$.next=tt,$=_e;var rt=s.alternate;rt!==null&&(rt=rt.updateQueue,et=rt.lastBaseUpdate,et!==$&&(et===null?rt.firstBaseUpdate=tt:et.next=tt,rt.lastBaseUpdate=_e))}if(_!==null){var nt=j.baseState;$=0,rt=tt=_e=null,et=_;do{var st=et.lane,ot=et.eventTime;if((o&st)===st){rt!==null&&(rt=rt.next={eventTime:ot,lane:0,tag:et.tag,payload:et.payload,callback:et.callback,next:null});e:{var ct=s,gt=et;switch(st=i,ot=a,gt.tag){case 1:if(ct=gt.payload,typeof ct=="function"){nt=ct.call(ot,nt,st);break e}nt=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=gt.payload,st=typeof ct=="function"?ct.call(ot,nt,st):ct,st==null)break e;nt=A$2({},nt,st);break e;case 2:jh=!0}}et.callback!==null&&et.lane!==0&&(s.flags|=64,st=j.effects,st===null?j.effects=[et]:st.push(et))}else ot={eventTime:ot,lane:st,tag:et.tag,payload:et.payload,callback:et.callback,next:null},rt===null?(tt=rt=ot,_e=nt):rt=rt.next=ot,$|=st;if(et=et.next,et===null){if(et=j.shared.pending,et===null)break;st=et,et=st.next,st.next=null,j.lastBaseUpdate=st,j.shared.pending=null}}while(!0);if(rt===null&&(_e=nt),j.baseState=_e,j.firstBaseUpdate=tt,j.lastBaseUpdate=rt,i=j.shared.interleaved,i!==null){j=i;do $|=j.lane,j=j.next;while(j!==i)}else _===null&&(j.shared.lanes=0);rh|=$,s.lanes=$,s.memoizedState=nt}}function sh(s,i,a){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var o=s[i],j=o.callback;if(j!==null){if(o.callback=null,o=a,typeof j!="function")throw Error(p$2(191,j));j.call(o)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(s){if(s===th)throw Error(p$2(174));return s}function yh(s,i){switch(G$1(wh,i),G$1(vh,s),G$1(uh,th),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:lb(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=lb(i,s)}E$1(uh),G$1(uh,i)}function zh(){E$1(uh),E$1(vh),E$1(wh)}function Ah(s){xh(wh.current);var i=xh(uh.current),a=lb(i,s.type);i!==a&&(G$1(vh,s),G$1(uh,a))}function Bh(s){vh.current===s&&(E$1(uh),E$1(vh))}var L=Uf(0);function Ch(s){for(var i=s;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Dh=[];function Eh(){for(var s=0;s<Dh.length;s++)Dh[s]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p$2(321))}function Mh(s,i){if(i===null)return!1;for(var a=0;a<i.length&&a<s.length;a++)if(!He(s[a],i[a]))return!1;return!0}function Nh(s,i,a,o,j,_){if(Hh=_,M=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Fh.current=s===null||s.memoizedState===null?Oh:Ph,s=a(o,j),Jh){_=0;do{if(Jh=!1,Kh=0,25<=_)throw Error(p$2(301));_+=1,O=N=null,i.updateQueue=null,Fh.current=Qh,s=a(o,j)}while(Jh)}if(Fh.current=Rh,i=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,i)throw Error(p$2(300));return s}function Sh(){var s=Kh!==0;return Kh=0,s}function Th(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=s:O=O.next=s,O}function Uh(){if(N===null){var s=M.alternate;s=s!==null?s.memoizedState:null}else s=N.next;var i=O===null?M.memoizedState:O.next;if(i!==null)O=i,N=s;else{if(s===null)throw Error(p$2(310));N=s,s={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=s:O=O.next=s}return O}function Vh(s,i){return typeof i=="function"?i(s):i}function Wh(s){var i=Uh(),a=i.queue;if(a===null)throw Error(p$2(311));a.lastRenderedReducer=s;var o=N,j=o.baseQueue,_=a.pending;if(_!==null){if(j!==null){var $=j.next;j.next=_.next,_.next=$}o.baseQueue=j=_,a.pending=null}if(j!==null){_=j.next,o=o.baseState;var et=$=null,_e=null,tt=_;do{var rt=tt.lane;if((Hh&rt)===rt)_e!==null&&(_e=_e.next={lane:0,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),o=tt.hasEagerState?tt.eagerState:s(o,tt.action);else{var nt={lane:rt,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null};_e===null?(et=_e=nt,$=o):_e=_e.next=nt,M.lanes|=rt,rh|=rt}tt=tt.next}while(tt!==null&&tt!==_);_e===null?$=o:_e.next=et,He(o,i.memoizedState)||(dh=!0),i.memoizedState=o,i.baseState=$,i.baseQueue=_e,a.lastRenderedState=o}if(s=a.interleaved,s!==null){j=s;do _=j.lane,M.lanes|=_,rh|=_,j=j.next;while(j!==s)}else j===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Xh(s){var i=Uh(),a=i.queue;if(a===null)throw Error(p$2(311));a.lastRenderedReducer=s;var o=a.dispatch,j=a.pending,_=i.memoizedState;if(j!==null){a.pending=null;var $=j=j.next;do _=s(_,$.action),$=$.next;while($!==j);He(_,i.memoizedState)||(dh=!0),i.memoizedState=_,i.baseQueue===null&&(i.baseState=_),a.lastRenderedState=_}return[_,o]}function Yh(){}function Zh(s,i){var a=M,o=Uh(),j=i(),_=!He(o.memoizedState,j);if(_&&(o.memoizedState=j,dh=!0),o=o.queue,$h(ai.bind(null,a,o,s),[s]),o.getSnapshot!==i||_||O!==null&&O.memoizedState.tag&1){if(a.flags|=2048,bi(9,ci.bind(null,a,o,j,i),void 0,null),Q===null)throw Error(p$2(349));Hh&30||di(a,i,j)}return j}function di(s,i,a){s.flags|=16384,s={getSnapshot:i,value:a},i=M.updateQueue,i===null?(i={lastEffect:null,stores:null},M.updateQueue=i,i.stores=[s]):(a=i.stores,a===null?i.stores=[s]:a.push(s))}function ci(s,i,a,o){i.value=a,i.getSnapshot=o,ei(i)&&fi(s)}function ai(s,i,a){return a(function(){ei(i)&&fi(s)})}function ei(s){var i=s.getSnapshot;s=s.value;try{var a=i();return!He(s,a)}catch{return!0}}function fi(s){var i=ih(s,1);i!==null&&gi(i,s,1,-1)}function hi(s){var i=Th();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:s},i.queue=s,s=s.dispatch=ii.bind(null,M,s),[i.memoizedState,s]}function bi(s,i,a,o){return s={tag:s,create:i,destroy:a,deps:o,next:null},i=M.updateQueue,i===null?(i={lastEffect:null,stores:null},M.updateQueue=i,i.lastEffect=s.next=s):(a=i.lastEffect,a===null?i.lastEffect=s.next=s:(o=a.next,a.next=s,s.next=o,i.lastEffect=s)),s}function ji(){return Uh().memoizedState}function ki(s,i,a,o){var j=Th();M.flags|=s,j.memoizedState=bi(1|i,a,void 0,o===void 0?null:o)}function li(s,i,a,o){var j=Uh();o=o===void 0?null:o;var _=void 0;if(N!==null){var $=N.memoizedState;if(_=$.destroy,o!==null&&Mh(o,$.deps)){j.memoizedState=bi(i,a,_,o);return}}M.flags|=s,j.memoizedState=bi(1|i,a,_,o)}function mi(s,i){return ki(8390656,8,s,i)}function $h(s,i){return li(2048,8,s,i)}function ni(s,i){return li(4,2,s,i)}function oi(s,i){return li(4,4,s,i)}function pi(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function qi(s,i,a){return a=a!=null?a.concat([s]):null,li(4,4,pi.bind(null,i,s),a)}function ri(){}function si(s,i){var a=Uh();i=i===void 0?null:i;var o=a.memoizedState;return o!==null&&i!==null&&Mh(i,o[1])?o[0]:(a.memoizedState=[s,i],s)}function ti(s,i){var a=Uh();i=i===void 0?null:i;var o=a.memoizedState;return o!==null&&i!==null&&Mh(i,o[1])?o[0]:(s=s(),a.memoizedState=[s,i],s)}function ui(s,i,a){return Hh&21?(He(a,i)||(a=yc(),M.lanes|=a,rh|=a,s.baseState=!0),i):(s.baseState&&(s.baseState=!1,dh=!0),s.memoizedState=a)}function vi(s,i){var a=C$1;C$1=a!==0&&4>a?a:4,s(!0);var o=Gh.transition;Gh.transition={};try{s(!1),i()}finally{C$1=a,Gh.transition=o}}function wi(){return Uh().memoizedState}function xi(s,i,a){var o=yi(s);if(a={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null},zi(s))Ai(i,a);else if(a=hh(s,i,a,o),a!==null){var j=R();gi(a,s,o,j),Bi(a,i,o)}}function ii(s,i,a){var o=yi(s),j={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null};if(zi(s))Ai(i,j);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=i.lastRenderedReducer,_!==null))try{var $=i.lastRenderedState,et=_($,a);if(j.hasEagerState=!0,j.eagerState=et,He(et,$)){var _e=i.interleaved;_e===null?(j.next=j,gh(i)):(j.next=_e.next,_e.next=j),i.interleaved=j;return}}catch{}finally{}a=hh(s,i,j,o),a!==null&&(j=R(),gi(a,s,o,j),Bi(a,i,o))}}function zi(s){var i=s.alternate;return s===M||i!==null&&i===M}function Ai(s,i){Jh=Ih=!0;var a=s.pending;a===null?i.next=i:(i.next=a.next,a.next=i),s.pending=i}function Bi(s,i,a){if(a&4194240){var o=i.lanes;o&=s.pendingLanes,a|=o,i.lanes=a,Cc(s,a)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(s,i){return Th().memoizedState=[s,i===void 0?null:i],s},useContext:eh,useEffect:mi,useImperativeHandle:function(s,i,a){return a=a!=null?a.concat([s]):null,ki(4194308,4,pi.bind(null,i,s),a)},useLayoutEffect:function(s,i){return ki(4194308,4,s,i)},useInsertionEffect:function(s,i){return ki(4,2,s,i)},useMemo:function(s,i){var a=Th();return i=i===void 0?null:i,s=s(),a.memoizedState=[s,i],s},useReducer:function(s,i,a){var o=Th();return i=a!==void 0?a(i):i,o.memoizedState=o.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},o.queue=s,s=s.dispatch=xi.bind(null,M,s),[o.memoizedState,s]},useRef:function(s){var i=Th();return s={current:s},i.memoizedState=s},useState:hi,useDebugValue:ri,useDeferredValue:function(s){return Th().memoizedState=s},useTransition:function(){var s=hi(!1),i=s[0];return s=vi.bind(null,s[1]),Th().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,a){var o=M,j=Th();if(I$1){if(a===void 0)throw Error(p$2(407));a=a()}else{if(a=i(),Q===null)throw Error(p$2(349));Hh&30||di(o,i,a)}j.memoizedState=a;var _={value:a,getSnapshot:i};return j.queue=_,mi(ai.bind(null,o,_,s),[s]),o.flags|=2048,bi(9,ci.bind(null,o,_,a,i),void 0,null),a},useId:function(){var s=Th(),i=Q.identifierPrefix;if(I$1){var a=sg,o=rg;a=(o&~(1<<32-oc(o)-1)).toString(32)+a,i=":"+i+"R"+a,a=Kh++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Lh++,i=":"+i+"r"+a.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(s){var i=Uh();return ui(i,N.memoizedState,s)},useTransition:function(){var s=Wh(Vh)[0],i=Uh().memoizedState;return[s,i]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(s){var i=Uh();return N===null?i.memoizedState=s:ui(i,N.memoizedState,s)},useTransition:function(){var s=Xh(Vh)[0],i=Uh().memoizedState;return[s,i]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(s,i){if(s&&s.defaultProps){i=A$2({},i),s=s.defaultProps;for(var a in s)i[a]===void 0&&(i[a]=s[a]);return i}return i}function Di(s,i,a,o){i=s.memoizedState,a=a(o,i),a=a==null?i:A$2({},i,a),s.memoizedState=a,s.lanes===0&&(s.updateQueue.baseState=a)}var Ei={isMounted:function(s){return(s=s._reactInternals)?Vb(s)===s:!1},enqueueSetState:function(s,i,a){s=s._reactInternals;var o=R(),j=yi(s),_=mh(o,j);_.payload=i,a!=null&&(_.callback=a),i=nh(s,_,j),i!==null&&(gi(i,s,j,o),oh(i,s,j))},enqueueReplaceState:function(s,i,a){s=s._reactInternals;var o=R(),j=yi(s),_=mh(o,j);_.tag=1,_.payload=i,a!=null&&(_.callback=a),i=nh(s,_,j),i!==null&&(gi(i,s,j,o),oh(i,s,j))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var a=R(),o=yi(s),j=mh(a,o);j.tag=2,i!=null&&(j.callback=i),i=nh(s,j,o),i!==null&&(gi(i,s,o,a),oh(i,s,o))}};function Fi(s,i,a,o,j,_,$){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(o,_,$):i.prototype&&i.prototype.isPureReactComponent?!Ie(a,o)||!Ie(j,_):!0}function Gi(s,i,a){var o=!1,j=Vf,_=i.contextType;return typeof _=="object"&&_!==null?_=eh(_):(j=Zf(i)?Xf:H$1.current,o=i.contextTypes,_=(o=o!=null)?Yf(s,j):Vf),i=new i(a,_),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ei,s.stateNode=i,i._reactInternals=s,o&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=j,s.__reactInternalMemoizedMaskedChildContext=_),i}function Hi(s,i,a,o){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==s&&Ei.enqueueReplaceState(i,i.state,null)}function Ii(s,i,a,o){var j=s.stateNode;j.props=a,j.state=s.memoizedState,j.refs={},kh(s);var _=i.contextType;typeof _=="object"&&_!==null?j.context=eh(_):(_=Zf(i)?Xf:H$1.current,j.context=Yf(s,_)),j.state=s.memoizedState,_=i.getDerivedStateFromProps,typeof _=="function"&&(Di(s,i,_,a),j.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(i=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),i!==j.state&&Ei.enqueueReplaceState(j,j.state,null),qh(s,a,j,o),j.state=s.memoizedState),typeof j.componentDidMount=="function"&&(s.flags|=4194308)}function Ji(s,i){try{var a="",o=i;do a+=Pa(o),o=o.return;while(o);var j=a}catch(_){j=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:i,stack:j,digest:null}}function Ki(s,i,a){return{value:s,source:null,stack:a??null,digest:i??null}}function Li(s,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(s,i,a){a=mh(-1,a),a.tag=3,a.payload={element:null};var o=i.value;return a.callback=function(){Oi||(Oi=!0,Pi=o),Li(s,i)},a}function Qi(s,i,a){a=mh(-1,a),a.tag=3;var o=s.type.getDerivedStateFromError;if(typeof o=="function"){var j=i.value;a.payload=function(){return o(j)},a.callback=function(){Li(s,i)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(a.callback=function(){Li(s,i),typeof o!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var $=i.stack;this.componentDidCatch(i.value,{componentStack:$!==null?$:""})}),a}function Si(s,i,a){var o=s.pingCache;if(o===null){o=s.pingCache=new Mi;var j=new Set;o.set(i,j)}else j=o.get(i),j===void 0&&(j=new Set,o.set(i,j));j.has(a)||(j.add(a),s=Ti.bind(null,s,i,a),i.then(s,s))}function Ui(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Vi(s,i,a,o,j){return s.mode&1?(s.flags|=65536,s.lanes=j,s):(s===i?s.flags|=65536:(s.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=mh(-1,1),i.tag=2,nh(a,i,1))),a.lanes|=1),s)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(s,i,a,o){i.child=s===null?Vg(i,null,a,o):Ug(i,s.child,a,o)}function Yi(s,i,a,o,j){a=a.render;var _=i.ref;return ch(i,j),o=Nh(s,i,a,o,_,j),a=Sh(),s!==null&&!dh?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~j,Zi(s,i,j)):(I$1&&a&&vg(i),i.flags|=1,Xi(s,i,o,j),i.child)}function $i(s,i,a,o,j){if(s===null){var _=a.type;return typeof _=="function"&&!aj(_)&&_.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=_,bj(s,i,_,o,j)):(s=Rg(a.type,null,o,i,i.mode,j),s.ref=i.ref,s.return=i,i.child=s)}if(_=s.child,!(s.lanes&j)){var $=_.memoizedProps;if(a=a.compare,a=a!==null?a:Ie,a($,o)&&s.ref===i.ref)return Zi(s,i,j)}return i.flags|=1,s=Pg(_,o),s.ref=i.ref,s.return=i,i.child=s}function bj(s,i,a,o,j){if(s!==null){var _=s.memoizedProps;if(Ie(_,o)&&s.ref===i.ref)if(dh=!1,i.pendingProps=o=_,(s.lanes&j)!==0)s.flags&131072&&(dh=!0);else return i.lanes=s.lanes,Zi(s,i,j)}return cj(s,i,a,o,j)}function dj(s,i,a){var o=i.pendingProps,j=o.children,_=s!==null?s.memoizedState:null;if(o.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(ej,fj),fj|=a;else{if(!(a&1073741824))return s=_!==null?_.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,G$1(ej,fj),fj|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=_!==null?_.baseLanes:a,G$1(ej,fj),fj|=o}else _!==null?(o=_.baseLanes|a,i.memoizedState=null):o=a,G$1(ej,fj),fj|=o;return Xi(s,i,j,a),i.child}function gj(s,i){var a=i.ref;(s===null&&a!==null||s!==null&&s.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function cj(s,i,a,o,j){var _=Zf(a)?Xf:H$1.current;return _=Yf(i,_),ch(i,j),a=Nh(s,i,a,o,_,j),o=Sh(),s!==null&&!dh?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~j,Zi(s,i,j)):(I$1&&o&&vg(i),i.flags|=1,Xi(s,i,a,j),i.child)}function hj(s,i,a,o,j){if(Zf(a)){var _=!0;cg(i)}else _=!1;if(ch(i,j),i.stateNode===null)ij(s,i),Gi(i,a,o),Ii(i,a,o,j),o=!0;else if(s===null){var $=i.stateNode,et=i.memoizedProps;$.props=et;var _e=$.context,tt=a.contextType;typeof tt=="object"&&tt!==null?tt=eh(tt):(tt=Zf(a)?Xf:H$1.current,tt=Yf(i,tt));var rt=a.getDerivedStateFromProps,nt=typeof rt=="function"||typeof $.getSnapshotBeforeUpdate=="function";nt||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(et!==o||_e!==tt)&&Hi(i,$,o,tt),jh=!1;var st=i.memoizedState;$.state=st,qh(i,o,$,j),_e=i.memoizedState,et!==o||st!==_e||Wf.current||jh?(typeof rt=="function"&&(Di(i,a,rt,o),_e=i.memoizedState),(et=jh||Fi(i,a,et,o,st,_e,tt))?(nt||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(i.flags|=4194308)):(typeof $.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=_e),$.props=o,$.state=_e,$.context=tt,o=et):(typeof $.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{$=i.stateNode,lh(s,i),et=i.memoizedProps,tt=i.type===i.elementType?et:Ci(i.type,et),$.props=tt,nt=i.pendingProps,st=$.context,_e=a.contextType,typeof _e=="object"&&_e!==null?_e=eh(_e):(_e=Zf(a)?Xf:H$1.current,_e=Yf(i,_e));var ot=a.getDerivedStateFromProps;(rt=typeof ot=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(et!==nt||st!==_e)&&Hi(i,$,o,_e),jh=!1,st=i.memoizedState,$.state=st,qh(i,o,$,j);var ct=i.memoizedState;et!==nt||st!==ct||Wf.current||jh?(typeof ot=="function"&&(Di(i,a,ot,o),ct=i.memoizedState),(tt=jh||Fi(i,a,tt,o,st,ct,_e)||!1)?(rt||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(o,ct,_e),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(o,ct,_e)),typeof $.componentDidUpdate=="function"&&(i.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof $.componentDidUpdate!="function"||et===s.memoizedProps&&st===s.memoizedState||(i.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||et===s.memoizedProps&&st===s.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=ct),$.props=o,$.state=ct,$.context=_e,o=tt):(typeof $.componentDidUpdate!="function"||et===s.memoizedProps&&st===s.memoizedState||(i.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||et===s.memoizedProps&&st===s.memoizedState||(i.flags|=1024),o=!1)}return jj(s,i,a,o,_,j)}function jj(s,i,a,o,j,_){gj(s,i);var $=(i.flags&128)!==0;if(!o&&!$)return j&&dg(i,a,!1),Zi(s,i,_);o=i.stateNode,Wi.current=i;var et=$&&typeof a.getDerivedStateFromError!="function"?null:o.render();return i.flags|=1,s!==null&&$?(i.child=Ug(i,s.child,null,_),i.child=Ug(i,null,et,_)):Xi(s,i,et,_),i.memoizedState=o.state,j&&dg(i,a,!0),i.child}function kj(s){var i=s.stateNode;i.pendingContext?ag(s,i.pendingContext,i.pendingContext!==i.context):i.context&&ag(s,i.context,!1),yh(s,i.containerInfo)}function lj(s,i,a,o,j){return Ig(),Jg(j),i.flags|=256,Xi(s,i,a,o),i.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(s){return{baseLanes:s,cachePool:null,transitions:null}}function oj(s,i,a){var o=i.pendingProps,j=L.current,_=!1,$=(i.flags&128)!==0,et;if((et=$)||(et=s!==null&&s.memoizedState===null?!1:(j&2)!==0),et?(_=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(j|=1),G$1(L,j&1),s===null)return Eg(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(i.mode&1?s.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):($=o.children,s=o.fallback,_?(o=i.mode,_=i.child,$={mode:"hidden",children:$},!(o&1)&&_!==null?(_.childLanes=0,_.pendingProps=$):_=pj($,o,0,null),s=Tg(s,o,a,null),_.return=i,s.return=i,_.sibling=s,i.child=_,i.child.memoizedState=nj(a),i.memoizedState=mj,s):qj(i,$));if(j=s.memoizedState,j!==null&&(et=j.dehydrated,et!==null))return rj(s,i,$,o,et,j,a);if(_){_=o.fallback,$=i.mode,j=s.child,et=j.sibling;var _e={mode:"hidden",children:o.children};return!($&1)&&i.child!==j?(o=i.child,o.childLanes=0,o.pendingProps=_e,i.deletions=null):(o=Pg(j,_e),o.subtreeFlags=j.subtreeFlags&14680064),et!==null?_=Pg(et,_):(_=Tg(_,$,a,null),_.flags|=2),_.return=i,o.return=i,o.sibling=_,i.child=o,o=_,_=i.child,$=s.child.memoizedState,$=$===null?nj(a):{baseLanes:$.baseLanes|a,cachePool:null,transitions:$.transitions},_.memoizedState=$,_.childLanes=s.childLanes&~a,i.memoizedState=mj,o}return _=s.child,s=_.sibling,o=Pg(_,{mode:"visible",children:o.children}),!(i.mode&1)&&(o.lanes=a),o.return=i,o.sibling=null,s!==null&&(a=i.deletions,a===null?(i.deletions=[s],i.flags|=16):a.push(s)),i.child=o,i.memoizedState=null,o}function qj(s,i){return i=pj({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function sj(s,i,a,o){return o!==null&&Jg(o),Ug(i,s.child,null,a),s=qj(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function rj(s,i,a,o,j,_,$){if(a)return i.flags&256?(i.flags&=-257,o=Ki(Error(p$2(422))),sj(s,i,$,o)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(_=o.fallback,j=i.mode,o=pj({mode:"visible",children:o.children},j,0,null),_=Tg(_,j,$,null),_.flags|=2,o.return=i,_.return=i,o.sibling=_,i.child=o,i.mode&1&&Ug(i,s.child,null,$),i.child.memoizedState=nj($),i.memoizedState=mj,_);if(!(i.mode&1))return sj(s,i,$,null);if(j.data==="$!"){if(o=j.nextSibling&&j.nextSibling.dataset,o)var et=o.dgst;return o=et,_=Error(p$2(419)),o=Ki(_,o,void 0),sj(s,i,$,o)}if(et=($&s.childLanes)!==0,dh||et){if(o=Q,o!==null){switch($&-$){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=j&(o.suspendedLanes|$)?0:j,j!==0&&j!==_.retryLane&&(_.retryLane=j,ih(s,j),gi(o,s,j,-1))}return tj(),o=Ki(Error(p$2(421))),sj(s,i,$,o)}return j.data==="$?"?(i.flags|=128,i.child=s.child,i=uj.bind(null,s),j._reactRetry=i,null):(s=_.treeContext,yg=Lf(j.nextSibling),xg=i,I$1=!0,zg=null,s!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=s.id,sg=s.overflow,qg=i),i=qj(i,o.children),i.flags|=4096,i)}function vj(s,i,a){s.lanes|=i;var o=s.alternate;o!==null&&(o.lanes|=i),bh(s.return,i,a)}function wj(s,i,a,o,j){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:j}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=j)}function xj(s,i,a){var o=i.pendingProps,j=o.revealOrder,_=o.tail;if(Xi(s,i,o.children,a),o=L.current,o&2)o=o&1|2,i.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&vj(s,a,i);else if(s.tag===19)vj(s,a,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}o&=1}if(G$1(L,o),!(i.mode&1))i.memoizedState=null;else switch(j){case"forwards":for(a=i.child,j=null;a!==null;)s=a.alternate,s!==null&&Ch(s)===null&&(j=a),a=a.sibling;a=j,a===null?(j=i.child,i.child=null):(j=a.sibling,a.sibling=null),wj(i,!1,j,a,_);break;case"backwards":for(a=null,j=i.child,i.child=null;j!==null;){if(s=j.alternate,s!==null&&Ch(s)===null){i.child=j;break}s=j.sibling,j.sibling=a,a=j,j=s}wj(i,!0,a,null,_);break;case"together":wj(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ij(s,i){!(i.mode&1)&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function Zi(s,i,a){if(s!==null&&(i.dependencies=s.dependencies),rh|=i.lanes,!(a&i.childLanes))return null;if(s!==null&&i.child!==s.child)throw Error(p$2(153));if(i.child!==null){for(s=i.child,a=Pg(s,s.pendingProps),i.child=a,a.return=i;s.sibling!==null;)s=s.sibling,a=a.sibling=Pg(s,s.pendingProps),a.return=i;a.sibling=null}return i.child}function yj(s,i,a){switch(i.tag){case 3:kj(i),Ig();break;case 5:Ah(i);break;case 1:Zf(i.type)&&cg(i);break;case 4:yh(i,i.stateNode.containerInfo);break;case 10:var o=i.type._context,j=i.memoizedProps.value;G$1(Wg,o._currentValue),o._currentValue=j;break;case 13:if(o=i.memoizedState,o!==null)return o.dehydrated!==null?(G$1(L,L.current&1),i.flags|=128,null):a&i.child.childLanes?oj(s,i,a):(G$1(L,L.current&1),s=Zi(s,i,a),s!==null?s.sibling:null);G$1(L,L.current&1);break;case 19:if(o=(a&i.childLanes)!==0,s.flags&128){if(o)return xj(s,i,a);i.flags|=128}if(j=i.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),G$1(L,L.current),o)break;return null;case 22:case 23:return i.lanes=0,dj(s,i,a)}return Zi(s,i,a)}var zj,Aj,Bj,Cj;zj=function(s,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Aj=function(){};Bj=function(s,i,a,o){var j=s.memoizedProps;if(j!==o){s=i.stateNode,xh(uh.current);var _=null;switch(a){case"input":j=Ya(s,j),o=Ya(s,o),_=[];break;case"select":j=A$2({},j,{value:void 0}),o=A$2({},o,{value:void 0}),_=[];break;case"textarea":j=gb(s,j),o=gb(s,o),_=[];break;default:typeof j.onClick!="function"&&typeof o.onClick=="function"&&(s.onclick=Bf)}ub(a,o);var $;a=null;for(tt in j)if(!o.hasOwnProperty(tt)&&j.hasOwnProperty(tt)&&j[tt]!=null)if(tt==="style"){var et=j[tt];for($ in et)et.hasOwnProperty($)&&(a||(a={}),a[$]="")}else tt!=="dangerouslySetInnerHTML"&&tt!=="children"&&tt!=="suppressContentEditableWarning"&&tt!=="suppressHydrationWarning"&&tt!=="autoFocus"&&(ea.hasOwnProperty(tt)?_||(_=[]):(_=_||[]).push(tt,null));for(tt in o){var _e=o[tt];if(et=j!=null?j[tt]:void 0,o.hasOwnProperty(tt)&&_e!==et&&(_e!=null||et!=null))if(tt==="style")if(et){for($ in et)!et.hasOwnProperty($)||_e&&_e.hasOwnProperty($)||(a||(a={}),a[$]="");for($ in _e)_e.hasOwnProperty($)&&et[$]!==_e[$]&&(a||(a={}),a[$]=_e[$])}else a||(_||(_=[]),_.push(tt,a)),a=_e;else tt==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,et=et?et.__html:void 0,_e!=null&&et!==_e&&(_=_||[]).push(tt,_e)):tt==="children"?typeof _e!="string"&&typeof _e!="number"||(_=_||[]).push(tt,""+_e):tt!=="suppressContentEditableWarning"&&tt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(tt)?(_e!=null&&tt==="onScroll"&&D$1("scroll",s),_||et===_e||(_=[])):(_=_||[]).push(tt,_e))}a&&(_=_||[]).push("style",a);var tt=_;(i.updateQueue=tt)&&(i.flags|=4)}};Cj=function(s,i,a,o){a!==o&&(i.flags|=4)};function Dj(s,i){if(!I$1)switch(s.tailMode){case"hidden":i=s.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?s.tail=null:a.sibling=null;break;case"collapsed":a=s.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:o.sibling=null}}function S(s){var i=s.alternate!==null&&s.alternate.child===s.child,a=0,o=0;if(i)for(var j=s.child;j!==null;)a|=j.lanes|j.childLanes,o|=j.subtreeFlags&14680064,o|=j.flags&14680064,j.return=s,j=j.sibling;else for(j=s.child;j!==null;)a|=j.lanes|j.childLanes,o|=j.subtreeFlags,o|=j.flags,j.return=s,j=j.sibling;return s.subtreeFlags|=o,s.childLanes=a,i}function Ej(s,i,a){var o=i.pendingProps;switch(wg(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(i),null;case 1:return Zf(i.type)&&$f(),S(i),null;case 3:return o=i.stateNode,zh(),E$1(Wf),E$1(H$1),Eh(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Gg(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(s,i),S(i),null;case 5:Bh(i);var j=xh(wh.current);if(a=i.type,s!==null&&i.stateNode!=null)Bj(s,i,a,o,j),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!o){if(i.stateNode===null)throw Error(p$2(166));return S(i),null}if(s=xh(uh.current),Gg(i)){o=i.stateNode,a=i.type;var _=i.memoizedProps;switch(o[Of]=i,o[Pf]=_,s=(i.mode&1)!==0,a){case"dialog":D$1("cancel",o),D$1("close",o);break;case"iframe":case"object":case"embed":D$1("load",o);break;case"video":case"audio":for(j=0;j<lf.length;j++)D$1(lf[j],o);break;case"source":D$1("error",o);break;case"img":case"image":case"link":D$1("error",o),D$1("load",o);break;case"details":D$1("toggle",o);break;case"input":Za(o,_),D$1("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!_.multiple},D$1("invalid",o);break;case"textarea":hb(o,_),D$1("invalid",o)}ub(a,_),j=null;for(var $ in _)if(_.hasOwnProperty($)){var et=_[$];$==="children"?typeof et=="string"?o.textContent!==et&&(_.suppressHydrationWarning!==!0&&Af(o.textContent,et,s),j=["children",et]):typeof et=="number"&&o.textContent!==""+et&&(_.suppressHydrationWarning!==!0&&Af(o.textContent,et,s),j=["children",""+et]):ea.hasOwnProperty($)&&et!=null&&$==="onScroll"&&D$1("scroll",o)}switch(a){case"input":Va(o),db(o,_,!0);break;case"textarea":Va(o),jb(o);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(o.onclick=Bf)}o=j,i.updateQueue=o,o!==null&&(i.flags|=4)}else{$=j.nodeType===9?j:j.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=kb(a)),s==="http://www.w3.org/1999/xhtml"?a==="script"?(s=$.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof o.is=="string"?s=$.createElement(a,{is:o.is}):(s=$.createElement(a),a==="select"&&($=s,o.multiple?$.multiple=!0:o.size&&($.size=o.size))):s=$.createElementNS(s,a),s[Of]=i,s[Pf]=o,zj(s,i,!1,!1),i.stateNode=s;e:{switch($=vb(a,o),a){case"dialog":D$1("cancel",s),D$1("close",s),j=o;break;case"iframe":case"object":case"embed":D$1("load",s),j=o;break;case"video":case"audio":for(j=0;j<lf.length;j++)D$1(lf[j],s);j=o;break;case"source":D$1("error",s),j=o;break;case"img":case"image":case"link":D$1("error",s),D$1("load",s),j=o;break;case"details":D$1("toggle",s),j=o;break;case"input":Za(s,o),j=Ya(s,o),D$1("invalid",s);break;case"option":j=o;break;case"select":s._wrapperState={wasMultiple:!!o.multiple},j=A$2({},o,{value:void 0}),D$1("invalid",s);break;case"textarea":hb(s,o),j=gb(s,o),D$1("invalid",s);break;default:j=o}ub(a,j),et=j;for(_ in et)if(et.hasOwnProperty(_)){var _e=et[_];_==="style"?sb(s,_e):_==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,_e!=null&&nb(s,_e)):_==="children"?typeof _e=="string"?(a!=="textarea"||_e!=="")&&ob(s,_e):typeof _e=="number"&&ob(s,""+_e):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(ea.hasOwnProperty(_)?_e!=null&&_==="onScroll"&&D$1("scroll",s):_e!=null&&ta(s,_,_e,$))}switch(a){case"input":Va(s),db(s,o,!1);break;case"textarea":Va(s),jb(s);break;case"option":o.value!=null&&s.setAttribute("value",""+Sa(o.value));break;case"select":s.multiple=!!o.multiple,_=o.value,_!=null?fb(s,!!o.multiple,_,!1):o.defaultValue!=null&&fb(s,!!o.multiple,o.defaultValue,!0);break;default:typeof j.onClick=="function"&&(s.onclick=Bf)}switch(a){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return S(i),null;case 6:if(s&&i.stateNode!=null)Cj(s,i,s.memoizedProps,o);else{if(typeof o!="string"&&i.stateNode===null)throw Error(p$2(166));if(a=xh(wh.current),xh(uh.current),Gg(i)){if(o=i.stateNode,a=i.memoizedProps,o[Of]=i,(_=o.nodeValue!==a)&&(s=xg,s!==null))switch(s.tag){case 3:Af(o.nodeValue,a,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Af(o.nodeValue,a,(s.mode&1)!==0)}_&&(i.flags|=4)}else o=(a.nodeType===9?a:a.ownerDocument).createTextNode(o),o[Of]=i,i.stateNode=o}return S(i),null;case 13:if(E$1(L),o=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&i.mode&1&&!(i.flags&128))Hg(),Ig(),i.flags|=98560,_=!1;else if(_=Gg(i),o!==null&&o.dehydrated!==null){if(s===null){if(!_)throw Error(p$2(318));if(_=i.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(p$2(317));_[Of]=i}else Ig(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;S(i),_=!1}else zg!==null&&(Fj(zg),zg=null),_=!0;if(!_)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(o=o!==null,o!==(s!==null&&s.memoizedState!==null)&&o&&(i.child.flags|=8192,i.mode&1&&(s===null||L.current&1?T===0&&(T=3):tj())),i.updateQueue!==null&&(i.flags|=4),S(i),null);case 4:return zh(),Aj(s,i),s===null&&sf(i.stateNode.containerInfo),S(i),null;case 10:return ah(i.type._context),S(i),null;case 17:return Zf(i.type)&&$f(),S(i),null;case 19:if(E$1(L),_=i.memoizedState,_===null)return S(i),null;if(o=(i.flags&128)!==0,$=_.rendering,$===null)if(o)Dj(_,!1);else{if(T!==0||s!==null&&s.flags&128)for(s=i.child;s!==null;){if($=Ch(s),$!==null){for(i.flags|=128,Dj(_,!1),o=$.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),i.subtreeFlags=0,o=a,a=i.child;a!==null;)_=a,s=o,_.flags&=14680066,$=_.alternate,$===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=$.childLanes,_.lanes=$.lanes,_.child=$.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=$.memoizedProps,_.memoizedState=$.memoizedState,_.updateQueue=$.updateQueue,_.type=$.type,s=$.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a=a.sibling;return G$1(L,L.current&1|2),i.child}s=s.sibling}_.tail!==null&&B$1()>Gj&&(i.flags|=128,o=!0,Dj(_,!1),i.lanes=4194304)}else{if(!o)if(s=Ch($),s!==null){if(i.flags|=128,o=!0,a=s.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Dj(_,!0),_.tail===null&&_.tailMode==="hidden"&&!$.alternate&&!I$1)return S(i),null}else 2*B$1()-_.renderingStartTime>Gj&&a!==1073741824&&(i.flags|=128,o=!0,Dj(_,!1),i.lanes=4194304);_.isBackwards?($.sibling=i.child,i.child=$):(a=_.last,a!==null?a.sibling=$:i.child=$,_.last=$)}return _.tail!==null?(i=_.tail,_.rendering=i,_.tail=i.sibling,_.renderingStartTime=B$1(),i.sibling=null,a=L.current,G$1(L,o?a&1|2:a&1),i):(S(i),null);case 22:case 23:return Hj(),o=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==o&&(i.flags|=8192),o&&i.mode&1?fj&1073741824&&(S(i),i.subtreeFlags&6&&(i.flags|=8192)):S(i),null;case 24:return null;case 25:return null}throw Error(p$2(156,i.tag))}function Ij(s,i){switch(wg(i),i.tag){case 1:return Zf(i.type)&&$f(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return zh(),E$1(Wf),E$1(H$1),Eh(),s=i.flags,s&65536&&!(s&128)?(i.flags=s&-65537|128,i):null;case 5:return Bh(i),null;case 13:if(E$1(L),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(p$2(340));Ig()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return E$1(L),null;case 4:return zh(),null;case 10:return ah(i.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(s,i){var a=s.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(o){W(s,i,o)}else a.current=null}function Mj(s,i,a){try{a()}catch(o){W(s,i,o)}}var Nj=!1;function Oj(s,i){if(Cf=dd,s=Me(),Ne(s)){if("selectionStart"in s)var a={start:s.selectionStart,end:s.selectionEnd};else e:{a=(a=s.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var j=o.anchorOffset,_=o.focusNode;o=o.focusOffset;try{a.nodeType,_.nodeType}catch{a=null;break e}var $=0,et=-1,_e=-1,tt=0,rt=0,nt=s,st=null;t:for(;;){for(var ot;nt!==a||j!==0&&nt.nodeType!==3||(et=$+j),nt!==_||o!==0&&nt.nodeType!==3||(_e=$+o),nt.nodeType===3&&($+=nt.nodeValue.length),(ot=nt.firstChild)!==null;)st=nt,nt=ot;for(;;){if(nt===s)break t;if(st===a&&++tt===j&&(et=$),st===_&&++rt===o&&(_e=$),(ot=nt.nextSibling)!==null)break;nt=st,st=nt.parentNode}nt=ot}a=et===-1||_e===-1?null:{start:et,end:_e}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:s,selectionRange:a},dd=!1,V=i;V!==null;)if(i=V,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,V=s;else for(;V!==null;){i=V;try{var ct=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ct!==null){var gt=ct.memoizedProps,dt=ct.memoizedState,it=i.stateNode,lt=it.getSnapshotBeforeUpdate(i.elementType===i.type?gt:Ci(i.type,gt),dt);it.__reactInternalSnapshotBeforeUpdate=lt}break;case 3:var ut=i.stateNode.containerInfo;ut.nodeType===1?ut.textContent="":ut.nodeType===9&&ut.documentElement&&ut.removeChild(ut.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(mt){W(i,i.return,mt)}if(s=i.sibling,s!==null){s.return=i.return,V=s;break}V=i.return}return ct=Nj,Nj=!1,ct}function Pj(s,i,a){var o=i.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var j=o=o.next;do{if((j.tag&s)===s){var _=j.destroy;j.destroy=void 0,_!==void 0&&Mj(i,a,_)}j=j.next}while(j!==o)}}function Qj(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&s)===s){var o=a.create;a.destroy=o()}a=a.next}while(a!==i)}}function Rj(s){var i=s.ref;if(i!==null){var a=s.stateNode;switch(s.tag){case 5:s=a;break;default:s=a}typeof i=="function"?i(s):i.current=s}}function Sj(s){var i=s.alternate;i!==null&&(s.alternate=null,Sj(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[Of],delete i[Pf],delete i[of],delete i[Qf],delete i[Rf])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Tj(s){return s.tag===5||s.tag===3||s.tag===4}function Uj(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Tj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Vj(s,i,a){var o=s.tag;if(o===5||o===6)s=s.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(s,i):a.insertBefore(s,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(s,a)):(i=a,i.appendChild(s)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Bf));else if(o!==4&&(s=s.child,s!==null))for(Vj(s,i,a),s=s.sibling;s!==null;)Vj(s,i,a),s=s.sibling}function Wj(s,i,a){var o=s.tag;if(o===5||o===6)s=s.stateNode,i?a.insertBefore(s,i):a.appendChild(s);else if(o!==4&&(s=s.child,s!==null))for(Wj(s,i,a),s=s.sibling;s!==null;)Wj(s,i,a),s=s.sibling}var X$1=null,Xj=!1;function Yj(s,i,a){for(a=a.child;a!==null;)Zj(s,i,a),a=a.sibling}function Zj(s,i,a){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,a)}catch{}switch(a.tag){case 5:U||Lj(a,i);case 6:var o=X$1,j=Xj;X$1=null,Yj(s,i,a),X$1=o,Xj=j,X$1!==null&&(Xj?(s=X$1,a=a.stateNode,s.nodeType===8?s.parentNode.removeChild(a):s.removeChild(a)):X$1.removeChild(a.stateNode));break;case 18:X$1!==null&&(Xj?(s=X$1,a=a.stateNode,s.nodeType===8?Kf(s.parentNode,a):s.nodeType===1&&Kf(s,a),bd(s)):Kf(X$1,a.stateNode));break;case 4:o=X$1,j=Xj,X$1=a.stateNode.containerInfo,Xj=!0,Yj(s,i,a),X$1=o,Xj=j;break;case 0:case 11:case 14:case 15:if(!U&&(o=a.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){j=o=o.next;do{var _=j,$=_.destroy;_=_.tag,$!==void 0&&(_&2||_&4)&&Mj(a,i,$),j=j.next}while(j!==o)}Yj(s,i,a);break;case 1:if(!U&&(Lj(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=a.memoizedProps,o.state=a.memoizedState,o.componentWillUnmount()}catch(et){W(a,i,et)}Yj(s,i,a);break;case 21:Yj(s,i,a);break;case 22:a.mode&1?(U=(o=U)||a.memoizedState!==null,Yj(s,i,a),U=o):Yj(s,i,a);break;default:Yj(s,i,a)}}function ak(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var a=s.stateNode;a===null&&(a=s.stateNode=new Kj),i.forEach(function(o){var j=bk.bind(null,s,o);a.has(o)||(a.add(o),o.then(j,j))})}}function ck(s,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var j=a[o];try{var _=s,$=i,et=$;e:for(;et!==null;){switch(et.tag){case 5:X$1=et.stateNode,Xj=!1;break e;case 3:X$1=et.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=et.stateNode.containerInfo,Xj=!0;break e}et=et.return}if(X$1===null)throw Error(p$2(160));Zj(_,$,j),X$1=null,Xj=!1;var _e=j.alternate;_e!==null&&(_e.return=null),j.return=null}catch(tt){W(j,i,tt)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)dk(i,s),i=i.sibling}function dk(s,i){var a=s.alternate,o=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ck(i,s),ek(s),o&4){try{Pj(3,s,s.return),Qj(3,s)}catch(gt){W(s,s.return,gt)}try{Pj(5,s,s.return)}catch(gt){W(s,s.return,gt)}}break;case 1:ck(i,s),ek(s),o&512&&a!==null&&Lj(a,a.return);break;case 5:if(ck(i,s),ek(s),o&512&&a!==null&&Lj(a,a.return),s.flags&32){var j=s.stateNode;try{ob(j,"")}catch(gt){W(s,s.return,gt)}}if(o&4&&(j=s.stateNode,j!=null)){var _=s.memoizedProps,$=a!==null?a.memoizedProps:_,et=s.type,_e=s.updateQueue;if(s.updateQueue=null,_e!==null)try{et==="input"&&_.type==="radio"&&_.name!=null&&ab(j,_),vb(et,$);var tt=vb(et,_);for($=0;$<_e.length;$+=2){var rt=_e[$],nt=_e[$+1];rt==="style"?sb(j,nt):rt==="dangerouslySetInnerHTML"?nb(j,nt):rt==="children"?ob(j,nt):ta(j,rt,nt,tt)}switch(et){case"input":bb(j,_);break;case"textarea":ib(j,_);break;case"select":var st=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!_.multiple;var ot=_.value;ot!=null?fb(j,!!_.multiple,ot,!1):st!==!!_.multiple&&(_.defaultValue!=null?fb(j,!!_.multiple,_.defaultValue,!0):fb(j,!!_.multiple,_.multiple?[]:"",!1))}j[Pf]=_}catch(gt){W(s,s.return,gt)}}break;case 6:if(ck(i,s),ek(s),o&4){if(s.stateNode===null)throw Error(p$2(162));j=s.stateNode,_=s.memoizedProps;try{j.nodeValue=_}catch(gt){W(s,s.return,gt)}}break;case 3:if(ck(i,s),ek(s),o&4&&a!==null&&a.memoizedState.isDehydrated)try{bd(i.containerInfo)}catch(gt){W(s,s.return,gt)}break;case 4:ck(i,s),ek(s);break;case 13:ck(i,s),ek(s),j=s.child,j.flags&8192&&(_=j.memoizedState!==null,j.stateNode.isHidden=_,!_||j.alternate!==null&&j.alternate.memoizedState!==null||(fk=B$1())),o&4&&ak(s);break;case 22:if(rt=a!==null&&a.memoizedState!==null,s.mode&1?(U=(tt=U)||rt,ck(i,s),U=tt):ck(i,s),ek(s),o&8192){if(tt=s.memoizedState!==null,(s.stateNode.isHidden=tt)&&!rt&&s.mode&1)for(V=s,rt=s.child;rt!==null;){for(nt=V=rt;V!==null;){switch(st=V,ot=st.child,st.tag){case 0:case 11:case 14:case 15:Pj(4,st,st.return);break;case 1:Lj(st,st.return);var ct=st.stateNode;if(typeof ct.componentWillUnmount=="function"){o=st,a=st.return;try{i=o,ct.props=i.memoizedProps,ct.state=i.memoizedState,ct.componentWillUnmount()}catch(gt){W(o,a,gt)}}break;case 5:Lj(st,st.return);break;case 22:if(st.memoizedState!==null){gk(nt);continue}}ot!==null?(ot.return=st,V=ot):gk(nt)}rt=rt.sibling}e:for(rt=null,nt=s;;){if(nt.tag===5){if(rt===null){rt=nt;try{j=nt.stateNode,tt?(_=j.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(et=nt.stateNode,_e=nt.memoizedProps.style,$=_e!=null&&_e.hasOwnProperty("display")?_e.display:null,et.style.display=rb("display",$))}catch(gt){W(s,s.return,gt)}}}else if(nt.tag===6){if(rt===null)try{nt.stateNode.nodeValue=tt?"":nt.memoizedProps}catch(gt){W(s,s.return,gt)}}else if((nt.tag!==22&&nt.tag!==23||nt.memoizedState===null||nt===s)&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===s)break e;for(;nt.sibling===null;){if(nt.return===null||nt.return===s)break e;rt===nt&&(rt=null),nt=nt.return}rt===nt&&(rt=null),nt.sibling.return=nt.return,nt=nt.sibling}}break;case 19:ck(i,s),ek(s),o&4&&ak(s);break;case 21:break;default:ck(i,s),ek(s)}}function ek(s){var i=s.flags;if(i&2){try{e:{for(var a=s.return;a!==null;){if(Tj(a)){var o=a;break e}a=a.return}throw Error(p$2(160))}switch(o.tag){case 5:var j=o.stateNode;o.flags&32&&(ob(j,""),o.flags&=-33);var _=Uj(s);Wj(s,_,j);break;case 3:case 4:var $=o.stateNode.containerInfo,et=Uj(s);Vj(s,et,$);break;default:throw Error(p$2(161))}}catch(_e){W(s,s.return,_e)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function hk(s,i,a){V=s,ik(s)}function ik(s,i,a){for(var o=(s.mode&1)!==0;V!==null;){var j=V,_=j.child;if(j.tag===22&&o){var $=j.memoizedState!==null||Jj;if(!$){var et=j.alternate,_e=et!==null&&et.memoizedState!==null||U;et=Jj;var tt=U;if(Jj=$,(U=_e)&&!tt)for(V=j;V!==null;)$=V,_e=$.child,$.tag===22&&$.memoizedState!==null?jk(j):_e!==null?(_e.return=$,V=_e):jk(j);for(;_!==null;)V=_,ik(_),_=_.sibling;V=j,Jj=et,U=tt}kk(s)}else j.subtreeFlags&8772&&_!==null?(_.return=j,V=_):kk(s)}}function kk(s){for(;V!==null;){var i=V;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:U||Qj(5,i);break;case 1:var o=i.stateNode;if(i.flags&4&&!U)if(a===null)o.componentDidMount();else{var j=i.elementType===i.type?a.memoizedProps:Ci(i.type,a.memoizedProps);o.componentDidUpdate(j,a.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var _=i.updateQueue;_!==null&&sh(i,_,o);break;case 3:var $=i.updateQueue;if($!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}sh(i,$,a)}break;case 5:var et=i.stateNode;if(a===null&&i.flags&4){a=et;var _e=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":_e.autoFocus&&a.focus();break;case"img":_e.src&&(a.src=_e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var tt=i.alternate;if(tt!==null){var rt=tt.memoizedState;if(rt!==null){var nt=rt.dehydrated;nt!==null&&bd(nt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U||i.flags&512&&Rj(i)}catch(st){W(i,i.return,st)}}if(i===s){V=null;break}if(a=i.sibling,a!==null){a.return=i.return,V=a;break}V=i.return}}function gk(s){for(;V!==null;){var i=V;if(i===s){V=null;break}var a=i.sibling;if(a!==null){a.return=i.return,V=a;break}V=i.return}}function jk(s){for(;V!==null;){var i=V;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Qj(4,i)}catch(_e){W(i,a,_e)}break;case 1:var o=i.stateNode;if(typeof o.componentDidMount=="function"){var j=i.return;try{o.componentDidMount()}catch(_e){W(i,j,_e)}}var _=i.return;try{Rj(i)}catch(_e){W(i,_,_e)}break;case 5:var $=i.return;try{Rj(i)}catch(_e){W(i,$,_e)}}}catch(_e){W(i,i.return,_e)}if(i===s){V=null;break}var et=i.sibling;if(et!==null){et.return=i.return,V=et;break}V=i.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(s){return s.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(s=C$1,s!==0||(s=window.event,s=s===void 0?16:jd(s.type)),s):1}function gi(s,i,a,o){if(50<yk)throw yk=0,zk=null,Error(p$2(185));Ac(s,a,o),(!(K&2)||s!==Q)&&(s===Q&&(!(K&2)&&(qk|=a),T===4&&Ck(s,Z)),Dk(s,o),a===1&&K===0&&!(i.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(s,i){var a=s.callbackNode;wc(s,i);var o=uc(s,s===Q?Z:0);if(o===0)a!==null&&bc(a),s.callbackNode=null,s.callbackPriority=0;else if(i=o&-o,s.callbackPriority!==i){if(a!=null&&bc(a),i===1)s.tag===0?ig(Ek.bind(null,s)):hg(Ek.bind(null,s)),Jf(function(){!(K&6)&&jg()}),a=null;else{switch(Dc(o)){case 1:a=fc;break;case 4:a=gc;break;case 16:a=hc;break;case 536870912:a=jc;break;default:a=hc}a=Fk(a,Gk.bind(null,s))}s.callbackPriority=i,s.callbackNode=a}}function Gk(s,i){if(Ak=-1,Bk=0,K&6)throw Error(p$2(327));var a=s.callbackNode;if(Hk()&&s.callbackNode!==a)return null;var o=uc(s,s===Q?Z:0);if(o===0)return null;if(o&30||o&s.expiredLanes||i)i=Ik(s,o);else{i=o;var j=K;K|=2;var _=Jk();(Q!==s||Z!==i)&&(uk=null,Gj=B$1()+500,Kk(s,i));do try{Lk();break}catch(et){Mk(s,et)}while(!0);$g(),mk.current=_,K=j,Y!==null?i=0:(Q=null,Z=0,i=T)}if(i!==0){if(i===2&&(j=xc(s),j!==0&&(o=j,i=Nk(s,j))),i===1)throw a=pk,Kk(s,0),Ck(s,o),Dk(s,B$1()),a;if(i===6)Ck(s,o);else{if(j=s.current.alternate,!(o&30)&&!Ok(j)&&(i=Ik(s,o),i===2&&(_=xc(s),_!==0&&(o=_,i=Nk(s,_))),i===1))throw a=pk,Kk(s,0),Ck(s,o),Dk(s,B$1()),a;switch(s.finishedWork=j,s.finishedLanes=o,i){case 0:case 1:throw Error(p$2(345));case 2:Pk(s,tk,uk);break;case 3:if(Ck(s,o),(o&130023424)===o&&(i=fk+500-B$1(),10<i)){if(uc(s,0)!==0)break;if(j=s.suspendedLanes,(j&o)!==o){R(),s.pingedLanes|=s.suspendedLanes&j;break}s.timeoutHandle=Ff(Pk.bind(null,s,tk,uk),i);break}Pk(s,tk,uk);break;case 4:if(Ck(s,o),(o&4194240)===o)break;for(i=s.eventTimes,j=-1;0<o;){var $=31-oc(o);_=1<<$,$=i[$],$>j&&(j=$),o&=~_}if(o=j,o=B$1()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*lk(o/1960))-o,10<o){s.timeoutHandle=Ff(Pk.bind(null,s,tk,uk),o);break}Pk(s,tk,uk);break;case 5:Pk(s,tk,uk);break;default:throw Error(p$2(329))}}}return Dk(s,B$1()),s.callbackNode===a?Gk.bind(null,s):null}function Nk(s,i){var a=sk;return s.current.memoizedState.isDehydrated&&(Kk(s,i).flags|=256),s=Ik(s,i),s!==2&&(i=tk,tk=a,i!==null&&Fj(i)),s}function Fj(s){tk===null?tk=s:tk.push.apply(tk,s)}function Ok(s){for(var i=s;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var o=0;o<a.length;o++){var j=a[o],_=j.getSnapshot;j=j.value;try{if(!He(_(),j))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ck(s,i){for(i&=~rk,i&=~qk,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var a=31-oc(i),o=1<<a;s[a]=-1,i&=~o}}function Ek(s){if(K&6)throw Error(p$2(327));Hk();var i=uc(s,0);if(!(i&1))return Dk(s,B$1()),null;var a=Ik(s,i);if(s.tag!==0&&a===2){var o=xc(s);o!==0&&(i=o,a=Nk(s,o))}if(a===1)throw a=pk,Kk(s,0),Ck(s,i),Dk(s,B$1()),a;if(a===6)throw Error(p$2(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,Pk(s,tk,uk),Dk(s,B$1()),null}function Qk(s,i){var a=K;K|=1;try{return s(i)}finally{K=a,K===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(s){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var i=K;K|=1;var a=ok.transition,o=C$1;try{if(ok.transition=null,C$1=1,s)return s()}finally{C$1=o,ok.transition=a,K=i,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(s,i){s.finishedWork=null,s.finishedLanes=0;var a=s.timeoutHandle;if(a!==-1&&(s.timeoutHandle=-1,Gf(a)),Y!==null)for(a=Y.return;a!==null;){var o=a;switch(wg(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H$1),Eh();break;case 5:Bh(o);break;case 4:zh();break;case 13:E$1(L);break;case 19:E$1(L);break;case 10:ah(o.type._context);break;case 22:case 23:Hj()}a=a.return}if(Q=s,Y=s=Pg(s.current,null),Z=fj=i,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(i=0;i<fh.length;i++)if(a=fh[i],o=a.interleaved,o!==null){a.interleaved=null;var j=o.next,_=a.pending;if(_!==null){var $=_.next;_.next=j,o.next=$}a.pending=o}fh=null}return s}function Mk(s,i){do{var a=Y;try{if($g(),Fh.current=Rh,Ih){for(var o=M.memoizedState;o!==null;){var j=o.queue;j!==null&&(j.pending=null),o=o.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,a===null||a.return===null){T=1,pk=i,Y=null;break}e:{var _=s,$=a.return,et=a,_e=i;if(i=Z,et.flags|=32768,_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var tt=_e,rt=et,nt=rt.tag;if(!(rt.mode&1)&&(nt===0||nt===11||nt===15)){var st=rt.alternate;st?(rt.updateQueue=st.updateQueue,rt.memoizedState=st.memoizedState,rt.lanes=st.lanes):(rt.updateQueue=null,rt.memoizedState=null)}var ot=Ui($);if(ot!==null){ot.flags&=-257,Vi(ot,$,et,_,i),ot.mode&1&&Si(_,tt,i),i=ot,_e=tt;var ct=i.updateQueue;if(ct===null){var gt=new Set;gt.add(_e),i.updateQueue=gt}else ct.add(_e);break e}else{if(!(i&1)){Si(_,tt,i),tj();break e}_e=Error(p$2(426))}}else if(I$1&&et.mode&1){var dt=Ui($);if(dt!==null){!(dt.flags&65536)&&(dt.flags|=256),Vi(dt,$,et,_,i),Jg(Ji(_e,et));break e}}_=_e=Ji(_e,et),T!==4&&(T=2),sk===null?sk=[_]:sk.push(_),_=$;do{switch(_.tag){case 3:_.flags|=65536,i&=-i,_.lanes|=i;var it=Ni(_,_e,i);ph(_,it);break e;case 1:et=_e;var lt=_.type,ut=_.stateNode;if(!(_.flags&128)&&(typeof lt.getDerivedStateFromError=="function"||ut!==null&&typeof ut.componentDidCatch=="function"&&(Ri===null||!Ri.has(ut)))){_.flags|=65536,i&=-i,_.lanes|=i;var mt=Qi(_,et,i);ph(_,mt);break e}}_=_.return}while(_!==null)}Sk(a)}catch(ht){i=ht,Y===a&&a!==null&&(Y=a=a.return);continue}break}while(!0)}function Jk(){var s=mk.current;return mk.current=Rh,s===null?Rh:s}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(s,i){var a=K;K|=2;var o=Jk();(Q!==s||Z!==i)&&(uk=null,Kk(s,i));do try{Tk();break}catch(j){Mk(s,j)}while(!0);if($g(),K=a,mk.current=o,Y!==null)throw Error(p$2(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(s){var i=Vk(s.alternate,s,fj);s.memoizedProps=s.pendingProps,i===null?Sk(s):Y=i,nk.current=null}function Sk(s){var i=s;do{var a=i.alternate;if(s=i.return,i.flags&32768){if(a=Ij(a,i),a!==null){a.flags&=32767,Y=a;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{T=6,Y=null;return}}else if(a=Ej(a,i,fj),a!==null){Y=a;return}if(i=i.sibling,i!==null){Y=i;return}Y=i=s}while(i!==null);T===0&&(T=5)}function Pk(s,i,a){var o=C$1,j=ok.transition;try{ok.transition=null,C$1=1,Wk(s,i,a,o)}finally{ok.transition=j,C$1=o}return null}function Wk(s,i,a,o){do Hk();while(wk!==null);if(K&6)throw Error(p$2(327));a=s.finishedWork;var j=s.finishedLanes;if(a===null)return null;if(s.finishedWork=null,s.finishedLanes=0,a===s.current)throw Error(p$2(177));s.callbackNode=null,s.callbackPriority=0;var _=a.lanes|a.childLanes;if(Bc(s,_),s===Q&&(Y=Q=null,Z=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),_=(a.flags&15990)!==0,a.subtreeFlags&15990||_){_=ok.transition,ok.transition=null;var $=C$1;C$1=1;var et=K;K|=4,nk.current=null,Oj(s,a),dk(a,s),Oe(Df),dd=!!Cf,Df=Cf=null,s.current=a,hk(a),dc(),K=et,C$1=$,ok.transition=_}else s.current=a;if(vk&&(vk=!1,wk=s,xk=j),_=s.pendingLanes,_===0&&(Ri=null),mc(a.stateNode),Dk(s,B$1()),i!==null)for(o=s.onRecoverableError,a=0;a<i.length;a++)j=i[a],o(j.value,{componentStack:j.stack,digest:j.digest});if(Oi)throw Oi=!1,s=Pi,Pi=null,s;return xk&1&&s.tag!==0&&Hk(),_=s.pendingLanes,_&1?s===zk?yk++:(yk=0,zk=s):yk=0,jg(),null}function Hk(){if(wk!==null){var s=Dc(xk),i=ok.transition,a=C$1;try{if(ok.transition=null,C$1=16>s?16:s,wk===null)var o=!1;else{if(s=wk,wk=null,xk=0,K&6)throw Error(p$2(331));var j=K;for(K|=4,V=s.current;V!==null;){var _=V,$=_.child;if(V.flags&16){var et=_.deletions;if(et!==null){for(var _e=0;_e<et.length;_e++){var tt=et[_e];for(V=tt;V!==null;){var rt=V;switch(rt.tag){case 0:case 11:case 15:Pj(8,rt,_)}var nt=rt.child;if(nt!==null)nt.return=rt,V=nt;else for(;V!==null;){rt=V;var st=rt.sibling,ot=rt.return;if(Sj(rt),rt===tt){V=null;break}if(st!==null){st.return=ot,V=st;break}V=ot}}}var ct=_.alternate;if(ct!==null){var gt=ct.child;if(gt!==null){ct.child=null;do{var dt=gt.sibling;gt.sibling=null,gt=dt}while(gt!==null)}}V=_}}if(_.subtreeFlags&2064&&$!==null)$.return=_,V=$;else e:for(;V!==null;){if(_=V,_.flags&2048)switch(_.tag){case 0:case 11:case 15:Pj(9,_,_.return)}var it=_.sibling;if(it!==null){it.return=_.return,V=it;break e}V=_.return}}var lt=s.current;for(V=lt;V!==null;){$=V;var ut=$.child;if($.subtreeFlags&2064&&ut!==null)ut.return=$,V=ut;else e:for($=lt;V!==null;){if(et=V,et.flags&2048)try{switch(et.tag){case 0:case 11:case 15:Qj(9,et)}}catch(ht){W(et,et.return,ht)}if(et===$){V=null;break e}var mt=et.sibling;if(mt!==null){mt.return=et.return,V=mt;break e}V=et.return}}if(K=j,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,s)}catch{}o=!0}return o}finally{C$1=a,ok.transition=i}}return!1}function Xk(s,i,a){i=Ji(a,i),i=Ni(s,i,1),s=nh(s,i,1),i=R(),s!==null&&(Ac(s,1,i),Dk(s,i))}function W(s,i,a){if(s.tag===3)Xk(s,s,a);else for(;i!==null;){if(i.tag===3){Xk(i,s,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ri===null||!Ri.has(o))){s=Ji(a,s),s=Qi(i,s,1),i=nh(i,s,1),s=R(),i!==null&&(Ac(i,1,s),Dk(i,s));break}}i=i.return}}function Ti(s,i,a){var o=s.pingCache;o!==null&&o.delete(i),i=R(),s.pingedLanes|=s.suspendedLanes&a,Q===s&&(Z&a)===a&&(T===4||T===3&&(Z&130023424)===Z&&500>B$1()-fk?Kk(s,0):rk|=a),Dk(s,i)}function Yk(s,i){i===0&&(s.mode&1?(i=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):i=1);var a=R();s=ih(s,i),s!==null&&(Ac(s,i,a),Dk(s,a))}function uj(s){var i=s.memoizedState,a=0;i!==null&&(a=i.retryLane),Yk(s,a)}function bk(s,i){var a=0;switch(s.tag){case 13:var o=s.stateNode,j=s.memoizedState;j!==null&&(a=j.retryLane);break;case 19:o=s.stateNode;break;default:throw Error(p$2(314))}o!==null&&o.delete(i),Yk(s,a)}var Vk;Vk=function(s,i,a){if(s!==null)if(s.memoizedProps!==i.pendingProps||Wf.current)dh=!0;else{if(!(s.lanes&a)&&!(i.flags&128))return dh=!1,yj(s,i,a);dh=!!(s.flags&131072)}else dh=!1,I$1&&i.flags&1048576&&ug(i,ng,i.index);switch(i.lanes=0,i.tag){case 2:var o=i.type;ij(s,i),s=i.pendingProps;var j=Yf(i,H$1.current);ch(i,a),j=Nh(null,i,o,s,j,a);var _=Sh();return i.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Zf(o)?(_=!0,cg(i)):_=!1,i.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,kh(i),j.updater=Ei,i.stateNode=j,j._reactInternals=i,Ii(i,o,s,a),i=jj(null,i,o,!0,_,a)):(i.tag=0,I$1&&_&&vg(i),Xi(null,i,j,a),i=i.child),i;case 16:o=i.elementType;e:{switch(ij(s,i),s=i.pendingProps,j=o._init,o=j(o._payload),i.type=o,j=i.tag=Zk(o),s=Ci(o,s),j){case 0:i=cj(null,i,o,s,a);break e;case 1:i=hj(null,i,o,s,a);break e;case 11:i=Yi(null,i,o,s,a);break e;case 14:i=$i(null,i,o,Ci(o.type,s),a);break e}throw Error(p$2(306,o,""))}return i;case 0:return o=i.type,j=i.pendingProps,j=i.elementType===o?j:Ci(o,j),cj(s,i,o,j,a);case 1:return o=i.type,j=i.pendingProps,j=i.elementType===o?j:Ci(o,j),hj(s,i,o,j,a);case 3:e:{if(kj(i),s===null)throw Error(p$2(387));o=i.pendingProps,_=i.memoizedState,j=_.element,lh(s,i),qh(i,o,null,a);var $=i.memoizedState;if(o=$.element,_.isDehydrated)if(_={element:o,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},i.updateQueue.baseState=_,i.memoizedState=_,i.flags&256){j=Ji(Error(p$2(423)),i),i=lj(s,i,o,a,j);break e}else if(o!==j){j=Ji(Error(p$2(424)),i),i=lj(s,i,o,a,j);break e}else for(yg=Lf(i.stateNode.containerInfo.firstChild),xg=i,I$1=!0,zg=null,a=Vg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ig(),o===j){i=Zi(s,i,a);break e}Xi(s,i,o,a)}i=i.child}return i;case 5:return Ah(i),s===null&&Eg(i),o=i.type,j=i.pendingProps,_=s!==null?s.memoizedProps:null,$=j.children,Ef(o,j)?$=null:_!==null&&Ef(o,_)&&(i.flags|=32),gj(s,i),Xi(s,i,$,a),i.child;case 6:return s===null&&Eg(i),null;case 13:return oj(s,i,a);case 4:return yh(i,i.stateNode.containerInfo),o=i.pendingProps,s===null?i.child=Ug(i,null,o,a):Xi(s,i,o,a),i.child;case 11:return o=i.type,j=i.pendingProps,j=i.elementType===o?j:Ci(o,j),Yi(s,i,o,j,a);case 7:return Xi(s,i,i.pendingProps,a),i.child;case 8:return Xi(s,i,i.pendingProps.children,a),i.child;case 12:return Xi(s,i,i.pendingProps.children,a),i.child;case 10:e:{if(o=i.type._context,j=i.pendingProps,_=i.memoizedProps,$=j.value,G$1(Wg,o._currentValue),o._currentValue=$,_!==null)if(He(_.value,$)){if(_.children===j.children&&!Wf.current){i=Zi(s,i,a);break e}}else for(_=i.child,_!==null&&(_.return=i);_!==null;){var et=_.dependencies;if(et!==null){$=_.child;for(var _e=et.firstContext;_e!==null;){if(_e.context===o){if(_.tag===1){_e=mh(-1,a&-a),_e.tag=2;var tt=_.updateQueue;if(tt!==null){tt=tt.shared;var rt=tt.pending;rt===null?_e.next=_e:(_e.next=rt.next,rt.next=_e),tt.pending=_e}}_.lanes|=a,_e=_.alternate,_e!==null&&(_e.lanes|=a),bh(_.return,a,i),et.lanes|=a;break}_e=_e.next}}else if(_.tag===10)$=_.type===i.type?null:_.child;else if(_.tag===18){if($=_.return,$===null)throw Error(p$2(341));$.lanes|=a,et=$.alternate,et!==null&&(et.lanes|=a),bh($,a,i),$=_.sibling}else $=_.child;if($!==null)$.return=_;else for($=_;$!==null;){if($===i){$=null;break}if(_=$.sibling,_!==null){_.return=$.return,$=_;break}$=$.return}_=$}Xi(s,i,j.children,a),i=i.child}return i;case 9:return j=i.type,o=i.pendingProps.children,ch(i,a),j=eh(j),o=o(j),i.flags|=1,Xi(s,i,o,a),i.child;case 14:return o=i.type,j=Ci(o,i.pendingProps),j=Ci(o.type,j),$i(s,i,o,j,a);case 15:return bj(s,i,i.type,i.pendingProps,a);case 17:return o=i.type,j=i.pendingProps,j=i.elementType===o?j:Ci(o,j),ij(s,i),i.tag=1,Zf(o)?(s=!0,cg(i)):s=!1,ch(i,a),Gi(i,o,j),Ii(i,o,j,a),jj(null,i,o,!0,s,a);case 19:return xj(s,i,a);case 22:return dj(s,i,a)}throw Error(p$2(156,i.tag))};function Fk(s,i){return ac(s,i)}function $k(s,i,a,o){this.tag=s,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(s,i,a,o){return new $k(s,i,a,o)}function aj(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Zk(s){if(typeof s=="function")return aj(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Da)return 11;if(s===Ga)return 14}return 2}function Pg(s,i){var a=s.alternate;return a===null?(a=Bg(s.tag,i,s.key,s.mode),a.elementType=s.elementType,a.type=s.type,a.stateNode=s.stateNode,a.alternate=s,s.alternate=a):(a.pendingProps=i,a.type=s.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=s.flags&14680064,a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,i=s.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=s.sibling,a.index=s.index,a.ref=s.ref,a}function Rg(s,i,a,o,j,_){var $=2;if(o=s,typeof s=="function")aj(s)&&($=1);else if(typeof s=="string")$=5;else e:switch(s){case ya:return Tg(a.children,j,_,i);case za:$=8,j|=8;break;case Aa:return s=Bg(12,a,i,j|2),s.elementType=Aa,s.lanes=_,s;case Ea:return s=Bg(13,a,i,j),s.elementType=Ea,s.lanes=_,s;case Fa:return s=Bg(19,a,i,j),s.elementType=Fa,s.lanes=_,s;case Ia:return pj(a,j,_,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Ba:$=10;break e;case Ca:$=9;break e;case Da:$=11;break e;case Ga:$=14;break e;case Ha:$=16,o=null;break e}throw Error(p$2(130,s==null?s:typeof s,""))}return i=Bg($,a,i,j),i.elementType=s,i.type=o,i.lanes=_,i}function Tg(s,i,a,o){return s=Bg(7,s,o,i),s.lanes=a,s}function pj(s,i,a,o){return s=Bg(22,s,o,i),s.elementType=Ia,s.lanes=a,s.stateNode={isHidden:!1},s}function Qg(s,i,a){return s=Bg(6,s,null,i),s.lanes=a,s}function Sg(s,i,a){return i=Bg(4,s.children!==null?s.children:[],s.key,i),i.lanes=a,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function al(s,i,a,o,j){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=o,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function bl(s,i,a,o,j,_,$,et,_e){return s=new al(s,i,a,et,_e),i===1?(i=1,_===!0&&(i|=8)):i=0,_=Bg(3,null,null,i),s.current=_,_.stateNode=s,_.memoizedState={element:o,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(_),s}function cl(s,i,a){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:o==null?null:""+o,children:s,containerInfo:i,implementation:a}}function dl(s){if(!s)return Vf;s=s._reactInternals;e:{if(Vb(s)!==s||s.tag!==1)throw Error(p$2(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Zf(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(p$2(171))}if(s.tag===1){var a=s.type;if(Zf(a))return bg(s,a,i)}return i}function el(s,i,a,o,j,_,$,et,_e){return s=bl(a,o,!0,s,j,_,$,et,_e),s.context=dl(null),a=s.current,o=R(),j=yi(a),_=mh(o,j),_.callback=i??null,nh(a,_,j),s.current.lanes=j,Ac(s,j,o),Dk(s,o),s}function fl(s,i,a,o){var j=i.current,_=R(),$=yi(j);return a=dl(a),i.context===null?i.context=a:i.pendingContext=a,i=mh(_,$),i.payload={element:s},o=o===void 0?null:o,o!==null&&(i.callback=o),s=nh(j,i,$),s!==null&&(gi(s,j,$,_),oh(s,j,$)),$}function gl(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function hl(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var a=s.retryLane;s.retryLane=a!==0&&a<i?a:i}}function il(s,i){hl(s,i),(s=s.alternate)&&hl(s,i)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(s){console.error(s)};function ll(s){this._internalRoot=s}ml.prototype.render=ll.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(p$2(409));fl(s,i,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Rk(function(){fl(null,s,null,null)}),i[uf]=null}};function ml(s){this._internalRoot=s}ml.prototype.unstable_scheduleHydration=function(s){if(s){var i=Hc();s={blockedOn:null,target:s,priority:i};for(var a=0;a<Qc.length&&i!==0&&i<Qc[a].priority;a++);Qc.splice(a,0,s),a===0&&Vc(s)}};function nl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ol(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(s,i,a,o,j){if(j){if(typeof o=="function"){var _=o;o=function(){var tt=gl($);_.call(tt)}}var $=el(i,o,s,0,null,!1,!1,"",pl);return s._reactRootContainer=$,s[uf]=$.current,sf(s.nodeType===8?s.parentNode:s),Rk(),$}for(;j=s.lastChild;)s.removeChild(j);if(typeof o=="function"){var et=o;o=function(){var tt=gl(_e);et.call(tt)}}var _e=bl(s,0,!1,null,null,!1,!1,"",pl);return s._reactRootContainer=_e,s[uf]=_e.current,sf(s.nodeType===8?s.parentNode:s),Rk(function(){fl(i,_e,a,o)}),_e}function rl(s,i,a,o,j){var _=a._reactRootContainer;if(_){var $=_;if(typeof j=="function"){var et=j;j=function(){var _e=gl($);et.call(_e)}}fl(i,$,s,j)}else $=ql(a,i,s,j,o);return gl($)}Ec=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var a=tc(i.pendingLanes);a!==0&&(Cc(i,a|1),Dk(i,B$1()),!(K&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var o=ih(s,1);if(o!==null){var j=R();gi(o,s,1,j)}}),il(s,1)}};Fc=function(s){if(s.tag===13){var i=ih(s,134217728);if(i!==null){var a=R();gi(i,s,134217728,a)}il(s,134217728)}};Gc=function(s){if(s.tag===13){var i=yi(s),a=ih(s,i);if(a!==null){var o=R();gi(a,s,i,o)}il(s,i)}};Hc=function(){return C$1};Ic=function(s,i){var a=C$1;try{return C$1=s,i()}finally{C$1=a}};yb=function(s,i,a){switch(i){case"input":if(bb(s,a),i=a.name,a.type==="radio"&&i!=null){for(a=s;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==s&&o.form===s.form){var j=Db(o);if(!j)throw Error(p$2(90));Wa(o),bb(o,j)}}}break;case"textarea":ib(s,a);break;case"select":i=a.value,i!=null&&fb(s,!!a.multiple,i,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Zb(s),s===null?null:s.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(s,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(i))throw Error(p$2(200));return cl(s,i,null,a)};reactDom_production_min.createRoot=function(s,i){if(!nl(s))throw Error(p$2(299));var a=!1,o="",j=kl;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onRecoverableError!==void 0&&(j=i.onRecoverableError)),i=bl(s,1,!1,null,null,a,!1,o,j),s[uf]=i.current,sf(s.nodeType===8?s.parentNode:s),new ll(i)};reactDom_production_min.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(p$2(188)):(s=Object.keys(s).join(","),Error(p$2(268,s)));return s=Zb(i),s=s===null?null:s.stateNode,s};reactDom_production_min.flushSync=function(s){return Rk(s)};reactDom_production_min.hydrate=function(s,i,a){if(!ol(i))throw Error(p$2(200));return rl(null,s,i,!0,a)};reactDom_production_min.hydrateRoot=function(s,i,a){if(!nl(s))throw Error(p$2(405));var o=a!=null&&a.hydratedSources||null,j=!1,_="",$=kl;if(a!=null&&(a.unstable_strictMode===!0&&(j=!0),a.identifierPrefix!==void 0&&(_=a.identifierPrefix),a.onRecoverableError!==void 0&&($=a.onRecoverableError)),i=el(i,null,s,1,a??null,j,!1,_,$),s[uf]=i.current,sf(s),o)for(s=0;s<o.length;s++)a=o[s],j=a._getVersion,j=j(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,j]:i.mutableSourceEagerHydrationData.push(a,j);return new ml(i)};reactDom_production_min.render=function(s,i,a){if(!ol(i))throw Error(p$2(200));return rl(null,s,i,!1,a)};reactDom_production_min.unmountComponentAtNode=function(s){if(!ol(s))throw Error(p$2(40));return s._reactRootContainer?(Rk(function(){rl(null,null,s,!1,function(){s._reactRootContainer=null,s[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(s,i,a,o){if(!ol(a))throw Error(p$2(200));if(s==null||s._reactInternals===void 0)throw Error(p$2(38));return rl(s,i,a,!1,o)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(s){console.error(s)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var createRoot,m$2=reactDomExports;createRoot=m$2.createRoot,m$2.hydrateRoot;const __vite_import_meta_env__$2={},isSelfAtom=(s,i)=>s.unstable_is?s.unstable_is(i):i===s,hasInitialValue=s=>"init"in s,isActuallyWritableAtom=s=>!!s.write,isAtomStateInitialized=s=>"v"in s||"e"in s,returnAtomValue=s=>{if("e"in s)throw s.e;if((__vite_import_meta_env__$2?"production":void 0)!=="production"&&!("v"in s))throw new Error("[Bug] atom state is not initialized");return s.v},promiseStateMap=new WeakMap,isPendingPromise=s=>{var i;return isPromiseLike$1(s)&&!!((i=promiseStateMap.get(s))!=null&&i[0])},abortPromise=s=>{const i=promiseStateMap.get(s);i!=null&&i[0]&&(i[0]=!1,i[1].forEach(a=>a()))},registerAbortHandler=(s,i)=>{let a=promiseStateMap.get(s);if(!a){a=[!0,new Set],promiseStateMap.set(s,a);const o=()=>{a[0]=!1};s.then(o,o)}a[1].add(i)},isPromiseLike$1=s=>typeof(s==null?void 0:s.then)=="function",addPendingPromiseToDependency=(s,i,a)=>{a.p.has(s)||(a.p.add(s),i.then(()=>{a.p.delete(s)},()=>{a.p.delete(s)}))},setAtomStateValueOrPromise=(s,i,a)=>{const o=a(s),j="v"in o,_=o.v;if(isPromiseLike$1(i))for(const $ of o.d.keys())addPendingPromiseToDependency(s,i,a($));o.v=i,delete o.e,(!j||!Object.is(_,o.v))&&(++o.n,isPromiseLike$1(_)&&abortPromise(_))},getMountedOrPendingDependents=(s,i,a)=>{var o;const j=new Set;for(const _ of((o=a.get(s))==null?void 0:o.t)||[])a.has(_)&&j.add(_);for(const _ of i.p)j.add(_);return j},createStoreHook=()=>{const s=new Set,i=()=>{s.forEach(a=>a())};return i.add=a=>(s.add(a),()=>{s.delete(a)}),i},createStoreHookForAtoms=()=>{const s={},i=new WeakMap,a=o=>{var j,_;(j=i.get(s))==null||j.forEach($=>$(o)),(_=i.get(o))==null||_.forEach($=>$())};return a.add=(o,j)=>{const _=o||s,$=(i.has(_)?i:i.set(_,new Set)).get(_);return $.add(j),()=>{$==null||$.delete(j),$.size||i.delete(_)}},a},initializeStoreHooks=s=>(s.c||(s.c=createStoreHookForAtoms()),s.m||(s.m=createStoreHookForAtoms()),s.u||(s.u=createStoreHookForAtoms()),s.f||(s.f=createStoreHook()),s),BUILDING_BLOCKS=Symbol(),buildStore=(s=new WeakMap,i=new WeakMap,a=new WeakMap,o=new Set,j=new Set,_=new Set,$={},et=(st,...ot)=>st.read(...ot),_e=(st,...ot)=>st.write(...ot),tt=(st,ot)=>{var ct;return(ct=st.unstable_onInit)==null?void 0:ct.call(st,ot)},rt=(st,ot)=>{var ct;return(ct=st.onMount)==null?void 0:ct.call(st,ot)},...nt)=>{const st=nt[0]||(at=>{if((__vite_import_meta_env__$2?"production":void 0)!=="production"&&!at)throw new Error("Atom is undefined or null");let pt=s.get(at);return pt||(pt={d:new Map,p:new Set,n:0},s.set(at,pt),tt==null||tt(at,vt)),pt}),ot=nt[1]||(()=>{const at=[],pt=yt=>{try{yt()}catch(jt){at.push(jt)}};do{$.f&&pt($.f);const yt=new Set,jt=yt.add.bind(yt);o.forEach(xt=>{var wt;return(wt=i.get(xt))==null?void 0:wt.l.forEach(jt)}),o.clear(),_.forEach(jt),_.clear(),j.forEach(jt),j.clear(),yt.forEach(pt),o.size&&ct()}while(o.size||_.size||j.size);if(at.length)throw new AggregateError(at)}),ct=nt[2]||(()=>{const at=[],pt=new WeakSet,yt=new WeakSet,jt=Array.from(o);for(;jt.length;){const xt=jt[jt.length-1],wt=st(xt);if(yt.has(xt)){jt.pop();continue}if(pt.has(xt)){if(a.get(xt)===wt.n)at.push([xt,wt]);else if((__vite_import_meta_env__$2?"production":void 0)!=="production"&&a.has(xt))throw new Error("[Bug] invalidated atom exists");yt.add(xt),jt.pop();continue}pt.add(xt);for(const At of getMountedOrPendingDependents(xt,wt,i))pt.has(At)||jt.push(At)}for(let xt=at.length-1;xt>=0;--xt){const[wt,At]=at[xt];let Ut=!1;for(const Ft of At.d.keys())if(Ft!==wt&&o.has(Ft)){Ut=!0;break}Ut&&(gt(wt),lt(wt)),a.delete(wt)}}),gt=nt[3]||(at=>{var pt;const yt=st(at);if(isAtomStateInitialized(yt)&&(i.has(at)&&a.get(at)!==yt.n||Array.from(yt.d).every(([Nt,Rt])=>gt(Nt).n===Rt)))return yt;yt.d.clear();let jt=!0;const xt=()=>{i.has(at)&&(lt(at),ct(),ot())},wt=Nt=>{var Rt;if(isSelfAtom(at,Nt)){const Dt=st(Nt);if(!isAtomStateInitialized(Dt))if(hasInitialValue(Nt))setAtomStateValueOrPromise(Nt,Nt.init,st);else throw new Error("no atom init");return returnAtomValue(Dt)}const kt=gt(Nt);try{return returnAtomValue(kt)}finally{yt.d.set(Nt,kt.n),isPendingPromise(yt.v)&&addPendingPromiseToDependency(at,yt.v,kt),(Rt=i.get(Nt))==null||Rt.t.add(at),jt||xt()}};let At,Ut;const Ft={get signal(){return At||(At=new AbortController),At.signal},get setSelf(){return(__vite_import_meta_env__$2?"production":void 0)!=="production"&&!isActuallyWritableAtom(at)&&console.warn("setSelf function cannot be used with read-only atom"),!Ut&&isActuallyWritableAtom(at)&&(Ut=(...Nt)=>{if((__vite_import_meta_env__$2?"production":void 0)!=="production"&&jt&&console.warn("setSelf function cannot be called in sync"),!jt)try{return it(at,...Nt)}finally{ct(),ot()}}),Ut}},Bt=yt.n;try{const Nt=et(at,wt,Ft);return setAtomStateValueOrPromise(at,Nt,st),isPromiseLike$1(Nt)&&(registerAbortHandler(Nt,()=>At==null?void 0:At.abort()),Nt.then(xt,xt)),yt}catch(Nt){return delete yt.v,yt.e=Nt,++yt.n,yt}finally{jt=!1,Bt!==yt.n&&a.get(at)===Bt&&(a.set(at,yt.n),o.add(at),(pt=$.c)==null||pt.call($,at))}}),dt=nt[4]||(at=>{const pt=[at];for(;pt.length;){const yt=pt.pop(),jt=st(yt);for(const xt of getMountedOrPendingDependents(yt,jt,i)){const wt=st(xt);a.set(xt,wt.n),pt.push(xt)}}}),it=nt[5]||((at,...pt)=>{let yt=!0;const jt=wt=>returnAtomValue(gt(wt)),xt=(wt,...At)=>{var Ut;const Ft=st(wt);try{if(isSelfAtom(at,wt)){if(!hasInitialValue(wt))throw new Error("atom not writable");const Bt=Ft.n,Nt=At[0];setAtomStateValueOrPromise(wt,Nt,st),lt(wt),Bt!==Ft.n&&(o.add(wt),(Ut=$.c)==null||Ut.call($,wt),dt(wt));return}else return it(wt,...At)}finally{yt||(ct(),ot())}};try{return _e(at,jt,xt,...pt)}finally{yt=!1}}),lt=nt[6]||(at=>{var pt;const yt=st(at),jt=i.get(at);if(jt&&!isPendingPromise(yt.v)){for(const[xt,wt]of yt.d)if(!jt.d.has(xt)){const At=st(xt);ut(xt).t.add(at),jt.d.add(xt),wt!==At.n&&(o.add(xt),(pt=$.c)==null||pt.call($,xt),dt(xt))}for(const xt of jt.d||[])if(!yt.d.has(xt)){jt.d.delete(xt);const wt=mt(xt);wt==null||wt.t.delete(at)}}}),ut=nt[7]||(at=>{var pt;const yt=st(at);let jt=i.get(at);if(!jt){gt(at);for(const xt of yt.d.keys())ut(xt).t.add(at);if(jt={l:new Set,d:new Set(yt.d.keys()),t:new Set},i.set(at,jt),(pt=$.m)==null||pt.call($,at),isActuallyWritableAtom(at)){const xt=()=>{let wt=!0;const At=(...Ut)=>{try{return it(at,...Ut)}finally{wt||(ct(),ot())}};try{const Ut=rt(at,At);Ut&&(jt.u=()=>{wt=!0;try{Ut()}finally{wt=!1}})}finally{wt=!1}};j.add(xt)}}return jt}),mt=nt[8]||(at=>{var pt;const yt=st(at);let jt=i.get(at);if(jt&&!jt.l.size&&!Array.from(jt.t).some(xt=>{var wt;return(wt=i.get(xt))==null?void 0:wt.d.has(at)})){jt.u&&_.add(jt.u),jt=void 0,i.delete(at),(pt=$.u)==null||pt.call($,at);for(const xt of yt.d.keys()){const wt=mt(xt);wt==null||wt.t.delete(at)}return}return jt}),ht=[s,i,a,o,j,_,$,et,_e,tt,rt,st,ot,ct,gt,dt,it,lt,ut,mt],vt={get:at=>returnAtomValue(gt(at)),set:(at,...pt)=>{try{return it(at,...pt)}finally{ct(),ot()}},sub:(at,pt)=>{const jt=ut(at).l;return jt.add(pt),ot(),()=>{jt.delete(pt),mt(at),ot()}}};return Object.defineProperty(vt,BUILDING_BLOCKS,{value:ht}),vt},INTERNAL_buildStoreRev1=buildStore,INTERNAL_initializeStoreHooks=initializeStoreHooks,INTERNAL_registerAbortHandler=registerAbortHandler,__vite_import_meta_env__$1={};let keyCount=0;function atom(s,i){const a=`atom${++keyCount}`,o={toString(){return(__vite_import_meta_env__$1?"production":void 0)!=="production"&&this.debugLabel?a+":"+this.debugLabel:a}};return typeof s=="function"?o.read=s:(o.init=s,o.read=defaultRead,o.write=defaultWrite),o}function defaultRead(s){return s(this)}function defaultWrite(s,i,a){return i(this,typeof a=="function"?a(s(this)):a)}const createDevStoreRev4=()=>{let s=0;const i=INTERNAL_initializeStoreHooks({}),a=new WeakMap,o=new WeakMap,j=INTERNAL_buildStoreRev1(a,o,void 0,void 0,void 0,void 0,i,void 0,(et,_e,tt,...rt)=>s?tt(et,...rt):et.write(_e,tt,...rt)),_=new Set;return i.m.add(void 0,et=>{_.add(et);const _e=a.get(et);_e.m=o.get(et)}),i.u.add(void 0,et=>{_.delete(et);const _e=a.get(et);delete _e.m}),Object.assign(j,{dev4_get_internal_weak_map:()=>(console.log("Deprecated: Use devstore from the devtools library"),a),dev4_get_mounted_atoms:()=>_,dev4_restore_atoms:et=>{const _e={read:()=>null,write:(tt,rt)=>{++s;try{for(const[nt,st]of et)"init"in nt&&rt(nt,st)}finally{--s}}};j.set(_e)}})};function createStore$2(){return(__vite_import_meta_env__$1?"production":void 0)!=="production"?createDevStoreRev4():INTERNAL_buildStoreRev1()}let defaultStore;function getDefaultStore(){return defaultStore||(defaultStore=createStore$2(),(__vite_import_meta_env__$1?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=defaultStore),globalThis.__JOTAI_DEFAULT_STORE__!==defaultStore&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),defaultStore}const __vite_import_meta_env__={},StoreContext$1=reactExports.createContext(void 0);function useStore(s){return reactExports.useContext(StoreContext$1)||getDefaultStore()}function Provider$1({children:s,store:i}){const a=reactExports.useRef(void 0);return!i&&!a.current&&(a.current=createStore$2()),reactExports.createElement(StoreContext$1.Provider,{value:i||a.current},s)}const isPromiseLike=s=>typeof(s==null?void 0:s.then)=="function",attachPromiseStatus=s=>{s.status||(s.status="pending",s.then(i=>{s.status="fulfilled",s.value=i},i=>{s.status="rejected",s.reason=i}))},use=React.use||(s=>{if(s.status==="pending")throw s;if(s.status==="fulfilled")return s.value;throw s.status==="rejected"?s.reason:(attachPromiseStatus(s),s)}),continuablePromiseMap=new WeakMap,createContinuablePromise=(s,i)=>{let a=continuablePromiseMap.get(s);return a||(a=new Promise((o,j)=>{let _=s;const $=tt=>rt=>{_===tt&&o(rt)},et=tt=>rt=>{_===tt&&j(rt)},_e=()=>{try{const tt=i();isPromiseLike(tt)?(continuablePromiseMap.set(tt,a),_=tt,tt.then($(tt),et(tt)),INTERNAL_registerAbortHandler(tt,_e)):o(tt)}catch(tt){j(tt)}};s.then($(s),et(s)),INTERNAL_registerAbortHandler(s,_e)}),continuablePromiseMap.set(s,a)),a};function useAtomValue(s,i){const{delay:a,unstable_promiseStatus:o=!React.use}={},j=useStore(),[[_,$,et],_e]=reactExports.useReducer(rt=>{const nt=j.get(s);return Object.is(rt[0],nt)&&rt[1]===j&&rt[2]===s?rt:[nt,j,s]},void 0,()=>[j.get(s),j,s]);let tt=_;if(($!==j||et!==s)&&(_e(),tt=j.get(s)),reactExports.useEffect(()=>{const rt=j.sub(s,()=>{if(o)try{const nt=j.get(s);isPromiseLike(nt)&&attachPromiseStatus(createContinuablePromise(nt,()=>j.get(s)))}catch{}if(typeof a=="number"){setTimeout(_e,a);return}_e()});return _e(),rt},[j,s,a,o]),reactExports.useDebugValue(tt),isPromiseLike(tt)){const rt=createContinuablePromise(tt,()=>j.get(s));return o&&attachPromiseStatus(rt),use(rt)}return tt}function useSetAtom(s,i){const a=useStore();return reactExports.useCallback((...j)=>{if((__vite_import_meta_env__?"production":void 0)!=="production"&&!("write"in s))throw new Error("not writable atom");return a.set(s,...j)},[a,s])}function useAtom(s,i){return[useAtomValue(s),useSetAtom(s)]}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(s,i)=>{const a=reactExports.forwardRef(({color:o="currentColor",size:j=24,strokeWidth:_=2,absoluteStrokeWidth:$,className:et="",children:_e,...tt},rt)=>reactExports.createElement("svg",{ref:rt,...defaultAttributes,width:j,height:j,stroke:o,strokeWidth:$?Number(_)*24/Number(j):_,className:["lucide",`lucide-${toKebabCase(s)}`,et].join(" "),...tt},[...i.map(([nt,st])=>reactExports.createElement(nt,st)),...Array.isArray(_e)?_e:[_e]]));return a.displayName=`${s}`,a};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Activity=createLucideIcon("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AlertCircle=createLucideIcon("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AlertTriangle=createLucideIcon("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRight=createLucideIcon("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Award=createLucideIcon("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BookOpen=createLucideIcon("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Building=createLucideIcon("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Calendar=createLucideIcon("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CheckCircle=createLucideIcon("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Clock=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CreditCard=createLucideIcon("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Crown=createLucideIcon("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DollarSign=createLucideIcon("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EyeOff=createLucideIcon("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=createLucideIcon("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Filter=createLucideIcon("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GraduationCap=createLucideIcon("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Heart=createLucideIcon("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LayoutGrid=createLucideIcon("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const List=createLucideIcon("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lock=createLucideIcon("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LogOut=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Minus=createLucideIcon("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moon=createLucideIcon("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MoreVertical=createLucideIcon("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PanelsTopLeft=createLucideIcon("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Play=createLucideIcon("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Save=createLucideIcon("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Settings=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Shield=createLucideIcon("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ShoppingCart=createLucideIcon("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sparkles=createLucideIcon("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SquarePen=createLucideIcon("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Star=createLucideIcon("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sun=createLucideIcon("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tag=createLucideIcon("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Target=createLucideIcon("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Theater=createLucideIcon("Theater",[["path",{d:"M2 10s3-3 3-8",key:"3xiif0"}],["path",{d:"M22 10s-3-3-3-8",key:"ioaa5q"}],["path",{d:"M10 2c0 4.4-3.6 8-8 8",key:"16fkpi"}],["path",{d:"M14 2c0 4.4 3.6 8 8 8",key:"b9eulq"}],["path",{d:"M2 10s2 2 2 5",key:"1au1lb"}],["path",{d:"M22 10s-2 2-2 5",key:"qi2y5e"}],["path",{d:"M8 15h8",key:"45n4r"}],["path",{d:"M2 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"1vsc2m"}],["path",{d:"M14 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"hrha4u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingUp=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UserCheck=createLucideIcon("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UserX=createLucideIcon("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Users=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zap=createLucideIcon("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomIn=createLucideIcon("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomOut=createLucideIcon("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function ActivityLineView({activities:s,onEdit:i,onDelete:a,onViewPDF:o,onActivityClick:j,loading:_,selectedActivities:$=[],isLessonPlanning:et=!1,targetSection:_e,onSelectActivity:tt}){const rt=it=>{switch(it){case"Toe Tipper":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"Green Horn":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"Semi-Pro":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"Seasoned Veteran":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},nt=it=>({"warm-up":"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400",main:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400","cool-down":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",game:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",exercise:"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400"})[it]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",st=it=>$.some(lt=>lt.id===it.id),ot=it=>{if(!_e)return!1;switch(_e){case"warmUp":return it.activityType==="warm-up";case"coolDown":return it.activityType==="cool-down";case"main":return it.activityType==="main";default:return!1}},ct=(it,lt)=>{lt.target.closest(".action-buttons")||j&&j(it)},gt=(it,lt)=>{lt.stopPropagation(),tt&&tt(it)},dt=it=>it.pdfFiles&&it.pdfFiles.length>0||it.scriptIds&&it.scriptIds.length>0;return _?jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"divide-y divide-gray-200 dark:divide-dark-700",children:[...Array(5)].map((it,lt)=>jsxRuntimeExports.jsx("div",{className:"p-3 animate-pulse",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-2 w-1/3"}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded mb-2 w-2/3"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-gray-700 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"h-5 w-20 bg-gray-200 dark:bg-gray-700 rounded-full"})]})]}),jsxRuntimeExports.jsx("div",{className:"w-16 h-6 bg-gray-200 dark:bg-gray-700 rounded"})]})},lt))})}):s.length===0?jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 p-12 text-center",children:[jsxRuntimeExports.jsx(Tag,{className:"w-12 h-12 text-gray-400 dark:text-gray-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No activities found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your filters to see more activities."})]}):jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"divide-y divide-gray-200 dark:divide-dark-700",children:s.map(it=>{const lt=st(it),ut=ot(it);return jsxRuntimeExports.jsx("div",{className:`p-3 transition-all duration-200 group ${lt?"bg-blue-50 dark:bg-blue-900/20 border-l-4 !border-l-blue-500 dark:!border-l-blue-400":ut&&_e?"bg-green-50 dark:bg-green-900/20 border-l-4 !border-l-green-500 dark:!border-l-green-400":dt(it)&&j?"hover:bg-blue-50 sdark:hover:bg-blue-900/20 cursor-pointer":"hover:bg-gray-50 dark:hover:bg-dark-700"}`,onClick:mt=>ct(it,mt),title:dt(it)&&j?"Click to view attached resources":void 0,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[jsxRuntimeExports.jsxs("h3",{className:`text-base font-semibold truncate ${lt?"text-blue-900 dark:text-blue-300":ut&&_e?"text-green-900 dark:text-green-300":"text-gray-900 dark:text-white"}`,children:[it.title,lt&&jsxRuntimeExports.jsx("span",{className:"ml-2 text-xs bg-blue-600 dark:bg-blue-500 text-white px-2 py-0.5 rounded-full",children:"Added"}),ut&&_e&&!lt&&jsxRuntimeExports.jsxs("span",{className:"ml-2 inline-flex items-center gap-1 text-xs bg-green-600 dark:bg-green-500 text-white px-2 py-0.5 rounded-full",children:[jsxRuntimeExports.jsx(Target,{className:"w-3 h-3"}),"Perfect Match"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[it.duration,"min"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:it.materials.length})]}),it.pdfFiles&&it.pdfFiles.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(FileText,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),jsxRuntimeExports.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium",children:[it.pdfFiles.length," PDF",it.pdfFiles.length>1?"s":""]})]}),it.scriptIds&&it.scriptIds.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(FileText,{className:"w-3 h-3 text-purple-600 dark:text-purple-400"}),jsxRuntimeExports.jsxs("span",{className:"text-purple-600 dark:text-purple-400 font-medium",children:[it.scriptIds.length," Script",it.scriptIds.length>1?"s":""]})]})]})]}),jsxRuntimeExports.jsx("p",{className:`text-sm mb-2 line-clamp-1 ${lt?"text-blue-700 dark:text-blue-400":ut&&_e?"text-green-700 dark:text-green-400":"text-gray-600 dark:text-gray-400"}`,children:it.description}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${lt?"bg-blue-200 dark:bg-blue-800 text-blue-900 dark:text-blue-300":ut&&_e?"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-300":"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400"}`,children:it.ageGroup}),jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${rt(it.skillLevel)}`,children:it.skillLevel}),jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${nt(it.activityType)}`,children:it.activityType.split("-").map(mt=>mt.charAt(0).toUpperCase()+mt.slice(1)).join(" ")}),it.tags.slice(0,2).map((mt,ht)=>jsxRuntimeExports.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 text-xs rounded-md ${lt?"bg-blue-200 dark:bg-blue-800 text-blue-900 dark:text-blue-300":ut&&_e?"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[jsxRuntimeExports.jsx(Tag,{className:"w-2.5 h-2.5"}),mt]},ht)),it.tags.length>2&&jsxRuntimeExports.jsxs("span",{className:`px-2 py-0.5 text-xs rounded-md ${lt?"bg-blue-200 dark:bg-blue-800 text-blue-900 dark:text-blue-300":ut&&_e?"bg-green-200 dark:bg-green-800 text-green-900 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:["+",it.tags.length-2]})]})]}),jsxRuntimeExports.jsxs("div",{className:"action-buttons flex items-center gap-1 ml-4",children:[et&&tt&&jsxRuntimeExports.jsx("button",{onClick:mt=>gt(it,mt),className:`p-2 rounded-lg transition-all ${lt?"bg-blue-600 dark:bg-blue-500 text-white":ut&&_e?"bg-green-600 dark:bg-green-500 text-white hover:bg-green-700 dark:hover:bg-green-600":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 hover:bg-blue-100 dark:hover:bg-blue-900/30 hover:text-blue-600 dark:hover:text-blue-400"}`,title:lt?"Already added to lesson":ut&&_e?`Perfect for ${_e==="warmUp"?"Warm-up":_e==="coolDown"?"Cool-down":"Main Activities"} - Click to add`:"Add to lesson",children:ut&&_e&&!lt?jsxRuntimeExports.jsx(Target,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"})}),!et&&jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:jsxRuntimeExports.jsx("button",{onClick:mt=>{mt.stopPropagation(),a(it.id)},className:"p-2 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:"Delete Activity",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})})]})]})},it.id)})})})}function ActivityDetailsModal({isOpen:s,onClose:i,activity:a,scripts:o,onViewPDF:j,onViewScript:_,onSelectActivity:$,showSelectButton:et=!1,isSelected:_e=!1}){var ot;if(!s||!a)return null;const tt=ct=>{if(ct===0)return"0 Bytes";const gt=1024,dt=["Bytes","KB","MB","GB"],it=Math.floor(Math.log(ct)/Math.log(gt));return parseFloat((ct/Math.pow(gt,it)).toFixed(2))+" "+dt[it]},rt=a.scriptIds?o.filter(ct=>a.scriptIds.includes(ct.id)):[],nt=ct=>({comedy:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",drama:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",mystery:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400",fantasy:"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400",historical:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400",contemporary:"bg-teal-100 text-teal-800 dark:bg-teal-900/30 dark:text-teal-400"})[ct]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",st=()=>{$&&a&&($(a),i())};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-teal-600 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:a.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Activity Resources"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:jsxRuntimeExports.jsx("button",{onClick:i,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-dark-700 bg-gray-50 dark:bg-dark-700",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:a.description}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[a.duration," minutes"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[a.materials.length," materials"]})]}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400 text-xs font-medium rounded-full",children:a.ageGroup}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-400 text-xs font-medium rounded-full",children:a.activityType.split("-").map(ct=>ct.charAt(0).toUpperCase()+ct.slice(1)).join(" ")})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),"Attached PDFs (",((ot=a.pdfFiles)==null?void 0:ot.length)||0,")"]}),a.pdfFiles&&a.pdfFiles.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-3",children:a.pdfFiles.map(ct=>jsxRuntimeExports.jsx("div",{className:"bg-gray-50 dark:bg-dark-700 rounded-lg p-4 border border-gray-200 dark:border-dark-600",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 dark:text-white truncate",children:ct.fileName}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 mt-1",children:[jsxRuntimeExports.jsx("span",{children:tt(ct.fileSize)}),jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:new Date(ct.uploadedAt).toLocaleDateString()})]}),ct.description&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:ct.description})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-1 ml-3",children:jsxRuntimeExports.jsx("a",{href:ct.fileUrl,download:ct.fileName,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/30 rounded-lg transition-colors",title:"Download PDF",children:jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"})})})]})},ct._id))}):jsxRuntimeExports.jsxs("div",{className:"text-center py-8 bg-gray-50 dark:bg-dark-700 rounded-lg border-2 border-dashed border-gray-300 dark:border-dark-600",children:[jsxRuntimeExports.jsx(FileText,{className:"w-8 h-8 text-gray-400 dark:text-gray-500 mx-auto mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No PDFs attached to this activity"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Play,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),"Connected Scripts (",rt.length,")"]}),rt.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-3",children:rt.map(ct=>jsxRuntimeExports.jsx("div",{className:"bg-gray-50 dark:bg-dark-700 rounded-lg p-4 border border-gray-200 dark:border-dark-600",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:ct.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 line-clamp-2",children:ct.description}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${nt(ct.genre)}`,children:ct.genre}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-full",children:[ct.characterCount," characters"]}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-full",children:[ct.duration," min"]})]})]}),ct.fileUrl&&_&&jsxRuntimeExports.jsx("a",{href:ct.fileUrl,download:ct.fileName,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded-lg transition-colors ml-3",title:"View Script",children:jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"})})]})},ct.id))}):jsxRuntimeExports.jsxs("div",{className:"text-center py-8 bg-gray-50 dark:bg-dark-700 rounded-lg border-2 border-dashed border-gray-300 dark:border-dark-600",children:[jsxRuntimeExports.jsx(Play,{className:"w-8 h-8 text-gray-400 dark:text-gray-500 mx-auto mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:a.requiresScript==="none"?"This activity does not require scripts":"No scripts connected to this activity"})]})]})]}),a.materials.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Required Materials"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:a.materials.map((ct,gt)=>jsxRuntimeExports.jsx("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400 text-sm rounded-full",children:ct},gt))})]}),a.tags.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-6 pt-6 border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Tags"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:a.tags.map((ct,gt)=>jsxRuntimeExports.jsxs("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm rounded-full",children:["#",ct]},gt))})]})]}),jsxRuntimeExports.jsx("div",{className:"p-6 bg-gray-50 dark:bg-dark-700 border-t border-gray-200 dark:border-dark-600 rounded-b-xl",children:jsxRuntimeExports.jsx("div",{className:"flex justify-end items-center",children:et&&$?jsxRuntimeExports.jsxs("button",{onClick:st,disabled:_e,className:`flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all duration-200 ${_e?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-teal-600 text-white hover:from-blue-700 hover:to-teal-700 shadow-md hover:shadow-lg"}`,children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5"}),_e?"Already Added to Lesson":"Add to Lesson Plan"]}):jsxRuntimeExports.jsx("button",{onClick:i,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors ml-auto",children:"Close"})})})]})})}function ActivityGrid({activities:s,onSelectActivity:i,selectedActivities:a,loading:o,scripts:j=[],onViewPDF:_,onViewScript:$,viewMode:et="card",onViewModeChange:_e,showViewToggle:tt=!1,isLessonPlanning:rt=!1,targetSection:nt,onDelete:st}){const[ot,ct]=reactExports.useState(null),[gt,dt]=reactExports.useState(!1),it=wt=>({"warm-up":"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-400 dark:border-orange-800",main:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-800","cool-down":"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800",game:"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/30 dark:text-purple-400 dark:border-purple-800",exercise:"bg-pink-100 text-pink-800 border-pink-200 dark:bg-pink-900/30 dark:text-pink-400 dark:border-pink-800"})[wt]||"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600",lt=wt=>({"Toe Tipper":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400","Green Horn":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400","Semi-Pro":"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400","Seasoned Veteran":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"})[wt]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",ut=wt=>({"More Playing Than Creating":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400","A Balance of Playing and Creating":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400","Let's Create and Craft":"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400"})[wt]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",mt=wt=>a.some(At=>At.id===wt.id),ht=wt=>wt.scriptIds?j.filter(At=>wt.scriptIds.includes(At.id)):[],vt=wt=>{ct(wt),dt(!0)},at=()=>{dt(!1),ct(null)},pt=wt=>{i(wt)},yt=(wt,At)=>{At.target.closest(".add-button")||vt(wt)},jt=(wt,At)=>{At.stopPropagation(),i(wt)},xt=wt=>{if(!nt)return!1;switch(nt){case"warmUp":return wt.activityType==="warm-up";case"coolDown":return wt.activityType==="cool-down";case"main":return wt.activityType==="main";default:return!1}};return o?jsxRuntimeExports.jsxs("div",{children:[tt&&_e&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"View:"}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-100 dark:bg-dark-700 rounded-lg p-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>_e("card"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${et==="card"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(LayoutGrid,{className:"w-4 h-4"}),"Cards"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>_e("line"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${et==="line"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(List,{className:"w-4 h-4"}),"List"]})]})]})}),et==="line"?jsxRuntimeExports.jsx(ActivityLineView,{activities:[],onEdit:()=>{},onDelete:st||(()=>{}),onViewPDF:_,onActivityClick:vt,loading:!0,selectedActivities:a,isLessonPlanning:rt,targetSection:nt,onSelectActivity:i}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((wt,At)=>jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 p-6 animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded mb-3"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-4"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"h-6 w-16 bg-gray-200 dark:bg-gray-700 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"h-6 w-20 bg-gray-200 dark:bg-gray-700 rounded-full"})]}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded"})]},At))})]}):s.length===0?jsxRuntimeExports.jsxs("div",{children:[tt&&_e&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"View:"}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-100 dark:bg-dark-700 rounded-lg p-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>_e("card"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${et==="card"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(LayoutGrid,{className:"w-4 h-4"}),"Cards"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>_e("line"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${et==="line"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(List,{className:"w-4 h-4"}),"List"]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(Tag,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No activities found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your filters to see more activities."})]})]}):jsxRuntimeExports.jsxs("div",{children:[tt&&_e&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"View:"}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-100 dark:bg-dark-700 rounded-lg p-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>_e("card"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${et==="card"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(LayoutGrid,{className:"w-4 h-4"}),"Cards"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>_e("line"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${et==="line"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(List,{className:"w-4 h-4"}),"List"]})]})]})}),et==="line"?jsxRuntimeExports.jsx(ActivityLineView,{activities:s,onEdit:()=>{},onDelete:st||(()=>{}),onViewPDF:_,onActivityClick:vt,loading:!1,selectedActivities:a,isLessonPlanning:rt,targetSection:nt,onSelectActivity:i}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(wt=>{const At=ht(wt),Ut=mt(wt),Ft=xt(wt);return jsxRuntimeExports.jsxs("div",{className:`bg-white dark:bg-dark-800 rounded-lg border-2 p-6 cursor-pointer transition-all duration-200 hover:shadow-lg dark:hover:shadow-xl hover:shadow-gray-200 dark:hover:shadow-black/20 group ${Ut?"border-blue-500 dark:border-blue-400 bg-blue-50 dark:bg-blue-900/20 shadow-md dark:shadow-xl":Ft&&nt?"border-green-500 dark:border-green-400 bg-green-50 dark:bg-green-900/20 shadow-md dark:shadow-xl":"border-gray-200 dark:border-dark-700 hover:border-blue-300 dark:hover:border-blue-600"}`,onClick:Bt=>yt(wt,Bt),title:"Click to view activity details and resources",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex-1 pr-2",children:[wt.title,Ft&&nt&&jsxRuntimeExports.jsxs("span",{className:"ml-2 inline-flex items-center gap-1 px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs font-medium rounded-full",children:[jsxRuntimeExports.jsx(Target,{className:"w-3 h-3"}),"Perfect Match"]})]}),rt?jsxRuntimeExports.jsx("button",{className:`add-button p-2 rounded-full transition-all ${Ut?"bg-blue-600 dark:bg-blue-500 text-white":Ft&&nt?"bg-green-600 dark:bg-green-500 text-white hover:bg-green-700 dark:hover:bg-green-600":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 hover:bg-blue-100 dark:hover:bg-blue-900/30 hover:text-blue-600 dark:hover:text-blue-400"}`,onClick:Bt=>jt(wt,Bt),title:Ut?"Already added to lesson":Ft&&nt?`Perfect for ${nt==="warmUp"?"Warm-up":nt==="coolDown"?"Cool-down":"Main Activities"} - Click to add`:"Add to lesson",children:Ft&&nt?jsxRuntimeExports.jsx(Target,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"})}):jsxRuntimeExports.jsx("button",{onClick:Bt=>{Bt.stopPropagation(),console.log("Delete button clicked for activity:",wt.id,wt.title),st?st(wt.id):console.log("onDelete function not provided")},className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 text-sm font-medium px-2 py-1 rounded hover:bg-red-50 dark:hover:bg-red-900/30 transition-colors opacity-0 group-hover:opacity-100",title:"Delete Activity",children:"Delete"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 line-clamp-2 text-sm",children:wt.description}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400 text-xs font-medium rounded-full",children:wt.ageGroup}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${lt(wt.skillLevel)}`,children:wt.skillLevel}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${it(wt.activityType)}`,children:wt.activityType.split("-").map(Bt=>Bt.charAt(0).toUpperCase()+Bt.slice(1)).join(" ")}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ut(wt.playOrCraft)}`,children:wt.playOrCraft})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center flex-wrap gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[wt.duration," min"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[wt.materials.length," materials"]})]}),wt.pdfFiles&&wt.pdfFiles.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),jsxRuntimeExports.jsxs("span",{className:"text-green-600 dark:text-green-400",children:[wt.pdfFiles.length," PDF",wt.pdfFiles.length>1?"s":""]})]}),At.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Play,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),jsxRuntimeExports.jsxs("span",{className:"text-purple-600 dark:text-purple-400",children:[At.length," Script",At.length>1?"s":""]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1",children:[wt.tags.slice(0,3).map((Bt,Nt)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:[jsxRuntimeExports.jsx(Tag,{className:"w-3 h-3"}),Bt]},Nt)),wt.tags.length>3&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:["+",wt.tags.length-3," more"]})]})]},wt.id)})}),jsxRuntimeExports.jsx(ActivityDetailsModal,{isOpen:gt,onClose:at,activity:ot,scripts:j,onViewPDF:_,onViewScript:$,onSelectActivity:rt?pt:void 0,showSelectButton:rt,isSelected:ot?mt(ot):!1})]})}function ScriptCard({script:s,onEdit:i,onDelete:a,onUpload:o}){const j=$=>({comedy:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",drama:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",mystery:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400",fantasy:"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400",historical:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400",contemporary:"bg-teal-100 text-teal-800 dark:bg-teal-900/30 dark:text-teal-400"})[$]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",_=$=>{var _e;const et=(_e=$.target.files)==null?void 0:_e[0];et&&o(s.id,et)};return jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 p-6 hover:shadow-md dark:hover:shadow-xl hover:shadow-gray-200 dark:hover:shadow-black/20 transition-all duration-200 hover:border-teal-300 dark:hover:border-teal-600 group",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:s.title}),jsxRuntimeExports.jsx("div",{className:"flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:jsxRuntimeExports.jsx("button",{onClick:()=>a(s.id),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 text-sm font-medium px-2 py-1 rounded hover:bg-red-50 dark:hover:bg-red-900/30 transition-colors",children:"Delete"})})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 line-clamp-3",children:s.description}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-teal-100 dark:bg-teal-900/30 text-teal-800 dark:text-teal-400 text-xs font-medium rounded-full",children:s.ageGroup}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${j(s.genre)}`,children:s.genre})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[s.duration," min"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[s.characterCount," characters"]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[s.tags.slice(0,3).map(($,et)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:[jsxRuntimeExports.jsx(Tag,{className:"w-3 h-3"}),$]},et)),s.tags.length>3&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:["+",s.tags.length-3," more"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200 dark:border-dark-700",children:[s.fileUrl?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:s.fileName}),jsxRuntimeExports.jsx("a",{href:s.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 p-1 rounded hover:bg-blue-50 dark:hover:bg-blue-900/30 transition-colors",children:jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"})})]}):jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No file uploaded"}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-1 px-3 py-1 bg-teal-50 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400 rounded-md cursor-pointer hover:bg-teal-100 dark:hover:bg-teal-900/50 transition-colors",children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Upload PDF"}),jsxRuntimeExports.jsx("input",{type:"file",accept:".pdf",onChange:_,className:"hidden"})]})]})]})}function ScriptLineView({scripts:s,onEdit:i,onDelete:a,onUpload:o,loading:j}){const _=et=>({comedy:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",drama:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",mystery:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400",fantasy:"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400",historical:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400",contemporary:"bg-teal-100 text-teal-800 dark:bg-teal-900/30 dark:text-teal-400"})[et]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",$=(et,_e)=>{var rt;const tt=(rt=_e.target.files)==null?void 0:rt[0];tt&&o(et,tt),_e.target.value=""};return j?jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"divide-y divide-gray-200 dark:divide-dark-700",children:[...Array(5)].map((et,_e)=>jsxRuntimeExports.jsx("div",{className:"p-3 animate-pulse",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-2 w-1/3"}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded mb-2 w-2/3"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-gray-700 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"h-5 w-20 bg-gray-200 dark:bg-gray-700 rounded-full"})]})]}),jsxRuntimeExports.jsx("div",{className:"w-16 h-6 bg-gray-200 dark:bg-gray-700 rounded"})]})},_e))})}):s.length===0?jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 p-12 text-center",children:[jsxRuntimeExports.jsx(FileText,{className:"w-12 h-12 text-gray-400 dark:text-gray-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No scripts found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your filters to see more scripts."})]}):jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"divide-y divide-gray-200 dark:divide-dark-700",children:s.map(et=>jsxRuntimeExports.jsx("div",{className:"p-3 transition-all duration-200 group hover:bg-gray-50 dark:hover:bg-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white truncate",children:et.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[et.duration,"min"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[et.characterCount," chars"]})]}),et.fileUrl&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(FileText,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),jsxRuntimeExports.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"PDF"})]})]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 line-clamp-1",children:et.description}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-teal-100 dark:bg-teal-900/30 text-teal-800 dark:text-teal-400",children:et.ageGroup}),jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${_(et.genre)}`,children:et.genre}),et.tags.slice(0,2).map((_e,tt)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:[jsxRuntimeExports.jsx(Tag,{className:"w-2.5 h-2.5"}),_e]},tt)),et.tags.length>2&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:["+",et.tags.length-2]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[jsxRuntimeExports.jsx("div",{className:"text-right",children:et.fileUrl?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:et.fileName}),jsxRuntimeExports.jsx("a",{href:et.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"p-1 text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/30 rounded transition-colors",title:"View PDF",children:jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"})})]}):jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No file"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[jsxRuntimeExports.jsxs("label",{className:"p-2 text-teal-600 dark:text-teal-400 hover:text-teal-800 dark:hover:text-teal-300 hover:bg-teal-50 dark:hover:bg-teal-900/30 rounded-lg transition-colors cursor-pointer",children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("input",{type:"file",accept:".pdf",onChange:_e=>$(et.id,_e),className:"hidden"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>a(et.id),className:"p-2 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Delete Script",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})]})]})},et.id))})})}function ScriptGrid({scripts:s,onEdit:i,onDelete:a,onUpload:o,loading:j,viewMode:_="card",onViewModeChange:$,showViewToggle:et=!1}){return j?jsxRuntimeExports.jsxs("div",{children:[et&&$&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"View:"}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-100 dark:bg-dark-700 rounded-lg p-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>$("card"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${_==="card"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(LayoutGrid,{className:"w-4 h-4"}),"Cards"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>$("line"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${_==="line"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(List,{className:"w-4 h-4"}),"List"]})]})]})}),_==="line"?jsxRuntimeExports.jsx(ScriptLineView,{scripts:[],onEdit:i,onDelete:a,onUpload:o,loading:!0}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((_e,tt)=>jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 p-6 animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded mb-3"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-4"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"h-6 w-16 bg-gray-200 dark:bg-gray-700 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"h-6 w-20 bg-gray-200 dark:bg-gray-700 rounded-full"})]}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded"})]},tt))})]}):s.length===0?jsxRuntimeExports.jsxs("div",{children:[et&&$&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"View:"}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-100 dark:bg-dark-700 rounded-lg p-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>$("card"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${_==="card"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(LayoutGrid,{className:"w-4 h-4"}),"Cards"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>$("line"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${_==="line"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(List,{className:"w-4 h-4"}),"List"]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(Tag,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No scripts found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your filters to see more scripts."})]})]}):jsxRuntimeExports.jsxs("div",{children:[et&&$&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"View:"}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-100 dark:bg-dark-700 rounded-lg p-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>$("card"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${_==="card"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(LayoutGrid,{className:"w-4 h-4"}),"Cards"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>$("line"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${_==="line"?"bg-white dark:bg-dark-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(List,{className:"w-4 h-4"}),"List"]})]})]})}),_==="line"?jsxRuntimeExports.jsx(ScriptLineView,{scripts:s,onEdit:i,onDelete:a,onUpload:o,loading:!1}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(_e=>jsxRuntimeExports.jsx(ScriptCard,{script:_e,onEdit:i,onDelete:a,onUpload:o},_e.id))})]})}const ageGroups$3=["Young","Middle","Older"],levels$1=["Toe Tipper","Green Horn","Semi-Pro","Seasoned Veteran"],genres$1=["comedy","drama","mystery","fantasy","historical","contemporary"],playOrCraftOptions$1=["More Playing Than Creating","A Balance of Playing and Creating","Let us Create And Craft"];function SearchFilters({filters:s,onFiltersChange:i,showGenre:a=!1,showLevel:o=!1,showPlayOrCraft:j=!1}){const _=($,et)=>{i({...s,[$]:et||void 0})};return jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-dark-700 mb-6 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx(Filter,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Filters"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:s.search||"",onChange:$=>_("search",$.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("select",{value:s.ageGroup||"",onChange:$=>_("ageGroup",$.target.value),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Age Groups"}),ageGroups$3.map($=>jsxRuntimeExports.jsx("option",{value:$,children:$},$))]}),o&&jsxRuntimeExports.jsxs("select",{value:s.skillLevel||"",onChange:$=>_("skillLevel",$.target.value),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Levels"}),levels$1.map($=>jsxRuntimeExports.jsx("option",{value:$,children:$},$))]}),a&&jsxRuntimeExports.jsxs("select",{value:s.genre||"",onChange:$=>_("genre",$.target.value),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Genres"}),genres$1.map($=>jsxRuntimeExports.jsx("option",{value:$,children:$.charAt(0).toUpperCase()+$.slice(1)},$))]}),j&&jsxRuntimeExports.jsxs("select",{value:s.playOrCraft||"",onChange:$=>_("playOrCraft",$.target.value),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Play or Craft Types"}),playOrCraftOptions$1.map($=>jsxRuntimeExports.jsx("option",{value:$,children:$},$))]})]})]})}var V3_URL="https://js.stripe.com/v3",V3_URL_REGEX=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,EXISTING_SCRIPT_MESSAGE="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",findScript=function(){for(var i=document.querySelectorAll('script[src^="'.concat(V3_URL,'"]')),a=0;a<i.length;a++){var o=i[a];if(V3_URL_REGEX.test(o.src))return o}return null},injectScript=function(i){var a="",o=document.createElement("script");o.src="".concat(V3_URL).concat(a);var j=document.head||document.body;if(!j)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return j.appendChild(o),o},registerWrapper=function(i,a){!i||!i._registerWrapper||i._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:a})},stripePromise$2=null,onErrorListener=null,onLoadListener=null,onError=function(i){return function(){i(new Error("Failed to load Stripe.js"))}},onLoad=function(i,a){return function(){window.Stripe?i(window.Stripe):a(new Error("Stripe.js not available"))}},loadScript=function(i){return stripePromise$2!==null?stripePromise$2:(stripePromise$2=new Promise(function(a,o){if(typeof window>"u"||typeof document>"u"){a(null);return}if(window.Stripe){a(window.Stripe);return}try{var j=findScript();if(!(j&&i)){if(!j)j=injectScript(i);else if(j&&onLoadListener!==null&&onErrorListener!==null){var _;j.removeEventListener("load",onLoadListener),j.removeEventListener("error",onErrorListener),(_=j.parentNode)===null||_===void 0||_.removeChild(j),j=injectScript(i)}}onLoadListener=onLoad(a,o),onErrorListener=onError(o),j.addEventListener("load",onLoadListener),j.addEventListener("error",onErrorListener)}catch($){o($);return}}),stripePromise$2.catch(function(a){return stripePromise$2=null,Promise.reject(a)}))},initStripe=function(i,a,o){if(i===null)return null;var j=i.apply(void 0,a);return registerWrapper(j,o),j},stripePromise$1$1,loadCalled=!1,getStripePromise=function(){return stripePromise$1$1||(stripePromise$1$1=loadScript(null).catch(function(i){return stripePromise$1$1=null,Promise.reject(i)}),stripePromise$1$1)};Promise.resolve().then(function(){return getStripePromise()}).catch(function(s){loadCalled||console.warn(s)});var loadStripe=function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];loadCalled=!0;var j=Date.now();return getStripePromise().then(function(_){return initStripe(_,a,j)})};const stripePromise$1=loadStripe("pk_test_51RZbgpHJfFjCNpvusQZhCnbWanbuxIE2cyrNZuJ2I02nFnWl45SkhClG0XLb3UwhXoCUWVTFYxJMkRfWTqWPbghD001v7bAUPj");class StripeService{static async initializeStripe(){return await stripePromise$1}static async initializeDemoSubscriptions(){try{console.log("Demo subscriptions initialized")}catch(i){console.error("Error initializing demo subscriptions:",i)}}static async getPlans(){try{return await ApiService.getSubscriptionPlans()}catch(i){throw console.error("Error fetching plans:",i),new Error("Failed to load subscription plans")}}static async createSubscription(i,a,o){try{return await ApiService.createSubscription(i,a,o)}catch(j){throw console.error("Error creating subscription:",j),j}}static async updateSubscription(i,a){try{return await ApiService.updateSubscription(i,a)}catch(o){throw console.error("Error updating subscription:",o),o}}static async cancelSubscription(i){try{return await ApiService.cancelSubscription(i)}catch(a){throw console.error("Error canceling subscription:",a),a}}static async reactivateSubscription(i){try{return await ApiService.reactivateSubscription(i)}catch(a){throw console.error("Error reactivating subscription:",a),a}}static async purchaseAdditionalLessons(i,a){try{return await ApiService.purchaseAdditionalLessons(i,a)}catch(o){throw console.error("Error purchasing additional lessons:",o),o}}static async getUserSubscription(i){try{return await ApiService.getUserSubscription(i)}catch(a){if(a instanceof ApiError&&a.status===404)return null;throw console.error("Error fetching subscription:",a),a}}static async incrementLessonCount(i){try{return await ApiService.incrementLessonCount(i)}catch(a){throw console.error("Error incrementing lesson count:",a),a}}static async checkSubscriptionAccess(i){try{return await ApiService.checkSubscriptionAccess(i)}catch(a){return console.error("Error checking subscription access:",a),{canGenerate:!1,reason:"Failed to check subscription status",remainingLessons:0}}}static canGenerateLesson(i){return!i||i.status!=="active"?!1:i.plan.id==="juliet"&&i.plan.name.includes("Admin")||i.plan.lessonsLimit===-1?!0:i.lessonsGenerated<i.plan.lessonsLimit}static getRemainingLessons(i){return!i||i.status!=="active"?0:i.plan.id==="juliet"&&i.plan.name.includes("Admin")||i.plan.lessonsLimit===-1?-1:Math.max(0,i.plan.lessonsLimit+(i.additionalLessonsPurchased||0)-i.lessonsGenerated)}static canPurchaseAdditionalLessons(i){return!i||i.status!=="active"||i.plan.id==="juliet"&&i.plan.name.includes("Admin")?!1:i.plan.allowAdditionalLessons||!1}static async getPaymentMethods(i){try{return await ApiService.getPaymentMethods(i)}catch(a){throw console.error("Error fetching payment methods:",a),a}}static async getInvoices(i){try{return await ApiService.getInvoices(i)}catch(a){throw console.error("Error fetching invoices:",a),a}}}const API_URL="/api";class AuthService{static getStoredAuth(){try{const i=localStorage.getItem("activityhub_auth");return i?JSON.parse(i):null}catch{return null}}static setStoredAuth(i){localStorage.setItem("activityhub_auth",JSON.stringify(i))}static clearStoredAuth(){localStorage.removeItem("activityhub_auth")}static getStoredUsers(){try{const i=localStorage.getItem("activityhub_users");return i?JSON.parse(i):[]}catch{return[]}}static setStoredUsers(i){localStorage.setItem("activityhub_users",JSON.stringify(i))}static initializeDemoUsers(){if(this.getStoredUsers().length===0){const a=[{id:"1",email:"teacher@activityhub.com",firstName:"Sarah",lastName:"Johnson",role:"teacher",organization:"Riverside Elementary",isActive:!0,lastLoginAt:new Date("2024-01-15"),createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"2",email:"admin@activityhub.com",firstName:"Michael",lastName:"Chen",role:"admin",organization:"ActivityHub",isActive:!0,lastLoginAt:new Date("2024-01-16"),createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"3",email:"john.doe@school.edu",firstName:"John",lastName:"Doe",role:"teacher",organization:"Westfield High School",isActive:!0,lastLoginAt:new Date("2024-01-14"),createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-01-05")},{id:"4",email:"jane.smith@academy.org",firstName:"Jane",lastName:"Smith",role:"student",organization:"Drama Academy",isActive:!1,lastLoginAt:new Date("2024-01-10"),createdAt:new Date("2024-01-08"),updatedAt:new Date("2024-01-08")},{id:"5",email:"emily.brown@college.edu",firstName:"Emily",lastName:"Brown",role:"teacher",organization:"Community College",isActive:!0,lastLoginAt:new Date("2024-01-13"),createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-12")}];this.setStoredUsers(a)}StripeService.initializeDemoSubscriptions()}static async checkAuth(){const i=this.getStoredAuth();if(i&&i.token)try{const a=await fetch(`${API_URL}/users/profile`,{headers:{Authorization:`Bearer ${i.token}`,"ngrok-skip-browser-warning":"69420"}});if(a.ok)return await a.json()}catch(a){console.error("Auth check failed:",a)}return null}static async loadUserWithSubscription(i){try{const a=await StripeService.getUserSubscription(i.id);return{...i,subscription:a||void 0}}catch{return i}}static async signIn(i){const a=await fetch(`${API_URL}/users/login`,{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"69420"},body:JSON.stringify(i)});if(!a.ok){const j=await a.json();throw new Error(j.error||"Failed to sign in")}const o=await a.json();return this.setStoredAuth(o),o}static async signUp(i){const a=await fetch(`${API_URL}/users/register`,{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"69420"},body:JSON.stringify(i)});if(!a.ok){const j=await a.json();throw new Error(j.error||"Failed to sign up")}const o=await a.json();return this.setStoredAuth(o),o}static async signOut(){this.clearStoredAuth()}static async updateProfile(i,a){const o=await fetch(`${API_URL}/users/${i}`,{method:"PUT",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"69420"},body:JSON.stringify(a)});if(!o.ok){const _=await o.json();throw new Error(_.error||"Failed to update profile")}return await o.json()}static getCurrentUser(){const i=this.getStoredAuth();return(i==null?void 0:i.user)||null}static getAuthToken(){const i=this.getStoredAuth();return(i==null?void 0:i.token)||null}static async getAllUsers(i){const a=await fetch(`${API_URL}/users`,{method:"GET",headers:{Authorization:`Bearer ${this.getAuthToken()}`,"ngrok-skip-browser-warning":"69420"}});if(!a.ok){const j=await a.json();throw new Error(j.error||"Failed to get users")}const o=await a.json();if(i){let j=o;if(i.role&&(j=j.filter(_=>_.role===i.role)),i.isActive!==void 0&&(j=j.filter(_=>_.isActive===i.isActive)),i.organization&&(j=j.filter(_=>{var $;return($=_.organization)==null?void 0:$.toLowerCase().includes(i.organization.toLowerCase())})),i.search){const _=i.search.toLowerCase();j=j.filter($=>{var et;return $.firstName.toLowerCase().includes(_)||$.lastName.toLowerCase().includes(_)||$.email.toLowerCase().includes(_)||((et=$.organization)==null?void 0:et.toLowerCase().includes(_))})}return j}return o}static async getUserStats(){const i=await fetch(`${API_URL}/users/stats`,{method:"GET",headers:{Authorization:`Bearer ${this.getAuthToken()}`,"ngrok-skip-browser-warning":"69420"}});if(!i.ok){const o=await i.json();throw new Error(o.error||"Failed to get user stats")}return await i.json()}static async createUser(i){const a=await fetch(`${API_URL}/users`,{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"69420"},body:JSON.stringify(i)});if(!a.ok){const j=await a.json();throw new Error(j.error||"Failed to create user")}return await a.json()}static async updateUser(i,a){const o=await fetch(`${API_URL}/users/${i}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.getAuthToken()}`,"ngrok-skip-browser-warning":"69420"},body:JSON.stringify(a)});if(!o.ok){const _=await o.json();throw new Error(_.error||"Failed to update user")}return await o.json()}static async deleteUser(i){const a=await fetch(`${API_URL}/users/${i}`,{method:"DELETE",headers:{Authorization:`Bearer ${this.getAuthToken()}`,"ngrok-skip-browser-warning":"69420"}});if(!a.ok){const o=await a.json();throw new Error(o.error||"Failed to delete user")}}static async toggleUserStatus(i){const a=await fetch(`${API_URL}/users/${i}/toggle`,{method:"PUT",headers:{Authorization:`Bearer ${this.getAuthToken()}`,"ngrok-skip-browser-warning":"69420"}});if(!a.ok){const j=await a.json();throw new Error(j.error||"Failed to toggle user status")}return await a.json()}}const API_BASE_URL$1="/api";class ApiError extends Error{constructor(i,a,o){super(i),this.status=a,this.response=o,this.name="ApiError"}}class ApiService{static getHeaders(i=!1){const a=AuthService.getAuthToken();return{...i?{}:{"Content-Type":"application/json"},...a?{Authorization:`Bearer ${a}`}:{}}}static async request(i,a={}){const o=`${API_BASE_URL$1}${i}`,j=a.body instanceof FormData,_=await fetch(o,{headers:{...this.getHeaders(j),...a.headers},...a});if(!_.ok){const $=await _.json().catch(()=>({}));throw new ApiError($.error||`HTTP ${_.status}`,_.status,$)}return _.status===204?{}:_.json()}static async getActivities(i){const a=new URLSearchParams;i&&Object.entries(i).forEach(([j,_])=>{_&&a.append(j,_.toString())});const o=await fetch(`${API_BASE_URL$1}/activities?${a}`,{headers:this.getHeaders()});if(!o.ok)throw new Error("Failed to fetch activities");return o.json()}static async getActivity(i){const a=await fetch(`${API_BASE_URL$1}/activities/${i}`,{headers:this.getHeaders()});if(!a.ok)throw new Error("Failed to fetch activity");return a.json()}static async createActivity(i){const a=new FormData;if(a.append("data",JSON.stringify(i)),i.pdfFiles&&i.pdfFiles.length>0)for(const o of i.pdfFiles)try{const _=await(await fetch(o.fileUrl)).blob(),$=new File([_],o.fileName,{type:"application/pdf"});a.append("files",$)}catch(j){console.error("Error converting PDF to file:",j)}return this.request("/activities",{method:"POST",body:a})}static async updateActivity(i,a){const o=await fetch(`${API_BASE_URL$1}/activities/${i}`,{method:"PUT",headers:this.getHeaders(),body:JSON.stringify(a)});if(!o.ok)throw new Error("Failed to update activity");return o.json()}static async deleteActivity(i){console.log("ApiService.deleteActivity called with id:",i);const a=await fetch(`${API_BASE_URL$1}/activities/${i}`,{method:"DELETE",headers:this.getHeaders()});if(console.log("Delete response status:",a.status),!a.ok){const o=await a.text();throw console.error("Delete failed with status:",a.status,"Error:",o),new Error("Failed to delete activity")}console.log("Activity deleted successfully via API")}static async getScripts(i){const a=new URLSearchParams;i&&Object.entries(i).forEach(([j,_])=>{_&&a.append(j,_.toString())});const o=await fetch(`${API_BASE_URL$1}/scripts?${a}`,{headers:this.getHeaders()});if(!o.ok)throw new Error("Failed to fetch scripts");return o.json()}static async getScript(i){const a=await fetch(`${API_BASE_URL$1}/scripts/${i}`,{headers:this.getHeaders()});if(!a.ok)throw new Error("Failed to fetch script");return a.json()}static async createScript(i,a){const o=new FormData;return Object.entries(i).forEach(([j,_])=>{o.append(j,_)}),a&&o.append("file",a),this.request("/scripts",{method:"POST",body:o})}static async updateScript(i,a,o){const j=new FormData;return Object.entries(a).forEach(([_,$])=>{j.append(_,$)}),o&&j.append("file",o),this.request(`/scripts/${i}`,{method:"PUT",body:j})}static async deleteScript(i){if(!(await fetch(`${API_BASE_URL$1}/scripts/${i}`,{method:"DELETE",headers:this.getHeaders()})).ok)throw new Error("Failed to delete script")}static async uploadScriptFile(i,a){const o=new FormData;return o.append("file",a),this.request(`/scripts/${i}/upload`,{method:"POST",body:o})}static async getSavedLessons(i){const a=new URLSearchParams;i&&Object.entries(i).forEach(([j,_])=>{_!=null&&_!==""&&(Array.isArray(_)?a.append(j,_.join(",")):a.append(j,String(_)))});const o=a.toString();return this.request(`/lessons${o?`?${o}`:""}`)}static async getSavedLesson(i){return this.request(`/lessons/${i}`)}static async saveLesson(i){return this.request("/lessons",{method:"POST",body:JSON.stringify(i),headers:this.getHeaders()})}static async updateLesson(i,a){return this.request(`/lessons/${i}`,{method:"PUT",body:JSON.stringify(a),headers:this.getHeaders()})}static async deleteLesson(i){const a=await fetch(`${API_BASE_URL$1}/lessons/${i}`,{method:"DELETE",headers:this.getHeaders()});if(!a.ok)throw new Error("Failed to delete lesson");if(a.status!==204)return a.json()}static async duplicateLesson(i,a){return this.request(`/lessons/${i}/duplicate`,{method:"POST",body:JSON.stringify({title:a}),headers:this.getHeaders()})}static async getLessonWithActivities(i){return this.request(`/lessons/${i}/activities`)}static async getSubscriptionPlans(){return this.request("/stripe/plans",{method:"GET",headers:{...this.getHeaders(),"ngrok-skip-browser-warning":"69420"}})}static async getUserSubscription(i){return this.request(`/stripe/subscription/${i}`,{headers:this.getHeaders()})}static async createSubscription(i,a,o){return this.request("/stripe/create-subscription",{method:"POST",headers:this.getHeaders(),body:JSON.stringify({userId:i,planId:a,paymentMethodId:o})})}static async updateSubscription(i,a){return this.request("/stripe/update-subscription",{method:"PUT",headers:this.getHeaders(),body:JSON.stringify({userId:i,planId:a})})}static async cancelSubscription(i){return this.request("/stripe/cancel-subscription",{method:"POST",headers:this.getHeaders(),body:JSON.stringify({userId:i})})}static async reactivateSubscription(i){return this.request("/stripe/reactivate-subscription",{method:"POST",headers:this.getHeaders(),body:JSON.stringify({userId:i})})}static async purchaseAdditionalLessons(i,a){return this.request("/stripe/purchase-lessons",{method:"POST",headers:this.getHeaders(),body:JSON.stringify({userId:i,lessonCount:a})})}static async incrementLessonCount(i){return this.request("/stripe/increment-lesson",{method:"POST",headers:this.getHeaders(),body:JSON.stringify({userId:i})})}static async checkSubscriptionAccess(i){return this.request(`/stripe/check-access/${i}`,{headers:this.getHeaders()})}static async getPaymentMethods(i){return this.request(`/stripe/payment-methods/${i}`,{headers:this.getHeaders()})}static async getInvoices(i){return this.request(`/stripe/invoices/${i}`,{headers:this.getHeaders()})}static async createPaymentIntent(i){return this.request("/stripe/create-payment-intent",{method:"POST",headers:this.getHeaders(),body:JSON.stringify({planId:i})})}}const ageGroups$2=["Young","Middle","Older"],levels=["Toe Tipper","Green Horn","Semi-Pro","Seasoned Veteran"],activityTypes=["warm-up","main","cool-down","game","exercise"],playOrCraftOptions=["More Playing Than Creating","A Balance of Playing and Creating","Let us Create And Craft"];function CreateActivityModal({isOpen:s,onClose:i,onCreate:a,editActivity:o,onViewPDF:j}){var ht,vt;const[_,$]=reactExports.useState([]),[et,_e]=reactExports.useState(!1),[tt,rt]=reactExports.useState(!1),[nt,st]=reactExports.useState({title:(o==null?void 0:o.title)||"",description:(o==null?void 0:o.description)||"",ageGroup:(o==null?void 0:o.ageGroup)||"Middle",skillLevel:(o==null?void 0:o.skillLevel)||"Toe Tipper",duration:(o==null?void 0:o.duration)||30,materials:((ht=o==null?void 0:o.materials)==null?void 0:ht.join(", "))||"",tags:((vt=o==null?void 0:o.tags)==null?void 0:vt.join(", "))||"",requiresScript:(o==null?void 0:o.requiresScript)||"none",activityType:(o==null?void 0:o.activityType)||"main",playOrCraft:(o==null?void 0:o.playOrCraft)||"A Balance of Playing and Creating",scriptIds:(o==null?void 0:o.scriptIds)||[],pdfFiles:(o==null?void 0:o.pdfFiles)||[]});reactExports.useEffect(()=>{s&&ot()},[s]);const ot=async()=>{try{_e(!0);const at=await ApiService.getScripts();$(at)}catch(at){console.error("Failed to load scripts:",at)}finally{_e(!1)}},ct=async at=>{at.preventDefault();try{const pt=new FormData,yt={title:nt.title,description:nt.description,ageGroup:nt.ageGroup,skillLevel:nt.skillLevel,duration:nt.duration,materials:nt.materials.split(",").map(jt=>jt.trim()).filter(Boolean),tags:nt.tags.split(",").map(jt=>jt.trim()).filter(Boolean),requiresScript:nt.requiresScript,activityType:nt.activityType,playOrCraft:nt.playOrCraft,scriptIds:nt.scriptIds,pdfFiles:nt.pdfFiles};if(pt.append("data",JSON.stringify(yt)),nt.pdfFiles.length>0)for(const jt of nt.pdfFiles){const wt=await(await fetch(jt.fileUrl)).blob(),At=new File([wt],jt.fileName,{type:"application/pdf"});pt.append("files",At)}a(yt),i()}catch(pt){console.error("Error submitting form:",pt),alert("Failed to create activity. Please try again.")}},gt=at=>{st(pt=>({...pt,scriptIds:pt.scriptIds.includes(at)?pt.scriptIds.filter(yt=>yt!==at):[...pt.scriptIds,at]}))},dt=()=>_.filter(at=>nt.scriptIds.includes(at.id)),it=async at=>{const pt=at.target.files;if(!(!pt||pt.length===0)){rt(!0);try{const yt=[];for(let jt=0;jt<pt.length;jt++){const xt=pt[jt];if(xt.type!=="application/pdf"){alert(`${xt.name} is not a PDF file. Only PDF files are allowed.`);continue}if(xt.size>10*1024*1024){alert(`${xt.name} is too large. Maximum file size is 10MB.`);continue}const wt=URL.createObjectURL(xt),At={_id:Date.now().toString()+jt,fileName:xt.name,fileUrl:wt,fileSize:xt.size,uploadedAt:new Date,description:""};yt.push(At)}st(jt=>({...jt,pdfFiles:[...jt.pdfFiles,...yt]}))}catch(yt){console.error("Error uploading PDFs:",yt),alert("Failed to upload PDF files. Please try again.")}finally{rt(!1),at.target.value=""}}},lt=at=>{st(pt=>({...pt,pdfFiles:pt.pdfFiles.filter(yt=>yt._id!==at)}))},ut=(at,pt)=>{st(yt=>({...yt,pdfFiles:yt.pdfFiles.map(jt=>jt._id===at?{...jt,description:pt}:jt)}))},mt=at=>{if(at===0)return"0 Bytes";const pt=1024,yt=["Bytes","KB","MB","GB"],jt=Math.floor(Math.log(at)/Math.log(pt));return parseFloat((at/Math.pow(pt,jt)).toFixed(2))+" "+yt[jt]};return s?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg max-w-5xl w-full max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:o?"Edit Activity":"Create New Activity"}),jsxRuntimeExports.jsx("button",{onClick:i,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:ct,className:"p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:nt.title,onChange:at=>st({...nt,title:at.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),jsxRuntimeExports.jsx("textarea",{required:!0,rows:3,value:nt.description,onChange:at=>st({...nt,description:at.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Age Group"}),jsxRuntimeExports.jsx("select",{value:nt.ageGroup,onChange:at=>st({...nt,ageGroup:at.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:ageGroups$2.map(at=>jsxRuntimeExports.jsx("option",{value:at,children:at},at))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Level"}),jsxRuntimeExports.jsx("select",{value:nt.skillLevel,onChange:at=>st({...nt,skillLevel:at.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:levels.map(at=>jsxRuntimeExports.jsx("option",{value:at,children:at},at))})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Duration (minutes)"}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",required:!0,value:nt.duration,onChange:at=>st({...nt,duration:parseInt(at.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Activity Type"}),jsxRuntimeExports.jsx("select",{value:nt.activityType,onChange:at=>st({...nt,activityType:at.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:activityTypes.map(at=>jsxRuntimeExports.jsx("option",{value:at,children:at.split("-").map(pt=>pt.charAt(0).toUpperCase()+pt.slice(1)).join(" ")},at))})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Script Requirement"}),jsxRuntimeExports.jsxs("select",{value:nt.requiresScript,onChange:at=>st({...nt,requiresScript:at.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:[jsxRuntimeExports.jsx("option",{value:"none",children:"None"}),jsxRuntimeExports.jsx("option",{value:"optional",children:"Optional"}),jsxRuntimeExports.jsx("option",{value:"required",children:"Required"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Play or Craft"}),jsxRuntimeExports.jsx("select",{value:nt.playOrCraft,onChange:at=>st({...nt,playOrCraft:at.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:playOrCraftOptions.map(at=>jsxRuntimeExports.jsx("option",{value:at,children:at},at))})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"PDF Attachments"}),jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 dark:border-dark-600 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:bg-dark-700 hover:bg-gray-100 dark:hover:bg-dark-600 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[jsxRuntimeExports.jsx(Upload,{className:"w-8 h-8 mb-2 text-gray-500 dark:text-gray-400"}),jsxRuntimeExports.jsxs("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Click to upload"})," PDF files"]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PDF files only (MAX. 10MB each)"}),tt&&jsxRuntimeExports.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Uploading..."})]})]}),jsxRuntimeExports.jsx("input",{type:"file",multiple:!0,accept:".pdf",onChange:it,disabled:tt,className:"hidden"})]})}),nt.pdfFiles.length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Uploaded PDFs (",nt.pdfFiles.length,")"]}),jsxRuntimeExports.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:nt.pdfFiles.map(at=>jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-dark-700 rounded-lg border border-gray-200 dark:border-dark-600",children:[jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:at.fileName}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[jsxRuntimeExports.jsx("a",{href:at.fileUrl,download:at.fileName,className:"p-1 text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/30 rounded transition-colors",title:"Download PDF",children:jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>lt(at._id),className:"p-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30 rounded transition-colors",title:"Remove PDF",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 mb-2",children:[jsxRuntimeExports.jsx("span",{children:mt(at.fileSize)}),jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:new Date(at.uploadedAt).toLocaleDateString()})]}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Add description (optional)",value:at.description||"",onChange:pt=>ut(at._id,pt.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-dark-600 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]})]},at._id))})]})]}),(nt.requiresScript==="required"||nt.requiresScript==="optional")&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:["Select Scripts ",nt.requiresScript==="required"&&jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),et?jsxRuntimeExports.jsxs("div",{className:"text-center py-4",children:[jsxRuntimeExports.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Loading scripts..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[nt.scriptIds.length>0&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Selected Scripts (",nt.scriptIds.length,")"]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:dt().map(at=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h5",{className:"font-medium text-blue-900 dark:text-blue-300",children:at.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:at.description}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mt-1",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400 text-xs rounded-full",children:at.genre}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400 text-xs rounded-full",children:at.ageGroup}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400 text-xs rounded-full",children:[at.duration," min"]})]})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>gt(at.id),className:"ml-3 p-2 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(Minus,{className:"w-4 h-4"})})]},at.id))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Available Scripts (",_.filter(at=>!nt.scriptIds.includes(at.id)).length,")"]}),jsxRuntimeExports.jsx("div",{className:"max-h-60 overflow-y-auto border border-gray-200 dark:border-dark-600 rounded-lg bg-white dark:bg-dark-700",children:_.filter(at=>!nt.scriptIds.includes(at.id)).length===0?jsxRuntimeExports.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:nt.scriptIds.length>0?"All available scripts selected":"No scripts available"}):jsxRuntimeExports.jsx("div",{className:"space-y-1 p-2",children:_.filter(at=>!nt.scriptIds.includes(at.id)).map(at=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-dark-600 rounded-lg transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h5",{className:"font-medium text-gray-900 dark:text-white",children:at.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-1",children:at.description}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mt-1",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-full",children:at.genre}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-full",children:at.ageGroup}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-full",children:[at.duration," min"]})]})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>gt(at.id),className:"ml-3 p-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"})})]},at.id))})})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Materials (comma-separated)"}),jsxRuntimeExports.jsx("input",{type:"text",value:nt.materials,onChange:at=>st({...nt,materials:at.target.value}),placeholder:"Props, costumes, chairs...",className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tags (comma-separated)"}),jsxRuntimeExports.jsx("input",{type:"text",value:nt.tags,onChange:at=>st({...nt,tags:at.target.value}),placeholder:"improv, teamwork, creativity...",className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:tt,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[o?"Update":"Create"," Activity"]})]})]})]})}):null}const ageGroups$1=["Young","Middle","Older"],genres=["comedy","drama","mystery","fantasy","historical","contemporary"];function CreateScriptModal({isOpen:s,onClose:i,onCreate:a,editScript:o}){var et;const[j,_]=reactExports.useState({title:(o==null?void 0:o.title)||"",description:(o==null?void 0:o.description)||"",genre:(o==null?void 0:o.genre)||"comedy",ageGroup:(o==null?void 0:o.ageGroup)||"Middle",characterCount:(o==null?void 0:o.characterCount)||2,duration:(o==null?void 0:o.duration)||15,tags:((et=o==null?void 0:o.tags)==null?void 0:et.join(", "))||""}),$=_e=>{_e.preventDefault(),a({...j,tags:j.tags.split(",").map(tt=>tt.trim()).filter(Boolean)}),i()};return s?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:o?"Edit Script":"Create New Script"}),jsxRuntimeExports.jsx("button",{onClick:i,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:$,className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:j.title,onChange:_e=>_({...j,title:_e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),jsxRuntimeExports.jsx("textarea",{required:!0,rows:3,value:j.description,onChange:_e=>_({...j,description:_e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Genre"}),jsxRuntimeExports.jsx("select",{value:j.genre,onChange:_e=>_({...j,genre:_e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:genres.map(_e=>jsxRuntimeExports.jsx("option",{value:_e,children:_e.charAt(0).toUpperCase()+_e.slice(1)},_e))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Age Group"}),jsxRuntimeExports.jsx("select",{value:j.ageGroup,onChange:_e=>_({...j,ageGroup:_e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:ageGroups$1.map(_e=>jsxRuntimeExports.jsx("option",{value:_e,children:_e},_e))})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Character Count"}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",required:!0,value:j.characterCount,onChange:_e=>_({...j,characterCount:parseInt(_e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Duration (minutes)"}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",required:!0,value:j.duration,onChange:_e=>_({...j,duration:parseInt(_e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tags (comma-separated)"}),jsxRuntimeExports.jsx("input",{type:"text",value:j.tags,onChange:_e=>_({...j,tags:_e.target.value}),placeholder:"mystery, comedy, teamwork...",className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"px-6 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:[o?"Update":"Create"," Script"]})]})]})]})}):null}function LessonPreviewPanel({lessonPlan:s,onAddActivity:i,onRemoveActivity:a,onViewScript:o,onGenerateLesson:j,onSaveLesson:_,onShowSavedLessons:$,isGenerating:et,showSavedLessons:_e,isCollapsed:tt=!1,onToggleCollapse:rt,targetSection:nt}){const st=dt=>{if(dt<60)return`${dt} min`;const it=Math.floor(dt/60),lt=dt%60;return`${it}h ${lt}m`},ot=s.warmUp||s.mainActivities.length>0||s.coolDown,ct=({activity:dt,type:it,index:lt,onRemove:ut})=>jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-700 border border-gray-200 dark:border-dark-600 rounded-lg p-4 hover:shadow-md dark:hover:shadow-xl hover:shadow-gray-200 dark:hover:shadow-black/20 transition-all duration-200 group",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:dt.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:dt.description})]}),jsxRuntimeExports.jsx("button",{onClick:ut,className:"opacity-0 group-hover:opacity-100 p-1 text-gray-400 dark:text-gray-500 hover:text-red-500 dark:hover:text-red-400 transition-all rounded hover:bg-red-50 dark:hover:bg-red-900/30",children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[dt.duration," min"]})]}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full font-medium",children:dt.skillLevel}),dt.scriptIds&&dt.scriptIds.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(FileText,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[dt.scriptIds.length," script",dt.scriptIds.length>1?"s":""]})]})]})}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1",children:[dt.tags.slice(0,2).map((mt,ht)=>jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-600 dark:text-gray-300 text-xs rounded-md",children:mt},ht)),dt.tags.length>2&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-600 dark:text-gray-300 text-xs rounded-md",children:["+",dt.tags.length-2]})]})})]}),gt=({type:dt,title:it,description:lt,icon:ut})=>{const mt=nt===dt;return jsxRuntimeExports.jsx("button",{onClick:()=>i(dt),className:`w-full border-2 border-dashed rounded-lg p-6 transition-all duration-200 group ${mt?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 shadow-md":"border-gray-300 dark:border-dark-600 hover:border-blue-400 dark:hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center text-center",children:[jsxRuntimeExports.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3 transition-colors ${mt?"bg-blue-100 dark:bg-blue-900/30":"bg-gray-100 dark:bg-dark-600 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/30"}`,children:mt?jsxRuntimeExports.jsx(Target,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}):ut}),jsxRuntimeExports.jsx("h4",{className:`font-medium mb-1 ${mt?"text-blue-900 dark:text-blue-300":"text-gray-900 dark:text-white"}`,children:mt?`Ready for ${it}`:it}),jsxRuntimeExports.jsx("p",{className:`text-sm ${mt?"text-blue-700 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`,children:mt?"Click an activity to add here":lt}),jsxRuntimeExports.jsxs("div",{className:`mt-3 flex items-center gap-1 transition-colors ${mt?"text-blue-700 dark:text-blue-300":"text-blue-600 dark:text-blue-400 group-hover:text-blue-700 dark:group-hover:text-blue-300"}`,children:[mt?jsxRuntimeExports.jsx(Target,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:mt?"Target Active":"Add Activity"})]})]})})};return jsxRuntimeExports.jsxs("div",{className:`bg-gray-50 dark:bg-dark-900 border-r border-gray-200 dark:border-dark-700 flex flex-col h-full transition-all duration-300 ease-in-out ${tt?"w-16":"w-96"}`,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 bg-white dark:bg-dark-800 border-b border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:tt?"flex justify-center":"flex items-center justify-between mb-4",children:[!tt&&jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Lesson Plan"}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:rt&&jsxRuntimeExports.jsx("button",{onClick:rt,className:"p-2 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors",title:tt?"Expand sidebar":"Collapse sidebar",children:tt?jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(ChevronLeft,{className:"w-5 h-5"})})})]}),!tt&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:st(s.totalDuration)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[s.mainActivities.length+(s.warmUp?1:0)+(s.coolDown?1:0)," activities"]})]})]})})]}),tt&&jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col items-center py-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mb-2",children:jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:jsxRuntimeExports.jsxs("div",{className:"font-medium",children:[s.totalDuration,"m"]})})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-2",children:jsxRuntimeExports.jsx(Users,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:jsxRuntimeExports.jsx("div",{className:"font-medium",children:s.mainActivities.length+(s.warmUp?1:0)+(s.coolDown?1:0)})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[s.warmUp&&jsxRuntimeExports.jsx("div",{className:`w-8 h-2 rounded-full ${nt==="warmUp"?"bg-blue-500 animate-pulse":"bg-orange-500"}`,title:"Warm-up activity"}),s.mainActivities.map((dt,it)=>jsxRuntimeExports.jsx("div",{className:`w-8 h-2 rounded-full ${nt==="main"?"bg-blue-500 animate-pulse":"bg-blue-500"}`,title:"Main activity"},it)),s.coolDown&&jsxRuntimeExports.jsx("div",{className:`w-8 h-2 rounded-full ${nt==="coolDown"?"bg-blue-500 animate-pulse":"bg-green-500"}`,title:"Cool-down activity"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("button",{onClick:$,className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-teal-600 text-white rounded-lg hover:from-blue-700 hover:to-teal-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg flex items-center justify-center",title:_e?"View Activities":"View Saved Lessons",children:_e?jsxRuntimeExports.jsx(Activity,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(PanelsTopLeft,{className:"w-5 h-5"})}),ot&&jsxRuntimeExports.jsx("button",{onClick:_,className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors flex items-center justify-center",title:"Save Lesson",children:jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"})})]})]}),!tt&&jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-center flex-col space-y-4 items-center",children:[jsxRuntimeExports.jsxs("button",{onClick:$,className:"w-[220px] flex justify-center items-center gap-2 px-4 py-3 bg-gradient-to-r from-blue-600 to-teal-600 text-white rounded-lg hover:from-blue-700 hover:to-teal-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg font-medium",children:[_e?jsxRuntimeExports.jsx(Activity,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(PanelsTopLeft,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:_e?"View Activities":"View Saved Lessons"})]}),ot&&jsxRuntimeExports.jsxs("button",{onClick:_,className:"w-[220px] flex justify-center items-center gap-2 px-4 py-3 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors shadow-md hover:shadow-lg font-medium",children:[jsxRuntimeExports.jsx(Save,{className:"w-5 h-5"}),"Save"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-orange-500",children:""}),"Warm-up",nt==="warmUp"&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-xs font-medium rounded-full animate-pulse",children:"Target Active"})]}),s.warmUp?jsxRuntimeExports.jsx(ct,{activity:s.warmUp,type:"warm-up",onRemove:()=>a("warmUp")}):jsxRuntimeExports.jsx(gt,{type:"warmUp",title:"Add Warm-up",description:"Start with an energizing activity",icon:jsxRuntimeExports.jsx("span",{className:"text-orange-500 text-xl",children:""})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-blue-500",children:""}),"Main Activities",nt==="main"&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-xs font-medium rounded-full animate-pulse",children:"Target Active"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[s.mainActivities.map((dt,it)=>jsxRuntimeExports.jsx(ct,{activity:dt,type:"main",index:it,onRemove:()=>a("main",it)},`main-${it}`)),jsxRuntimeExports.jsx(gt,{type:"main",title:"Add Main Activity",description:"Core learning activities",icon:jsxRuntimeExports.jsx("span",{className:"text-blue-500 text-xl",children:""})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500",children:""}),"Cool-down",nt==="coolDown"&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-xs font-medium rounded-full animate-pulse",children:"Target Active"})]}),s.coolDown?jsxRuntimeExports.jsx(ct,{activity:s.coolDown,type:"cool-down",onRemove:()=>a("coolDown")}):jsxRuntimeExports.jsx(gt,{type:"coolDown",title:"Add Cool-down",description:"End with a calming activity",icon:jsxRuntimeExports.jsx("span",{className:"text-green-500 text-xl",children:""})})]})]})]})}const ageGroups=["Young","Middle","Older"];function SaveLessonModal({isOpen:s,onClose:i,onSave:a,lessonPlan:o}){const[j,_]=reactExports.useState({title:"",description:"",ageGroup:"Middle",tags:""}),$=_e=>{var rt,nt;_e.preventDefault();const tt={title:j.title,description:j.description,ageGroup:j.ageGroup,warmUpId:(rt=o.warmUp)==null?void 0:rt.id,mainActivityIds:o.mainActivities.map(st=>st.id),coolDownId:(nt=o.coolDown)==null?void 0:nt.id,totalDuration:o.totalDuration,tags:j.tags.split(",").map(st=>st.trim()).filter(Boolean)};a(tt),_({title:"",description:"",ageGroup:"Middle",tags:""}),i()},et=o.warmUp||o.mainActivities.length>0||o.coolDown;return s?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Save,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Save Lesson Plan"})]}),jsxRuntimeExports.jsx("button",{onClick:i,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})]}),et?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-dark-700 border-b border-gray-200 dark:border-dark-600",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-3",children:"Lesson Summary"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Duration:"}),jsxRuntimeExports.jsxs("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:[o.totalDuration," minutes"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Activities:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:(o.warmUp?1:0)+o.mainActivities.length+(o.coolDown?1:0)})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 space-y-2",children:[o.warmUp&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Warm-up:"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:o.warmUp.title})]}),o.mainActivities.map((_e,tt)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),jsxRuntimeExports.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Main ",tt+1,":"]}),jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:_e.title})]},_e.id)),o.coolDown&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cool-down:"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:o.coolDown.title})]})]})]}),jsxRuntimeExports.jsxs("form",{onSubmit:$,className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Lesson Title ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:j.title,onChange:_e=>_({...j,title:_e.target.value}),placeholder:"Enter a descriptive title for your lesson",className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),jsxRuntimeExports.jsx("textarea",{rows:3,value:j.description,onChange:_e=>_({...j,description:_e.target.value}),placeholder:"Describe the lesson objectives and what students will learn",className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Target Age Group"}),jsxRuntimeExports.jsx("select",{value:j.ageGroup,onChange:_e=>_({...j,ageGroup:_e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:ageGroups.map(_e=>jsxRuntimeExports.jsx("option",{value:_e,children:_e},_e))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tags (comma-separated)"}),jsxRuntimeExports.jsx("input",{type:"text",value:j.tags,onChange:_e=>_({...j,tags:_e.target.value}),placeholder:"drama, teamwork, creativity, performance...",className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),"Save Lesson"]})]})]})]}):jsxRuntimeExports.jsxs("div",{className:"p-6 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(Save,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Activities to Save"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Add some activities to your lesson plan before saving."}),jsxRuntimeExports.jsx("button",{onClick:i,className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Close"})]})]})}):null}function SavedLessonsPanel({savedLessons:s,onLoadLesson:i,onDeleteLesson:a,onViewLesson:o,loading:j}){const _=et=>{if(et<60)return`${et} min`;const _e=Math.floor(et/60),tt=et%60;return`${_e}h ${tt}m`},$=et=>(et.warmUpId?1:0)+et.mainActivityIds.length+(et.coolDownId?1:0);return j?jsxRuntimeExports.jsx("div",{className:"space-y-4",children:[...Array(3)].map((et,_e)=>jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-700 rounded-lg p-4 animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-5 bg-gray-200 dark:bg-gray-700 rounded mb-2"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-3 w-3/4"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("div",{className:"h-6 w-16 bg-gray-200 dark:bg-gray-700 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"h-6 w-20 bg-gray-200 dark:bg-gray-700 rounded-full"})]})]},_e))}):s.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Saved Lessons"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Create and save lesson plans to see them here."})]}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:s.map(et=>jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-700 rounded-lg p-4 hover:shadow-md dark:hover:shadow-xl hover:shadow-gray-200 dark:hover:shadow-black/20 transition-all duration-200 hover:border-green-300 dark:hover:border-green-600 group",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:et.title}),et.description&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-2",children:et.description})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o&&jsxRuntimeExports.jsx("button",{onClick:()=>o(et),className:"p-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"View Lesson Activities",children:jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>a(et.id),className:"p-2 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Delete Lesson",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:_(et.totalDuration)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[$(et)," activities"]})]}),et.ageGroup&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full font-medium",children:et.ageGroup})]})}),et.tags.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1",children:[et.tags.slice(0,3).map((_e,tt)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:[jsxRuntimeExports.jsx(Tag,{className:"w-3 h-3"}),_e]},tt)),et.tags.length>3&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:["+",et.tags.length-3," more"]})]}),jsxRuntimeExports.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100 dark:border-dark-700",children:jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Created ",new Date(et.createdAt).toLocaleDateString()]})})]},et.id))})}function SavedLessonActivitiesModal({isOpen:s,onClose:i,lesson:a,activities:o,scripts:j,onViewPDF:_,onViewScript:$,onLoadLesson:et}){if(!s||!a)return null;const _e=a.warmUpId?o.find(dt=>dt.id===a.warmUpId):null,tt=a.mainActivityIds.map(dt=>o.find(it=>it.id===dt)).filter(Boolean),rt=a.coolDownId?o.find(dt=>dt.id===a.coolDownId):null,nt=dt=>{if(dt<60)return`${dt} min`;const it=Math.floor(dt/60),lt=dt%60;return`${it}h ${lt}m`},st=dt=>dt.scriptIds?j.filter(it=>dt.scriptIds.includes(it.id)):[],ot=dt=>({"warm-up":"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400",main:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400","cool-down":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",game:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",exercise:"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400"})[dt]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",ct=({activity:dt,sectionTitle:it})=>{const lt=st(dt);return jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-700 border border-gray-200 dark:border-dark-600 rounded-lg p-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-start justify-between mb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:it}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ot(dt.activityType)}`,children:dt.activityType.split("-").map(ut=>ut.charAt(0).toUpperCase()+ut.slice(1)).join(" ")})]}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:dt.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-2",children:dt.description})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400 mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[dt.duration," min"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[dt.materials.length," materials"]})]}),dt.pdfFiles&&dt.pdfFiles.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(FileText,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),jsxRuntimeExports.jsxs("span",{className:"text-green-600 dark:text-green-400",children:[dt.pdfFiles.length," PDF",dt.pdfFiles.length>1?"s":""]})]}),lt.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Play,{className:"w-3 h-3 text-purple-600 dark:text-purple-400"}),jsxRuntimeExports.jsxs("span",{className:"text-purple-600 dark:text-purple-400",children:[lt.length," Script",lt.length>1?"s":""]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[dt.pdfFiles&&dt.pdfFiles.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3 border border-green-200 dark:border-green-800",children:[jsxRuntimeExports.jsxs("h5",{className:"text-sm font-medium text-green-800 dark:text-green-300 mb-2 flex items-center gap-1",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),"Attached PDFs (",dt.pdfFiles.length,")"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[dt.pdfFiles.slice(0,2).map(ut=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-green-700 dark:text-green-400 truncate",children:ut.fileName}),_&&jsxRuntimeExports.jsx("a",{href:ut.fileUrl,download:ut.fileName,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/30 rounded-lg transition-colors",title:"View PDF",children:jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"})})]},ut._id)),dt.pdfFiles.length>2&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["+",dt.pdfFiles.length-2," more PDF",dt.pdfFiles.length-2>1?"s":""]})]})]}),lt.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3 border border-purple-200 dark:border-purple-800",children:[jsxRuntimeExports.jsxs("h5",{className:"text-sm font-medium text-purple-800 dark:text-purple-300 mb-2 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Play,{className:"w-4 h-4"}),"Connected Scripts (",lt.length,")"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[lt.slice(0,2).map(ut=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-purple-700 dark:text-purple-400 truncate",children:ut.title}),ut.fileUrl&&$&&jsxRuntimeExports.jsx("a",{href:ut.fileUrl,download:ut.fileName,target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-300 ml-2",title:"View Script",children:jsxRuntimeExports.jsx(Play,{className:"w-4 h-4"})})]},ut.id)),lt.length>2&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:["+",lt.length-2," more script",lt.length-2>1?"s":""]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1 mt-3",children:[dt.tags.slice(0,3).map((ut,mt)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:[jsxRuntimeExports.jsx(Tag,{className:"w-2.5 h-2.5"}),ut]},mt)),dt.tags.length>3&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:["+",dt.tags.length-3]})]})]})},gt=[..._e?[_e]:[],...tt,...rt?[rt]:[]];return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:a.title}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[gt.length," activities  ",nt(a.totalDuration)]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:jsxRuntimeExports.jsx("button",{onClick:i,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})})]}),a.description&&jsxRuntimeExports.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-dark-700 bg-gray-50 dark:bg-dark-700",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:a.description}),a.tags.length>0&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:a.tags.map((dt,it)=>jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400 text-xs rounded-full",children:["#",dt]},it))})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[_e&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-orange-500",children:""}),"Warm-up Activity"]}),jsxRuntimeExports.jsx(ct,{activity:_e,sectionTitle:"Warm-up"})]}),tt.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-blue-500",children:""}),"Main Activities (",tt.length,")"]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:tt.map((dt,it)=>jsxRuntimeExports.jsx(ct,{activity:dt,sectionTitle:`Main Activity ${it+1}`},dt.id))})]}),rt&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500",children:""}),"Cool-down Activity"]}),jsxRuntimeExports.jsx(ct,{activity:rt,sectionTitle:"Cool-down"})]}),gt.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Activities Found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"The activities for this lesson may have been deleted or are no longer available."})]})]})}),jsxRuntimeExports.jsx("div",{className:"p-6 bg-gray-50 dark:bg-dark-700 border-t border-gray-200 dark:border-dark-600 rounded-b-xl",children:jsxRuntimeExports.jsx("div",{className:"flex justify-end items-center",children:jsxRuntimeExports.jsx("button",{onClick:i,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors ml-auto",children:"Close"})})})]})})}function commonjsRequire(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(i,a){module.exports=i.pdfjsLib=a()})(globalThis,()=>(()=>{var __webpack_modules__=[,(s,i)=>{var zr;Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.TextRenderingMode=i.RenderingIntentFlag=i.PromiseCapability=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.MAX_IMAGE_SIZE_TO_CACHE=i.LINE_FACTOR=i.LINE_DESCENT_FACTOR=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.BASELINE_FACTOR=i.AnnotationType=i.AnnotationReplyType=i.AnnotationPrefix=i.AnnotationMode=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationEditorType=i.AnnotationEditorPrefix=i.AnnotationEditorParamsType=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.assert=kt,i.bytesToString=Zt,i.createValidAbsoluteUrl=zt,i.getModificationDate=xr,i.getUuid=_r,i.getVerbosityLevel=Ft,i.info=Bt,i.isArrayBuffer=Vt,i.isArrayEqual=vr,i.isNodeJS=void 0,i.normalizeUnicode=jr,i.objectFromMap=lr,i.objectSize=Jt,i.setVerbosityLevel=Ut,i.shadow=Ct,i.string32=cr,i.stringToBytes=ir,i.stringToPDFString=or,i.stringToUTF8String=pr,i.unreachable=Rt,i.utf8StringToString=dr,i.warn=Nt;const a=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");i.isNodeJS=a;const o=[1,0,0,1,0,0];i.IDENTITY_MATRIX=o;const j=[.001,0,0,.001,0,0];i.FONT_IDENTITY_MATRIX=j;const _=1e7;i.MAX_IMAGE_SIZE_TO_CACHE=_;const $=1.35;i.LINE_FACTOR=$;const et=.35;i.LINE_DESCENT_FACTOR=et;const _e=et/$;i.BASELINE_FACTOR=_e;const tt={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};i.RenderingIntentFlag=tt;const rt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};i.AnnotationMode=rt;const nt="pdfjs_internal_editor_";i.AnnotationEditorPrefix=nt;const st={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};i.AnnotationEditorType=st;const ot={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};i.AnnotationEditorParamsType=ot;const ct={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};i.PermissionFlag=ct;const gt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};i.TextRenderingMode=gt;const dt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};i.ImageKind=dt;const it={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};i.AnnotationType=it;const lt={GROUP:"Group",REPLY:"R"};i.AnnotationReplyType=lt;const ut={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};i.AnnotationFlag=ut;const mt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};i.AnnotationFieldFlag=mt;const ht={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};i.AnnotationBorderStyleType=ht;const vt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};i.AnnotationActionEventType=vt;const at={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};i.DocumentActionEventType=at;const pt={O:"PageOpen",C:"PageClose"};i.PageActionEventType=pt;const yt={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=yt;const jt={NONE:0,BINARY:1};i.CMapCompressionType=jt;const xt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};i.OPS=xt;const wt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};i.PasswordResponses=wt;let At=yt.WARNINGS;function Ut(fr){Number.isInteger(fr)&&(At=fr)}function Ft(){return At}function Bt(fr){At>=yt.INFOS&&console.log(`Info: ${fr}`)}function Nt(fr){At>=yt.WARNINGS&&console.log(`Warning: ${fr}`)}function Rt(fr){throw new Error(fr)}function kt(fr,er){fr||Rt(er)}function Dt(fr){switch(fr==null?void 0:fr.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function zt(fr,er=null,rr=null){if(!fr)return null;try{if(rr&&typeof fr=="string"){if(rr.addDefaultProtocol&&fr.startsWith("www.")){const Ur=fr.match(/\./g);(Ur==null?void 0:Ur.length)>=2&&(fr=`http://${fr}`)}if(rr.tryConvertEncoding)try{fr=pr(fr)}catch{}}const wr=er?new URL(fr,er):new URL(fr);if(Dt(wr))return wr}catch{}return null}function Ct(fr,er,rr,wr=!1){return Object.defineProperty(fr,er,{value:rr,enumerable:!wr,configurable:!0,writable:!1}),rr}const bt=function(){function er(rr,wr){this.constructor===er&&Rt("Cannot initialize BaseException."),this.message=rr,this.name=wr}return er.prototype=new Error,er.constructor=er,er}();i.BaseException=bt;class Et extends bt{constructor(er,rr){super(er,"PasswordException"),this.code=rr}}i.PasswordException=Et;class St extends bt{constructor(er,rr){super(er,"UnknownErrorException"),this.details=rr}}i.UnknownErrorException=St;class It extends bt{constructor(er){super(er,"InvalidPDFException")}}i.InvalidPDFException=It;class Pt extends bt{constructor(er){super(er,"MissingPDFException")}}i.MissingPDFException=Pt;class Mt extends bt{constructor(er,rr){super(er,"UnexpectedResponseException"),this.status=rr}}i.UnexpectedResponseException=Mt;class Gt extends bt{constructor(er){super(er,"FormatError")}}i.FormatError=Gt;class Yt extends bt{constructor(er){super(er,"AbortException")}}i.AbortException=Yt;function Zt(fr){(typeof fr!="object"||(fr==null?void 0:fr.length)===void 0)&&Rt("Invalid argument for bytesToString");const er=fr.length,rr=8192;if(er<rr)return String.fromCharCode.apply(null,fr);const wr=[];for(let Ur=0;Ur<er;Ur+=rr){const Lr=Math.min(Ur+rr,er),$t=fr.subarray(Ur,Lr);wr.push(String.fromCharCode.apply(null,$t))}return wr.join("")}function ir(fr){typeof fr!="string"&&Rt("Invalid argument for stringToBytes");const er=fr.length,rr=new Uint8Array(er);for(let wr=0;wr<er;++wr)rr[wr]=fr.charCodeAt(wr)&255;return rr}function cr(fr){return String.fromCharCode(fr>>24&255,fr>>16&255,fr>>8&255,fr&255)}function Jt(fr){return Object.keys(fr).length}function lr(fr){const er=Object.create(null);for(const[rr,wr]of fr)er[rr]=wr;return er}function qt(){const fr=new Uint8Array(4);return fr[0]=1,new Uint32Array(fr.buffer,0,1)[0]===1}function Xt(){try{return new Function(""),!0}catch{return!1}}class _t{static get isLittleEndian(){return Ct(this,"isLittleEndian",qt())}static get isEvalSupported(){return Ct(this,"isEvalSupported",Xt())}static get isOffscreenCanvasSupported(){return Ct(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Ct(this,"platform",{isWin:!1,isMac:!1}):Ct(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var er,rr;return Ct(this,"isCSSRoundSupported",(rr=(er=globalThis.CSS)==null?void 0:er.supports)==null?void 0:rr.call(er,"width: round(1.5px, 1px)"))}}i.FeatureTest=_t;const Ot=[...Array(256).keys()].map(fr=>fr.toString(16).padStart(2,"0"));class Ht{static makeHexColor(er,rr,wr){return`#${Ot[er]}${Ot[rr]}${Ot[wr]}`}static scaleMinMax(er,rr){let wr;er[0]?(er[0]<0&&(wr=rr[0],rr[0]=rr[1],rr[1]=wr),rr[0]*=er[0],rr[1]*=er[0],er[3]<0&&(wr=rr[2],rr[2]=rr[3],rr[3]=wr),rr[2]*=er[3],rr[3]*=er[3]):(wr=rr[0],rr[0]=rr[2],rr[2]=wr,wr=rr[1],rr[1]=rr[3],rr[3]=wr,er[1]<0&&(wr=rr[2],rr[2]=rr[3],rr[3]=wr),rr[2]*=er[1],rr[3]*=er[1],er[2]<0&&(wr=rr[0],rr[0]=rr[1],rr[1]=wr),rr[0]*=er[2],rr[1]*=er[2]),rr[0]+=er[4],rr[1]+=er[4],rr[2]+=er[5],rr[3]+=er[5]}static transform(er,rr){return[er[0]*rr[0]+er[2]*rr[1],er[1]*rr[0]+er[3]*rr[1],er[0]*rr[2]+er[2]*rr[3],er[1]*rr[2]+er[3]*rr[3],er[0]*rr[4]+er[2]*rr[5]+er[4],er[1]*rr[4]+er[3]*rr[5]+er[5]]}static applyTransform(er,rr){const wr=er[0]*rr[0]+er[1]*rr[2]+rr[4],Ur=er[0]*rr[1]+er[1]*rr[3]+rr[5];return[wr,Ur]}static applyInverseTransform(er,rr){const wr=rr[0]*rr[3]-rr[1]*rr[2],Ur=(er[0]*rr[3]-er[1]*rr[2]+rr[2]*rr[5]-rr[4]*rr[3])/wr,Lr=(-er[0]*rr[1]+er[1]*rr[0]+rr[4]*rr[1]-rr[5]*rr[0])/wr;return[Ur,Lr]}static getAxialAlignedBoundingBox(er,rr){const wr=this.applyTransform(er,rr),Ur=this.applyTransform(er.slice(2,4),rr),Lr=this.applyTransform([er[0],er[3]],rr),$t=this.applyTransform([er[2],er[1]],rr);return[Math.min(wr[0],Ur[0],Lr[0],$t[0]),Math.min(wr[1],Ur[1],Lr[1],$t[1]),Math.max(wr[0],Ur[0],Lr[0],$t[0]),Math.max(wr[1],Ur[1],Lr[1],$t[1])]}static inverseTransform(er){const rr=er[0]*er[3]-er[1]*er[2];return[er[3]/rr,-er[1]/rr,-er[2]/rr,er[0]/rr,(er[2]*er[5]-er[4]*er[3])/rr,(er[4]*er[1]-er[5]*er[0])/rr]}static singularValueDecompose2dScale(er){const rr=[er[0],er[2],er[1],er[3]],wr=er[0]*rr[0]+er[1]*rr[2],Ur=er[0]*rr[1]+er[1]*rr[3],Lr=er[2]*rr[0]+er[3]*rr[2],$t=er[2]*rr[1]+er[3]*rr[3],ur=(wr+$t)/2,yr=Math.sqrt((wr+$t)**2-4*(wr*$t-Lr*Ur))/2,Ar=ur+yr||1,Pr=ur-yr||1;return[Math.sqrt(Ar),Math.sqrt(Pr)]}static normalizeRect(er){const rr=er.slice(0);return er[0]>er[2]&&(rr[0]=er[2],rr[2]=er[0]),er[1]>er[3]&&(rr[1]=er[3],rr[3]=er[1]),rr}static intersect(er,rr){const wr=Math.max(Math.min(er[0],er[2]),Math.min(rr[0],rr[2])),Ur=Math.min(Math.max(er[0],er[2]),Math.max(rr[0],rr[2]));if(wr>Ur)return null;const Lr=Math.max(Math.min(er[1],er[3]),Math.min(rr[1],rr[3])),$t=Math.min(Math.max(er[1],er[3]),Math.max(rr[1],rr[3]));return Lr>$t?null:[wr,Lr,Ur,$t]}static bezierBoundingBox(er,rr,wr,Ur,Lr,$t,ur,yr){const Ar=[],Pr=[[],[]];let Er,Lt,Tt,Wt,sr,ar,hr,mr;for(let Mr=0;Mr<2;++Mr){if(Mr===0?(Lt=6*er-12*wr+6*Lr,Er=-3*er+9*wr-9*Lr+3*ur,Tt=3*wr-3*er):(Lt=6*rr-12*Ur+6*$t,Er=-3*rr+9*Ur-9*$t+3*yr,Tt=3*Ur-3*rr),Math.abs(Er)<1e-12){if(Math.abs(Lt)<1e-12)continue;Wt=-Tt/Lt,0<Wt&&Wt<1&&Ar.push(Wt);continue}hr=Lt*Lt-4*Tt*Er,mr=Math.sqrt(hr),!(hr<0)&&(sr=(-Lt+mr)/(2*Er),0<sr&&sr<1&&Ar.push(sr),ar=(-Lt-mr)/(2*Er),0<ar&&ar<1&&Ar.push(ar))}let Cr=Ar.length,Rr;const br=Cr;for(;Cr--;)Wt=Ar[Cr],Rr=1-Wt,Pr[0][Cr]=Rr*Rr*Rr*er+3*Rr*Rr*Wt*wr+3*Rr*Wt*Wt*Lr+Wt*Wt*Wt*ur,Pr[1][Cr]=Rr*Rr*Rr*rr+3*Rr*Rr*Wt*Ur+3*Rr*Wt*Wt*$t+Wt*Wt*Wt*yr;return Pr[0][br]=er,Pr[1][br]=rr,Pr[0][br+1]=ur,Pr[1][br+1]=yr,Pr[0].length=Pr[1].length=br+2,[Math.min(...Pr[0]),Math.min(...Pr[1]),Math.max(...Pr[0]),Math.max(...Pr[1])]}}i.Util=Ht;const Qt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function or(fr){if(fr[0]>=""){let rr;if(fr[0]===""&&fr[1]===""?rr="utf-16be":fr[0]===""&&fr[1]===""?rr="utf-16le":fr[0]===""&&fr[1]===""&&fr[2]===""&&(rr="utf-8"),rr)try{const wr=new TextDecoder(rr,{fatal:!0}),Ur=ir(fr);return wr.decode(Ur)}catch(wr){Nt(`stringToPDFString: "${wr}".`)}}const er=[];for(let rr=0,wr=fr.length;rr<wr;rr++){const Ur=Qt[fr.charCodeAt(rr)];er.push(Ur?String.fromCharCode(Ur):fr.charAt(rr))}return er.join("")}function pr(fr){return decodeURIComponent(escape(fr))}function dr(fr){return unescape(encodeURIComponent(fr))}function Vt(fr){return typeof fr=="object"&&(fr==null?void 0:fr.byteLength)!==void 0}function vr(fr,er){if(fr.length!==er.length)return!1;for(let rr=0,wr=fr.length;rr<wr;rr++)if(fr[rr]!==er[rr])return!1;return!0}function xr(fr=new Date){return[fr.getUTCFullYear().toString(),(fr.getUTCMonth()+1).toString().padStart(2,"0"),fr.getUTCDate().toString().padStart(2,"0"),fr.getUTCHours().toString().padStart(2,"0"),fr.getUTCMinutes().toString().padStart(2,"0"),fr.getUTCSeconds().toString().padStart(2,"0")].join("")}class Ir{constructor(){tr(this,zr,!1);this.promise=new Promise((er,rr)=>{this.resolve=wr=>{nr(this,zr,!0),er(wr)},this.reject=wr=>{nr(this,zr,!0),rr(wr)}})}get settled(){return ft(this,zr)}}zr=new WeakMap,i.PromiseCapability=Ir;let Tr=null,Br=null;function jr(fr){return Tr||(Tr=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Br=new Map([["","t"]])),fr.replaceAll(Tr,(er,rr,wr)=>rr?rr.normalize("NFKC"):Br.get(wr))}function _r(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const fr=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(fr);else for(let er=0;er<32;er++)fr[er]=Math.floor(Math.random()*255);return Zt(fr)}const Fr="pdfjs_internal_id_";i.AnnotationPrefix=Fr},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var s,a,o,j,ln,Sn,et,_e,tt,rt,nt,st,ot,ct,gt,An,it,lt,Un,mt,ht;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(at){if(typeof at=="string"||at instanceof URL?at={url:at}:(0,_util.isArrayBuffer)(at)&&(at={data:at}),typeof at!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!at.url&&!at.data&&!at.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const pt=new PDFDocumentLoadingTask,{docId:yt}=pt,jt=at.url?getUrlProp(at.url):null,xt=at.data?getDataProp(at.data):null,wt=at.httpHeaders||null,At=at.withCredentials===!0,Ut=at.password??null,Ft=at.range instanceof PDFDataRangeTransport?at.range:null,Bt=Number.isInteger(at.rangeChunkSize)&&at.rangeChunkSize>0?at.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Nt=at.worker instanceof PDFWorker?at.worker:null;const Rt=at.verbosity,kt=typeof at.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(at.docBaseUrl)?at.docBaseUrl:null,Dt=typeof at.cMapUrl=="string"?at.cMapUrl:null,zt=at.cMapPacked!==!1,Ct=at.CMapReaderFactory||DefaultCMapReaderFactory,bt=typeof at.standardFontDataUrl=="string"?at.standardFontDataUrl:null,Et=at.StandardFontDataFactory||DefaultStandardFontDataFactory,St=at.stopAtErrors!==!0,It=Number.isInteger(at.maxImageSize)&&at.maxImageSize>-1?at.maxImageSize:-1,Pt=at.isEvalSupported!==!1,Mt=typeof at.isOffscreenCanvasSupported=="boolean"?at.isOffscreenCanvasSupported:!_util.isNodeJS,Gt=Number.isInteger(at.canvasMaxAreaInBytes)?at.canvasMaxAreaInBytes:-1,Yt=typeof at.disableFontFace=="boolean"?at.disableFontFace:_util.isNodeJS,Zt=at.fontExtraProperties===!0,ir=at.enableXfa===!0,cr=at.ownerDocument||globalThis.document,Jt=at.disableRange===!0,lr=at.disableStream===!0,qt=at.disableAutoFetch===!0,Xt=at.pdfBug===!0,_t=Ft?Ft.length:at.length??NaN,Ot=typeof at.useSystemFonts=="boolean"?at.useSystemFonts:!_util.isNodeJS&&!Yt,Ht=typeof at.useWorkerFetch=="boolean"?at.useWorkerFetch:Ct===_display_utils.DOMCMapReaderFactory&&Et===_display_utils.DOMStandardFontDataFactory&&Dt&&bt&&(0,_display_utils.isValidFetchUrl)(Dt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(bt,document.baseURI),Qt=at.canvasFactory||new DefaultCanvasFactory({ownerDocument:cr}),or=at.filterFactory||new DefaultFilterFactory({docId:yt,ownerDocument:cr}),pr=null;(0,_util.setVerbosityLevel)(Rt);const dr={canvasFactory:Qt,filterFactory:or};if(Ht||(dr.cMapReaderFactory=new Ct({baseUrl:Dt,isCompressed:zt}),dr.standardFontDataFactory=new Et({baseUrl:bt})),!Nt){const xr={verbosity:Rt,port:_worker_options.GlobalWorkerOptions.workerPort};Nt=xr.port?PDFWorker.fromPort(xr):new PDFWorker(xr),pt._worker=Nt}const Vt={docId:yt,apiVersion:"3.11.174",data:xt,password:Ut,disableAutoFetch:qt,rangeChunkSize:Bt,length:_t,docBaseUrl:kt,enableXfa:ir,evaluatorOptions:{maxImageSize:It,disableFontFace:Yt,ignoreErrors:St,isEvalSupported:Pt,isOffscreenCanvasSupported:Mt,canvasMaxAreaInBytes:Gt,fontExtraProperties:Zt,useSystemFonts:Ot,cMapUrl:Ht?Dt:null,standardFontDataUrl:Ht?bt:null}},vr={ignoreErrors:St,isEvalSupported:Pt,disableFontFace:Yt,fontExtraProperties:Zt,enableXfa:ir,ownerDocument:cr,disableAutoFetch:qt,pdfBug:Xt,styleElement:pr};return Nt.promise.then(function(){if(pt.destroyed)throw new Error("Loading aborted");const xr=_fetchDocument(Nt,Vt),Ir=new Promise(function(Tr){let Br;Ft?Br=new _transport_stream.PDFDataTransportStream({length:_t,initialData:Ft.initialData,progressiveDone:Ft.progressiveDone,contentDispositionFilename:Ft.contentDispositionFilename,disableRange:Jt,disableStream:lr},Ft):xt||(Br=(_r=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(_r):(0,_display_utils.isValidFetchUrl)(_r.url)?new _displayFetch_stream.PDFFetchStream(_r):new _displayNetwork.PDFNetworkStream(_r))({url:jt,length:_t,httpHeaders:wt,withCredentials:At,rangeChunkSize:Bt,disableRange:Jt,disableStream:lr})),Tr(Br)});return Promise.all([xr,Ir]).then(function([Tr,Br]){if(pt.destroyed)throw new Error("Loading aborted");const jr=new _message_handler.MessageHandler(yt,Tr,Nt.port),_r=new WorkerTransport(jr,pt,Br,vr,dr);pt._transport=_r,jr.send("Ready",null)})}).catch(pt._capability.reject),pt}async function _fetchDocument(at,pt){if(at.destroyed)throw new Error("Worker was destroyed");const yt=await at.messageHandler.sendWithPromise("GetDocRequest",pt,pt.data?[pt.data.buffer]:null);if(at.destroyed)throw new Error("Worker was destroyed");return yt}function getUrlProp(at){if(at instanceof URL)return at.href;try{return new URL(at,window.location).href}catch{if(_util.isNodeJS&&typeof at=="string")return at}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(at){if(_util.isNodeJS&&typeof Buffer<"u"&&at instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(at instanceof Uint8Array&&at.byteLength===at.buffer.byteLength)return at;if(typeof at=="string")return(0,_util.stringToBytes)(at);if(typeof at=="object"&&!isNaN(at==null?void 0:at.length)||(0,_util.isArrayBuffer)(at))return new Uint8Array(at);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const i=class i{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${gn(i,s)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var pt,yt,jt;this.destroyed=!0;try{(pt=this._worker)!=null&&pt.port&&(this._worker._pendingDestroy=!0),await((yt=this._transport)==null?void 0:yt.destroy())}catch(xt){throw(jt=this._worker)!=null&&jt.port&&delete this._worker._pendingDestroy,xt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};s=new WeakMap,tr(i,s,0);let PDFDocumentLoadingTask=i;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(pt,yt,jt=!1,xt=null){this.length=pt,this.initialData=yt,this.progressiveDone=jt,this.contentDispositionFilename=xt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(pt){this._rangeListeners.push(pt)}addProgressListener(pt){this._progressListeners.push(pt)}addProgressiveReadListener(pt){this._progressiveReadListeners.push(pt)}addProgressiveDoneListener(pt){this._progressiveDoneListeners.push(pt)}onDataRange(pt,yt){for(const jt of this._rangeListeners)jt(pt,yt)}onDataProgress(pt,yt){this._readyCapability.promise.then(()=>{for(const jt of this._progressListeners)jt(pt,yt)})}onDataProgressiveRead(pt){this._readyCapability.promise.then(()=>{for(const yt of this._progressiveReadListeners)yt(pt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const pt of this._progressiveDoneListeners)pt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(pt,yt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(pt,yt){this._pdfInfo=pt,this._transport=yt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(jt=>{if(!jt)return jt;const xt=[];for(const wt in jt)xt.push(...jt[wt]);return xt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(pt){return this._transport.getPage(pt)}getPageIndex(pt){return this._transport.getPageIndex(pt)}getDestinations(){return this._transport.getDestinations()}getDestination(pt){return this._transport.getDestination(pt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(pt=!1){return this._transport.startCleanup(pt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(pt,yt,jt,xt=!1){tr(this,j);tr(this,a,null);tr(this,o,!1);this._pageIndex=pt,this._pageInfo=yt,this._transport=jt,this._stats=xt?new _display_utils.StatTimer:null,this._pdfBug=xt,this.commonObjs=jt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:pt,rotation:yt=this.rotate,offsetX:jt=0,offsetY:xt=0,dontFlip:wt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:pt,rotation:yt,offsetX:jt,offsetY:xt,dontFlip:wt})}getAnnotations({intent:pt="display"}={}){const yt=this._transport.getRenderingIntent(pt);return this._transport.getAnnotations(this._pageIndex,yt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var pt;return((pt=this._transport._htmlForXfa)==null?void 0:pt.children[this._pageIndex])||null}render({canvasContext:pt,viewport:yt,intent:jt="display",annotationMode:xt=_util.AnnotationMode.ENABLE,transform:wt=null,background:At=null,optionalContentConfigPromise:Ut=null,annotationCanvasMap:Ft=null,pageColors:Bt=null,printAnnotationStorage:Nt=null}){var Et,St;(Et=this._stats)==null||Et.time("Overall");const Rt=this._transport.getRenderingIntent(jt,xt,Nt);nr(this,o,!1),Kt(this,j,Sn).call(this),Ut||(Ut=this._transport.getOptionalContentConfig());let kt=this._intentStates.get(Rt.cacheKey);kt||(kt=Object.create(null),this._intentStates.set(Rt.cacheKey,kt)),kt.streamReaderCancelTimeout&&(clearTimeout(kt.streamReaderCancelTimeout),kt.streamReaderCancelTimeout=null);const Dt=!!(Rt.renderingIntent&_util.RenderingIntentFlag.PRINT);kt.displayReadyCapability||(kt.displayReadyCapability=new _util.PromiseCapability,kt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(St=this._stats)==null||St.time("Page Request"),this._pumpOperatorList(Rt));const zt=It=>{var Pt,Mt;kt.renderTasks.delete(Ct),(this._maybeCleanupAfterRender||Dt)&&nr(this,o,!0),Kt(this,j,ln).call(this,!Dt),It?(Ct.capability.reject(It),this._abortOperatorList({intentState:kt,reason:It instanceof Error?It:new Error(It)})):Ct.capability.resolve(),(Pt=this._stats)==null||Pt.timeEnd("Rendering"),(Mt=this._stats)==null||Mt.timeEnd("Overall")},Ct=new InternalRenderTask({callback:zt,params:{canvasContext:pt,viewport:yt,transform:wt,background:At},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Ft,operatorList:kt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Dt,pdfBug:this._pdfBug,pageColors:Bt});(kt.renderTasks||(kt.renderTasks=new Set)).add(Ct);const bt=Ct.task;return Promise.all([kt.displayReadyCapability.promise,Ut]).then(([It,Pt])=>{var Mt;if(this.destroyed){zt();return}(Mt=this._stats)==null||Mt.time("Rendering"),Ct.initializeGraphics({transparency:It,optionalContentConfig:Pt}),Ct.operatorListChanged()}).catch(zt),bt}getOperatorList({intent:pt="display",annotationMode:yt=_util.AnnotationMode.ENABLE,printAnnotationStorage:jt=null}={}){var Ft;function xt(){At.operatorList.lastChunk&&(At.opListReadCapability.resolve(At.operatorList),At.renderTasks.delete(Ut))}const wt=this._transport.getRenderingIntent(pt,yt,jt,!0);let At=this._intentStates.get(wt.cacheKey);At||(At=Object.create(null),this._intentStates.set(wt.cacheKey,At));let Ut;return At.opListReadCapability||(Ut=Object.create(null),Ut.operatorListChanged=xt,At.opListReadCapability=new _util.PromiseCapability,(At.renderTasks||(At.renderTasks=new Set)).add(Ut),At.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Ft=this._stats)==null||Ft.time("Page Request"),this._pumpOperatorList(wt)),At.opListReadCapability.promise}streamTextContent({includeMarkedContent:pt=!1,disableNormalization:yt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:pt===!0,disableNormalization:yt===!0},{highWaterMark:100,size(xt){return xt.items.length}})}getTextContent(pt={}){if(this._transport._htmlForXfa)return this.getXfa().then(jt=>_xfa_text.XfaText.textContent(jt));const yt=this.streamTextContent(pt);return new Promise(function(jt,xt){function wt(){At.read().then(function({value:Ft,done:Bt}){if(Bt){jt(Ut);return}Object.assign(Ut.styles,Ft.styles),Ut.items.push(...Ft.items),wt()},xt)}const At=yt.getReader(),Ut={items:[],styles:Object.create(null)};wt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const pt=[];for(const yt of this._intentStates.values())if(this._abortOperatorList({intentState:yt,reason:new Error("Page was destroyed."),force:!0}),!yt.opListReadCapability)for(const jt of yt.renderTasks)pt.push(jt.completed),jt.cancel();return this.objs.clear(),nr(this,o,!1),Kt(this,j,Sn).call(this),Promise.all(pt)}cleanup(pt=!1){nr(this,o,!0);const yt=Kt(this,j,ln).call(this,!1);return pt&&yt&&this._stats&&(this._stats=new _display_utils.StatTimer),yt}_startRenderPage(pt,yt){var xt,wt;const jt=this._intentStates.get(yt);jt&&((xt=this._stats)==null||xt.timeEnd("Page Request"),(wt=jt.displayReadyCapability)==null||wt.resolve(pt))}_renderPageChunk(pt,yt){for(let jt=0,xt=pt.length;jt<xt;jt++)yt.operatorList.fnArray.push(pt.fnArray[jt]),yt.operatorList.argsArray.push(pt.argsArray[jt]);yt.operatorList.lastChunk=pt.lastChunk,yt.operatorList.separateAnnots=pt.separateAnnots;for(const jt of yt.renderTasks)jt.operatorListChanged();pt.lastChunk&&Kt(this,j,ln).call(this,!0)}_pumpOperatorList({renderingIntent:pt,cacheKey:yt,annotationStorageSerializable:jt}){const{map:xt,transfers:wt}=jt,Ut=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:pt,cacheKey:yt,annotationStorage:xt},wt).getReader(),Ft=this._intentStates.get(yt);Ft.streamReader=Ut;const Bt=()=>{Ut.read().then(({value:Nt,done:Rt})=>{if(Rt){Ft.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Nt,Ft),Bt())},Nt=>{if(Ft.streamReader=null,!this._transport.destroyed){if(Ft.operatorList){Ft.operatorList.lastChunk=!0;for(const Rt of Ft.renderTasks)Rt.operatorListChanged();Kt(this,j,ln).call(this,!0)}if(Ft.displayReadyCapability)Ft.displayReadyCapability.reject(Nt);else if(Ft.opListReadCapability)Ft.opListReadCapability.reject(Nt);else throw Nt}})};Bt()}_abortOperatorList({intentState:pt,reason:yt,force:jt=!1}){if(pt.streamReader){if(pt.streamReaderCancelTimeout&&(clearTimeout(pt.streamReaderCancelTimeout),pt.streamReaderCancelTimeout=null),!jt){if(pt.renderTasks.size>0)return;if(yt instanceof _display_utils.RenderingCancelledException){let xt=RENDERING_CANCELLED_TIMEOUT;yt.extraDelay>0&&yt.extraDelay<1e3&&(xt+=yt.extraDelay),pt.streamReaderCancelTimeout=setTimeout(()=>{pt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:pt,reason:yt,force:!0})},xt);return}}if(pt.streamReader.cancel(new _util.AbortException(yt.message)).catch(()=>{}),pt.streamReader=null,!this._transport.destroyed){for(const[xt,wt]of this._intentStates)if(wt===pt){this._intentStates.delete(xt);break}this.cleanup()}}}get stats(){return this._stats}}a=new WeakMap,o=new WeakMap,j=new WeakSet,ln=function(pt=!1){if(Kt(this,j,Sn).call(this),!ft(this,o)||this.destroyed)return!1;if(pt)return nr(this,a,setTimeout(()=>{nr(this,a,null),Kt(this,j,ln).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:yt,operatorList:jt}of this._intentStates.values())if(yt.size>0||!jt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),nr(this,o,!1),!0},Sn=function(){ft(this,a)&&(clearTimeout(ft(this,a)),nr(this,a,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){tr(this,et,new Set);tr(this,_e,Promise.resolve())}postMessage(pt,yt){const jt={data:structuredClone(pt,yt?{transfer:yt}:null)};ft(this,_e).then(()=>{for(const xt of ft(this,et))xt.call(this,jt)})}addEventListener(pt,yt){ft(this,et).add(yt)}removeEventListener(pt,yt){ft(this,et).delete(yt)}terminate(){ft(this,et).clear()}}et=new WeakMap,_e=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const at=(tt=document==null?void 0:document.currentScript)==null?void 0:tt.src;at&&(PDFWorkerUtil.fallbackWorkerSrc=at.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(at,pt){let yt;try{if(yt=new URL(at),!yt.origin||yt.origin==="null")return!1}catch{return!1}const jt=new URL(pt,yt);return yt.origin===jt.origin},PDFWorkerUtil.createCDNWrapper=function(at){const pt=`importScripts("${at}");`;return URL.createObjectURL(new Blob([pt]))}}const _PDFWorker=class _PDFWorker{constructor({name:at=null,port:pt=null,verbosity:yt=(0,_util.getVerbosityLevel)()}={}){var jt;if(this.name=at,this.destroyed=!1,this.verbosity=yt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,pt){if((jt=ft(_PDFWorker,rt))!=null&&jt.has(pt))throw new Error("Cannot use more than one PDFWorker per port.");(ft(_PDFWorker,rt)||nr(_PDFWorker,rt,new WeakMap)).set(pt,this),this._initializeFromPort(pt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(at){this._port=at,this._messageHandler=new _message_handler.MessageHandler("main","worker",at),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:at}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,at)||(at=PDFWorkerUtil.createCDNWrapper(new URL(at,window.location).href));const pt=new Worker(at),yt=new _message_handler.MessageHandler("main","worker",pt),jt=()=>{pt.removeEventListener("error",xt),yt.destroy(),pt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},xt=()=>{this._webWorker||jt()};pt.addEventListener("error",xt),yt.on("test",At=>{if(pt.removeEventListener("error",xt),this.destroyed){jt();return}At?(this._messageHandler=yt,this._port=pt,this._webWorker=pt,this._readyCapability.resolve(),yt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),yt.destroy(),pt.terminate())}),yt.on("ready",At=>{if(pt.removeEventListener("error",xt),this.destroyed){jt();return}try{wt()}catch{this._setupFakeWorker()}});const wt=()=>{const At=new Uint8Array;yt.send("test",At,[At.buffer])};wt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(at=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const pt=new LoopbackPort;this._port=pt;const yt=`fake${PDFWorkerUtil.fakeWorkerId++}`,jt=new _message_handler.MessageHandler(yt+"_worker",yt,pt);at.setup(jt,pt);const xt=new _message_handler.MessageHandler(yt,yt+"_worker",pt);this._messageHandler=xt,this._readyCapability.resolve(),xt.send("configure",{verbosity:this.verbosity})}).catch(at=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${at.message}".`))})}destroy(){var at;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(at=ft(_PDFWorker,rt))==null||at.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(at){var yt;if(!(at!=null&&at.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const pt=(yt=ft(this,rt))==null?void 0:yt.get(at.port);if(pt){if(pt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return pt}return new _PDFWorker(at)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var at;try{return((at=globalThis.pdfjsWorker)==null?void 0:at.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};rt=new WeakMap,tr(_PDFWorker,rt);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(pt,yt,jt,xt,wt){tr(this,gt);tr(this,nt,new Map);tr(this,st,new Map);tr(this,ot,new Map);tr(this,ct,null);this.messageHandler=pt,this.loadingTask=yt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:xt.ownerDocument,styleElement:xt.styleElement}),this._params=xt,this.canvasFactory=wt.canvasFactory,this.filterFactory=wt.filterFactory,this.cMapReaderFactory=wt.cMapReaderFactory,this.standardFontDataFactory=wt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=jt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(pt,yt=_util.AnnotationMode.ENABLE,jt=null,xt=!1){let wt=_util.RenderingIntentFlag.DISPLAY,At=_annotation_storage.SerializableEmpty;switch(pt){case"any":wt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":wt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${pt}`)}switch(yt){case _util.AnnotationMode.DISABLE:wt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:wt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:wt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,At=(wt&_util.RenderingIntentFlag.PRINT&&jt instanceof _annotation_storage.PrintAnnotationStorage?jt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${yt}`)}return xt&&(wt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:wt,cacheKey:`${wt}_${At.hash}`,annotationStorageSerializable:At}}destroy(){var jt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(jt=ft(this,ct))==null||jt.reject(new Error("Worker was destroyed during onPassword callback"));const pt=[];for(const xt of ft(this,st).values())pt.push(xt._destroy());ft(this,st).clear(),ft(this,ot).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const yt=this.messageHandler.sendWithPromise("Terminate",null);return pt.push(yt),Promise.all(pt).then(()=>{var xt;this.commonObjs.clear(),this.fontLoader.clear(),ft(this,nt).clear(),this.filterFactory.destroy(),(xt=this._networkStream)==null||xt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:pt,loadingTask:yt}=this;pt.on("GetReader",(jt,xt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=wt=>{this._lastProgress={loaded:wt.loaded,total:wt.total}},xt.onPull=()=>{this._fullReader.read().then(function({value:wt,done:At}){if(At){xt.close();return}(0,_util.assert)(wt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),xt.enqueue(new Uint8Array(wt),1,[wt])}).catch(wt=>{xt.error(wt)})},xt.onCancel=wt=>{this._fullReader.cancel(wt),xt.ready.catch(At=>{if(!this.destroyed)throw At})}}),pt.on("ReaderHeadersReady",jt=>{const xt=new _util.PromiseCapability,wt=this._fullReader;return wt.headersReady.then(()=>{var At;(!wt.isStreamingSupported||!wt.isRangeSupported)&&(this._lastProgress&&((At=yt.onProgress)==null||At.call(yt,this._lastProgress)),wt.onProgress=Ut=>{var Ft;(Ft=yt.onProgress)==null||Ft.call(yt,{loaded:Ut.loaded,total:Ut.total})}),xt.resolve({isStreamingSupported:wt.isStreamingSupported,isRangeSupported:wt.isRangeSupported,contentLength:wt.contentLength})},xt.reject),xt.promise}),pt.on("GetRangeReader",(jt,xt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const wt=this._networkStream.getRangeReader(jt.begin,jt.end);if(!wt){xt.close();return}xt.onPull=()=>{wt.read().then(function({value:At,done:Ut}){if(Ut){xt.close();return}(0,_util.assert)(At instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),xt.enqueue(new Uint8Array(At),1,[At])}).catch(At=>{xt.error(At)})},xt.onCancel=At=>{wt.cancel(At),xt.ready.catch(Ut=>{if(!this.destroyed)throw Ut})}}),pt.on("GetDoc",({pdfInfo:jt})=>{this._numPages=jt.numPages,this._htmlForXfa=jt.htmlForXfa,delete jt.htmlForXfa,yt._capability.resolve(new PDFDocumentProxy(jt,this))}),pt.on("DocException",function(jt){let xt;switch(jt.name){case"PasswordException":xt=new _util.PasswordException(jt.message,jt.code);break;case"InvalidPDFException":xt=new _util.InvalidPDFException(jt.message);break;case"MissingPDFException":xt=new _util.MissingPDFException(jt.message);break;case"UnexpectedResponseException":xt=new _util.UnexpectedResponseException(jt.message,jt.status);break;case"UnknownErrorException":xt=new _util.UnknownErrorException(jt.message,jt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}yt._capability.reject(xt)}),pt.on("PasswordRequest",jt=>{if(nr(this,ct,new _util.PromiseCapability),yt.onPassword){const xt=wt=>{wt instanceof Error?ft(this,ct).reject(wt):ft(this,ct).resolve({password:wt})};try{yt.onPassword(xt,jt.code)}catch(wt){ft(this,ct).reject(wt)}}else ft(this,ct).reject(new _util.PasswordException(jt.message,jt.code));return ft(this,ct).promise}),pt.on("DataLoaded",jt=>{var xt;(xt=yt.onProgress)==null||xt.call(yt,{loaded:jt.length,total:jt.length}),this.downloadInfoCapability.resolve(jt)}),pt.on("StartRenderPage",jt=>{if(this.destroyed)return;ft(this,st).get(jt.pageIndex)._startRenderPage(jt.transparency,jt.cacheKey)}),pt.on("commonobj",([jt,xt,wt])=>{var At;if(!this.destroyed&&!this.commonObjs.has(jt))switch(xt){case"Font":const Ut=this._params;if("error"in wt){const Nt=wt.error;(0,_util.warn)(`Error during font loading: ${Nt}`),this.commonObjs.resolve(jt,Nt);break}const Ft=Ut.pdfBug&&((At=globalThis.FontInspector)!=null&&At.enabled)?(Nt,Rt)=>globalThis.FontInspector.fontAdded(Nt,Rt):null,Bt=new _font_loader.FontFaceObject(wt,{isEvalSupported:Ut.isEvalSupported,disableFontFace:Ut.disableFontFace,ignoreErrors:Ut.ignoreErrors,inspectFont:Ft});this.fontLoader.bind(Bt).catch(Nt=>pt.sendWithPromise("FontFallback",{id:jt})).finally(()=>{!Ut.fontExtraProperties&&Bt.data&&(Bt.data=null),this.commonObjs.resolve(jt,Bt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(jt,wt);break;default:throw new Error(`Got unknown common object type ${xt}`)}}),pt.on("obj",([jt,xt,wt,At])=>{var Ft;if(this.destroyed)return;const Ut=ft(this,st).get(xt);if(!Ut.objs.has(jt))switch(wt){case"Image":if(Ut.objs.resolve(jt,At),At){let Bt;if(At.bitmap){const{width:Nt,height:Rt}=At;Bt=Nt*Rt*4}else Bt=((Ft=At.data)==null?void 0:Ft.length)||0;Bt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Ut._maybeCleanupAfterRender=!0)}break;case"Pattern":Ut.objs.resolve(jt,At);break;default:throw new Error(`Got unknown object type ${wt}`)}}),pt.on("DocProgress",jt=>{var xt;this.destroyed||(xt=yt.onProgress)==null||xt.call(yt,{loaded:jt.loaded,total:jt.total})}),pt.on("FetchBuiltInCMap",jt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(jt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),pt.on("FetchStandardFontData",jt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(jt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var jt;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:pt,transfers:yt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:pt,filename:((jt=this._fullReader)==null?void 0:jt.filename)??null},yt).finally(()=>{this.annotationStorage.resetModified()})}getPage(pt){if(!Number.isInteger(pt)||pt<=0||pt>this._numPages)return Promise.reject(new Error("Invalid page request."));const yt=pt-1,jt=ft(this,ot).get(yt);if(jt)return jt;const xt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:yt}).then(wt=>{if(this.destroyed)throw new Error("Transport destroyed");const At=new PDFPageProxy(yt,wt,this,this._params.pdfBug);return ft(this,st).set(yt,At),At});return ft(this,ot).set(yt,xt),xt}getPageIndex(pt){return typeof pt!="object"||pt===null||!Number.isInteger(pt.num)||pt.num<0||!Number.isInteger(pt.gen)||pt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:pt.num,gen:pt.gen})}getAnnotations(pt,yt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:pt,intent:yt})}getFieldObjects(){return Kt(this,gt,An).call(this,"GetFieldObjects")}hasJSActions(){return Kt(this,gt,An).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(pt){return typeof pt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:pt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Kt(this,gt,An).call(this,"GetDocJSActions")}getPageJSActions(pt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:pt})}getStructTree(pt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:pt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(pt=>new _optional_content_config.OptionalContentConfig(pt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const pt="GetMetadata",yt=ft(this,nt).get(pt);if(yt)return yt;const jt=this.messageHandler.sendWithPromise(pt,null).then(xt=>{var wt,At;return{info:xt[0],metadata:xt[1]?new _metadata.Metadata(xt[1]):null,contentDispositionFilename:((wt=this._fullReader)==null?void 0:wt.filename)??null,contentLength:((At=this._fullReader)==null?void 0:At.contentLength)??null}});return ft(this,nt).set(pt,jt),jt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(pt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const yt of ft(this,st).values())if(!yt.cleanup())throw new Error(`startCleanup: Page ${yt.pageNumber} is currently rendering.`);this.commonObjs.clear(),pt||this.fontLoader.clear(),ft(this,nt).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:pt,enableXfa:yt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:pt,enableXfa:yt})}}nt=new WeakMap,st=new WeakMap,ot=new WeakMap,ct=new WeakMap,gt=new WeakSet,An=function(pt,yt=null){const jt=ft(this,nt).get(pt);if(jt)return jt;const xt=this.messageHandler.sendWithPromise(pt,yt);return ft(this,nt).set(pt,xt),xt};class PDFObjects{constructor(){tr(this,lt);tr(this,it,Object.create(null))}get(pt,yt=null){if(yt){const xt=Kt(this,lt,Un).call(this,pt);return xt.capability.promise.then(()=>yt(xt.data)),null}const jt=ft(this,it)[pt];if(!(jt!=null&&jt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${pt}.`);return jt.data}has(pt){const yt=ft(this,it)[pt];return(yt==null?void 0:yt.capability.settled)||!1}resolve(pt,yt=null){const jt=Kt(this,lt,Un).call(this,pt);jt.data=yt,jt.capability.resolve()}clear(){var pt;for(const yt in ft(this,it)){const{data:jt}=ft(this,it)[yt];(pt=jt==null?void 0:jt.bitmap)==null||pt.close()}nr(this,it,Object.create(null))}}it=new WeakMap,lt=new WeakSet,Un=function(pt){var yt;return(yt=ft(this,it))[pt]||(yt[pt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(pt){tr(this,mt,null);nr(this,mt,pt),this.onContinue=null}get promise(){return ft(this,mt).capability.promise}cancel(pt=0){ft(this,mt).cancel(null,pt)}get separateAnnots(){const{separateAnnots:pt}=ft(this,mt).operatorList;if(!pt)return!1;const{annotationCanvasMap:yt}=ft(this,mt);return pt.form||pt.canvas&&(yt==null?void 0:yt.size)>0}}mt=new WeakMap,exports.RenderTask=RenderTask;const vt=class vt{constructor({callback:pt,params:yt,objs:jt,commonObjs:xt,annotationCanvasMap:wt,operatorList:At,pageIndex:Ut,canvasFactory:Ft,filterFactory:Bt,useRequestAnimationFrame:Nt=!1,pdfBug:Rt=!1,pageColors:kt=null}){this.callback=pt,this.params=yt,this.objs=jt,this.commonObjs=xt,this.annotationCanvasMap=wt,this.operatorListIdx=null,this.operatorList=At,this._pageIndex=Ut,this.canvasFactory=Ft,this.filterFactory=Bt,this._pdfBug=Rt,this.pageColors=kt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Nt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=yt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:pt=!1,optionalContentConfig:yt}){var Ut,Ft;if(this.cancelled)return;if(this._canvas){if(ft(vt,ht).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");ft(vt,ht).add(this._canvas)}this._pdfBug&&((Ut=globalThis.StepperManager)!=null&&Ut.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:jt,viewport:xt,transform:wt,background:At}=this.params;this.gfx=new _canvas.CanvasGraphics(jt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:yt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:wt,viewport:xt,transparency:pt,background:At}),this.operatorListIdx=0,this.graphicsReady=!0,(Ft=this.graphicsReadyCallback)==null||Ft.call(this)}cancel(pt=null,yt=0){var jt;this.running=!1,this.cancelled=!0,(jt=this.gfx)==null||jt.endDrawing(),ft(vt,ht).delete(this._canvas),this.callback(pt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,yt))}operatorListChanged(){var pt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(pt=this.stepper)==null||pt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),ft(vt,ht).delete(this._canvas),this.callback())))}};ht=new WeakMap,tr(vt,ht,new WeakSet);let InternalRenderTask=vt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(s,i,a)=>{var tt,rt,nt,Ls,ot;Object.defineProperty(i,"__esModule",{value:!0}),i.SerializableEmpty=i.PrintAnnotationStorage=i.AnnotationStorage=void 0;var o=a(1),j=a(4),_=a(8);const $=Object.freeze({map:null,hash:"",transfers:void 0});i.SerializableEmpty=$;class et{constructor(){tr(this,nt);tr(this,tt,!1);tr(this,rt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(gt,dt){const it=ft(this,rt).get(gt);return it===void 0?dt:Object.assign(dt,it)}getRawValue(gt){return ft(this,rt).get(gt)}remove(gt){if(ft(this,rt).delete(gt),ft(this,rt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const dt of ft(this,rt).values())if(dt instanceof j.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(gt,dt){const it=ft(this,rt).get(gt);let lt=!1;if(it!==void 0)for(const[ut,mt]of Object.entries(dt))it[ut]!==mt&&(lt=!0,it[ut]=mt);else lt=!0,ft(this,rt).set(gt,dt);lt&&Kt(this,nt,Ls).call(this),dt instanceof j.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(dt.constructor._type)}has(gt){return ft(this,rt).has(gt)}getAll(){return ft(this,rt).size>0?(0,o.objectFromMap)(ft(this,rt)):null}setAll(gt){for(const[dt,it]of Object.entries(gt))this.setValue(dt,it)}get size(){return ft(this,rt).size}resetModified(){ft(this,tt)&&(nr(this,tt,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new _e(this)}get serializable(){if(ft(this,rt).size===0)return $;const gt=new Map,dt=new _.MurmurHash3_64,it=[],lt=Object.create(null);let ut=!1;for(const[mt,ht]of ft(this,rt)){const vt=ht instanceof j.AnnotationEditor?ht.serialize(!1,lt):ht;vt&&(gt.set(mt,vt),dt.update(`${mt}:${JSON.stringify(vt)}`),ut||(ut=!!vt.bitmap))}if(ut)for(const mt of gt.values())mt.bitmap&&it.push(mt.bitmap);return gt.size>0?{map:gt,hash:dt.hexdigest(),transfers:it}:$}}tt=new WeakMap,rt=new WeakMap,nt=new WeakSet,Ls=function(){ft(this,tt)||(nr(this,tt,!0),typeof this.onSetModified=="function"&&this.onSetModified())},i.AnnotationStorage=et;class _e extends et{constructor(dt){super();tr(this,ot);const{map:it,hash:lt,transfers:ut}=dt.serializable,mt=structuredClone(it,ut?{transfer:ut}:null);nr(this,ot,{map:mt,hash:lt,transfers:ut})}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return ft(this,ot)}}ot=new WeakMap,i.PrintAnnotationStorage=_e},(s,i,a)=>{var _e,tt,rt,nt,st,ot,ct,gt,dt,it,lt,ut,mt,ht,vt,zn,Vn,yt,Wn,Gn,Ms,Fs,Os,Hn,$s;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditor=void 0;var o=a(5),j=a(1),_=a(6);const Nt=class Nt{constructor(kt){tr(this,vt);tr(this,_e,"");tr(this,tt,!1);tr(this,rt,null);tr(this,nt,null);tr(this,st,null);tr(this,ot,!1);tr(this,ct,null);tr(this,gt,this.focusin.bind(this));tr(this,dt,this.focusout.bind(this));tr(this,it,!1);tr(this,lt,!1);tr(this,ut,!1);Gr(this,"_initialOptions",Object.create(null));Gr(this,"_uiManager",null);Gr(this,"_focusEventsAllowed",!0);Gr(this,"_l10nPromise",null);tr(this,mt,!1);tr(this,ht,Nt._zIndex++);this.constructor===Nt&&(0,j.unreachable)("Cannot initialize AnnotationEditor."),this.parent=kt.parent,this.id=kt.id,this.width=this.height=null,this.pageIndex=kt.parent.pageIndex,this.name=kt.name,this.div=null,this._uiManager=kt.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=kt.isCentered,this._structTreeParentId=null;const{rotation:Dt,rawDims:{pageWidth:zt,pageHeight:Ct,pageX:bt,pageY:Et}}=this.parent.viewport;this.rotation=Dt,this.pageRotation=(360+Dt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[zt,Ct],this.pageTranslation=[bt,Et];const[St,It]=this.parentDimensions;this.x=kt.x/St,this.y=kt.y/It,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,j.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(kt){const Dt=new et({id:kt.parent.getNextId(),parent:kt.parent,uiManager:kt._uiManager});Dt.annotationElementId=kt.annotationElementId,Dt.deleted=!0,Dt._uiManager.addToAnnotationStorage(Dt)}static initialize(kt,Dt=null){if(Nt._l10nPromise||(Nt._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Ct=>[Ct,kt.get(Ct)]))),Dt!=null&&Dt.strings)for(const Ct of Dt.strings)Nt._l10nPromise.set(Ct,kt.get(Ct));if(Nt._borderLineWidth!==-1)return;const zt=getComputedStyle(document.documentElement);Nt._borderLineWidth=parseFloat(zt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(kt,Dt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(kt){return!1}static paste(kt,Dt){(0,j.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return ft(this,mt)}set _isDraggable(kt){var Dt;nr(this,mt,kt),(Dt=this.div)==null||Dt.classList.toggle("draggable",kt)}center(){const[kt,Dt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Dt/(kt*2),this.y+=this.width*kt/(Dt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Dt/(kt*2),this.y-=this.width*kt/(Dt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(kt){this._uiManager.addCommands(kt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=ft(this,ht)}setParent(kt){kt!==null&&(this.pageIndex=kt.pageIndex,this.pageDimensions=kt.pageDimensions),this.parent=kt}focusin(kt){this._focusEventsAllowed&&(ft(this,it)?nr(this,it,!1):this.parent.setSelected(this))}focusout(kt){var zt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Dt=kt.relatedTarget;Dt!=null&&Dt.closest(`#${this.id}`)||(kt.preventDefault(),(zt=this.parent)!=null&&zt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(kt,Dt,zt,Ct){const[bt,Et]=this.parentDimensions;[zt,Ct]=this.screenToPageTranslation(zt,Ct),this.x=(kt+zt)/bt,this.y=(Dt+Ct)/Et,this.fixAndSetPosition()}translate(kt,Dt){Kt(this,vt,zn).call(this,this.parentDimensions,kt,Dt)}translateInPage(kt,Dt){Kt(this,vt,zn).call(this,this.pageDimensions,kt,Dt),this.div.scrollIntoView({block:"nearest"})}drag(kt,Dt){const[zt,Ct]=this.parentDimensions;if(this.x+=kt/zt,this.y+=Dt/Ct,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Pt,y:Mt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Pt,Mt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:bt,y:Et}=this;const[St,It]=Kt(this,vt,Vn).call(this);bt+=St,Et+=It,this.div.style.left=`${(100*bt).toFixed(2)}%`,this.div.style.top=`${(100*Et).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[kt,Dt]=this.pageDimensions;let{x:zt,y:Ct,width:bt,height:Et}=this;switch(bt*=kt,Et*=Dt,zt*=kt,Ct*=Dt,this.rotation){case 0:zt=Math.max(0,Math.min(kt-bt,zt)),Ct=Math.max(0,Math.min(Dt-Et,Ct));break;case 90:zt=Math.max(0,Math.min(kt-Et,zt)),Ct=Math.min(Dt,Math.max(bt,Ct));break;case 180:zt=Math.min(kt,Math.max(bt,zt)),Ct=Math.min(Dt,Math.max(Et,Ct));break;case 270:zt=Math.min(kt,Math.max(Et,zt)),Ct=Math.max(0,Math.min(Dt-bt,Ct));break}this.x=zt/=kt,this.y=Ct/=Dt;const[St,It]=Kt(this,vt,Vn).call(this);zt+=St,Ct+=It;const{style:Pt}=this.div;Pt.left=`${(100*zt).toFixed(2)}%`,Pt.top=`${(100*Ct).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(kt,Dt){var zt;return Kt(zt=Nt,yt,Wn).call(zt,kt,Dt,this.parentRotation)}pageTranslationToScreen(kt,Dt){var zt;return Kt(zt=Nt,yt,Wn).call(zt,kt,Dt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:kt,pageDimensions:[Dt,zt]}=this,Ct=Dt*kt,bt=zt*kt;return j.FeatureTest.isCSSRoundSupported?[Math.round(Ct),Math.round(bt)]:[Ct,bt]}setDims(kt,Dt){var bt;const[zt,Ct]=this.parentDimensions;this.div.style.width=`${(100*kt/zt).toFixed(2)}%`,ft(this,ot)||(this.div.style.height=`${(100*Dt/Ct).toFixed(2)}%`),(bt=ft(this,rt))==null||bt.classList.toggle("small",kt<Nt.SMALL_EDITOR_SIZE||Dt<Nt.SMALL_EDITOR_SIZE)}fixDims(){const{style:kt}=this.div,{height:Dt,width:zt}=kt,Ct=zt.endsWith("%"),bt=!ft(this,ot)&&Dt.endsWith("%");if(Ct&&bt)return;const[Et,St]=this.parentDimensions;Ct||(kt.width=`${(100*parseFloat(zt)/Et).toFixed(2)}%`),!ft(this,ot)&&!bt&&(kt.height=`${(100*parseFloat(Dt)/St).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(ft(this,rt))return;const kt=nr(this,rt,document.createElement("button"));kt.className="altText";const Dt=await Nt._l10nPromise.get("editor_alt_text_button_label");kt.textContent=Dt,kt.setAttribute("aria-label",Dt),kt.tabIndex="0",kt.addEventListener("contextmenu",_.noContextMenu),kt.addEventListener("pointerdown",zt=>zt.stopPropagation()),kt.addEventListener("click",zt=>{zt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),kt.addEventListener("keydown",zt=>{zt.target===kt&&zt.key==="Enter"&&(zt.preventDefault(),this._uiManager.editAltText(this))}),Kt(this,vt,Hn).call(this),this.div.append(kt),Nt.SMALL_EDITOR_SIZE||(Nt.SMALL_EDITOR_SIZE=Math.min(128,Math.round(kt.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:ft(this,_e),decorative:ft(this,tt)}}set altTextData({altText:kt,decorative:Dt}){ft(this,_e)===kt&&ft(this,tt)===Dt||(nr(this,_e,kt),nr(this,tt,Dt),Kt(this,vt,Hn).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",ft(this,gt)),this.div.addEventListener("focusout",ft(this,dt));const[kt,Dt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Dt/kt).toFixed(2)}%`,this.div.style.maxHeight=`${(100*kt/Dt).toFixed(2)}%`);const[zt,Ct]=this.getInitialTranslation();return this.translate(zt,Ct),(0,o.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(kt){const{isMac:Dt}=j.FeatureTest.platform;if(kt.button!==0||kt.ctrlKey&&Dt){kt.preventDefault();return}nr(this,it,!0),Kt(this,vt,$s).call(this,kt)}moveInDOM(){var kt;(kt=this.parent)==null||kt.moveEditorInDOM(this)}_setParentAndPosition(kt,Dt,zt){kt.changeParent(this),this.x=Dt,this.y=zt,this.fixAndSetPosition()}getRect(kt,Dt){const zt=this.parentScale,[Ct,bt]=this.pageDimensions,[Et,St]=this.pageTranslation,It=kt/zt,Pt=Dt/zt,Mt=this.x*Ct,Gt=this.y*bt,Yt=this.width*Ct,Zt=this.height*bt;switch(this.rotation){case 0:return[Mt+It+Et,bt-Gt-Pt-Zt+St,Mt+It+Yt+Et,bt-Gt-Pt+St];case 90:return[Mt+Pt+Et,bt-Gt+It+St,Mt+Pt+Zt+Et,bt-Gt+It+Yt+St];case 180:return[Mt-It-Yt+Et,bt-Gt+Pt+St,Mt-It+Et,bt-Gt+Pt+Zt+St];case 270:return[Mt-Pt-Zt+Et,bt-Gt-It-Yt+St,Mt-Pt+Et,bt-Gt-It+St];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(kt,Dt){const[zt,Ct,bt,Et]=kt,St=bt-zt,It=Et-Ct;switch(this.rotation){case 0:return[zt,Dt-Et,St,It];case 90:return[zt,Dt-Ct,It,St];case 180:return[bt,Dt-Ct,St,It];case 270:return[bt,Dt-Et,It,St];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){nr(this,ut,!0)}disableEditMode(){nr(this,ut,!1)}isInEditMode(){return ft(this,ut)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var kt,Dt;(kt=this.div)==null||kt.addEventListener("focusin",ft(this,gt)),(Dt=this.div)==null||Dt.addEventListener("focusout",ft(this,dt))}serialize(kt=!1,Dt=null){(0,j.unreachable)("An editor must be serializable")}static deserialize(kt,Dt,zt){const Ct=new this.prototype.constructor({parent:Dt,id:Dt.getNextId(),uiManager:zt});Ct.rotation=kt.rotation;const[bt,Et]=Ct.pageDimensions,[St,It,Pt,Mt]=Ct.getRectInCurrentCoords(kt.rect,Et);return Ct.x=St/bt,Ct.y=It/Et,Ct.width=Pt/bt,Ct.height=Mt/Et,Ct}remove(){var kt;this.div.removeEventListener("focusin",ft(this,gt)),this.div.removeEventListener("focusout",ft(this,dt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(kt=ft(this,rt))==null||kt.remove(),nr(this,rt,null),nr(this,nt,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Kt(this,vt,Ms).call(this),ft(this,ct).classList.remove("hidden"))}select(){var kt;this.makeResizable(),(kt=this.div)==null||kt.classList.add("selectedEditor")}unselect(){var kt,Dt,zt;(kt=ft(this,ct))==null||kt.classList.add("hidden"),(Dt=this.div)==null||Dt.classList.remove("selectedEditor"),(zt=this.div)!=null&&zt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(kt,Dt){}disableEditing(){ft(this,rt)&&(ft(this,rt).hidden=!0)}enableEditing(){ft(this,rt)&&(ft(this,rt).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return ft(this,lt)}set isEditing(kt){nr(this,lt,kt),this.parent&&(kt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(kt,Dt){nr(this,ot,!0);const zt=kt/Dt,{style:Ct}=this.div;Ct.aspectRatio=zt,Ct.height="auto"}static get MIN_SIZE(){return 16}};_e=new WeakMap,tt=new WeakMap,rt=new WeakMap,nt=new WeakMap,st=new WeakMap,ot=new WeakMap,ct=new WeakMap,gt=new WeakMap,dt=new WeakMap,it=new WeakMap,lt=new WeakMap,ut=new WeakMap,mt=new WeakMap,ht=new WeakMap,vt=new WeakSet,zn=function([kt,Dt],zt,Ct){[zt,Ct]=this.screenToPageTranslation(zt,Ct),this.x+=zt/kt,this.y+=Ct/Dt,this.fixAndSetPosition()},Vn=function(){const[kt,Dt]=this.parentDimensions,{_borderLineWidth:zt}=Nt,Ct=zt/kt,bt=zt/Dt;switch(this.rotation){case 90:return[-Ct,bt];case 180:return[Ct,bt];case 270:return[Ct,-bt];default:return[-Ct,-bt]}},yt=new WeakSet,Wn=function(kt,Dt,zt){switch(zt){case 90:return[Dt,-kt];case 180:return[-kt,-Dt];case 270:return[-Dt,kt];default:return[kt,Dt]}},Gn=function(kt){switch(kt){case 90:{const[Dt,zt]=this.pageDimensions;return[0,-Dt/zt,zt/Dt,0]}case 180:return[-1,0,0,-1];case 270:{const[Dt,zt]=this.pageDimensions;return[0,Dt/zt,-zt/Dt,0]}default:return[1,0,0,1]}},Ms=function(){if(ft(this,ct))return;nr(this,ct,document.createElement("div")),ft(this,ct).classList.add("resizers");const kt=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||kt.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Dt of kt){const zt=document.createElement("div");ft(this,ct).append(zt),zt.classList.add("resizer",Dt),zt.addEventListener("pointerdown",Kt(this,vt,Fs).bind(this,Dt)),zt.addEventListener("contextmenu",_.noContextMenu)}this.div.prepend(ft(this,ct))},Fs=function(kt,Dt){Dt.preventDefault();const{isMac:zt}=j.FeatureTest.platform;if(Dt.button!==0||Dt.ctrlKey&&zt)return;const Ct=Kt(this,vt,Os).bind(this,kt),bt=this._isDraggable;this._isDraggable=!1;const Et={passive:!0,capture:!0};window.addEventListener("pointermove",Ct,Et);const St=this.x,It=this.y,Pt=this.width,Mt=this.height,Gt=this.parent.div.style.cursor,Yt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Dt.target).cursor;const Zt=()=>{this._isDraggable=bt,window.removeEventListener("pointerup",Zt),window.removeEventListener("blur",Zt),window.removeEventListener("pointermove",Ct,Et),this.parent.div.style.cursor=Gt,this.div.style.cursor=Yt;const ir=this.x,cr=this.y,Jt=this.width,lr=this.height;ir===St&&cr===It&&Jt===Pt&&lr===Mt||this.addCommands({cmd:()=>{this.width=Jt,this.height=lr,this.x=ir,this.y=cr;const[qt,Xt]=this.parentDimensions;this.setDims(qt*Jt,Xt*lr),this.fixAndSetPosition()},undo:()=>{this.width=Pt,this.height=Mt,this.x=St,this.y=It;const[qt,Xt]=this.parentDimensions;this.setDims(qt*Pt,Xt*Mt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Zt),window.addEventListener("blur",Zt)},Os=function(kt,Dt){const[zt,Ct]=this.parentDimensions,bt=this.x,Et=this.y,St=this.width,It=this.height,Pt=Nt.MIN_SIZE/zt,Mt=Nt.MIN_SIZE/Ct,Gt=jr=>Math.round(jr*1e4)/1e4,Yt=Kt(this,vt,Gn).call(this,this.rotation),Zt=(jr,_r)=>[Yt[0]*jr+Yt[2]*_r,Yt[1]*jr+Yt[3]*_r],ir=Kt(this,vt,Gn).call(this,360-this.rotation),cr=(jr,_r)=>[ir[0]*jr+ir[2]*_r,ir[1]*jr+ir[3]*_r];let Jt,lr,qt=!1,Xt=!1;switch(kt){case"topLeft":qt=!0,Jt=(jr,_r)=>[0,0],lr=(jr,_r)=>[jr,_r];break;case"topMiddle":Jt=(jr,_r)=>[jr/2,0],lr=(jr,_r)=>[jr/2,_r];break;case"topRight":qt=!0,Jt=(jr,_r)=>[jr,0],lr=(jr,_r)=>[0,_r];break;case"middleRight":Xt=!0,Jt=(jr,_r)=>[jr,_r/2],lr=(jr,_r)=>[0,_r/2];break;case"bottomRight":qt=!0,Jt=(jr,_r)=>[jr,_r],lr=(jr,_r)=>[0,0];break;case"bottomMiddle":Jt=(jr,_r)=>[jr/2,_r],lr=(jr,_r)=>[jr/2,0];break;case"bottomLeft":qt=!0,Jt=(jr,_r)=>[0,_r],lr=(jr,_r)=>[jr,0];break;case"middleLeft":Xt=!0,Jt=(jr,_r)=>[0,_r/2],lr=(jr,_r)=>[jr,_r/2];break}const _t=Jt(St,It),Ot=lr(St,It);let Ht=Zt(...Ot);const Qt=Gt(bt+Ht[0]),or=Gt(Et+Ht[1]);let pr=1,dr=1,[Vt,vr]=this.screenToPageTranslation(Dt.movementX,Dt.movementY);if([Vt,vr]=cr(Vt/zt,vr/Ct),qt){const jr=Math.hypot(St,It);pr=dr=Math.max(Math.min(Math.hypot(Ot[0]-_t[0]-Vt,Ot[1]-_t[1]-vr)/jr,1/St,1/It),Pt/St,Mt/It)}else Xt?pr=Math.max(Pt,Math.min(1,Math.abs(Ot[0]-_t[0]-Vt)))/St:dr=Math.max(Mt,Math.min(1,Math.abs(Ot[1]-_t[1]-vr)))/It;const xr=Gt(St*pr),Ir=Gt(It*dr);Ht=Zt(...lr(xr,Ir));const Tr=Qt-Ht[0],Br=or-Ht[1];this.width=xr,this.height=Ir,this.x=Tr,this.y=Br,this.setDims(zt*xr,Ct*Ir),this.fixAndSetPosition()},Hn=async function(){var zt;const kt=ft(this,rt);if(!kt)return;if(!ft(this,_e)&&!ft(this,tt)){kt.classList.remove("done"),(zt=ft(this,nt))==null||zt.remove();return}Nt._l10nPromise.get("editor_alt_text_edit_button_label").then(Ct=>{kt.setAttribute("aria-label",Ct)});let Dt=ft(this,nt);if(!Dt){nr(this,nt,Dt=document.createElement("span")),Dt.className="tooltip",Dt.setAttribute("role","tooltip");const Ct=Dt.id=`alt-text-tooltip-${this.id}`;kt.setAttribute("aria-describedby",Ct);const bt=100;kt.addEventListener("mouseenter",()=>{nr(this,st,setTimeout(()=>{nr(this,st,null),ft(this,nt).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},bt))}),kt.addEventListener("mouseleave",()=>{var Et;clearTimeout(ft(this,st)),nr(this,st,null),(Et=ft(this,nt))==null||Et.classList.remove("show")})}kt.classList.add("done"),Dt.innerText=ft(this,tt)?await Nt._l10nPromise.get("editor_alt_text_decorative_tooltip"):ft(this,_e),Dt.parentNode||kt.append(Dt)},$s=function(kt){if(!this._isDraggable)return;const Dt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let zt,Ct;Dt&&(zt={passive:!0,capture:!0},Ct=Et=>{const[St,It]=this.screenToPageTranslation(Et.movementX,Et.movementY);this._uiManager.dragSelectedEditors(St,It)},window.addEventListener("pointermove",Ct,zt));const bt=()=>{if(window.removeEventListener("pointerup",bt),window.removeEventListener("blur",bt),Dt&&window.removeEventListener("pointermove",Ct,zt),nr(this,it,!1),!this._uiManager.endDragSession()){const{isMac:Et}=j.FeatureTest.platform;kt.ctrlKey&&!Et||kt.shiftKey||kt.metaKey&&Et?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",bt),window.addEventListener("blur",bt)},tr(Nt,yt),Gr(Nt,"_borderLineWidth",-1),Gr(Nt,"_colorManager",new o.ColorManager),Gr(Nt,"_zIndex",1),Gr(Nt,"SMALL_EDITOR_SIZE",0);let $=Nt;i.AnnotationEditor=$;class et extends ${constructor(kt){super(kt),this.annotationElementId=kt.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(s,i,a)=>{var ot,ct,gt,dt,it,qn,mt,ht,vt,at,pt,Bs,xt,wt,At,Ut,Ft,Bt,Nt,Rt,kt,Dt,zt,Ct,bt,Et,St,It,Pt,Mt,Gt,Yt,Zt,ir,cr,Jt,lr,qt,Xt,_t,Ot,Ht,Qt,or,pr,dr,Vt,Us,Xn,Kn,Cn,Yn,Jn,Qr,xn,zs,Vs,Qn,vn,Zn;Object.defineProperty(i,"__esModule",{value:!0}),i.KeyboardManager=i.CommandManager=i.ColorManager=i.AnnotationEditorUIManager=void 0,i.bindEvents=_,i.opacityToHex=$;var o=a(1),j=a(6);function _(Lr,$t,ur){for(const yr of ur)$t.addEventListener(yr,Lr[yr].bind(Lr))}function $(Lr){return Math.round(Math.min(255,Math.max(1,255*Lr))).toString(16).padStart(2,"0")}class et{constructor(){tr(this,ot,0)}getId(){return`${o.AnnotationEditorPrefix}${gn(this,ot)._++}`}}ot=new WeakMap;const ut=class ut{constructor(){tr(this,it);tr(this,ct,(0,o.getUuid)());tr(this,gt,0);tr(this,dt,null)}static get _isSVGFittingCanvas(){const $t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',yr=new OffscreenCanvas(1,3).getContext("2d"),Ar=new Image;Ar.src=$t;const Pr=Ar.decode().then(()=>(yr.drawImage(Ar,0,0,1,1,0,0,1,3),new Uint32Array(yr.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,o.shadow)(this,"_isSVGFittingCanvas",Pr)}async getFromFile($t){const{lastModified:ur,name:yr,size:Ar,type:Pr}=$t;return Kt(this,it,qn).call(this,`${ur}_${yr}_${Ar}_${Pr}`,$t)}async getFromUrl($t){return Kt(this,it,qn).call(this,$t,$t)}async getFromId($t){ft(this,dt)||nr(this,dt,new Map);const ur=ft(this,dt).get($t);return ur?ur.bitmap?(ur.refCounter+=1,ur):ur.file?this.getFromFile(ur.file):this.getFromUrl(ur.url):null}getSvgUrl($t){const ur=ft(this,dt).get($t);return ur!=null&&ur.isSvg?ur.svgUrl:null}deleteId($t){ft(this,dt)||nr(this,dt,new Map);const ur=ft(this,dt).get($t);ur&&(ur.refCounter-=1,ur.refCounter===0&&(ur.bitmap=null))}isValidId($t){return $t.startsWith(`image_${ft(this,ct)}_`)}};ct=new WeakMap,gt=new WeakMap,dt=new WeakMap,it=new WeakSet,qn=async function($t,ur){ft(this,dt)||nr(this,dt,new Map);let yr=ft(this,dt).get($t);if(yr===null)return null;if(yr!=null&&yr.bitmap)return yr.refCounter+=1,yr;try{yr||(yr={bitmap:null,id:`image_${ft(this,ct)}_${gn(this,gt)._++}`,refCounter:0,isSvg:!1});let Ar;if(typeof ur=="string"){yr.url=ur;const Pr=await fetch(ur);if(!Pr.ok)throw new Error(Pr.statusText);Ar=await Pr.blob()}else Ar=yr.file=ur;if(Ar.type==="image/svg+xml"){const Pr=ut._isSVGFittingCanvas,Er=new FileReader,Lt=new Image,Tt=new Promise((Wt,sr)=>{Lt.onload=()=>{yr.bitmap=Lt,yr.isSvg=!0,Wt()},Er.onload=async()=>{const ar=yr.svgUrl=Er.result;Lt.src=await Pr?`${ar}#svgView(preserveAspectRatio(none))`:ar},Lt.onerror=Er.onerror=sr});Er.readAsDataURL(Ar),await Tt}else yr.bitmap=await createImageBitmap(Ar);yr.refCounter=1}catch(Ar){console.error(Ar),yr=null}return ft(this,dt).set($t,yr),yr&&ft(this,dt).set(yr.id,yr),yr};let _e=ut;class tt{constructor($t=128){tr(this,mt,[]);tr(this,ht,!1);tr(this,vt);tr(this,at,-1);nr(this,vt,$t)}add({cmd:$t,undo:ur,mustExec:yr,type:Ar=NaN,overwriteIfSameType:Pr=!1,keepUndo:Er=!1}){if(yr&&$t(),ft(this,ht))return;const Lt={cmd:$t,undo:ur,type:Ar};if(ft(this,at)===-1){ft(this,mt).length>0&&(ft(this,mt).length=0),nr(this,at,0),ft(this,mt).push(Lt);return}if(Pr&&ft(this,mt)[ft(this,at)].type===Ar){Er&&(Lt.undo=ft(this,mt)[ft(this,at)].undo),ft(this,mt)[ft(this,at)]=Lt;return}const Tt=ft(this,at)+1;Tt===ft(this,vt)?ft(this,mt).splice(0,1):(nr(this,at,Tt),Tt<ft(this,mt).length&&ft(this,mt).splice(Tt)),ft(this,mt).push(Lt)}undo(){ft(this,at)!==-1&&(nr(this,ht,!0),ft(this,mt)[ft(this,at)].undo(),nr(this,ht,!1),nr(this,at,ft(this,at)-1))}redo(){ft(this,at)<ft(this,mt).length-1&&(nr(this,at,ft(this,at)+1),nr(this,ht,!0),ft(this,mt)[ft(this,at)].cmd(),nr(this,ht,!1))}hasSomethingToUndo(){return ft(this,at)!==-1}hasSomethingToRedo(){return ft(this,at)<ft(this,mt).length-1}destroy(){nr(this,mt,null)}}mt=new WeakMap,ht=new WeakMap,vt=new WeakMap,at=new WeakMap,i.CommandManager=tt;class rt{constructor($t){tr(this,pt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:ur}=o.FeatureTest.platform;for(const[yr,Ar,Pr={}]of $t)for(const Er of yr){const Lt=Er.startsWith("mac+");ur&&Lt?(this.callbacks.set(Er.slice(4),{callback:Ar,options:Pr}),this.allKeys.add(Er.split("+").at(-1))):!ur&&!Lt&&(this.callbacks.set(Er,{callback:Ar,options:Pr}),this.allKeys.add(Er.split("+").at(-1)))}}exec($t,ur){if(!this.allKeys.has(ur.key))return;const yr=this.callbacks.get(Kt(this,pt,Bs).call(this,ur));if(!yr)return;const{callback:Ar,options:{bubbles:Pr=!1,args:Er=[],checker:Lt=null}}=yr;Lt&&!Lt($t,ur)||(Ar.bind($t,...Er)(),Pr||(ur.stopPropagation(),ur.preventDefault()))}}pt=new WeakSet,Bs=function($t){$t.altKey&&this.buffer.push("alt"),$t.ctrlKey&&this.buffer.push("ctrl"),$t.metaKey&&this.buffer.push("meta"),$t.shiftKey&&this.buffer.push("shift"),this.buffer.push($t.key);const ur=this.buffer.join("+");return this.buffer.length=0,ur},i.KeyboardManager=rt;const jt=class jt{get _colors(){const $t=new Map([["CanvasText",null],["Canvas",null]]);return(0,j.getColorValues)($t),(0,o.shadow)(this,"_colors",$t)}convert($t){const ur=(0,j.getRGB)($t);if(!window.matchMedia("(forced-colors: active)").matches)return ur;for(const[yr,Ar]of this._colors)if(Ar.every((Pr,Er)=>Pr===ur[Er]))return jt._colorsMapping.get(yr);return ur}getHexCode($t){const ur=this._colors.get($t);return ur?o.Util.makeHexColor(...ur):$t}};Gr(jt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let nt=jt;i.ColorManager=nt;const Ur=class Ur{constructor($t,ur,yr,Ar,Pr,Er){tr(this,Vt);tr(this,xt,null);tr(this,wt,new Map);tr(this,At,new Map);tr(this,Ut,null);tr(this,Ft,null);tr(this,Bt,new tt);tr(this,Nt,0);tr(this,Rt,new Set);tr(this,kt,null);tr(this,Dt,null);tr(this,zt,new Set);tr(this,Ct,null);tr(this,bt,new et);tr(this,Et,!1);tr(this,St,!1);tr(this,It,null);tr(this,Pt,o.AnnotationEditorType.NONE);tr(this,Mt,new Set);tr(this,Gt,null);tr(this,Yt,this.blur.bind(this));tr(this,Zt,this.focus.bind(this));tr(this,ir,this.copy.bind(this));tr(this,cr,this.cut.bind(this));tr(this,Jt,this.paste.bind(this));tr(this,lr,this.keydown.bind(this));tr(this,qt,this.onEditingAction.bind(this));tr(this,Xt,this.onPageChanging.bind(this));tr(this,_t,this.onScaleChanging.bind(this));tr(this,Ot,this.onRotationChanging.bind(this));tr(this,Ht,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});tr(this,Qt,[0,0]);tr(this,or,null);tr(this,pr,null);tr(this,dr,null);nr(this,pr,$t),nr(this,dr,ur),nr(this,Ut,yr),this._eventBus=Ar,this._eventBus._on("editingaction",ft(this,qt)),this._eventBus._on("pagechanging",ft(this,Xt)),this._eventBus._on("scalechanging",ft(this,_t)),this._eventBus._on("rotationchanging",ft(this,Ot)),nr(this,Ft,Pr.annotationStorage),nr(this,Ct,Pr.filterFactory),nr(this,Gt,Er),this.viewParameters={realScale:j.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const $t=Ur.prototype,ur=Pr=>{const{activeElement:Er}=document;return Er&&ft(Pr,pr).contains(Er)&&Pr.hasSomethingToControl()},yr=this.TRANSLATE_SMALL,Ar=this.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new rt([[["ctrl+a","mac+meta+a"],$t.selectAll],[["ctrl+z","mac+meta+z"],$t.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],$t.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],$t.delete],[["Escape","mac+Escape"],$t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],$t.translateSelectedEditors,{args:[-yr,0],checker:ur}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$t.translateSelectedEditors,{args:[-Ar,0],checker:ur}],[["ArrowRight","mac+ArrowRight"],$t.translateSelectedEditors,{args:[yr,0],checker:ur}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$t.translateSelectedEditors,{args:[Ar,0],checker:ur}],[["ArrowUp","mac+ArrowUp"],$t.translateSelectedEditors,{args:[0,-yr],checker:ur}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$t.translateSelectedEditors,{args:[0,-Ar],checker:ur}],[["ArrowDown","mac+ArrowDown"],$t.translateSelectedEditors,{args:[0,yr],checker:ur}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$t.translateSelectedEditors,{args:[0,Ar],checker:ur}]]))}destroy(){Kt(this,Vt,Cn).call(this),Kt(this,Vt,Xn).call(this),this._eventBus._off("editingaction",ft(this,qt)),this._eventBus._off("pagechanging",ft(this,Xt)),this._eventBus._off("scalechanging",ft(this,_t)),this._eventBus._off("rotationchanging",ft(this,Ot));for(const $t of ft(this,At).values())$t.destroy();ft(this,At).clear(),ft(this,wt).clear(),ft(this,zt).clear(),nr(this,xt,null),ft(this,Mt).clear(),ft(this,Bt).destroy(),ft(this,Ut).destroy()}get hcmFilter(){return(0,o.shadow)(this,"hcmFilter",ft(this,Gt)?ft(this,Ct).addHCMFilter(ft(this,Gt).foreground,ft(this,Gt).background):"none")}get direction(){return(0,o.shadow)(this,"direction",getComputedStyle(ft(this,pr)).direction)}editAltText($t){var ur;(ur=ft(this,Ut))==null||ur.editAltText(this,$t)}onPageChanging({pageNumber:$t}){nr(this,Nt,$t-1)}focusMainContainer(){ft(this,pr).focus()}findParent($t,ur){for(const yr of ft(this,At).values()){const{x:Ar,y:Pr,width:Er,height:Lt}=yr.div.getBoundingClientRect();if($t>=Ar&&$t<=Ar+Er&&ur>=Pr&&ur<=Pr+Lt)return yr}return null}disableUserSelect($t=!1){ft(this,dr).classList.toggle("noUserSelect",$t)}addShouldRescale($t){ft(this,zt).add($t)}removeShouldRescale($t){ft(this,zt).delete($t)}onScaleChanging({scale:$t}){this.commitOrRemove(),this.viewParameters.realScale=$t*j.PixelsPerInch.PDF_TO_CSS_UNITS;for(const ur of ft(this,zt))ur.onScaleChanging()}onRotationChanging({pagesRotation:$t}){this.commitOrRemove(),this.viewParameters.rotation=$t}addToAnnotationStorage($t){!$t.isEmpty()&&ft(this,Ft)&&!ft(this,Ft).has($t.id)&&ft(this,Ft).setValue($t.id,$t)}blur(){if(!this.hasSelection)return;const{activeElement:$t}=document;for(const ur of ft(this,Mt))if(ur.div.contains($t)){nr(this,It,[ur,$t]),ur._focusEventsAllowed=!1;break}}focus(){if(!ft(this,It))return;const[$t,ur]=ft(this,It);nr(this,It,null),ur.addEventListener("focusin",()=>{$t._focusEventsAllowed=!0},{once:!0}),ur.focus()}addEditListeners(){Kt(this,Vt,Kn).call(this),Kt(this,Vt,Yn).call(this)}removeEditListeners(){Kt(this,Vt,Cn).call(this),Kt(this,Vt,Jn).call(this)}copy($t){var yr;if($t.preventDefault(),(yr=ft(this,xt))==null||yr.commitOrRemove(),!this.hasSelection)return;const ur=[];for(const Ar of ft(this,Mt)){const Pr=Ar.serialize(!0);Pr&&ur.push(Pr)}ur.length!==0&&$t.clipboardData.setData("application/pdfjs",JSON.stringify(ur))}cut($t){this.copy($t),this.delete()}paste($t){$t.preventDefault();const{clipboardData:ur}=$t;for(const Pr of ur.items)for(const Er of ft(this,Dt))if(Er.isHandlingMimeForPasting(Pr.type)){Er.paste(Pr,this.currentLayer);return}let yr=ur.getData("application/pdfjs");if(!yr)return;try{yr=JSON.parse(yr)}catch(Pr){(0,o.warn)(`paste: "${Pr.message}".`);return}if(!Array.isArray(yr))return;this.unselectAll();const Ar=this.currentLayer;try{const Pr=[];for(const Tt of yr){const Wt=Ar.deserialize(Tt);if(!Wt)return;Pr.push(Wt)}const Er=()=>{for(const Tt of Pr)Kt(this,Vt,Qn).call(this,Tt);Kt(this,Vt,Zn).call(this,Pr)},Lt=()=>{for(const Tt of Pr)Tt.remove()};this.addCommands({cmd:Er,undo:Lt,mustExec:!0})}catch(Pr){(0,o.warn)(`paste: "${Pr.message}".`)}}keydown($t){var ur;(ur=this.getActive())!=null&&ur.shouldGetKeyboardEvents()||Ur._keyboardManager.exec(this,$t)}onEditingAction($t){["undo","redo","delete","selectAll"].includes($t.name)&&this[$t.name]()}setEditingState($t){$t?(Kt(this,Vt,Us).call(this),Kt(this,Vt,Kn).call(this),Kt(this,Vt,Yn).call(this),Kt(this,Vt,Qr).call(this,{isEditing:ft(this,Pt)!==o.AnnotationEditorType.NONE,isEmpty:Kt(this,Vt,vn).call(this),hasSomethingToUndo:ft(this,Bt).hasSomethingToUndo(),hasSomethingToRedo:ft(this,Bt).hasSomethingToRedo(),hasSelectedEditor:!1})):(Kt(this,Vt,Xn).call(this),Kt(this,Vt,Cn).call(this),Kt(this,Vt,Jn).call(this),Kt(this,Vt,Qr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes($t){if(!ft(this,Dt)){nr(this,Dt,$t);for(const ur of ft(this,Dt))Kt(this,Vt,xn).call(this,ur.defaultPropertiesToUpdate)}}getId(){return ft(this,bt).getId()}get currentLayer(){return ft(this,At).get(ft(this,Nt))}getLayer($t){return ft(this,At).get($t)}get currentPageIndex(){return ft(this,Nt)}addLayer($t){ft(this,At).set($t.pageIndex,$t),ft(this,Et)?$t.enable():$t.disable()}removeLayer($t){ft(this,At).delete($t.pageIndex)}updateMode($t,ur=null){if(ft(this,Pt)!==$t){if(nr(this,Pt,$t),$t===o.AnnotationEditorType.NONE){this.setEditingState(!1),Kt(this,Vt,Vs).call(this);return}this.setEditingState(!0),Kt(this,Vt,zs).call(this),this.unselectAll();for(const yr of ft(this,At).values())yr.updateMode($t);if(ur){for(const yr of ft(this,wt).values())if(yr.annotationElementId===ur){this.setSelected(yr),yr.enterInEditMode();break}}}}updateToolbar($t){$t!==ft(this,Pt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:$t})}updateParams($t,ur){if(ft(this,Dt)){if($t===o.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor($t);return}for(const yr of ft(this,Mt))yr.updateParams($t,ur);for(const yr of ft(this,Dt))yr.updateDefaultParams($t,ur)}}enableWaiting($t=!1){if(ft(this,St)!==$t){nr(this,St,$t);for(const ur of ft(this,At).values())$t?ur.disableClick():ur.enableClick(),ur.div.classList.toggle("waiting",$t)}}getEditors($t){const ur=[];for(const yr of ft(this,wt).values())yr.pageIndex===$t&&ur.push(yr);return ur}getEditor($t){return ft(this,wt).get($t)}addEditor($t){ft(this,wt).set($t.id,$t)}removeEditor($t){var ur;ft(this,wt).delete($t.id),this.unselect($t),(!$t.annotationElementId||!ft(this,Rt).has($t.annotationElementId))&&((ur=ft(this,Ft))==null||ur.remove($t.id))}addDeletedAnnotationElement($t){ft(this,Rt).add($t.annotationElementId),$t.deleted=!0}isDeletedAnnotationElement($t){return ft(this,Rt).has($t)}removeDeletedAnnotationElement($t){ft(this,Rt).delete($t.annotationElementId),$t.deleted=!1}setActiveEditor($t){ft(this,xt)!==$t&&(nr(this,xt,$t),$t&&Kt(this,Vt,xn).call(this,$t.propertiesToUpdate))}toggleSelected($t){if(ft(this,Mt).has($t)){ft(this,Mt).delete($t),$t.unselect(),Kt(this,Vt,Qr).call(this,{hasSelectedEditor:this.hasSelection});return}ft(this,Mt).add($t),$t.select(),Kt(this,Vt,xn).call(this,$t.propertiesToUpdate),Kt(this,Vt,Qr).call(this,{hasSelectedEditor:!0})}setSelected($t){for(const ur of ft(this,Mt))ur!==$t&&ur.unselect();ft(this,Mt).clear(),ft(this,Mt).add($t),$t.select(),Kt(this,Vt,xn).call(this,$t.propertiesToUpdate),Kt(this,Vt,Qr).call(this,{hasSelectedEditor:!0})}isSelected($t){return ft(this,Mt).has($t)}unselect($t){$t.unselect(),ft(this,Mt).delete($t),Kt(this,Vt,Qr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return ft(this,Mt).size!==0}undo(){ft(this,Bt).undo(),Kt(this,Vt,Qr).call(this,{hasSomethingToUndo:ft(this,Bt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Kt(this,Vt,vn).call(this)})}redo(){ft(this,Bt).redo(),Kt(this,Vt,Qr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:ft(this,Bt).hasSomethingToRedo(),isEmpty:Kt(this,Vt,vn).call(this)})}addCommands($t){ft(this,Bt).add($t),Kt(this,Vt,Qr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Kt(this,Vt,vn).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const $t=[...ft(this,Mt)],ur=()=>{for(const Ar of $t)Ar.remove()},yr=()=>{for(const Ar of $t)Kt(this,Vt,Qn).call(this,Ar)};this.addCommands({cmd:ur,undo:yr,mustExec:!0})}commitOrRemove(){var $t;($t=ft(this,xt))==null||$t.commitOrRemove()}hasSomethingToControl(){return ft(this,xt)||this.hasSelection}selectAll(){for(const $t of ft(this,Mt))$t.commit();Kt(this,Vt,Zn).call(this,ft(this,wt).values())}unselectAll(){if(ft(this,xt)){ft(this,xt).commitOrRemove();return}if(this.hasSelection){for(const $t of ft(this,Mt))$t.unselect();ft(this,Mt).clear(),Kt(this,Vt,Qr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors($t,ur,yr=!1){if(yr||this.commitOrRemove(),!this.hasSelection)return;ft(this,Qt)[0]+=$t,ft(this,Qt)[1]+=ur;const[Ar,Pr]=ft(this,Qt),Er=[...ft(this,Mt)],Lt=1e3;ft(this,or)&&clearTimeout(ft(this,or)),nr(this,or,setTimeout(()=>{nr(this,or,null),ft(this,Qt)[0]=ft(this,Qt)[1]=0,this.addCommands({cmd:()=>{for(const Tt of Er)ft(this,wt).has(Tt.id)&&Tt.translateInPage(Ar,Pr)},undo:()=>{for(const Tt of Er)ft(this,wt).has(Tt.id)&&Tt.translateInPage(-Ar,-Pr)},mustExec:!1})},Lt));for(const Tt of Er)Tt.translateInPage($t,ur)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),nr(this,kt,new Map);for(const $t of ft(this,Mt))ft(this,kt).set($t,{savedX:$t.x,savedY:$t.y,savedPageIndex:$t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!ft(this,kt))return!1;this.disableUserSelect(!1);const $t=ft(this,kt);nr(this,kt,null);let ur=!1;for(const[{x:Ar,y:Pr,pageIndex:Er},Lt]of $t)Lt.newX=Ar,Lt.newY=Pr,Lt.newPageIndex=Er,ur||(ur=Ar!==Lt.savedX||Pr!==Lt.savedY||Er!==Lt.savedPageIndex);if(!ur)return!1;const yr=(Ar,Pr,Er,Lt)=>{if(ft(this,wt).has(Ar.id)){const Tt=ft(this,At).get(Lt);Tt?Ar._setParentAndPosition(Tt,Pr,Er):(Ar.pageIndex=Lt,Ar.x=Pr,Ar.y=Er)}};return this.addCommands({cmd:()=>{for(const[Ar,{newX:Pr,newY:Er,newPageIndex:Lt}]of $t)yr(Ar,Pr,Er,Lt)},undo:()=>{for(const[Ar,{savedX:Pr,savedY:Er,savedPageIndex:Lt}]of $t)yr(Ar,Pr,Er,Lt)},mustExec:!0}),!0}dragSelectedEditors($t,ur){if(ft(this,kt))for(const yr of ft(this,kt).keys())yr.drag($t,ur)}rebuild($t){if($t.parent===null){const ur=this.getLayer($t.pageIndex);ur?(ur.changeParent($t),ur.addOrRebuild($t)):(this.addEditor($t),this.addToAnnotationStorage($t),$t.rebuild())}else $t.parent.addOrRebuild($t)}isActive($t){return ft(this,xt)===$t}getActive(){return ft(this,xt)}getMode(){return ft(this,Pt)}get imageManager(){return(0,o.shadow)(this,"imageManager",new _e)}};xt=new WeakMap,wt=new WeakMap,At=new WeakMap,Ut=new WeakMap,Ft=new WeakMap,Bt=new WeakMap,Nt=new WeakMap,Rt=new WeakMap,kt=new WeakMap,Dt=new WeakMap,zt=new WeakMap,Ct=new WeakMap,bt=new WeakMap,Et=new WeakMap,St=new WeakMap,It=new WeakMap,Pt=new WeakMap,Mt=new WeakMap,Gt=new WeakMap,Yt=new WeakMap,Zt=new WeakMap,ir=new WeakMap,cr=new WeakMap,Jt=new WeakMap,lr=new WeakMap,qt=new WeakMap,Xt=new WeakMap,_t=new WeakMap,Ot=new WeakMap,Ht=new WeakMap,Qt=new WeakMap,or=new WeakMap,pr=new WeakMap,dr=new WeakMap,Vt=new WeakSet,Us=function(){window.addEventListener("focus",ft(this,Zt)),window.addEventListener("blur",ft(this,Yt))},Xn=function(){window.removeEventListener("focus",ft(this,Zt)),window.removeEventListener("blur",ft(this,Yt))},Kn=function(){window.addEventListener("keydown",ft(this,lr),{capture:!0})},Cn=function(){window.removeEventListener("keydown",ft(this,lr),{capture:!0})},Yn=function(){document.addEventListener("copy",ft(this,ir)),document.addEventListener("cut",ft(this,cr)),document.addEventListener("paste",ft(this,Jt))},Jn=function(){document.removeEventListener("copy",ft(this,ir)),document.removeEventListener("cut",ft(this,cr)),document.removeEventListener("paste",ft(this,Jt))},Qr=function($t){Object.entries($t).some(([yr,Ar])=>ft(this,Ht)[yr]!==Ar)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(ft(this,Ht),$t)})},xn=function($t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:$t})},zs=function(){if(!ft(this,Et)){nr(this,Et,!0);for(const $t of ft(this,At).values())$t.enable()}},Vs=function(){if(this.unselectAll(),ft(this,Et)){nr(this,Et,!1);for(const $t of ft(this,At).values())$t.disable()}},Qn=function($t){const ur=ft(this,At).get($t.pageIndex);ur?ur.addOrRebuild($t):this.addEditor($t)},vn=function(){if(ft(this,wt).size===0)return!0;if(ft(this,wt).size===1)for(const $t of ft(this,wt).values())return $t.isEmpty();return!1},Zn=function($t){ft(this,Mt).clear();for(const ur of $t)ur.isEmpty()||(ft(this,Mt).add(ur),ur.select());Kt(this,Vt,Qr).call(this,{hasSelectedEditor:!0})},Gr(Ur,"TRANSLATE_SMALL",1),Gr(Ur,"TRANSLATE_BIG",10);let st=Ur;i.AnnotationEditorUIManager=st},(s,i,a)=>{var Nt,Rt,kt,Dt,zt,Ct,bt,Et,St,It,Pt,Mt,un,dn,es,_n,Nn,yn,bn;Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMFilterFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=void 0,i.deprecated=at,i.getColorValues=wt,i.getCurrentTransform=At,i.getCurrentTransformInverse=Ut,i.getFilenameFromUrl=it,i.getPdfFilenameFromUrl=lt,i.getRGB=xt,i.getXfaPageViewport=jt,i.isDataScheme=gt,i.isPdfFile=dt,i.isValidFetchUrl=mt,i.loadScript=vt,i.noContextMenu=ht,i.setLayerDimensions=Ft;var o=a(7),j=a(1);const _="http://www.w3.org/2000/svg",Bt=class Bt{};Gr(Bt,"CSS",96),Gr(Bt,"PDF",72),Gr(Bt,"PDF_TO_CSS_UNITS",Bt.CSS/Bt.PDF);let $=Bt;i.PixelsPerInch=$;class et extends o.BaseFilterFactory{constructor({docId:_t,ownerDocument:Ot=globalThis.document}={}){super();tr(this,Mt);tr(this,Nt);tr(this,Rt);tr(this,kt);tr(this,Dt);tr(this,zt);tr(this,Ct);tr(this,bt);tr(this,Et);tr(this,St);tr(this,It);tr(this,Pt,0);nr(this,kt,_t),nr(this,Dt,Ot)}addFilter(_t){if(!_t)return"none";let Ot=ft(this,Mt,un).get(_t);if(Ot)return Ot;let Ht,Qt,or,pr;if(_t.length===1){const xr=_t[0],Ir=new Array(256);for(let Tr=0;Tr<256;Tr++)Ir[Tr]=xr[Tr]/255;pr=Ht=Qt=or=Ir.join(",")}else{const[xr,Ir,Tr]=_t,Br=new Array(256),jr=new Array(256),_r=new Array(256);for(let Fr=0;Fr<256;Fr++)Br[Fr]=xr[Fr]/255,jr[Fr]=Ir[Fr]/255,_r[Fr]=Tr[Fr]/255;Ht=Br.join(","),Qt=jr.join(","),or=_r.join(","),pr=`${Ht}${Qt}${or}`}if(Ot=ft(this,Mt,un).get(pr),Ot)return ft(this,Mt,un).set(_t,Ot),Ot;const dr=`g_${ft(this,kt)}_transfer_map_${gn(this,Pt)._++}`,Vt=`url(#${dr})`;ft(this,Mt,un).set(_t,Vt),ft(this,Mt,un).set(pr,Vt);const vr=Kt(this,Mt,_n).call(this,dr);return Kt(this,Mt,yn).call(this,Ht,Qt,or,vr),Vt}addHCMFilter(_t,Ot){var Ir;const Ht=`${_t}-${Ot}`;if(ft(this,Ct)===Ht)return ft(this,bt);if(nr(this,Ct,Ht),nr(this,bt,"none"),(Ir=ft(this,zt))==null||Ir.remove(),!_t||!Ot)return ft(this,bt);const Qt=Kt(this,Mt,bn).call(this,_t);_t=j.Util.makeHexColor(...Qt);const or=Kt(this,Mt,bn).call(this,Ot);if(Ot=j.Util.makeHexColor(...or),ft(this,Mt,dn).style.color="",_t==="#000000"&&Ot==="#ffffff"||_t===Ot)return ft(this,bt);const pr=new Array(256);for(let Tr=0;Tr<=255;Tr++){const Br=Tr/255;pr[Tr]=Br<=.03928?Br/12.92:((Br+.055)/1.055)**2.4}const dr=pr.join(","),Vt=`g_${ft(this,kt)}_hcm_filter`,vr=nr(this,Et,Kt(this,Mt,_n).call(this,Vt));Kt(this,Mt,yn).call(this,dr,dr,dr,vr),Kt(this,Mt,es).call(this,vr);const xr=(Tr,Br)=>{const jr=Qt[Tr]/255,_r=or[Tr]/255,Fr=new Array(Br+1);for(let zr=0;zr<=Br;zr++)Fr[zr]=jr+zr/Br*(_r-jr);return Fr.join(",")};return Kt(this,Mt,yn).call(this,xr(0,5),xr(1,5),xr(2,5),vr),nr(this,bt,`url(#${Vt})`),ft(this,bt)}addHighlightHCMFilter(_t,Ot,Ht,Qt){var _r;const or=`${_t}-${Ot}-${Ht}-${Qt}`;if(ft(this,St)===or)return ft(this,It);if(nr(this,St,or),nr(this,It,"none"),(_r=ft(this,Et))==null||_r.remove(),!_t||!Ot)return ft(this,It);const[pr,dr]=[_t,Ot].map(Kt(this,Mt,bn).bind(this));let Vt=Math.round(.2126*pr[0]+.7152*pr[1]+.0722*pr[2]),vr=Math.round(.2126*dr[0]+.7152*dr[1]+.0722*dr[2]),[xr,Ir]=[Ht,Qt].map(Kt(this,Mt,bn).bind(this));vr<Vt&&([Vt,vr,xr,Ir]=[vr,Vt,Ir,xr]),ft(this,Mt,dn).style.color="";const Tr=(Fr,zr,fr)=>{const er=new Array(256),rr=(vr-Vt)/fr,wr=Fr/255,Ur=(zr-Fr)/(255*fr);let Lr=0;for(let $t=0;$t<=fr;$t++){const ur=Math.round(Vt+$t*rr),yr=wr+$t*Ur;for(let Ar=Lr;Ar<=ur;Ar++)er[Ar]=yr;Lr=ur+1}for(let $t=Lr;$t<256;$t++)er[$t]=er[Lr-1];return er.join(",")},Br=`g_${ft(this,kt)}_hcm_highlight_filter`,jr=nr(this,Et,Kt(this,Mt,_n).call(this,Br));return Kt(this,Mt,es).call(this,jr),Kt(this,Mt,yn).call(this,Tr(xr[0],Ir[0],5),Tr(xr[1],Ir[1],5),Tr(xr[2],Ir[2],5),jr),nr(this,It,`url(#${Br})`),ft(this,It)}destroy(_t=!1){_t&&(ft(this,bt)||ft(this,It))||(ft(this,Rt)&&(ft(this,Rt).parentNode.parentNode.remove(),nr(this,Rt,null)),ft(this,Nt)&&(ft(this,Nt).clear(),nr(this,Nt,null)),nr(this,Pt,0))}}Nt=new WeakMap,Rt=new WeakMap,kt=new WeakMap,Dt=new WeakMap,zt=new WeakMap,Ct=new WeakMap,bt=new WeakMap,Et=new WeakMap,St=new WeakMap,It=new WeakMap,Pt=new WeakMap,Mt=new WeakSet,un=function(){return ft(this,Nt)||nr(this,Nt,new Map)},dn=function(){if(!ft(this,Rt)){const _t=ft(this,Dt).createElement("div"),{style:Ot}=_t;Ot.visibility="hidden",Ot.contain="strict",Ot.width=Ot.height=0,Ot.position="absolute",Ot.top=Ot.left=0,Ot.zIndex=-1;const Ht=ft(this,Dt).createElementNS(_,"svg");Ht.setAttribute("width",0),Ht.setAttribute("height",0),nr(this,Rt,ft(this,Dt).createElementNS(_,"defs")),_t.append(Ht),Ht.append(ft(this,Rt)),ft(this,Dt).body.append(_t)}return ft(this,Rt)},es=function(_t){const Ot=ft(this,Dt).createElementNS(_,"feColorMatrix");Ot.setAttribute("type","matrix"),Ot.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),_t.append(Ot)},_n=function(_t){const Ot=ft(this,Dt).createElementNS(_,"filter");return Ot.setAttribute("color-interpolation-filters","sRGB"),Ot.setAttribute("id",_t),ft(this,Mt,dn).append(Ot),Ot},Nn=function(_t,Ot,Ht){const Qt=ft(this,Dt).createElementNS(_,Ot);Qt.setAttribute("type","discrete"),Qt.setAttribute("tableValues",Ht),_t.append(Qt)},yn=function(_t,Ot,Ht,Qt){const or=ft(this,Dt).createElementNS(_,"feComponentTransfer");Qt.append(or),Kt(this,Mt,Nn).call(this,or,"feFuncR",_t),Kt(this,Mt,Nn).call(this,or,"feFuncG",Ot),Kt(this,Mt,Nn).call(this,or,"feFuncB",Ht)},bn=function(_t){return ft(this,Mt,dn).style.color=_t,xt(getComputedStyle(ft(this,Mt,dn)).getPropertyValue("color"))},i.DOMFilterFactory=et;class _e extends o.BaseCanvasFactory{constructor({ownerDocument:Xt=globalThis.document}={}){super(),this._document=Xt}_createCanvas(Xt,_t){const Ot=this._document.createElement("canvas");return Ot.width=Xt,Ot.height=_t,Ot}}i.DOMCanvasFactory=_e;async function tt(qt,Xt=!1){if(mt(qt,document.baseURI)){const _t=await fetch(qt);if(!_t.ok)throw new Error(_t.statusText);return Xt?new Uint8Array(await _t.arrayBuffer()):(0,j.stringToBytes)(await _t.text())}return new Promise((_t,Ot)=>{const Ht=new XMLHttpRequest;Ht.open("GET",qt,!0),Xt&&(Ht.responseType="arraybuffer"),Ht.onreadystatechange=()=>{if(Ht.readyState===XMLHttpRequest.DONE){if(Ht.status===200||Ht.status===0){let Qt;if(Xt&&Ht.response?Qt=new Uint8Array(Ht.response):!Xt&&Ht.responseText&&(Qt=(0,j.stringToBytes)(Ht.responseText)),Qt){_t(Qt);return}}Ot(new Error(Ht.statusText))}},Ht.send(null)})}class rt extends o.BaseCMapReaderFactory{_fetchData(Xt,_t){return tt(Xt,this.isCompressed).then(Ot=>({cMapData:Ot,compressionType:_t}))}}i.DOMCMapReaderFactory=rt;class nt extends o.BaseStandardFontDataFactory{_fetchData(Xt){return tt(Xt,!0)}}i.DOMStandardFontDataFactory=nt;class st extends o.BaseSVGFactory{_createSVG(Xt){return document.createElementNS(_,Xt)}}i.DOMSVGFactory=st;class ot{constructor({viewBox:Xt,scale:_t,rotation:Ot,offsetX:Ht=0,offsetY:Qt=0,dontFlip:or=!1}){this.viewBox=Xt,this.scale=_t,this.rotation=Ot,this.offsetX=Ht,this.offsetY=Qt;const pr=(Xt[2]+Xt[0])/2,dr=(Xt[3]+Xt[1])/2;let Vt,vr,xr,Ir;switch(Ot%=360,Ot<0&&(Ot+=360),Ot){case 180:Vt=-1,vr=0,xr=0,Ir=1;break;case 90:Vt=0,vr=1,xr=1,Ir=0;break;case 270:Vt=0,vr=-1,xr=-1,Ir=0;break;case 0:Vt=1,vr=0,xr=0,Ir=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}or&&(xr=-xr,Ir=-Ir);let Tr,Br,jr,_r;Vt===0?(Tr=Math.abs(dr-Xt[1])*_t+Ht,Br=Math.abs(pr-Xt[0])*_t+Qt,jr=(Xt[3]-Xt[1])*_t,_r=(Xt[2]-Xt[0])*_t):(Tr=Math.abs(pr-Xt[0])*_t+Ht,Br=Math.abs(dr-Xt[1])*_t+Qt,jr=(Xt[2]-Xt[0])*_t,_r=(Xt[3]-Xt[1])*_t),this.transform=[Vt*_t,vr*_t,xr*_t,Ir*_t,Tr-Vt*_t*pr-xr*_t*dr,Br-vr*_t*pr-Ir*_t*dr],this.width=jr,this.height=_r}get rawDims(){const{viewBox:Xt}=this;return(0,j.shadow)(this,"rawDims",{pageWidth:Xt[2]-Xt[0],pageHeight:Xt[3]-Xt[1],pageX:Xt[0],pageY:Xt[1]})}clone({scale:Xt=this.scale,rotation:_t=this.rotation,offsetX:Ot=this.offsetX,offsetY:Ht=this.offsetY,dontFlip:Qt=!1}={}){return new ot({viewBox:this.viewBox.slice(),scale:Xt,rotation:_t,offsetX:Ot,offsetY:Ht,dontFlip:Qt})}convertToViewportPoint(Xt,_t){return j.Util.applyTransform([Xt,_t],this.transform)}convertToViewportRectangle(Xt){const _t=j.Util.applyTransform([Xt[0],Xt[1]],this.transform),Ot=j.Util.applyTransform([Xt[2],Xt[3]],this.transform);return[_t[0],_t[1],Ot[0],Ot[1]]}convertToPdfPoint(Xt,_t){return j.Util.applyInverseTransform([Xt,_t],this.transform)}}i.PageViewport=ot;class ct extends j.BaseException{constructor(Xt,_t=0){super(Xt,"RenderingCancelledException"),this.extraDelay=_t}}i.RenderingCancelledException=ct;function gt(qt){const Xt=qt.length;let _t=0;for(;_t<Xt&&qt[_t].trim()==="";)_t++;return qt.substring(_t,_t+5).toLowerCase()==="data:"}function dt(qt){return typeof qt=="string"&&/\.pdf$/i.test(qt)}function it(qt,Xt=!1){return Xt||([qt]=qt.split(/[#?]/,1)),qt.substring(qt.lastIndexOf("/")+1)}function lt(qt,Xt="document.pdf"){if(typeof qt!="string")return Xt;if(gt(qt))return(0,j.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Xt;const _t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Ot=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Ht=_t.exec(qt);let Qt=Ot.exec(Ht[1])||Ot.exec(Ht[2])||Ot.exec(Ht[3]);if(Qt&&(Qt=Qt[0],Qt.includes("%")))try{Qt=Ot.exec(decodeURIComponent(Qt))[0]}catch{}return Qt||Xt}class ut{constructor(){Gr(this,"started",Object.create(null));Gr(this,"times",[])}time(Xt){Xt in this.started&&(0,j.warn)(`Timer is already running for ${Xt}`),this.started[Xt]=Date.now()}timeEnd(Xt){Xt in this.started||(0,j.warn)(`Timer has not been started for ${Xt}`),this.times.push({name:Xt,start:this.started[Xt],end:Date.now()}),delete this.started[Xt]}toString(){const Xt=[];let _t=0;for(const{name:Ot}of this.times)_t=Math.max(Ot.length,_t);for(const{name:Ot,start:Ht,end:Qt}of this.times)Xt.push(`${Ot.padEnd(_t)} ${Qt-Ht}ms
`);return Xt.join("")}}i.StatTimer=ut;function mt(qt,Xt){try{const{protocol:_t}=Xt?new URL(qt,Xt):new URL(qt);return _t==="http:"||_t==="https:"}catch{return!1}}function ht(qt){qt.preventDefault()}function vt(qt,Xt=!1){return new Promise((_t,Ot)=>{const Ht=document.createElement("script");Ht.src=qt,Ht.onload=function(Qt){Xt&&Ht.remove(),_t(Qt)},Ht.onerror=function(){Ot(new Error(`Cannot load script at: ${Ht.src}`))},(document.head||document.documentElement).append(Ht)})}function at(qt){console.log("Deprecated API usage: "+qt)}let pt;class yt{static toDateObject(Xt){if(!Xt||typeof Xt!="string")return null;pt||(pt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const _t=pt.exec(Xt);if(!_t)return null;const Ot=parseInt(_t[1],10);let Ht=parseInt(_t[2],10);Ht=Ht>=1&&Ht<=12?Ht-1:0;let Qt=parseInt(_t[3],10);Qt=Qt>=1&&Qt<=31?Qt:1;let or=parseInt(_t[4],10);or=or>=0&&or<=23?or:0;let pr=parseInt(_t[5],10);pr=pr>=0&&pr<=59?pr:0;let dr=parseInt(_t[6],10);dr=dr>=0&&dr<=59?dr:0;const Vt=_t[7]||"Z";let vr=parseInt(_t[8],10);vr=vr>=0&&vr<=23?vr:0;let xr=parseInt(_t[9],10)||0;return xr=xr>=0&&xr<=59?xr:0,Vt==="-"?(or+=vr,pr+=xr):Vt==="+"&&(or-=vr,pr-=xr),new Date(Date.UTC(Ot,Ht,Qt,or,pr,dr))}}i.PDFDateString=yt;function jt(qt,{scale:Xt=1,rotation:_t=0}){const{width:Ot,height:Ht}=qt.attributes.style,Qt=[0,0,parseInt(Ot),parseInt(Ht)];return new ot({viewBox:Qt,scale:Xt,rotation:_t})}function xt(qt){if(qt.startsWith("#")){const Xt=parseInt(qt.slice(1),16);return[(Xt&16711680)>>16,(Xt&65280)>>8,Xt&255]}return qt.startsWith("rgb(")?qt.slice(4,-1).split(",").map(Xt=>parseInt(Xt)):qt.startsWith("rgba(")?qt.slice(5,-1).split(",").map(Xt=>parseInt(Xt)).slice(0,3):((0,j.warn)(`Not a valid color format: "${qt}"`),[0,0,0])}function wt(qt){const Xt=document.createElement("span");Xt.style.visibility="hidden",document.body.append(Xt);for(const _t of qt.keys()){Xt.style.color=_t;const Ot=window.getComputedStyle(Xt).color;qt.set(_t,xt(Ot))}Xt.remove()}function At(qt){const{a:Xt,b:_t,c:Ot,d:Ht,e:Qt,f:or}=qt.getTransform();return[Xt,_t,Ot,Ht,Qt,or]}function Ut(qt){const{a:Xt,b:_t,c:Ot,d:Ht,e:Qt,f:or}=qt.getTransform().invertSelf();return[Xt,_t,Ot,Ht,Qt,or]}function Ft(qt,Xt,_t=!1,Ot=!0){if(Xt instanceof ot){const{pageWidth:Ht,pageHeight:Qt}=Xt.rawDims,{style:or}=qt,pr=j.FeatureTest.isCSSRoundSupported,dr=`var(--scale-factor) * ${Ht}px`,Vt=`var(--scale-factor) * ${Qt}px`,vr=pr?`round(${dr}, 1px)`:`calc(${dr})`,xr=pr?`round(${Vt}, 1px)`:`calc(${Vt})`;!_t||Xt.rotation%180===0?(or.width=vr,or.height=xr):(or.width=xr,or.height=vr)}Ot&&qt.setAttribute("data-main-rotation",Xt.rotation)}},(s,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseFilterFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var o=a(1);class j{constructor(){this.constructor===j&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(rt){return"none"}addHCMFilter(rt,nt){return"none"}addHighlightHCMFilter(rt,nt,st,ot){return"none"}destroy(rt=!1){}}i.BaseFilterFactory=j;class _{constructor(){this.constructor===_&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(rt,nt){if(rt<=0||nt<=0)throw new Error("Invalid canvas size");const st=this._createCanvas(rt,nt);return{canvas:st,context:st.getContext("2d")}}reset(rt,nt,st){if(!rt.canvas)throw new Error("Canvas is not specified");if(nt<=0||st<=0)throw new Error("Invalid canvas size");rt.canvas.width=nt,rt.canvas.height=st}destroy(rt){if(!rt.canvas)throw new Error("Canvas is not specified");rt.canvas.width=0,rt.canvas.height=0,rt.canvas=null,rt.context=null}_createCanvas(rt,nt){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}i.BaseCanvasFactory=_;class ${constructor({baseUrl:rt=null,isCompressed:nt=!0}){this.constructor===$&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=rt,this.isCompressed=nt}async fetch({name:rt}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!rt)throw new Error("CMap name must be specified.");const nt=this.baseUrl+rt+(this.isCompressed?".bcmap":""),st=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(nt,st).catch(ot=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${nt}`)})}_fetchData(rt,nt){(0,o.unreachable)("Abstract method `_fetchData` called.")}}i.BaseCMapReaderFactory=$;class et{constructor({baseUrl:rt=null}){this.constructor===et&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=rt}async fetch({filename:rt}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!rt)throw new Error("Font filename must be specified.");const nt=`${this.baseUrl}${rt}`;return this._fetchData(nt).catch(st=>{throw new Error(`Unable to load font data at: ${nt}`)})}_fetchData(rt){(0,o.unreachable)("Abstract method `_fetchData` called.")}}i.BaseStandardFontDataFactory=et;class _e{constructor(){this.constructor===_e&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(rt,nt,st=!1){if(rt<=0||nt<=0)throw new Error("Invalid SVG dimensions");const ot=this._createSVG("svg:svg");return ot.setAttribute("version","1.1"),st||(ot.setAttribute("width",`${rt}px`),ot.setAttribute("height",`${nt}px`)),ot.setAttribute("preserveAspectRatio","none"),ot.setAttribute("viewBox",`0 0 ${rt} ${nt}`),ot}createElement(rt){if(typeof rt!="string")throw new Error("Invalid SVG element type");return this._createSVG(rt)}_createSVG(rt){(0,o.unreachable)("Abstract method `_createSVG` called.")}}i.BaseSVGFactory=_e},(s,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var o=a(1);const j=3285377520,_=4294901760,$=65535;class et{constructor(tt){this.h1=tt?tt&4294967295:j,this.h2=tt?tt&4294967295:j}update(tt){let rt,nt;if(typeof tt=="string"){rt=new Uint8Array(tt.length*2),nt=0;for(let at=0,pt=tt.length;at<pt;at++){const yt=tt.charCodeAt(at);yt<=255?rt[nt++]=yt:(rt[nt++]=yt>>>8,rt[nt++]=yt&255)}}else if((0,o.isArrayBuffer)(tt))rt=tt.slice(),nt=rt.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const st=nt>>2,ot=nt-st*4,ct=new Uint32Array(rt.buffer,0,st);let gt=0,dt=0,it=this.h1,lt=this.h2;const ut=3432918353,mt=461845907,ht=ut&$,vt=mt&$;for(let at=0;at<st;at++)at&1?(gt=ct[at],gt=gt*ut&_|gt*ht&$,gt=gt<<15|gt>>>17,gt=gt*mt&_|gt*vt&$,it^=gt,it=it<<13|it>>>19,it=it*5+3864292196):(dt=ct[at],dt=dt*ut&_|dt*ht&$,dt=dt<<15|dt>>>17,dt=dt*mt&_|dt*vt&$,lt^=dt,lt=lt<<13|lt>>>19,lt=lt*5+3864292196);switch(gt=0,ot){case 3:gt^=rt[st*4+2]<<16;case 2:gt^=rt[st*4+1]<<8;case 1:gt^=rt[st*4],gt=gt*ut&_|gt*ht&$,gt=gt<<15|gt>>>17,gt=gt*mt&_|gt*vt&$,st&1?it^=gt:lt^=gt}this.h1=it,this.h2=lt}hexdigest(){let tt=this.h1,rt=this.h2;return tt^=rt>>>1,tt=tt*3981806797&_|tt*36045&$,rt=rt*4283543511&_|((rt<<16|tt>>>16)*2950163797&_)>>>16,tt^=rt>>>1,tt=tt*444984403&_|tt*60499&$,rt=rt*3301882366&_|((rt<<16|tt>>>16)*3120437893&_)>>>16,tt^=rt>>>1,(tt>>>0).toString(16).padStart(8,"0")+(rt>>>0).toString(16).padStart(8,"0")}}i.MurmurHash3_64=et},(s,i,a)=>{var $;Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var o=a(1);class j{constructor({ownerDocument:_e=globalThis.document,styleElement:tt=null}){tr(this,$,new Set);this._document=_e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(_e){this.nativeFontFaces.add(_e),this._document.fonts.add(_e)}removeNativeFontFace(_e){this.nativeFontFaces.delete(_e),this._document.fonts.delete(_e)}insertRule(_e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const tt=this.styleElement.sheet;tt.insertRule(_e,tt.cssRules.length)}clear(){for(const _e of this.nativeFontFaces)this._document.fonts.delete(_e);this.nativeFontFaces.clear(),ft(this,$).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(_e){if(!(!_e||ft(this,$).has(_e.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:tt,src:rt,style:nt}=_e,st=new FontFace(tt,rt,nt);this.addNativeFontFace(st);try{await st.load(),ft(this,$).add(tt)}catch{(0,o.warn)(`Cannot load system font: ${_e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(st)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(_e){if(_e.attached||_e.missingFile&&!_e.systemFontInfo)return;if(_e.attached=!0,_e.systemFontInfo){await this.loadSystemFont(_e.systemFontInfo);return}if(this.isFontLoadingAPISupported){const rt=_e.createNativeFontFace();if(rt){this.addNativeFontFace(rt);try{await rt.loaded}catch(nt){throw(0,o.warn)(`Failed to load font '${rt.family}': '${nt}'.`),_e.disableFontFace=!0,nt}}return}const tt=_e.createFontFaceRule();if(tt){if(this.insertRule(tt),this.isSyncFontLoadingSupported)return;await new Promise(rt=>{const nt=this._queueLoadingCallback(rt);this._prepareFontLoadEvent(_e,nt)})}}get isFontLoadingAPISupported(){var tt;const _e=!!((tt=this._document)!=null&&tt.fonts);return(0,o.shadow)(this,"isFontLoadingAPISupported",_e)}get isSyncFontLoadingSupported(){let _e=!1;return(o.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(_e=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",_e)}_queueLoadingCallback(_e){function tt(){for((0,o.assert)(!nt.done,"completeRequest() cannot be called twice."),nt.done=!0;rt.length>0&&rt[0].done;){const st=rt.shift();setTimeout(st.callback,0)}}const{loadingRequests:rt}=this,nt={done:!1,complete:tt,callback:_e};return rt.push(nt),nt}get _loadTestFont(){const _e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",_e)}_prepareFontLoadEvent(_e,tt){function rt(xt,wt){return xt.charCodeAt(wt)<<24|xt.charCodeAt(wt+1)<<16|xt.charCodeAt(wt+2)<<8|xt.charCodeAt(wt+3)&255}function nt(xt,wt,At,Ut){const Ft=xt.substring(0,wt),Bt=xt.substring(wt+At);return Ft+Ut+Bt}let st,ot;const ct=this._document.createElement("canvas");ct.width=1,ct.height=1;const gt=ct.getContext("2d");let dt=0;function it(xt,wt){if(++dt>30){(0,o.warn)("Load test font never loaded."),wt();return}if(gt.font="30px "+xt,gt.fillText(".",0,20),gt.getImageData(0,0,1,1).data[3]>0){wt();return}setTimeout(it.bind(null,xt,wt))}const lt=`lt${Date.now()}${this.loadTestFontId++}`;let ut=this._loadTestFont;ut=nt(ut,976,lt.length,lt);const ht=16,vt=1482184792;let at=rt(ut,ht);for(st=0,ot=lt.length-3;st<ot;st+=4)at=at-vt+rt(lt,st)|0;st<lt.length&&(at=at-vt+rt(lt+"XXX",st)|0),ut=nt(ut,ht,4,(0,o.string32)(at));const pt=`url(data:font/opentype;base64,${btoa(ut)});`,yt=`@font-face {font-family:"${lt}";src:${pt}}`;this.insertRule(yt);const jt=this._document.createElement("div");jt.style.visibility="hidden",jt.style.width=jt.style.height="10px",jt.style.position="absolute",jt.style.top=jt.style.left="0px";for(const xt of[_e.loadedName,lt]){const wt=this._document.createElement("span");wt.textContent="Hi",wt.style.fontFamily=xt,jt.append(wt)}this._document.body.append(jt),it(lt,()=>{jt.remove(),tt.complete()})}}$=new WeakMap,i.FontLoader=j;class _{constructor(_e,{isEvalSupported:tt=!0,disableFontFace:rt=!1,ignoreErrors:nt=!1,inspectFont:st=null}){this.compiledGlyphs=Object.create(null);for(const ot in _e)this[ot]=_e[ot];this.isEvalSupported=tt!==!1,this.disableFontFace=rt===!0,this.ignoreErrors=nt===!0,this._inspectFont=st}createNativeFontFace(){var tt;if(!this.data||this.disableFontFace)return null;let _e;if(!this.cssFontInfo)_e=new FontFace(this.loadedName,this.data,{});else{const rt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(rt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),_e=new FontFace(this.cssFontInfo.fontFamily,this.data,rt)}return(tt=this._inspectFont)==null||tt.call(this,this),_e}createFontFaceRule(){var nt;if(!this.data||this.disableFontFace)return null;const _e=(0,o.bytesToString)(this.data),tt=`url(data:${this.mimetype};base64,${btoa(_e)});`;let rt;if(!this.cssFontInfo)rt=`@font-face {font-family:"${this.loadedName}";src:${tt}}`;else{let st=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(st+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),rt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${st}src:${tt}}`}return(nt=this._inspectFont)==null||nt.call(this,this,tt),rt}getPathGenerator(_e,tt){if(this.compiledGlyphs[tt]!==void 0)return this.compiledGlyphs[tt];let rt;try{rt=_e.get(this.loadedName+"_path_"+tt)}catch(nt){if(!this.ignoreErrors)throw nt;return(0,o.warn)(`getPathGenerator - ignoring character: "${nt}".`),this.compiledGlyphs[tt]=function(st,ot){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const nt=[];for(const st of rt){const ot=st.args!==void 0?st.args.join(","):"";nt.push("c.",st.cmd,"(",ot,`);
`)}return this.compiledGlyphs[tt]=new Function("c","size",nt.join(""))}return this.compiledGlyphs[tt]=function(nt,st){for(const ot of rt)ot.cmd==="scale"&&(ot.args=[st,-st]),nt[ot.cmd].apply(nt,ot.args)}}}i.FontFaceObject=_},(s,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeFilterFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var o=a(7);a(1);const j=function(tt){return new Promise((rt,nt)=>{require$$5.readFile(tt,(ot,ct)=>{if(ot||!ct){nt(new Error(ot));return}rt(new Uint8Array(ct))})})};class _ extends o.BaseFilterFactory{}i.NodeFilterFactory=_;class $ extends o.BaseCanvasFactory{_createCanvas(rt,nt){return require$$5.createCanvas(rt,nt)}}i.NodeCanvasFactory=$;class et extends o.BaseCMapReaderFactory{_fetchData(rt,nt){return j(rt).then(st=>({cMapData:st,compressionType:nt}))}}i.NodeCMapReaderFactory=et;class _e extends o.BaseStandardFontDataFactory{_fetchData(rt){return j(rt)}}i.NodeStandardFontDataFactory=_e},(s,i,a)=>{var Rt,ts,rs;Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var o=a(1),j=a(6),_=a(12),$=a(13);const et=16,_e=100,tt=4096,rt=15,nt=10,st=1e3,ot=16;function ct(Ct,bt){if(Ct._removeMirroring)throw new Error("Context is already forwarding operations.");Ct.__originalSave=Ct.save,Ct.__originalRestore=Ct.restore,Ct.__originalRotate=Ct.rotate,Ct.__originalScale=Ct.scale,Ct.__originalTranslate=Ct.translate,Ct.__originalTransform=Ct.transform,Ct.__originalSetTransform=Ct.setTransform,Ct.__originalResetTransform=Ct.resetTransform,Ct.__originalClip=Ct.clip,Ct.__originalMoveTo=Ct.moveTo,Ct.__originalLineTo=Ct.lineTo,Ct.__originalBezierCurveTo=Ct.bezierCurveTo,Ct.__originalRect=Ct.rect,Ct.__originalClosePath=Ct.closePath,Ct.__originalBeginPath=Ct.beginPath,Ct._removeMirroring=()=>{Ct.save=Ct.__originalSave,Ct.restore=Ct.__originalRestore,Ct.rotate=Ct.__originalRotate,Ct.scale=Ct.__originalScale,Ct.translate=Ct.__originalTranslate,Ct.transform=Ct.__originalTransform,Ct.setTransform=Ct.__originalSetTransform,Ct.resetTransform=Ct.__originalResetTransform,Ct.clip=Ct.__originalClip,Ct.moveTo=Ct.__originalMoveTo,Ct.lineTo=Ct.__originalLineTo,Ct.bezierCurveTo=Ct.__originalBezierCurveTo,Ct.rect=Ct.__originalRect,Ct.closePath=Ct.__originalClosePath,Ct.beginPath=Ct.__originalBeginPath,delete Ct._removeMirroring},Ct.save=function(){bt.save(),this.__originalSave()},Ct.restore=function(){bt.restore(),this.__originalRestore()},Ct.translate=function(St,It){bt.translate(St,It),this.__originalTranslate(St,It)},Ct.scale=function(St,It){bt.scale(St,It),this.__originalScale(St,It)},Ct.transform=function(St,It,Pt,Mt,Gt,Yt){bt.transform(St,It,Pt,Mt,Gt,Yt),this.__originalTransform(St,It,Pt,Mt,Gt,Yt)},Ct.setTransform=function(St,It,Pt,Mt,Gt,Yt){bt.setTransform(St,It,Pt,Mt,Gt,Yt),this.__originalSetTransform(St,It,Pt,Mt,Gt,Yt)},Ct.resetTransform=function(){bt.resetTransform(),this.__originalResetTransform()},Ct.rotate=function(St){bt.rotate(St),this.__originalRotate(St)},Ct.clip=function(St){bt.clip(St),this.__originalClip(St)},Ct.moveTo=function(Et,St){bt.moveTo(Et,St),this.__originalMoveTo(Et,St)},Ct.lineTo=function(Et,St){bt.lineTo(Et,St),this.__originalLineTo(Et,St)},Ct.bezierCurveTo=function(Et,St,It,Pt,Mt,Gt){bt.bezierCurveTo(Et,St,It,Pt,Mt,Gt),this.__originalBezierCurveTo(Et,St,It,Pt,Mt,Gt)},Ct.rect=function(Et,St,It,Pt){bt.rect(Et,St,It,Pt),this.__originalRect(Et,St,It,Pt)},Ct.closePath=function(){bt.closePath(),this.__originalClosePath()},Ct.beginPath=function(){bt.beginPath(),this.__originalBeginPath()}}class gt{constructor(bt){this.canvasFactory=bt,this.cache=Object.create(null)}getCanvas(bt,Et,St){let It;return this.cache[bt]!==void 0?(It=this.cache[bt],this.canvasFactory.reset(It,Et,St)):(It=this.canvasFactory.create(Et,St),this.cache[bt]=It),It}delete(bt){delete this.cache[bt]}clear(){for(const bt in this.cache){const Et=this.cache[bt];this.canvasFactory.destroy(Et),delete this.cache[bt]}}}function dt(Ct,bt,Et,St,It,Pt,Mt,Gt,Yt,Zt){const[ir,cr,Jt,lr,qt,Xt]=(0,j.getCurrentTransform)(Ct);if(cr===0&&Jt===0){const Ht=Mt*ir+qt,Qt=Math.round(Ht),or=Gt*lr+Xt,pr=Math.round(or),dr=(Mt+Yt)*ir+qt,Vt=Math.abs(Math.round(dr)-Qt)||1,vr=(Gt+Zt)*lr+Xt,xr=Math.abs(Math.round(vr)-pr)||1;return Ct.setTransform(Math.sign(ir),0,0,Math.sign(lr),Qt,pr),Ct.drawImage(bt,Et,St,It,Pt,0,0,Vt,xr),Ct.setTransform(ir,cr,Jt,lr,qt,Xt),[Vt,xr]}if(ir===0&&lr===0){const Ht=Gt*Jt+qt,Qt=Math.round(Ht),or=Mt*cr+Xt,pr=Math.round(or),dr=(Gt+Zt)*Jt+qt,Vt=Math.abs(Math.round(dr)-Qt)||1,vr=(Mt+Yt)*cr+Xt,xr=Math.abs(Math.round(vr)-pr)||1;return Ct.setTransform(0,Math.sign(cr),Math.sign(Jt),0,Qt,pr),Ct.drawImage(bt,Et,St,It,Pt,0,0,xr,Vt),Ct.setTransform(ir,cr,Jt,lr,qt,Xt),[xr,Vt]}Ct.drawImage(bt,Et,St,It,Pt,Mt,Gt,Yt,Zt);const _t=Math.hypot(ir,cr),Ot=Math.hypot(Jt,lr);return[_t*Yt,Ot*Zt]}function it(Ct){const{width:bt,height:Et}=Ct;if(bt>st||Et>st)return null;const St=1e3,It=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Pt=bt+1;let Mt=new Uint8Array(Pt*(Et+1)),Gt,Yt,Zt;const ir=bt+7&-8;let cr=new Uint8Array(ir*Et),Jt=0;for(const Ot of Ct.data){let Ht=128;for(;Ht>0;)cr[Jt++]=Ot&Ht?0:255,Ht>>=1}let lr=0;for(Jt=0,cr[Jt]!==0&&(Mt[0]=1,++lr),Yt=1;Yt<bt;Yt++)cr[Jt]!==cr[Jt+1]&&(Mt[Yt]=cr[Jt]?2:1,++lr),Jt++;for(cr[Jt]!==0&&(Mt[Yt]=2,++lr),Gt=1;Gt<Et;Gt++){Jt=Gt*ir,Zt=Gt*Pt,cr[Jt-ir]!==cr[Jt]&&(Mt[Zt]=cr[Jt]?1:8,++lr);let Ot=(cr[Jt]?4:0)+(cr[Jt-ir]?8:0);for(Yt=1;Yt<bt;Yt++)Ot=(Ot>>2)+(cr[Jt+1]?4:0)+(cr[Jt-ir+1]?8:0),It[Ot]&&(Mt[Zt+Yt]=It[Ot],++lr),Jt++;if(cr[Jt-ir]!==cr[Jt]&&(Mt[Zt+Yt]=cr[Jt]?2:4,++lr),lr>St)return null}for(Jt=ir*(Et-1),Zt=Gt*Pt,cr[Jt]!==0&&(Mt[Zt]=8,++lr),Yt=1;Yt<bt;Yt++)cr[Jt]!==cr[Jt+1]&&(Mt[Zt+Yt]=cr[Jt]?4:8,++lr),Jt++;if(cr[Jt]!==0&&(Mt[Zt+Yt]=4,++lr),lr>St)return null;const qt=new Int32Array([0,Pt,-1,0,-Pt,0,0,0,1]),Xt=new Path2D;for(Gt=0;lr&&Gt<=Et;Gt++){let Ot=Gt*Pt;const Ht=Ot+bt;for(;Ot<Ht&&!Mt[Ot];)Ot++;if(Ot===Ht)continue;Xt.moveTo(Ot%Pt,Gt);const Qt=Ot;let or=Mt[Ot];do{const pr=qt[or];do Ot+=pr;while(!Mt[Ot]);const dr=Mt[Ot];dr!==5&&dr!==10?(or=dr,Mt[Ot]=0):(or=dr&51*or>>4,Mt[Ot]&=or>>2|or<<2),Xt.lineTo(Ot%Pt,Ot/Pt|0),Mt[Ot]||--lr}while(Qt!==Ot);--Gt}return cr=null,Mt=null,function(Ot){Ot.save(),Ot.scale(1/bt,-1/Et),Ot.translate(0,-Et),Ot.fill(Xt),Ot.beginPath(),Ot.restore()}}class lt{constructor(bt,Et){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,bt,Et])}clone(){const bt=Object.create(this);return bt.clipBox=this.clipBox.slice(),bt}setCurrentPoint(bt,Et){this.x=bt,this.y=Et}updatePathMinMax(bt,Et,St){[Et,St]=o.Util.applyTransform([Et,St],bt),this.minX=Math.min(this.minX,Et),this.minY=Math.min(this.minY,St),this.maxX=Math.max(this.maxX,Et),this.maxY=Math.max(this.maxY,St)}updateRectMinMax(bt,Et){const St=o.Util.applyTransform(Et,bt),It=o.Util.applyTransform(Et.slice(2),bt);this.minX=Math.min(this.minX,St[0],It[0]),this.minY=Math.min(this.minY,St[1],It[1]),this.maxX=Math.max(this.maxX,St[0],It[0]),this.maxY=Math.max(this.maxY,St[1],It[1])}updateScalingPathMinMax(bt,Et){o.Util.scaleMinMax(bt,Et),this.minX=Math.min(this.minX,Et[0]),this.maxX=Math.max(this.maxX,Et[1]),this.minY=Math.min(this.minY,Et[2]),this.maxY=Math.max(this.maxY,Et[3])}updateCurvePathMinMax(bt,Et,St,It,Pt,Mt,Gt,Yt,Zt,ir){const cr=o.Util.bezierBoundingBox(Et,St,It,Pt,Mt,Gt,Yt,Zt);if(ir){ir[0]=Math.min(ir[0],cr[0],cr[2]),ir[1]=Math.max(ir[1],cr[0],cr[2]),ir[2]=Math.min(ir[2],cr[1],cr[3]),ir[3]=Math.max(ir[3],cr[1],cr[3]);return}this.updateRectMinMax(bt,cr)}getPathBoundingBox(bt=_.PathType.FILL,Et=null){const St=[this.minX,this.minY,this.maxX,this.maxY];if(bt===_.PathType.STROKE){Et||(0,o.unreachable)("Stroke bounding box must include transform.");const It=o.Util.singularValueDecompose2dScale(Et),Pt=It[0]*this.lineWidth/2,Mt=It[1]*this.lineWidth/2;St[0]-=Pt,St[1]-=Mt,St[2]+=Pt,St[3]+=Mt}return St}updateClipFromPath(){const bt=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(bt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(bt){this.clipBox=bt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(bt=_.PathType.FILL,Et=null){return o.Util.intersect(this.clipBox,this.getPathBoundingBox(bt,Et))}}function ut(Ct,bt){if(typeof ImageData<"u"&&bt instanceof ImageData){Ct.putImageData(bt,0,0);return}const Et=bt.height,St=bt.width,It=Et%ot,Pt=(Et-It)/ot,Mt=It===0?Pt:Pt+1,Gt=Ct.createImageData(St,ot);let Yt=0,Zt;const ir=bt.data,cr=Gt.data;let Jt,lr,qt,Xt;if(bt.kind===o.ImageKind.GRAYSCALE_1BPP){const _t=ir.byteLength,Ot=new Uint32Array(cr.buffer,0,cr.byteLength>>2),Ht=Ot.length,Qt=St+7>>3,or=4294967295,pr=o.FeatureTest.isLittleEndian?4278190080:255;for(Jt=0;Jt<Mt;Jt++){for(qt=Jt<Pt?ot:It,Zt=0,lr=0;lr<qt;lr++){const dr=_t-Yt;let Vt=0;const vr=dr>Qt?St:dr*8-7,xr=vr&-8;let Ir=0,Tr=0;for(;Vt<xr;Vt+=8)Tr=ir[Yt++],Ot[Zt++]=Tr&128?or:pr,Ot[Zt++]=Tr&64?or:pr,Ot[Zt++]=Tr&32?or:pr,Ot[Zt++]=Tr&16?or:pr,Ot[Zt++]=Tr&8?or:pr,Ot[Zt++]=Tr&4?or:pr,Ot[Zt++]=Tr&2?or:pr,Ot[Zt++]=Tr&1?or:pr;for(;Vt<vr;Vt++)Ir===0&&(Tr=ir[Yt++],Ir=128),Ot[Zt++]=Tr&Ir?or:pr,Ir>>=1}for(;Zt<Ht;)Ot[Zt++]=0;Ct.putImageData(Gt,0,Jt*ot)}}else if(bt.kind===o.ImageKind.RGBA_32BPP){for(lr=0,Xt=St*ot*4,Jt=0;Jt<Pt;Jt++)cr.set(ir.subarray(Yt,Yt+Xt)),Yt+=Xt,Ct.putImageData(Gt,0,lr),lr+=ot;Jt<Mt&&(Xt=St*It*4,cr.set(ir.subarray(Yt,Yt+Xt)),Ct.putImageData(Gt,0,lr))}else if(bt.kind===o.ImageKind.RGB_24BPP)for(qt=ot,Xt=St*qt,Jt=0;Jt<Mt;Jt++){for(Jt>=Pt&&(qt=It,Xt=St*qt),Zt=0,lr=Xt;lr--;)cr[Zt++]=ir[Yt++],cr[Zt++]=ir[Yt++],cr[Zt++]=ir[Yt++],cr[Zt++]=255;Ct.putImageData(Gt,0,Jt*ot)}else throw new Error(`bad image kind: ${bt.kind}`)}function mt(Ct,bt){if(bt.bitmap){Ct.drawImage(bt.bitmap,0,0);return}const Et=bt.height,St=bt.width,It=Et%ot,Pt=(Et-It)/ot,Mt=It===0?Pt:Pt+1,Gt=Ct.createImageData(St,ot);let Yt=0;const Zt=bt.data,ir=Gt.data;for(let cr=0;cr<Mt;cr++){const Jt=cr<Pt?ot:It;({srcPos:Yt}=(0,$.convertBlackAndWhiteToRGBA)({src:Zt,srcPos:Yt,dest:ir,width:St,height:Jt,nonBlackColor:0})),Ct.putImageData(Gt,0,cr*ot)}}function ht(Ct,bt){const Et=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const St of Et)Ct[St]!==void 0&&(bt[St]=Ct[St]);Ct.setLineDash!==void 0&&(bt.setLineDash(Ct.getLineDash()),bt.lineDashOffset=Ct.lineDashOffset)}function vt(Ct){if(Ct.strokeStyle=Ct.fillStyle="#000000",Ct.fillRule="nonzero",Ct.globalAlpha=1,Ct.lineWidth=1,Ct.lineCap="butt",Ct.lineJoin="miter",Ct.miterLimit=10,Ct.globalCompositeOperation="source-over",Ct.font="10px sans-serif",Ct.setLineDash!==void 0&&(Ct.setLineDash([]),Ct.lineDashOffset=0),!o.isNodeJS){const{filter:bt}=Ct;bt!=="none"&&bt!==""&&(Ct.filter="none")}}function at(Ct,bt,Et,St){const It=Ct.length;for(let Pt=3;Pt<It;Pt+=4){const Mt=Ct[Pt];if(Mt===0)Ct[Pt-3]=bt,Ct[Pt-2]=Et,Ct[Pt-1]=St;else if(Mt<255){const Gt=255-Mt;Ct[Pt-3]=Ct[Pt-3]*Mt+bt*Gt>>8,Ct[Pt-2]=Ct[Pt-2]*Mt+Et*Gt>>8,Ct[Pt-1]=Ct[Pt-1]*Mt+St*Gt>>8}}}function pt(Ct,bt,Et){const St=Ct.length,It=1/255;for(let Pt=3;Pt<St;Pt+=4){const Mt=Et?Et[Ct[Pt]]:Ct[Pt];bt[Pt]=bt[Pt]*Mt*It|0}}function yt(Ct,bt,Et){const St=Ct.length;for(let It=3;It<St;It+=4){const Pt=Ct[It-3]*77+Ct[It-2]*152+Ct[It-1]*28;bt[It]=Et?bt[It]*Et[Pt>>8]>>8:bt[It]*Pt>>16}}function jt(Ct,bt,Et,St,It,Pt,Mt,Gt,Yt,Zt,ir){const cr=!!Pt,Jt=cr?Pt[0]:0,lr=cr?Pt[1]:0,qt=cr?Pt[2]:0,Xt=It==="Luminosity"?yt:pt,Ot=Math.min(St,Math.ceil(1048576/Et));for(let Ht=0;Ht<St;Ht+=Ot){const Qt=Math.min(Ot,St-Ht),or=Ct.getImageData(Gt-Zt,Ht+(Yt-ir),Et,Qt),pr=bt.getImageData(Gt,Ht+Yt,Et,Qt);cr&&at(or.data,Jt,lr,qt),Xt(or.data,pr.data,Mt),bt.putImageData(pr,Gt,Ht+Yt)}}function xt(Ct,bt,Et,St){const It=St[0],Pt=St[1],Mt=St[2]-It,Gt=St[3]-Pt;Mt===0||Gt===0||(jt(bt.context,Et,Mt,Gt,bt.subtype,bt.backdrop,bt.transferMap,It,Pt,bt.offsetX,bt.offsetY),Ct.save(),Ct.globalAlpha=1,Ct.globalCompositeOperation="source-over",Ct.setTransform(1,0,0,1,0,0),Ct.drawImage(Et.canvas,0,0),Ct.restore())}function wt(Ct,bt){const Et=o.Util.singularValueDecompose2dScale(Ct);Et[0]=Math.fround(Et[0]),Et[1]=Math.fround(Et[1]);const St=Math.fround((globalThis.devicePixelRatio||1)*j.PixelsPerInch.PDF_TO_CSS_UNITS);return bt!==void 0?bt:Et[0]<=St||Et[1]<=St}const At=["butt","round","square"],Ut=["miter","round","bevel"],Ft={},Bt={},zt=class zt{constructor(bt,Et,St,It,Pt,{optionalContentConfig:Mt,markedContentStack:Gt=null},Yt,Zt){tr(this,Rt);this.ctx=bt,this.current=new lt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Et,this.objs=St,this.canvasFactory=It,this.filterFactory=Pt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Gt||[],this.optionalContentConfig=Mt,this.cachedCanvases=new gt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Yt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Zt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(bt,Et=null){return typeof bt=="string"?bt.startsWith("g_")?this.commonObjs.get(bt):this.objs.get(bt):Et}beginDrawing({transform:bt,viewport:Et,transparency:St=!1,background:It=null}){const Pt=this.ctx.canvas.width,Mt=this.ctx.canvas.height,Gt=this.ctx.fillStyle;if(this.ctx.fillStyle=It||"#ffffff",this.ctx.fillRect(0,0,Pt,Mt),this.ctx.fillStyle=Gt,St){const Yt=this.cachedCanvases.getCanvas("transparent",Pt,Mt);this.compositeCtx=this.ctx,this.transparentCanvas=Yt.canvas,this.ctx=Yt.context,this.ctx.save(),this.ctx.transform(...(0,j.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),vt(this.ctx),bt&&(this.ctx.transform(...bt),this.outputScaleX=bt[0],this.outputScaleY=bt[0]),this.ctx.transform(...Et.transform),this.viewportScale=Et.scale,this.baseTransform=(0,j.getCurrentTransform)(this.ctx)}executeOperatorList(bt,Et,St,It){const Pt=bt.argsArray,Mt=bt.fnArray;let Gt=Et||0;const Yt=Pt.length;if(Yt===Gt)return Gt;const Zt=Yt-Gt>nt&&typeof St=="function",ir=Zt?Date.now()+rt:0;let cr=0;const Jt=this.commonObjs,lr=this.objs;let qt;for(;;){if(It!==void 0&&Gt===It.nextBreakPoint)return It.breakIt(Gt,St),Gt;if(qt=Mt[Gt],qt!==o.OPS.dependency)this[qt].apply(this,Pt[Gt]);else for(const Xt of Pt[Gt]){const _t=Xt.startsWith("g_")?Jt:lr;if(!_t.has(Xt))return _t.get(Xt,St),Gt}if(Gt++,Gt===Yt)return Gt;if(Zt&&++cr>nt){if(Date.now()>ir)return St(),Gt;cr=0}}}endDrawing(){Kt(this,Rt,ts).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const bt of this._cachedBitmapsMap.values()){for(const Et of bt.values())typeof HTMLCanvasElement<"u"&&Et instanceof HTMLCanvasElement&&(Et.width=Et.height=0);bt.clear()}this._cachedBitmapsMap.clear(),Kt(this,Rt,rs).call(this)}_scaleImage(bt,Et){const St=bt.width,It=bt.height;let Pt=Math.max(Math.hypot(Et[0],Et[1]),1),Mt=Math.max(Math.hypot(Et[2],Et[3]),1),Gt=St,Yt=It,Zt="prescale1",ir,cr;for(;Pt>2&&Gt>1||Mt>2&&Yt>1;){let Jt=Gt,lr=Yt;Pt>2&&Gt>1&&(Jt=Gt>=16384?Math.floor(Gt/2)-1||1:Math.ceil(Gt/2),Pt/=Gt/Jt),Mt>2&&Yt>1&&(lr=Yt>=16384?Math.floor(Yt/2)-1||1:Math.ceil(Yt)/2,Mt/=Yt/lr),ir=this.cachedCanvases.getCanvas(Zt,Jt,lr),cr=ir.context,cr.clearRect(0,0,Jt,lr),cr.drawImage(bt,0,0,Gt,Yt,0,0,Jt,lr),bt=ir.canvas,Gt=Jt,Yt=lr,Zt=Zt==="prescale1"?"prescale2":"prescale1"}return{img:bt,paintWidth:Gt,paintHeight:Yt}}_createMaskCanvas(bt){const Et=this.ctx,{width:St,height:It}=bt,Pt=this.current.fillColor,Mt=this.current.patternFill,Gt=(0,j.getCurrentTransform)(Et);let Yt,Zt,ir,cr;if((bt.bitmap||bt.data)&&bt.count>1){const Vt=bt.bitmap||bt.data.buffer;Zt=JSON.stringify(Mt?Gt:[Gt.slice(0,4),Pt]),Yt=this._cachedBitmapsMap.get(Vt),Yt||(Yt=new Map,this._cachedBitmapsMap.set(Vt,Yt));const vr=Yt.get(Zt);if(vr&&!Mt){const xr=Math.round(Math.min(Gt[0],Gt[2])+Gt[4]),Ir=Math.round(Math.min(Gt[1],Gt[3])+Gt[5]);return{canvas:vr,offsetX:xr,offsetY:Ir}}ir=vr}ir||(cr=this.cachedCanvases.getCanvas("maskCanvas",St,It),mt(cr.context,bt));let Jt=o.Util.transform(Gt,[1/St,0,0,-1/It,0,0]);Jt=o.Util.transform(Jt,[1,0,0,1,0,-It]);const lr=o.Util.applyTransform([0,0],Jt),qt=o.Util.applyTransform([St,It],Jt),Xt=o.Util.normalizeRect([lr[0],lr[1],qt[0],qt[1]]),_t=Math.round(Xt[2]-Xt[0])||1,Ot=Math.round(Xt[3]-Xt[1])||1,Ht=this.cachedCanvases.getCanvas("fillCanvas",_t,Ot),Qt=Ht.context,or=Math.min(lr[0],qt[0]),pr=Math.min(lr[1],qt[1]);Qt.translate(-or,-pr),Qt.transform(...Jt),ir||(ir=this._scaleImage(cr.canvas,(0,j.getCurrentTransformInverse)(Qt)),ir=ir.img,Yt&&Mt&&Yt.set(Zt,ir)),Qt.imageSmoothingEnabled=wt((0,j.getCurrentTransform)(Qt),bt.interpolate),dt(Qt,ir,0,0,ir.width,ir.height,0,0,St,It),Qt.globalCompositeOperation="source-in";const dr=o.Util.transform((0,j.getCurrentTransformInverse)(Qt),[1,0,0,1,-or,-pr]);return Qt.fillStyle=Mt?Pt.getPattern(Et,this,dr,_.PathType.FILL):Pt,Qt.fillRect(0,0,St,It),Yt&&!Mt&&(this.cachedCanvases.delete("fillCanvas"),Yt.set(Zt,Ht.canvas)),{canvas:Ht.canvas,offsetX:Math.round(or),offsetY:Math.round(pr)}}setLineWidth(bt){bt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=bt,this.ctx.lineWidth=bt}setLineCap(bt){this.ctx.lineCap=At[bt]}setLineJoin(bt){this.ctx.lineJoin=Ut[bt]}setMiterLimit(bt){this.ctx.miterLimit=bt}setDash(bt,Et){const St=this.ctx;St.setLineDash!==void 0&&(St.setLineDash(bt),St.lineDashOffset=Et)}setRenderingIntent(bt){}setFlatness(bt){}setGState(bt){for(const[Et,St]of bt)switch(Et){case"LW":this.setLineWidth(St);break;case"LC":this.setLineCap(St);break;case"LJ":this.setLineJoin(St);break;case"ML":this.setMiterLimit(St);break;case"D":this.setDash(St[0],St[1]);break;case"RI":this.setRenderingIntent(St);break;case"FL":this.setFlatness(St);break;case"Font":this.setFont(St[0],St[1]);break;case"CA":this.current.strokeAlpha=St;break;case"ca":this.current.fillAlpha=St,this.ctx.globalAlpha=St;break;case"BM":this.ctx.globalCompositeOperation=St;break;case"SMask":this.current.activeSMask=St?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(St);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const bt=this.inSMaskMode;this.current.activeSMask&&!bt?this.beginSMaskMode():!this.current.activeSMask&&bt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const bt=this.ctx.canvas.width,Et=this.ctx.canvas.height,St="smaskGroupAt"+this.groupLevel,It=this.cachedCanvases.getCanvas(St,bt,Et);this.suspendedCtx=this.ctx,this.ctx=It.context;const Pt=this.ctx;Pt.setTransform(...(0,j.getCurrentTransform)(this.suspendedCtx)),ht(this.suspendedCtx,Pt),ct(Pt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ht(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(bt){if(!this.current.activeSMask)return;bt?(bt[0]=Math.floor(bt[0]),bt[1]=Math.floor(bt[1]),bt[2]=Math.ceil(bt[2]),bt[3]=Math.ceil(bt[3])):bt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Et=this.current.activeSMask,St=this.suspendedCtx;xt(St,Et,this.ctx,bt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(ht(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const bt=this.current;this.stateStack.push(bt),this.current=bt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ht(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(bt,Et,St,It,Pt,Mt){this.ctx.transform(bt,Et,St,It,Pt,Mt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(bt,Et,St){const It=this.ctx,Pt=this.current;let Mt=Pt.x,Gt=Pt.y,Yt,Zt;const ir=(0,j.getCurrentTransform)(It),cr=ir[0]===0&&ir[3]===0||ir[1]===0&&ir[2]===0,Jt=cr?St.slice(0):null;for(let lr=0,qt=0,Xt=bt.length;lr<Xt;lr++)switch(bt[lr]|0){case o.OPS.rectangle:Mt=Et[qt++],Gt=Et[qt++];const _t=Et[qt++],Ot=Et[qt++],Ht=Mt+_t,Qt=Gt+Ot;It.moveTo(Mt,Gt),_t===0||Ot===0?It.lineTo(Ht,Qt):(It.lineTo(Ht,Gt),It.lineTo(Ht,Qt),It.lineTo(Mt,Qt)),cr||Pt.updateRectMinMax(ir,[Mt,Gt,Ht,Qt]),It.closePath();break;case o.OPS.moveTo:Mt=Et[qt++],Gt=Et[qt++],It.moveTo(Mt,Gt),cr||Pt.updatePathMinMax(ir,Mt,Gt);break;case o.OPS.lineTo:Mt=Et[qt++],Gt=Et[qt++],It.lineTo(Mt,Gt),cr||Pt.updatePathMinMax(ir,Mt,Gt);break;case o.OPS.curveTo:Yt=Mt,Zt=Gt,Mt=Et[qt+4],Gt=Et[qt+5],It.bezierCurveTo(Et[qt],Et[qt+1],Et[qt+2],Et[qt+3],Mt,Gt),Pt.updateCurvePathMinMax(ir,Yt,Zt,Et[qt],Et[qt+1],Et[qt+2],Et[qt+3],Mt,Gt,Jt),qt+=6;break;case o.OPS.curveTo2:Yt=Mt,Zt=Gt,It.bezierCurveTo(Mt,Gt,Et[qt],Et[qt+1],Et[qt+2],Et[qt+3]),Pt.updateCurvePathMinMax(ir,Yt,Zt,Mt,Gt,Et[qt],Et[qt+1],Et[qt+2],Et[qt+3],Jt),Mt=Et[qt+2],Gt=Et[qt+3],qt+=4;break;case o.OPS.curveTo3:Yt=Mt,Zt=Gt,Mt=Et[qt+2],Gt=Et[qt+3],It.bezierCurveTo(Et[qt],Et[qt+1],Mt,Gt,Mt,Gt),Pt.updateCurvePathMinMax(ir,Yt,Zt,Et[qt],Et[qt+1],Mt,Gt,Mt,Gt,Jt),qt+=4;break;case o.OPS.closePath:It.closePath();break}cr&&Pt.updateScalingPathMinMax(ir,Jt),Pt.setCurrentPoint(Mt,Gt)}closePath(){this.ctx.closePath()}stroke(bt=!0){const Et=this.ctx,St=this.current.strokeColor;Et.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof St=="object"&&(St!=null&&St.getPattern)?(Et.save(),Et.strokeStyle=St.getPattern(Et,this,(0,j.getCurrentTransformInverse)(Et),_.PathType.STROKE),this.rescaleAndStroke(!1),Et.restore()):this.rescaleAndStroke(!0)),bt&&this.consumePath(this.current.getClippedPathBoundingBox()),Et.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(bt=!0){const Et=this.ctx,St=this.current.fillColor,It=this.current.patternFill;let Pt=!1;It&&(Et.save(),Et.fillStyle=St.getPattern(Et,this,(0,j.getCurrentTransformInverse)(Et),_.PathType.FILL),Pt=!0);const Mt=this.current.getClippedPathBoundingBox();this.contentVisible&&Mt!==null&&(this.pendingEOFill?(Et.fill("evenodd"),this.pendingEOFill=!1):Et.fill()),Pt&&Et.restore(),bt&&this.consumePath(Mt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Ft}eoClip(){this.pendingClip=Bt}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const bt=this.pendingTextPaths,Et=this.ctx;if(bt===void 0){Et.beginPath();return}Et.save(),Et.beginPath();for(const St of bt)Et.setTransform(...St.transform),Et.translate(St.x,St.y),St.addToPath(Et,St.fontSize);Et.restore(),Et.clip(),Et.beginPath(),delete this.pendingTextPaths}setCharSpacing(bt){this.current.charSpacing=bt}setWordSpacing(bt){this.current.wordSpacing=bt}setHScale(bt){this.current.textHScale=bt/100}setLeading(bt){this.current.leading=-bt}setFont(bt,Et){var ir;const St=this.commonObjs.get(bt),It=this.current;if(!St)throw new Error(`Can't find font for ${bt}`);if(It.fontMatrix=St.fontMatrix||o.FONT_IDENTITY_MATRIX,(It.fontMatrix[0]===0||It.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+bt),Et<0?(Et=-Et,It.fontDirection=-1):It.fontDirection=1,this.current.font=St,this.current.fontSize=Et,St.isType3Font)return;const Pt=St.loadedName||"sans-serif",Mt=((ir=St.systemFontInfo)==null?void 0:ir.css)||`"${Pt}", ${St.fallbackName}`;let Gt="normal";St.black?Gt="900":St.bold&&(Gt="bold");const Yt=St.italic?"italic":"normal";let Zt=Et;Et<et?Zt=et:Et>_e&&(Zt=_e),this.current.fontSizeScale=Et/Zt,this.ctx.font=`${Yt} ${Gt} ${Zt}px ${Mt}`}setTextRenderingMode(bt){this.current.textRenderingMode=bt}setTextRise(bt){this.current.textRise=bt}moveText(bt,Et){this.current.x=this.current.lineX+=bt,this.current.y=this.current.lineY+=Et}setLeadingMoveText(bt,Et){this.setLeading(-Et),this.moveText(bt,Et)}setTextMatrix(bt,Et,St,It,Pt,Mt){this.current.textMatrix=[bt,Et,St,It,Pt,Mt],this.current.textMatrixScale=Math.hypot(bt,Et),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(bt,Et,St,It){const Pt=this.ctx,Mt=this.current,Gt=Mt.font,Yt=Mt.textRenderingMode,Zt=Mt.fontSize/Mt.fontSizeScale,ir=Yt&o.TextRenderingMode.FILL_STROKE_MASK,cr=!!(Yt&o.TextRenderingMode.ADD_TO_PATH_FLAG),Jt=Mt.patternFill&&!Gt.missingFile;let lr;(Gt.disableFontFace||cr||Jt)&&(lr=Gt.getPathGenerator(this.commonObjs,bt)),Gt.disableFontFace||Jt?(Pt.save(),Pt.translate(Et,St),Pt.beginPath(),lr(Pt,Zt),It&&Pt.setTransform(...It),(ir===o.TextRenderingMode.FILL||ir===o.TextRenderingMode.FILL_STROKE)&&Pt.fill(),(ir===o.TextRenderingMode.STROKE||ir===o.TextRenderingMode.FILL_STROKE)&&Pt.stroke(),Pt.restore()):((ir===o.TextRenderingMode.FILL||ir===o.TextRenderingMode.FILL_STROKE)&&Pt.fillText(bt,Et,St),(ir===o.TextRenderingMode.STROKE||ir===o.TextRenderingMode.FILL_STROKE)&&Pt.strokeText(bt,Et,St)),cr&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,j.getCurrentTransform)(Pt),x:Et,y:St,fontSize:Zt,addToPath:lr})}get isFontSubpixelAAEnabled(){const{context:bt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);bt.scale(1.5,1),bt.fillText("I",0,10);const Et=bt.getImageData(0,0,10,10).data;let St=!1;for(let It=3;It<Et.length;It+=4)if(Et[It]>0&&Et[It]<255){St=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",St)}showText(bt){const Et=this.current,St=Et.font;if(St.isType3Font)return this.showType3Text(bt);const It=Et.fontSize;if(It===0)return;const Pt=this.ctx,Mt=Et.fontSizeScale,Gt=Et.charSpacing,Yt=Et.wordSpacing,Zt=Et.fontDirection,ir=Et.textHScale*Zt,cr=bt.length,Jt=St.vertical,lr=Jt?1:-1,qt=St.defaultVMetrics,Xt=It*Et.fontMatrix[0],_t=Et.textRenderingMode===o.TextRenderingMode.FILL&&!St.disableFontFace&&!Et.patternFill;Pt.save(),Pt.transform(...Et.textMatrix),Pt.translate(Et.x,Et.y+Et.textRise),Zt>0?Pt.scale(ir,-1):Pt.scale(ir,1);let Ot;if(Et.patternFill){Pt.save();const dr=Et.fillColor.getPattern(Pt,this,(0,j.getCurrentTransformInverse)(Pt),_.PathType.FILL);Ot=(0,j.getCurrentTransform)(Pt),Pt.restore(),Pt.fillStyle=dr}let Ht=Et.lineWidth;const Qt=Et.textMatrixScale;if(Qt===0||Ht===0){const dr=Et.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(dr===o.TextRenderingMode.STROKE||dr===o.TextRenderingMode.FILL_STROKE)&&(Ht=this.getSinglePixelWidth())}else Ht/=Qt;if(Mt!==1&&(Pt.scale(Mt,Mt),Ht/=Mt),Pt.lineWidth=Ht,St.isInvalidPDFjsFont){const dr=[];let Vt=0;for(const vr of bt)dr.push(vr.unicode),Vt+=vr.width;Pt.fillText(dr.join(""),0,0),Et.x+=Vt*Xt*ir,Pt.restore(),this.compose();return}let or=0,pr;for(pr=0;pr<cr;++pr){const dr=bt[pr];if(typeof dr=="number"){or+=lr*dr*It/1e3;continue}let Vt=!1;const vr=(dr.isSpace?Yt:0)+Gt,xr=dr.fontChar,Ir=dr.accent;let Tr,Br,jr=dr.width;if(Jt){const Fr=dr.vmetric||qt,zr=-(dr.vmetric?Fr[1]:jr*.5)*Xt,fr=Fr[2]*Xt;jr=Fr?-Fr[0]:jr,Tr=zr/Mt,Br=(or+fr)/Mt}else Tr=or/Mt,Br=0;if(St.remeasure&&jr>0){const Fr=Pt.measureText(xr).width*1e3/It*Mt;if(jr<Fr&&this.isFontSubpixelAAEnabled){const zr=jr/Fr;Vt=!0,Pt.save(),Pt.scale(zr,1),Tr/=zr}else jr!==Fr&&(Tr+=(jr-Fr)/2e3*It/Mt)}if(this.contentVisible&&(dr.isInFont||St.missingFile)){if(_t&&!Ir)Pt.fillText(xr,Tr,Br);else if(this.paintChar(xr,Tr,Br,Ot),Ir){const Fr=Tr+It*Ir.offset.x/Mt,zr=Br-It*Ir.offset.y/Mt;this.paintChar(Ir.fontChar,Fr,zr,Ot)}}const _r=Jt?jr*Xt-vr*Zt:jr*Xt+vr*Zt;or+=_r,Vt&&Pt.restore()}Jt?Et.y-=or:Et.x+=or*ir,Pt.restore(),this.compose()}showType3Text(bt){const Et=this.ctx,St=this.current,It=St.font,Pt=St.fontSize,Mt=St.fontDirection,Gt=It.vertical?1:-1,Yt=St.charSpacing,Zt=St.wordSpacing,ir=St.textHScale*Mt,cr=St.fontMatrix||o.FONT_IDENTITY_MATRIX,Jt=bt.length,lr=St.textRenderingMode===o.TextRenderingMode.INVISIBLE;let qt,Xt,_t,Ot;if(!(lr||Pt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,Et.save(),Et.transform(...St.textMatrix),Et.translate(St.x,St.y),Et.scale(ir,Mt),qt=0;qt<Jt;++qt){if(Xt=bt[qt],typeof Xt=="number"){Ot=Gt*Xt*Pt/1e3,this.ctx.translate(Ot,0),St.x+=Ot*ir;continue}const Ht=(Xt.isSpace?Zt:0)+Yt,Qt=It.charProcOperatorList[Xt.operatorListId];if(!Qt){(0,o.warn)(`Type3 character "${Xt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Xt,this.save(),Et.scale(Pt,Pt),Et.transform(...cr),this.executeOperatorList(Qt),this.restore()),_t=o.Util.applyTransform([Xt.width,0],cr)[0]*Pt+Ht,Et.translate(_t,0),St.x+=_t*ir}Et.restore(),this.processingType3=null}}setCharWidth(bt,Et){}setCharWidthAndBounds(bt,Et,St,It,Pt,Mt){this.ctx.rect(St,It,Pt-St,Mt-It),this.ctx.clip(),this.endPath()}getColorN_Pattern(bt){let Et;if(bt[0]==="TilingPattern"){const St=bt[1],It=this.baseTransform||(0,j.getCurrentTransform)(this.ctx),Pt={createCanvasGraphics:Mt=>new zt(Mt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};Et=new _.TilingPattern(bt,St,this.ctx,Pt,It)}else Et=this._getPattern(bt[1],bt[2]);return Et}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(bt,Et,St){const It=o.Util.makeHexColor(bt,Et,St);this.ctx.strokeStyle=It,this.current.strokeColor=It}setFillRGBColor(bt,Et,St){const It=o.Util.makeHexColor(bt,Et,St);this.ctx.fillStyle=It,this.current.fillColor=It,this.current.patternFill=!1}_getPattern(bt,Et=null){let St;return this.cachedPatterns.has(bt)?St=this.cachedPatterns.get(bt):(St=(0,_.getShadingPattern)(this.getObject(bt)),this.cachedPatterns.set(bt,St)),Et&&(St.matrix=Et),St}shadingFill(bt){if(!this.contentVisible)return;const Et=this.ctx;this.save();const St=this._getPattern(bt);Et.fillStyle=St.getPattern(Et,this,(0,j.getCurrentTransformInverse)(Et),_.PathType.SHADING);const It=(0,j.getCurrentTransformInverse)(Et);if(It){const{width:Pt,height:Mt}=Et.canvas,[Gt,Yt,Zt,ir]=o.Util.getAxialAlignedBoundingBox([0,0,Pt,Mt],It);this.ctx.fillRect(Gt,Yt,Zt-Gt,ir-Yt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(bt,Et){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(bt)&&bt.length===6&&this.transform(...bt),this.baseTransform=(0,j.getCurrentTransform)(this.ctx),Et)){const St=Et[2]-Et[0],It=Et[3]-Et[1];this.ctx.rect(Et[0],Et[1],St,It),this.current.updateRectMinMax((0,j.getCurrentTransform)(this.ctx),Et),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(bt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Et=this.ctx;bt.isolated||(0,o.info)("TODO: Support non-isolated groups."),bt.knockout&&(0,o.warn)("Knockout groups not supported.");const St=(0,j.getCurrentTransform)(Et);if(bt.matrix&&Et.transform(...bt.matrix),!bt.bbox)throw new Error("Bounding box is required.");let It=o.Util.getAxialAlignedBoundingBox(bt.bbox,(0,j.getCurrentTransform)(Et));const Pt=[0,0,Et.canvas.width,Et.canvas.height];It=o.Util.intersect(It,Pt)||[0,0,0,0];const Mt=Math.floor(It[0]),Gt=Math.floor(It[1]);let Yt=Math.max(Math.ceil(It[2])-Mt,1),Zt=Math.max(Math.ceil(It[3])-Gt,1),ir=1,cr=1;Yt>tt&&(ir=Yt/tt,Yt=tt),Zt>tt&&(cr=Zt/tt,Zt=tt),this.current.startNewPathAndClipBox([0,0,Yt,Zt]);let Jt="groupAt"+this.groupLevel;bt.smask&&(Jt+="_smask_"+this.smaskCounter++%2);const lr=this.cachedCanvases.getCanvas(Jt,Yt,Zt),qt=lr.context;qt.scale(1/ir,1/cr),qt.translate(-Mt,-Gt),qt.transform(...St),bt.smask?this.smaskStack.push({canvas:lr.canvas,context:qt,offsetX:Mt,offsetY:Gt,scaleX:ir,scaleY:cr,subtype:bt.smask.subtype,backdrop:bt.smask.backdrop,transferMap:bt.smask.transferMap||null,startTransformInverse:null}):(Et.setTransform(1,0,0,1,0,0),Et.translate(Mt,Gt),Et.scale(ir,cr),Et.save()),ht(Et,qt),this.ctx=qt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Et),this.groupLevel++}endGroup(bt){if(!this.contentVisible)return;this.groupLevel--;const Et=this.ctx,St=this.groupStack.pop();if(this.ctx=St,this.ctx.imageSmoothingEnabled=!1,bt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const It=(0,j.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...It);const Pt=o.Util.getAxialAlignedBoundingBox([0,0,Et.canvas.width,Et.canvas.height],It);this.ctx.drawImage(Et.canvas,0,0),this.ctx.restore(),this.compose(Pt)}}beginAnnotation(bt,Et,St,It,Pt){if(Kt(this,Rt,ts).call(this),vt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Et)&&Et.length===4){const Mt=Et[2]-Et[0],Gt=Et[3]-Et[1];if(Pt&&this.annotationCanvasMap){St=St.slice(),St[4]-=Et[0],St[5]-=Et[1],Et=Et.slice(),Et[0]=Et[1]=0,Et[2]=Mt,Et[3]=Gt;const[Yt,Zt]=o.Util.singularValueDecompose2dScale((0,j.getCurrentTransform)(this.ctx)),{viewportScale:ir}=this,cr=Math.ceil(Mt*this.outputScaleX*ir),Jt=Math.ceil(Gt*this.outputScaleY*ir);this.annotationCanvas=this.canvasFactory.create(cr,Jt);const{canvas:lr,context:qt}=this.annotationCanvas;this.annotationCanvasMap.set(bt,lr),this.annotationCanvas.savedCtx=this.ctx,this.ctx=qt,this.ctx.save(),this.ctx.setTransform(Yt,0,0,-Zt,0,Gt*Zt),vt(this.ctx)}else vt(this.ctx),this.ctx.rect(Et[0],Et[1],Mt,Gt),this.ctx.clip(),this.endPath()}this.current=new lt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...St),this.transform(...It)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Kt(this,Rt,rs).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(bt){if(!this.contentVisible)return;const Et=bt.count;bt=this.getObject(bt.data,bt),bt.count=Et;const St=this.ctx,It=this.processingType3;if(It&&(It.compiled===void 0&&(It.compiled=it(bt)),It.compiled)){It.compiled(St);return}const Pt=this._createMaskCanvas(bt),Mt=Pt.canvas;St.save(),St.setTransform(1,0,0,1,0,0),St.drawImage(Mt,Pt.offsetX,Pt.offsetY),St.restore(),this.compose()}paintImageMaskXObjectRepeat(bt,Et,St=0,It=0,Pt,Mt){if(!this.contentVisible)return;bt=this.getObject(bt.data,bt);const Gt=this.ctx;Gt.save();const Yt=(0,j.getCurrentTransform)(Gt);Gt.transform(Et,St,It,Pt,0,0);const Zt=this._createMaskCanvas(bt);Gt.setTransform(1,0,0,1,Zt.offsetX-Yt[4],Zt.offsetY-Yt[5]);for(let ir=0,cr=Mt.length;ir<cr;ir+=2){const Jt=o.Util.transform(Yt,[Et,St,It,Pt,Mt[ir],Mt[ir+1]]),[lr,qt]=o.Util.applyTransform([0,0],Jt);Gt.drawImage(Zt.canvas,lr,qt)}Gt.restore(),this.compose()}paintImageMaskXObjectGroup(bt){if(!this.contentVisible)return;const Et=this.ctx,St=this.current.fillColor,It=this.current.patternFill;for(const Pt of bt){const{data:Mt,width:Gt,height:Yt,transform:Zt}=Pt,ir=this.cachedCanvases.getCanvas("maskCanvas",Gt,Yt),cr=ir.context;cr.save();const Jt=this.getObject(Mt,Pt);mt(cr,Jt),cr.globalCompositeOperation="source-in",cr.fillStyle=It?St.getPattern(cr,this,(0,j.getCurrentTransformInverse)(Et),_.PathType.FILL):St,cr.fillRect(0,0,Gt,Yt),cr.restore(),Et.save(),Et.transform(...Zt),Et.scale(1,-1),dt(Et,ir.canvas,0,0,Gt,Yt,0,-1,1,1),Et.restore()}this.compose()}paintImageXObject(bt){if(!this.contentVisible)return;const Et=this.getObject(bt);if(!Et){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Et)}paintImageXObjectRepeat(bt,Et,St,It){if(!this.contentVisible)return;const Pt=this.getObject(bt);if(!Pt){(0,o.warn)("Dependent image isn't ready yet");return}const Mt=Pt.width,Gt=Pt.height,Yt=[];for(let Zt=0,ir=It.length;Zt<ir;Zt+=2)Yt.push({transform:[Et,0,0,St,It[Zt],It[Zt+1]],x:0,y:0,w:Mt,h:Gt});this.paintInlineImageXObjectGroup(Pt,Yt)}applyTransferMapsToCanvas(bt){return this.current.transferMaps!=="none"&&(bt.filter=this.current.transferMaps,bt.drawImage(bt.canvas,0,0),bt.filter="none"),bt.canvas}applyTransferMapsToBitmap(bt){if(this.current.transferMaps==="none")return bt.bitmap;const{bitmap:Et,width:St,height:It}=bt,Pt=this.cachedCanvases.getCanvas("inlineImage",St,It),Mt=Pt.context;return Mt.filter=this.current.transferMaps,Mt.drawImage(Et,0,0),Mt.filter="none",Pt.canvas}paintInlineImageXObject(bt){if(!this.contentVisible)return;const Et=bt.width,St=bt.height,It=this.ctx;if(this.save(),!o.isNodeJS){const{filter:Gt}=It;Gt!=="none"&&Gt!==""&&(It.filter="none")}It.scale(1/Et,-1/St);let Pt;if(bt.bitmap)Pt=this.applyTransferMapsToBitmap(bt);else if(typeof HTMLElement=="function"&&bt instanceof HTMLElement||!bt.data)Pt=bt;else{const Yt=this.cachedCanvases.getCanvas("inlineImage",Et,St).context;ut(Yt,bt),Pt=this.applyTransferMapsToCanvas(Yt)}const Mt=this._scaleImage(Pt,(0,j.getCurrentTransformInverse)(It));It.imageSmoothingEnabled=wt((0,j.getCurrentTransform)(It),bt.interpolate),dt(It,Mt.img,0,0,Mt.paintWidth,Mt.paintHeight,0,-St,Et,St),this.compose(),this.restore()}paintInlineImageXObjectGroup(bt,Et){if(!this.contentVisible)return;const St=this.ctx;let It;if(bt.bitmap)It=bt.bitmap;else{const Pt=bt.width,Mt=bt.height,Yt=this.cachedCanvases.getCanvas("inlineImage",Pt,Mt).context;ut(Yt,bt),It=this.applyTransferMapsToCanvas(Yt)}for(const Pt of Et)St.save(),St.transform(...Pt.transform),St.scale(1,-1),dt(St,It,Pt.x,Pt.y,Pt.w,Pt.h,0,-1,1,1),St.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(bt){}markPointProps(bt,Et){}beginMarkedContent(bt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(bt,Et){bt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Et)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(bt){const Et=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(bt);const St=this.ctx;this.pendingClip&&(Et||(this.pendingClip===Bt?St.clip("evenodd"):St.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),St.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const bt=(0,j.getCurrentTransform)(this.ctx);if(bt[1]===0&&bt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(bt[0]),Math.abs(bt[3]));else{const Et=Math.abs(bt[0]*bt[3]-bt[2]*bt[1]),St=Math.hypot(bt[0],bt[2]),It=Math.hypot(bt[1],bt[3]);this._cachedGetSinglePixelWidth=Math.max(St,It)/Et}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:bt}=this.current,{a:Et,b:St,c:It,d:Pt}=this.ctx.getTransform();let Mt,Gt;if(St===0&&It===0){const Yt=Math.abs(Et),Zt=Math.abs(Pt);if(Yt===Zt)if(bt===0)Mt=Gt=1/Yt;else{const ir=Yt*bt;Mt=Gt=ir<1?1/ir:1}else if(bt===0)Mt=1/Yt,Gt=1/Zt;else{const ir=Yt*bt,cr=Zt*bt;Mt=ir<1?1/ir:1,Gt=cr<1?1/cr:1}}else{const Yt=Math.abs(Et*Pt-St*It),Zt=Math.hypot(Et,St),ir=Math.hypot(It,Pt);if(bt===0)Mt=ir/Yt,Gt=Zt/Yt;else{const cr=bt*Yt;Mt=ir>cr?ir/cr:1,Gt=Zt>cr?Zt/cr:1}}this._cachedScaleForStroking[0]=Mt,this._cachedScaleForStroking[1]=Gt}return this._cachedScaleForStroking}rescaleAndStroke(bt){const{ctx:Et}=this,{lineWidth:St}=this.current,[It,Pt]=this.getScaleForStroking();if(Et.lineWidth=St||1,It===1&&Pt===1){Et.stroke();return}const Mt=Et.getLineDash();if(bt&&Et.save(),Et.scale(It,Pt),Mt.length>0){const Gt=Math.max(It,Pt);Et.setLineDash(Mt.map(Yt=>Yt/Gt)),Et.lineDashOffset/=Gt}Et.stroke(),bt&&Et.restore()}isContentVisible(){for(let bt=this.markedContentStack.length-1;bt>=0;bt--)if(!this.markedContentStack[bt].visible)return!1;return!0}};Rt=new WeakSet,ts=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},rs=function(){if(this.pageColors){const bt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(bt!=="none"){const Et=this.ctx.filter;this.ctx.filter=bt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=Et}}};let Nt=zt;i.CanvasGraphics=Nt;for(const Ct in o.OPS)Nt.prototype[Ct]!==void 0&&(Nt.prototype[o.OPS[Ct]]=Nt.prototype[Ct])},(s,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=ot;var o=a(1),j=a(6);const _={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};i.PathType=_;function $(it,lt){if(!lt)return;const ut=lt[2]-lt[0],mt=lt[3]-lt[1],ht=new Path2D;ht.rect(lt[0],lt[1],ut,mt),it.clip(ht)}class et{constructor(){this.constructor===et&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class _e extends et{constructor(lt){super(),this._type=lt[1],this._bbox=lt[2],this._colorStops=lt[3],this._p0=lt[4],this._p1=lt[5],this._r0=lt[6],this._r1=lt[7],this.matrix=null}_createGradient(lt){let ut;this._type==="axial"?ut=lt.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ut=lt.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const mt of this._colorStops)ut.addColorStop(mt[0],mt[1]);return ut}getPattern(lt,ut,mt,ht){let vt;if(ht===_.STROKE||ht===_.FILL){const at=ut.current.getClippedPathBoundingBox(ht,(0,j.getCurrentTransform)(lt))||[0,0,0,0],pt=Math.ceil(at[2]-at[0])||1,yt=Math.ceil(at[3]-at[1])||1,jt=ut.cachedCanvases.getCanvas("pattern",pt,yt,!0),xt=jt.context;xt.clearRect(0,0,xt.canvas.width,xt.canvas.height),xt.beginPath(),xt.rect(0,0,xt.canvas.width,xt.canvas.height),xt.translate(-at[0],-at[1]),mt=o.Util.transform(mt,[1,0,0,1,at[0],at[1]]),xt.transform(...ut.baseTransform),this.matrix&&xt.transform(...this.matrix),$(xt,this._bbox),xt.fillStyle=this._createGradient(xt),xt.fill(),vt=lt.createPattern(jt.canvas,"no-repeat");const wt=new DOMMatrix(mt);vt.setTransform(wt)}else $(lt,this._bbox),vt=this._createGradient(lt);return vt}}function tt(it,lt,ut,mt,ht,vt,at,pt){const yt=lt.coords,jt=lt.colors,xt=it.data,wt=it.width*4;let At;yt[ut+1]>yt[mt+1]&&(At=ut,ut=mt,mt=At,At=vt,vt=at,at=At),yt[mt+1]>yt[ht+1]&&(At=mt,mt=ht,ht=At,At=at,at=pt,pt=At),yt[ut+1]>yt[mt+1]&&(At=ut,ut=mt,mt=At,At=vt,vt=at,at=At);const Ut=(yt[ut]+lt.offsetX)*lt.scaleX,Ft=(yt[ut+1]+lt.offsetY)*lt.scaleY,Bt=(yt[mt]+lt.offsetX)*lt.scaleX,Nt=(yt[mt+1]+lt.offsetY)*lt.scaleY,Rt=(yt[ht]+lt.offsetX)*lt.scaleX,kt=(yt[ht+1]+lt.offsetY)*lt.scaleY;if(Ft>=kt)return;const Dt=jt[vt],zt=jt[vt+1],Ct=jt[vt+2],bt=jt[at],Et=jt[at+1],St=jt[at+2],It=jt[pt],Pt=jt[pt+1],Mt=jt[pt+2],Gt=Math.round(Ft),Yt=Math.round(kt);let Zt,ir,cr,Jt,lr,qt,Xt,_t;for(let Ot=Gt;Ot<=Yt;Ot++){if(Ot<Nt){const dr=Ot<Ft?0:(Ft-Ot)/(Ft-Nt);Zt=Ut-(Ut-Bt)*dr,ir=Dt-(Dt-bt)*dr,cr=zt-(zt-Et)*dr,Jt=Ct-(Ct-St)*dr}else{let dr;Ot>kt?dr=1:Nt===kt?dr=0:dr=(Nt-Ot)/(Nt-kt),Zt=Bt-(Bt-Rt)*dr,ir=bt-(bt-It)*dr,cr=Et-(Et-Pt)*dr,Jt=St-(St-Mt)*dr}let Ht;Ot<Ft?Ht=0:Ot>kt?Ht=1:Ht=(Ft-Ot)/(Ft-kt),lr=Ut-(Ut-Rt)*Ht,qt=Dt-(Dt-It)*Ht,Xt=zt-(zt-Pt)*Ht,_t=Ct-(Ct-Mt)*Ht;const Qt=Math.round(Math.min(Zt,lr)),or=Math.round(Math.max(Zt,lr));let pr=wt*Ot+Qt*4;for(let dr=Qt;dr<=or;dr++)Ht=(Zt-dr)/(Zt-lr),Ht<0?Ht=0:Ht>1&&(Ht=1),xt[pr++]=ir-(ir-qt)*Ht|0,xt[pr++]=cr-(cr-Xt)*Ht|0,xt[pr++]=Jt-(Jt-_t)*Ht|0,xt[pr++]=255}}function rt(it,lt,ut){const mt=lt.coords,ht=lt.colors;let vt,at;switch(lt.type){case"lattice":const pt=lt.verticesPerRow,yt=Math.floor(mt.length/pt)-1,jt=pt-1;for(vt=0;vt<yt;vt++){let xt=vt*pt;for(let wt=0;wt<jt;wt++,xt++)tt(it,ut,mt[xt],mt[xt+1],mt[xt+pt],ht[xt],ht[xt+1],ht[xt+pt]),tt(it,ut,mt[xt+pt+1],mt[xt+1],mt[xt+pt],ht[xt+pt+1],ht[xt+1],ht[xt+pt])}break;case"triangles":for(vt=0,at=mt.length;vt<at;vt+=3)tt(it,ut,mt[vt],mt[vt+1],mt[vt+2],ht[vt],ht[vt+1],ht[vt+2]);break;default:throw new Error("illegal figure")}}class nt extends et{constructor(lt){super(),this._coords=lt[2],this._colors=lt[3],this._figures=lt[4],this._bounds=lt[5],this._bbox=lt[7],this._background=lt[8],this.matrix=null}_createMeshCanvas(lt,ut,mt){const pt=Math.floor(this._bounds[0]),yt=Math.floor(this._bounds[1]),jt=Math.ceil(this._bounds[2])-pt,xt=Math.ceil(this._bounds[3])-yt,wt=Math.min(Math.ceil(Math.abs(jt*lt[0]*1.1)),3e3),At=Math.min(Math.ceil(Math.abs(xt*lt[1]*1.1)),3e3),Ut=jt/wt,Ft=xt/At,Bt={coords:this._coords,colors:this._colors,offsetX:-pt,offsetY:-yt,scaleX:1/Ut,scaleY:1/Ft},Nt=wt+2*2,Rt=At+2*2,kt=mt.getCanvas("mesh",Nt,Rt,!1),Dt=kt.context,zt=Dt.createImageData(wt,At);if(ut){const bt=zt.data;for(let Et=0,St=bt.length;Et<St;Et+=4)bt[Et]=ut[0],bt[Et+1]=ut[1],bt[Et+2]=ut[2],bt[Et+3]=255}for(const bt of this._figures)rt(zt,bt,Bt);return Dt.putImageData(zt,2,2),{canvas:kt.canvas,offsetX:pt-2*Ut,offsetY:yt-2*Ft,scaleX:Ut,scaleY:Ft}}getPattern(lt,ut,mt,ht){$(lt,this._bbox);let vt;if(ht===_.SHADING)vt=o.Util.singularValueDecompose2dScale((0,j.getCurrentTransform)(lt));else if(vt=o.Util.singularValueDecompose2dScale(ut.baseTransform),this.matrix){const pt=o.Util.singularValueDecompose2dScale(this.matrix);vt=[vt[0]*pt[0],vt[1]*pt[1]]}const at=this._createMeshCanvas(vt,ht===_.SHADING?null:this._background,ut.cachedCanvases);return ht!==_.SHADING&&(lt.setTransform(...ut.baseTransform),this.matrix&&lt.transform(...this.matrix)),lt.translate(at.offsetX,at.offsetY),lt.scale(at.scaleX,at.scaleY),lt.createPattern(at.canvas,"no-repeat")}}class st extends et{getPattern(){return"hotpink"}}function ot(it){switch(it[0]){case"RadialAxial":return new _e(it);case"Mesh":return new nt(it);case"Dummy":return new st}throw new Error(`Unknown IR type: ${it[0]}`)}const ct={COLORED:1,UNCOLORED:2},dt=class dt{constructor(lt,ut,mt,ht,vt){this.operatorList=lt[2],this.matrix=lt[3]||[1,0,0,1,0,0],this.bbox=lt[4],this.xstep=lt[5],this.ystep=lt[6],this.paintType=lt[7],this.tilingType=lt[8],this.color=ut,this.ctx=mt,this.canvasGraphicsFactory=ht,this.baseTransform=vt}createPatternCanvas(lt){const ut=this.operatorList,mt=this.bbox,ht=this.xstep,vt=this.ystep,at=this.paintType,pt=this.tilingType,yt=this.color,jt=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+pt);const xt=mt[0],wt=mt[1],At=mt[2],Ut=mt[3],Ft=o.Util.singularValueDecompose2dScale(this.matrix),Bt=o.Util.singularValueDecompose2dScale(this.baseTransform),Nt=[Ft[0]*Bt[0],Ft[1]*Bt[1]],Rt=this.getSizeAndScale(ht,this.ctx.canvas.width,Nt[0]),kt=this.getSizeAndScale(vt,this.ctx.canvas.height,Nt[1]),Dt=lt.cachedCanvases.getCanvas("pattern",Rt.size,kt.size,!0),zt=Dt.context,Ct=jt.createCanvasGraphics(zt);Ct.groupLevel=lt.groupLevel,this.setFillAndStrokeStyleToContext(Ct,at,yt);let bt=xt,Et=wt,St=At,It=Ut;return xt<0&&(bt=0,St+=Math.abs(xt)),wt<0&&(Et=0,It+=Math.abs(wt)),zt.translate(-(Rt.scale*bt),-(kt.scale*Et)),Ct.transform(Rt.scale,0,0,kt.scale,0,0),zt.save(),this.clipBbox(Ct,bt,Et,St,It),Ct.baseTransform=(0,j.getCurrentTransform)(Ct.ctx),Ct.executeOperatorList(ut),Ct.endDrawing(),{canvas:Dt.canvas,scaleX:Rt.scale,scaleY:kt.scale,offsetX:bt,offsetY:Et}}getSizeAndScale(lt,ut,mt){lt=Math.abs(lt);const ht=Math.max(dt.MAX_PATTERN_SIZE,ut);let vt=Math.ceil(lt*mt);return vt>=ht?vt=ht:mt=vt/lt,{scale:mt,size:vt}}clipBbox(lt,ut,mt,ht,vt){const at=ht-ut,pt=vt-mt;lt.ctx.rect(ut,mt,at,pt),lt.current.updateRectMinMax((0,j.getCurrentTransform)(lt.ctx),[ut,mt,ht,vt]),lt.clip(),lt.endPath()}setFillAndStrokeStyleToContext(lt,ut,mt){const ht=lt.ctx,vt=lt.current;switch(ut){case ct.COLORED:const at=this.ctx;ht.fillStyle=at.fillStyle,ht.strokeStyle=at.strokeStyle,vt.fillColor=at.fillStyle,vt.strokeColor=at.strokeStyle;break;case ct.UNCOLORED:const pt=o.Util.makeHexColor(mt[0],mt[1],mt[2]);ht.fillStyle=pt,ht.strokeStyle=pt,vt.fillColor=pt,vt.strokeColor=pt;break;default:throw new o.FormatError(`Unsupported paint type: ${ut}`)}}getPattern(lt,ut,mt,ht){let vt=mt;ht!==_.SHADING&&(vt=o.Util.transform(vt,ut.baseTransform),this.matrix&&(vt=o.Util.transform(vt,this.matrix)));const at=this.createPatternCanvas(ut);let pt=new DOMMatrix(vt);pt=pt.translate(at.offsetX,at.offsetY),pt=pt.scale(1/at.scaleX,1/at.scaleY);const yt=lt.createPattern(at.canvas,"repeat");return yt.setTransform(pt),yt}};Gr(dt,"MAX_PATTERN_SIZE",3e3);let gt=dt;i.TilingPattern=gt},(s,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.convertBlackAndWhiteToRGBA=_,i.convertToRGBA=j,i.grayToRGBA=et;var o=a(1);function j(_e){switch(_e.kind){case o.ImageKind.GRAYSCALE_1BPP:return _(_e);case o.ImageKind.RGB_24BPP:return $(_e)}return null}function _({src:_e,srcPos:tt=0,dest:rt,width:nt,height:st,nonBlackColor:ot=4294967295,inverseDecode:ct=!1}){const gt=o.FeatureTest.isLittleEndian?4278190080:255,[dt,it]=ct?[ot,gt]:[gt,ot],lt=nt>>3,ut=nt&7,mt=_e.length;rt=new Uint32Array(rt.buffer);let ht=0;for(let vt=0;vt<st;vt++){for(const pt=tt+lt;tt<pt;tt++){const yt=tt<mt?_e[tt]:255;rt[ht++]=yt&128?it:dt,rt[ht++]=yt&64?it:dt,rt[ht++]=yt&32?it:dt,rt[ht++]=yt&16?it:dt,rt[ht++]=yt&8?it:dt,rt[ht++]=yt&4?it:dt,rt[ht++]=yt&2?it:dt,rt[ht++]=yt&1?it:dt}if(ut===0)continue;const at=tt<mt?_e[tt++]:255;for(let pt=0;pt<ut;pt++)rt[ht++]=at&1<<7-pt?it:dt}return{srcPos:tt,destPos:ht}}function $({src:_e,srcPos:tt=0,dest:rt,destPos:nt=0,width:st,height:ot}){let ct=0;const gt=_e.length>>2,dt=new Uint32Array(_e.buffer,tt,gt);if(o.FeatureTest.isLittleEndian){for(;ct<gt-2;ct+=3,nt+=4){const it=dt[ct],lt=dt[ct+1],ut=dt[ct+2];rt[nt]=it|4278190080,rt[nt+1]=it>>>24|lt<<8|4278190080,rt[nt+2]=lt>>>16|ut<<16|4278190080,rt[nt+3]=ut>>>8|4278190080}for(let it=ct*4,lt=_e.length;it<lt;it+=3)rt[nt++]=_e[it]|_e[it+1]<<8|_e[it+2]<<16|4278190080}else{for(;ct<gt-2;ct+=3,nt+=4){const it=dt[ct],lt=dt[ct+1],ut=dt[ct+2];rt[nt]=it|255,rt[nt+1]=it<<24|lt>>>8|255,rt[nt+2]=lt<<16|ut>>>16|255,rt[nt+3]=ut<<8|255}for(let it=ct*4,lt=_e.length;it<lt;it+=3)rt[nt++]=_e[it]<<24|_e[it+1]<<16|_e[it+2]<<8|255}return{srcPos:tt,destPos:nt}}function et(_e,tt){if(o.FeatureTest.isLittleEndian)for(let rt=0,nt=_e.length;rt<nt;rt++)tt[rt]=_e[rt]*65793|4278190080;else for(let rt=0,nt=_e.length;rt<nt;rt++)tt[rt]=_e[rt]*16843008|255}},(s,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;const a=Object.create(null);i.GlobalWorkerOptions=a,a.workerPort=null,a.workerSrc=""},(s,i,a)=>{var _e,Ws,Gs,Pn;Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var o=a(1);const j={DATA:1,ERROR:2},_={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function $(st){switch(st instanceof Error||typeof st=="object"&&st!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),st.name){case"AbortException":return new o.AbortException(st.message);case"MissingPDFException":return new o.MissingPDFException(st.message);case"PasswordException":return new o.PasswordException(st.message,st.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(st.message,st.status);case"UnknownErrorException":return new o.UnknownErrorException(st.message,st.details);default:return new o.UnknownErrorException(st.message,st.toString())}}class et{constructor(ot,ct,gt){tr(this,_e);this.sourceName=ot,this.targetName=ct,this.comObj=gt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=dt=>{const it=dt.data;if(it.targetName!==this.sourceName)return;if(it.stream){Kt(this,_e,Gs).call(this,it);return}if(it.callback){const ut=it.callbackId,mt=this.callbackCapabilities[ut];if(!mt)throw new Error(`Cannot resolve callback ${ut}`);if(delete this.callbackCapabilities[ut],it.callback===j.DATA)mt.resolve(it.data);else if(it.callback===j.ERROR)mt.reject($(it.reason));else throw new Error("Unexpected callback case");return}const lt=this.actionHandler[it.action];if(!lt)throw new Error(`Unknown action from worker: ${it.action}`);if(it.callbackId){const ut=this.sourceName,mt=it.sourceName;new Promise(function(ht){ht(lt(it.data))}).then(function(ht){gt.postMessage({sourceName:ut,targetName:mt,callback:j.DATA,callbackId:it.callbackId,data:ht})},function(ht){gt.postMessage({sourceName:ut,targetName:mt,callback:j.ERROR,callbackId:it.callbackId,reason:$(ht)})});return}if(it.streamId){Kt(this,_e,Ws).call(this,it);return}lt(it.data)},gt.addEventListener("message",this._onComObjOnMessage)}on(ot,ct){const gt=this.actionHandler;if(gt[ot])throw new Error(`There is already an actionName called "${ot}"`);gt[ot]=ct}send(ot,ct,gt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ot,data:ct},gt)}sendWithPromise(ot,ct,gt){const dt=this.callbackId++,it=new o.PromiseCapability;this.callbackCapabilities[dt]=it;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ot,callbackId:dt,data:ct},gt)}catch(lt){it.reject(lt)}return it.promise}sendWithStream(ot,ct,gt,dt){const it=this.streamId++,lt=this.sourceName,ut=this.targetName,mt=this.comObj;return new ReadableStream({start:ht=>{const vt=new o.PromiseCapability;return this.streamControllers[it]={controller:ht,startCall:vt,pullCall:null,cancelCall:null,isClosed:!1},mt.postMessage({sourceName:lt,targetName:ut,action:ot,streamId:it,data:ct,desiredSize:ht.desiredSize},dt),vt.promise},pull:ht=>{const vt=new o.PromiseCapability;return this.streamControllers[it].pullCall=vt,mt.postMessage({sourceName:lt,targetName:ut,stream:_.PULL,streamId:it,desiredSize:ht.desiredSize}),vt.promise},cancel:ht=>{(0,o.assert)(ht instanceof Error,"cancel must have a valid reason");const vt=new o.PromiseCapability;return this.streamControllers[it].cancelCall=vt,this.streamControllers[it].isClosed=!0,mt.postMessage({sourceName:lt,targetName:ut,stream:_.CANCEL,streamId:it,reason:$(ht)}),vt.promise}},gt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}_e=new WeakSet,Ws=function(ot){const ct=ot.streamId,gt=this.sourceName,dt=ot.sourceName,it=this.comObj,lt=this,ut=this.actionHandler[ot.action],mt={enqueue(ht,vt=1,at){if(this.isCancelled)return;const pt=this.desiredSize;this.desiredSize-=vt,pt>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),it.postMessage({sourceName:gt,targetName:dt,stream:_.ENQUEUE,streamId:ct,chunk:ht},at)},close(){this.isCancelled||(this.isCancelled=!0,it.postMessage({sourceName:gt,targetName:dt,stream:_.CLOSE,streamId:ct}),delete lt.streamSinks[ct])},error(ht){(0,o.assert)(ht instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,it.postMessage({sourceName:gt,targetName:dt,stream:_.ERROR,streamId:ct,reason:$(ht)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:ot.desiredSize,ready:null};mt.sinkCapability.resolve(),mt.ready=mt.sinkCapability.promise,this.streamSinks[ct]=mt,new Promise(function(ht){ht(ut(ot.data,mt))}).then(function(){it.postMessage({sourceName:gt,targetName:dt,stream:_.START_COMPLETE,streamId:ct,success:!0})},function(ht){it.postMessage({sourceName:gt,targetName:dt,stream:_.START_COMPLETE,streamId:ct,reason:$(ht)})})},Gs=function(ot){const ct=ot.streamId,gt=this.sourceName,dt=ot.sourceName,it=this.comObj,lt=this.streamControllers[ct],ut=this.streamSinks[ct];switch(ot.stream){case _.START_COMPLETE:ot.success?lt.startCall.resolve():lt.startCall.reject($(ot.reason));break;case _.PULL_COMPLETE:ot.success?lt.pullCall.resolve():lt.pullCall.reject($(ot.reason));break;case _.PULL:if(!ut){it.postMessage({sourceName:gt,targetName:dt,stream:_.PULL_COMPLETE,streamId:ct,success:!0});break}ut.desiredSize<=0&&ot.desiredSize>0&&ut.sinkCapability.resolve(),ut.desiredSize=ot.desiredSize,new Promise(function(mt){var ht;mt((ht=ut.onPull)==null?void 0:ht.call(ut))}).then(function(){it.postMessage({sourceName:gt,targetName:dt,stream:_.PULL_COMPLETE,streamId:ct,success:!0})},function(mt){it.postMessage({sourceName:gt,targetName:dt,stream:_.PULL_COMPLETE,streamId:ct,reason:$(mt)})});break;case _.ENQUEUE:if((0,o.assert)(lt,"enqueue should have stream controller"),lt.isClosed)break;lt.controller.enqueue(ot.chunk);break;case _.CLOSE:if((0,o.assert)(lt,"close should have stream controller"),lt.isClosed)break;lt.isClosed=!0,lt.controller.close(),Kt(this,_e,Pn).call(this,lt,ct);break;case _.ERROR:(0,o.assert)(lt,"error should have stream controller"),lt.controller.error($(ot.reason)),Kt(this,_e,Pn).call(this,lt,ct);break;case _.CANCEL_COMPLETE:ot.success?lt.cancelCall.resolve():lt.cancelCall.reject($(ot.reason)),Kt(this,_e,Pn).call(this,lt,ct);break;case _.CANCEL:if(!ut)break;new Promise(function(mt){var ht;mt((ht=ut.onCancel)==null?void 0:ht.call(ut,$(ot.reason)))}).then(function(){it.postMessage({sourceName:gt,targetName:dt,stream:_.CANCEL_COMPLETE,streamId:ct,success:!0})},function(mt){it.postMessage({sourceName:gt,targetName:dt,stream:_.CANCEL_COMPLETE,streamId:ct,reason:$(mt)})}),ut.sinkCapability.reject($(ot.reason)),ut.isCancelled=!0,delete this.streamSinks[ct];break;default:throw new Error("Unexpected stream case")}},Pn=async function(ot,ct){var gt,dt,it;await Promise.allSettled([(gt=ot.startCall)==null?void 0:gt.promise,(dt=ot.pullCall)==null?void 0:dt.promise,(it=ot.cancelCall)==null?void 0:it.promise]),delete this.streamControllers[ct]},i.MessageHandler=et},(s,i,a)=>{var _,$;Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var o=a(1);class j{constructor({parsedData:_e,rawData:tt}){tr(this,_);tr(this,$);nr(this,_,_e),nr(this,$,tt)}getRaw(){return ft(this,$)}get(_e){return ft(this,_).get(_e)??null}getAll(){return(0,o.objectFromMap)(ft(this,_))}has(_e){return ft(this,_).has(_e)}}_=new WeakMap,$=new WeakMap,i.Metadata=j},(s,i,a)=>{var _e,tt,rt,nt,st,ot,ns;Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var o=a(1),j=a(8);const _=Symbol("INTERNAL");class ${constructor(dt,it){tr(this,_e,!0);this.name=dt,this.intent=it}get visible(){return ft(this,_e)}_setVisible(dt,it){dt!==_&&(0,o.unreachable)("Internal method `_setVisible` called."),nr(this,_e,it)}}_e=new WeakMap;class et{constructor(dt){tr(this,ot);tr(this,tt,null);tr(this,rt,new Map);tr(this,nt,null);tr(this,st,null);if(this.name=null,this.creator=null,dt!==null){this.name=dt.name,this.creator=dt.creator,nr(this,st,dt.order);for(const it of dt.groups)ft(this,rt).set(it.id,new $(it.name,it.intent));if(dt.baseState==="OFF")for(const it of ft(this,rt).values())it._setVisible(_,!1);for(const it of dt.on)ft(this,rt).get(it)._setVisible(_,!0);for(const it of dt.off)ft(this,rt).get(it)._setVisible(_,!1);nr(this,nt,this.getHash())}}isVisible(dt){if(ft(this,rt).size===0)return!0;if(!dt)return(0,o.warn)("Optional content group not defined."),!0;if(dt.type==="OCG")return ft(this,rt).has(dt.id)?ft(this,rt).get(dt.id).visible:((0,o.warn)(`Optional content group not found: ${dt.id}`),!0);if(dt.type==="OCMD"){if(dt.expression)return Kt(this,ot,ns).call(this,dt.expression);if(!dt.policy||dt.policy==="AnyOn"){for(const it of dt.ids){if(!ft(this,rt).has(it))return(0,o.warn)(`Optional content group not found: ${it}`),!0;if(ft(this,rt).get(it).visible)return!0}return!1}else if(dt.policy==="AllOn"){for(const it of dt.ids){if(!ft(this,rt).has(it))return(0,o.warn)(`Optional content group not found: ${it}`),!0;if(!ft(this,rt).get(it).visible)return!1}return!0}else if(dt.policy==="AnyOff"){for(const it of dt.ids){if(!ft(this,rt).has(it))return(0,o.warn)(`Optional content group not found: ${it}`),!0;if(!ft(this,rt).get(it).visible)return!0}return!1}else if(dt.policy==="AllOff"){for(const it of dt.ids){if(!ft(this,rt).has(it))return(0,o.warn)(`Optional content group not found: ${it}`),!0;if(ft(this,rt).get(it).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${dt.policy}.`),!0}return(0,o.warn)(`Unknown group type ${dt.type}.`),!0}setVisibility(dt,it=!0){if(!ft(this,rt).has(dt)){(0,o.warn)(`Optional content group not found: ${dt}`);return}ft(this,rt).get(dt)._setVisible(_,!!it),nr(this,tt,null)}get hasInitialVisibility(){return ft(this,nt)===null||this.getHash()===ft(this,nt)}getOrder(){return ft(this,rt).size?ft(this,st)?ft(this,st).slice():[...ft(this,rt).keys()]:null}getGroups(){return ft(this,rt).size>0?(0,o.objectFromMap)(ft(this,rt)):null}getGroup(dt){return ft(this,rt).get(dt)||null}getHash(){if(ft(this,tt)!==null)return ft(this,tt);const dt=new j.MurmurHash3_64;for(const[it,lt]of ft(this,rt))dt.update(`${it}:${lt.visible}`);return nr(this,tt,dt.hexdigest())}}tt=new WeakMap,rt=new WeakMap,nt=new WeakMap,st=new WeakMap,ot=new WeakSet,ns=function(dt){const it=dt.length;if(it<2)return!0;const lt=dt[0];for(let ut=1;ut<it;ut++){const mt=dt[ut];let ht;if(Array.isArray(mt))ht=Kt(this,ot,ns).call(this,mt);else if(ft(this,rt).has(mt))ht=ft(this,rt).get(mt).visible;else return(0,o.warn)(`Optional content group not found: ${mt}`),!0;switch(lt){case"And":if(!ht)return!1;break;case"Or":if(ht)return!0;break;case"Not":return!ht;default:return!0}}return lt==="And"},i.OptionalContentConfig=et},(s,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var o=a(1),j=a(6);class _{constructor({length:tt,initialData:rt,progressiveDone:nt=!1,contentDispositionFilename:st=null,disableRange:ot=!1,disableStream:ct=!1},gt){if((0,o.assert)(gt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=nt,this._contentDispositionFilename=st,(rt==null?void 0:rt.length)>0){const dt=rt instanceof Uint8Array&&rt.byteLength===rt.buffer.byteLength?rt.buffer:new Uint8Array(rt).buffer;this._queuedChunks.push(dt)}this._pdfDataRangeTransport=gt,this._isStreamingSupported=!ct,this._isRangeSupported=!ot,this._contentLength=tt,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((dt,it)=>{this._onReceiveData({begin:dt,chunk:it})}),this._pdfDataRangeTransport.addProgressListener((dt,it)=>{this._onProgress({loaded:dt,total:it})}),this._pdfDataRangeTransport.addProgressiveReadListener(dt=>{this._onReceiveData({chunk:dt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:tt,chunk:rt}){const nt=rt instanceof Uint8Array&&rt.byteLength===rt.buffer.byteLength?rt.buffer:new Uint8Array(rt).buffer;if(tt===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(nt):this._queuedChunks.push(nt);else{const st=this._rangeReaders.some(function(ot){return ot._begin!==tt?!1:(ot._enqueue(nt),!0)});(0,o.assert)(st,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var tt;return((tt=this._fullRequestReader)==null?void 0:tt._loaded)??0}_onProgress(tt){var rt,nt,st,ot;tt.total===void 0?(nt=(rt=this._rangeReaders[0])==null?void 0:rt.onProgress)==null||nt.call(rt,{loaded:tt.loaded}):(ot=(st=this._fullRequestReader)==null?void 0:st.onProgress)==null||ot.call(st,{loaded:tt.loaded,total:tt.total})}_onProgressiveDone(){var tt;(tt=this._fullRequestReader)==null||tt.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(tt){const rt=this._rangeReaders.indexOf(tt);rt>=0&&this._rangeReaders.splice(rt,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const tt=this._queuedChunks;return this._queuedChunks=null,new $(this,tt,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(tt,rt){if(rt<=this._progressiveDataLength)return null;const nt=new et(this,tt,rt);return this._pdfDataRangeTransport.requestDataRange(tt,rt),this._rangeReaders.push(nt),nt}cancelAllRequests(tt){var rt;(rt=this._fullRequestReader)==null||rt.cancel(tt);for(const nt of this._rangeReaders.slice(0))nt.cancel(tt);this._pdfDataRangeTransport.abort()}}i.PDFDataTransportStream=_;class ${constructor(tt,rt,nt=!1,st=null){this._stream=tt,this._done=nt||!1,this._filename=(0,j.isPdfFile)(st)?st:null,this._queuedChunks=rt||[],this._loaded=0;for(const ot of this._queuedChunks)this._loaded+=ot.byteLength;this._requests=[],this._headersReady=Promise.resolve(),tt._fullRequestReader=this,this.onProgress=null}_enqueue(tt){this._done||(this._requests.length>0?this._requests.shift().resolve({value:tt,done:!1}):this._queuedChunks.push(tt),this._loaded+=tt.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const tt=new o.PromiseCapability;return this._requests.push(tt),tt.promise}cancel(tt){this._done=!0;for(const rt of this._requests)rt.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class et{constructor(tt,rt,nt){this._stream=tt,this._begin=rt,this._end=nt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(tt){if(!this._done){if(this._requests.length===0)this._queuedChunk=tt;else{this._requests.shift().resolve({value:tt,done:!1});for(const nt of this._requests)nt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const rt=this._queuedChunk;return this._queuedChunk=null,{value:rt,done:!1}}if(this._done)return{value:void 0,done:!0};const tt=new o.PromiseCapability;return this._requests.push(tt),tt.promise}cancel(tt){this._done=!0;for(const rt of this._requests)rt.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(s,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var o=a(1),j=a(20);function _(nt,st,ot){return{method:"GET",headers:nt,signal:ot.signal,mode:"cors",credentials:st?"include":"same-origin",redirect:"follow"}}function $(nt){const st=new Headers;for(const ot in nt){const ct=nt[ot];ct!==void 0&&st.append(ot,ct)}return st}function et(nt){return nt instanceof Uint8Array?nt.buffer:nt instanceof ArrayBuffer?nt:((0,o.warn)(`getArrayBuffer - unexpected data format: ${nt}`),new Uint8Array(nt).buffer)}class _e{constructor(st){this.source=st,this.isHttp=/^https?:/i.test(st.url),this.httpHeaders=this.isHttp&&st.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var st;return((st=this._fullRequestReader)==null?void 0:st._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new tt(this),this._fullRequestReader}getRangeReader(st,ot){if(ot<=this._progressiveDataLength)return null;const ct=new rt(this,st,ot);return this._rangeRequestReaders.push(ct),ct}cancelAllRequests(st){var ot;(ot=this._fullRequestReader)==null||ot.cancel(st);for(const ct of this._rangeRequestReaders.slice(0))ct.cancel(st)}}i.PDFFetchStream=_e;class tt{constructor(st){this._stream=st,this._reader=null,this._loaded=0,this._filename=null;const ot=st.source;this._withCredentials=ot.withCredentials||!1,this._contentLength=ot.length,this._headersCapability=new o.PromiseCapability,this._disableRange=ot.disableRange||!1,this._rangeChunkSize=ot.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ot.disableStream,this._isRangeSupported=!ot.disableRange,this._headers=$(this._stream.httpHeaders);const ct=ot.url;fetch(ct,_(this._headers,this._withCredentials,this._abortController)).then(gt=>{if(!(0,j.validateResponseStatus)(gt.status))throw(0,j.createResponseStatusError)(gt.status,ct);this._reader=gt.body.getReader(),this._headersCapability.resolve();const dt=ut=>gt.headers.get(ut),{allowRangeRequests:it,suggestedLength:lt}=(0,j.validateRangeRequestCapabilities)({getResponseHeader:dt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=it,this._contentLength=lt||this._contentLength,this._filename=(0,j.extractFilenameFromHeader)(dt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ct;await this._headersCapability.promise;const{value:st,done:ot}=await this._reader.read();return ot?{value:st,done:ot}:(this._loaded+=st.byteLength,(ct=this.onProgress)==null||ct.call(this,{loaded:this._loaded,total:this._contentLength}),{value:et(st),done:!1})}cancel(st){var ot;(ot=this._reader)==null||ot.cancel(st),this._abortController.abort()}}class rt{constructor(st,ot,ct){this._stream=st,this._reader=null,this._loaded=0;const gt=st.source;this._withCredentials=gt.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!gt.disableStream,this._abortController=new AbortController,this._headers=$(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ot}-${ct-1}`);const dt=gt.url;fetch(dt,_(this._headers,this._withCredentials,this._abortController)).then(it=>{if(!(0,j.validateResponseStatus)(it.status))throw(0,j.createResponseStatusError)(it.status,dt);this._readCapability.resolve(),this._reader=it.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ct;await this._readCapability.promise;const{value:st,done:ot}=await this._reader.read();return ot?{value:st,done:ot}:(this._loaded+=st.byteLength,(ct=this.onProgress)==null||ct.call(this,{loaded:this._loaded}),{value:et(st),done:!1})}cancel(st){var ot;(ot=this._reader)==null||ot.cancel(st),this._abortController.abort()}}},(s,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=_e,i.extractFilenameFromHeader=et,i.validateRangeRequestCapabilities=$,i.validateResponseStatus=tt;var o=a(1),j=a(21),_=a(6);function $({getResponseHeader:rt,isHttp:nt,rangeChunkSize:st,disableRange:ot}){const ct={allowRangeRequests:!1,suggestedLength:void 0},gt=parseInt(rt("Content-Length"),10);return!Number.isInteger(gt)||(ct.suggestedLength=gt,gt<=2*st)||ot||!nt||rt("Accept-Ranges")!=="bytes"||(rt("Content-Encoding")||"identity")!=="identity"||(ct.allowRangeRequests=!0),ct}function et(rt){const nt=rt("Content-Disposition");if(nt){let st=(0,j.getFilenameFromContentDispositionHeader)(nt);if(st.includes("%"))try{st=decodeURIComponent(st)}catch{}if((0,_.isPdfFile)(st))return st}return null}function _e(rt,nt){return rt===404||rt===0&&nt.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+nt+'".'):new o.UnexpectedResponseException(`Unexpected server response (${rt}) while retrieving PDF "${nt}".`,rt)}function tt(rt){return rt===200||rt===206}},(s,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=j;var o=a(1);function j(_){let $=!0,et=_e("filename\\*","i").exec(_);if(et){et=et[1];let gt=st(et);return gt=unescape(gt),gt=ot(gt),gt=ct(gt),rt(gt)}if(et=nt(_),et){const gt=ct(et);return rt(gt)}if(et=_e("filename","i").exec(_),et){et=et[1];let gt=st(et);return gt=ct(gt),rt(gt)}function _e(gt,dt){return new RegExp("(?:^|;)\\s*"+gt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',dt)}function tt(gt,dt){if(gt){if(!/^[\x00-\xFF]+$/.test(dt))return dt;try{const it=new TextDecoder(gt,{fatal:!0}),lt=(0,o.stringToBytes)(dt);dt=it.decode(lt),$=!1}catch{}}return dt}function rt(gt){return $&&/[\x80-\xff]/.test(gt)&&(gt=tt("utf-8",gt),$&&(gt=tt("iso-8859-1",gt))),gt}function nt(gt){const dt=[];let it;const lt=_e("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(it=lt.exec(gt))!==null;){let[,mt,ht,vt]=it;if(mt=parseInt(mt,10),mt in dt){if(mt===0)break;continue}dt[mt]=[ht,vt]}const ut=[];for(let mt=0;mt<dt.length&&mt in dt;++mt){let[ht,vt]=dt[mt];vt=st(vt),ht&&(vt=unescape(vt),mt===0&&(vt=ot(vt))),ut.push(vt)}return ut.join("")}function st(gt){if(gt.startsWith('"')){const dt=gt.slice(1).split('\\"');for(let it=0;it<dt.length;++it){const lt=dt[it].indexOf('"');lt!==-1&&(dt[it]=dt[it].slice(0,lt),dt.length=it+1),dt[it]=dt[it].replaceAll(/\\(.)/g,"$1")}gt=dt.join('"')}return gt}function ot(gt){const dt=gt.indexOf("'");if(dt===-1)return gt;const it=gt.slice(0,dt),ut=gt.slice(dt+1).replace(/^[^']*'/,"");return tt(it,ut)}function ct(gt){return!gt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(gt)?gt:gt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(dt,it,lt,ut){if(lt==="q"||lt==="Q")return ut=ut.replaceAll("_"," "),ut=ut.replaceAll(/=([0-9a-fA-F]{2})/g,function(mt,ht){return String.fromCharCode(parseInt(ht,16))}),tt(it,ut);try{ut=atob(ut)}catch{}return tt(it,ut)})}return""}},(s,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var o=a(1),j=a(20);const _=200,$=206;function et(st){const ot=st.response;return typeof ot!="string"?ot:(0,o.stringToBytes)(ot).buffer}class _e{constructor(ot,ct={}){this.url=ot,this.isHttp=/^https?:/i.test(ot),this.httpHeaders=this.isHttp&&ct.httpHeaders||Object.create(null),this.withCredentials=ct.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(ot,ct,gt){const dt={begin:ot,end:ct};for(const it in gt)dt[it]=gt[it];return this.request(dt)}requestFull(ot){return this.request(ot)}request(ot){const ct=new XMLHttpRequest,gt=this.currXhrId++,dt=this.pendingRequests[gt]={xhr:ct};ct.open("GET",this.url),ct.withCredentials=this.withCredentials;for(const it in this.httpHeaders){const lt=this.httpHeaders[it];lt!==void 0&&ct.setRequestHeader(it,lt)}return this.isHttp&&"begin"in ot&&"end"in ot?(ct.setRequestHeader("Range",`bytes=${ot.begin}-${ot.end-1}`),dt.expectedStatus=$):dt.expectedStatus=_,ct.responseType="arraybuffer",ot.onError&&(ct.onerror=function(it){ot.onError(ct.status)}),ct.onreadystatechange=this.onStateChange.bind(this,gt),ct.onprogress=this.onProgress.bind(this,gt),dt.onHeadersReceived=ot.onHeadersReceived,dt.onDone=ot.onDone,dt.onError=ot.onError,dt.onProgress=ot.onProgress,ct.send(null),gt}onProgress(ot,ct){var dt;const gt=this.pendingRequests[ot];gt&&((dt=gt.onProgress)==null||dt.call(gt,ct))}onStateChange(ot,ct){var mt,ht,vt;const gt=this.pendingRequests[ot];if(!gt)return;const dt=gt.xhr;if(dt.readyState>=2&&gt.onHeadersReceived&&(gt.onHeadersReceived(),delete gt.onHeadersReceived),dt.readyState!==4||!(ot in this.pendingRequests))return;if(delete this.pendingRequests[ot],dt.status===0&&this.isHttp){(mt=gt.onError)==null||mt.call(gt,dt.status);return}const it=dt.status||_;if(!(it===_&&gt.expectedStatus===$)&&it!==gt.expectedStatus){(ht=gt.onError)==null||ht.call(gt,dt.status);return}const ut=et(dt);if(it===$){const at=dt.getResponseHeader("Content-Range"),pt=/bytes (\d+)-(\d+)\/(\d+)/.exec(at);gt.onDone({begin:parseInt(pt[1],10),chunk:ut})}else ut?gt.onDone({begin:0,chunk:ut}):(vt=gt.onError)==null||vt.call(gt,dt.status)}getRequestXhr(ot){return this.pendingRequests[ot].xhr}isPendingRequest(ot){return ot in this.pendingRequests}abortRequest(ot){const ct=this.pendingRequests[ot].xhr;delete this.pendingRequests[ot],ct.abort()}}class tt{constructor(ot){this._source=ot,this._manager=new _e(ot.url,{httpHeaders:ot.httpHeaders,withCredentials:ot.withCredentials}),this._rangeChunkSize=ot.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(ot){const ct=this._rangeRequestReaders.indexOf(ot);ct>=0&&this._rangeRequestReaders.splice(ct,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new rt(this._manager,this._source),this._fullRequestReader}getRangeReader(ot,ct){const gt=new nt(this._manager,ot,ct);return gt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(gt),gt}cancelAllRequests(ot){var ct;(ct=this._fullRequestReader)==null||ct.cancel(ot);for(const gt of this._rangeRequestReaders.slice(0))gt.cancel(ot)}}i.PDFNetworkStream=tt;class rt{constructor(ot,ct){this._manager=ot;const gt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ct.url,this._fullRequestId=ot.requestFull(gt),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=ct.disableRange||!1,this._contentLength=ct.length,this._rangeChunkSize=ct.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const ot=this._fullRequestId,ct=this._manager.getRequestXhr(ot),gt=lt=>ct.getResponseHeader(lt),{allowRangeRequests:dt,suggestedLength:it}=(0,j.validateRangeRequestCapabilities)({getResponseHeader:gt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});dt&&(this._isRangeSupported=!0),this._contentLength=it||this._contentLength,this._filename=(0,j.extractFilenameFromHeader)(gt),this._isRangeSupported&&this._manager.abortRequest(ot),this._headersReceivedCapability.resolve()}_onDone(ot){if(ot&&(this._requests.length>0?this._requests.shift().resolve({value:ot.chunk,done:!1}):this._cachedChunks.push(ot.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ct of this._requests)ct.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(ot){this._storedError=(0,j.createResponseStatusError)(ot,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ct of this._requests)ct.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(ot){var ct;(ct=this.onProgress)==null||ct.call(this,{loaded:ot.loaded,total:ot.lengthComputable?ot.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ot=new o.PromiseCapability;return this._requests.push(ot),ot.promise}cancel(ot){this._done=!0,this._headersReceivedCapability.reject(ot);for(const ct of this._requests)ct.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class nt{constructor(ot,ct,gt){this._manager=ot;const dt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ot.url,this._requestId=ot.requestRange(ct,gt,dt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var ot;(ot=this.onClosed)==null||ot.call(this,this)}_onDone(ot){const ct=ot.chunk;this._requests.length>0?this._requests.shift().resolve({value:ct,done:!1}):this._queuedChunk=ct,this._done=!0;for(const gt of this._requests)gt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(ot){this._storedError=(0,j.createResponseStatusError)(ot,this._url);for(const ct of this._requests)ct.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(ot){var ct;this.isStreamingSupported||(ct=this.onProgress)==null||ct.call(this,{loaded:ot.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const ct=this._queuedChunk;return this._queuedChunk=null,{value:ct,done:!1}}if(this._done)return{value:void 0,done:!0};const ot=new o.PromiseCapability;return this._requests.push(ot),ot.promise}cancel(ot){this._done=!0;for(const ct of this._requests)ct.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(s,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var o=a(1),j=a(20);const _=/^file:\/\/\/[a-zA-Z]:\//;function $(gt){const dt=require$$5,it=dt.parse(gt);return it.protocol==="file:"||it.host?it:/^[a-z]:[/\\]/i.test(gt)?dt.parse(`file:///${gt}`):(it.host||(it.protocol="file:"),it)}class et{constructor(dt){this.source=dt,this.url=$(dt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&dt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var dt;return((dt=this._fullRequestReader)==null?void 0:dt._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new ot(this):new nt(this),this._fullRequestReader}getRangeReader(dt,it){if(it<=this._progressiveDataLength)return null;const lt=this.isFsUrl?new ct(this,dt,it):new st(this,dt,it);return this._rangeRequestReaders.push(lt),lt}cancelAllRequests(dt){var it;(it=this._fullRequestReader)==null||it.cancel(dt);for(const lt of this._rangeRequestReaders.slice(0))lt.cancel(dt)}}i.PDFNodeStream=et;class _e{constructor(dt){this._url=dt.url,this._done=!1,this._storedError=null,this.onProgress=null;const it=dt.source;this._contentLength=it.length,this._loaded=0,this._filename=null,this._disableRange=it.disableRange||!1,this._rangeChunkSize=it.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!it.disableStream,this._isRangeSupported=!it.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var lt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const dt=this._readableStream.read();return dt===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=dt.length,(lt=this.onProgress)==null||lt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(dt).buffer,done:!1})}cancel(dt){if(!this._readableStream){this._error(dt);return}this._readableStream.destroy(dt)}_error(dt){this._storedError=dt,this._readCapability.resolve()}_setReadableStream(dt){this._readableStream=dt,dt.on("readable",()=>{this._readCapability.resolve()}),dt.on("end",()=>{dt.destroy(),this._done=!0,this._readCapability.resolve()}),dt.on("error",it=>{this._error(it)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class tt{constructor(dt){this._url=dt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const it=dt.source;this._isStreamingSupported=!it.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var lt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const dt=this._readableStream.read();return dt===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=dt.length,(lt=this.onProgress)==null||lt.call(this,{loaded:this._loaded}),{value:new Uint8Array(dt).buffer,done:!1})}cancel(dt){if(!this._readableStream){this._error(dt);return}this._readableStream.destroy(dt)}_error(dt){this._storedError=dt,this._readCapability.resolve()}_setReadableStream(dt){this._readableStream=dt,dt.on("readable",()=>{this._readCapability.resolve()}),dt.on("end",()=>{dt.destroy(),this._done=!0,this._readCapability.resolve()}),dt.on("error",it=>{this._error(it)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function rt(gt,dt){return{protocol:gt.protocol,auth:gt.auth,host:gt.hostname,port:gt.port,path:gt.path,method:"GET",headers:dt}}class nt extends _e{constructor(dt){super(dt);const it=lt=>{if(lt.statusCode===404){const vt=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=vt,this._headersCapability.reject(vt);return}this._headersCapability.resolve(),this._setReadableStream(lt);const ut=vt=>this._readableStream.headers[vt.toLowerCase()],{allowRangeRequests:mt,suggestedLength:ht}=(0,j.validateRangeRequestCapabilities)({getResponseHeader:ut,isHttp:dt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=mt,this._contentLength=ht||this._contentLength,this._filename=(0,j.extractFilenameFromHeader)(ut)};if(this._request=null,this._url.protocol==="http:"){const lt=require$$5;this._request=lt.request(rt(this._url,dt.httpHeaders),it)}else{const lt=require$$5;this._request=lt.request(rt(this._url,dt.httpHeaders),it)}this._request.on("error",lt=>{this._storedError=lt,this._headersCapability.reject(lt)}),this._request.end()}}class st extends tt{constructor(dt,it,lt){super(dt),this._httpHeaders={};for(const mt in dt.httpHeaders){const ht=dt.httpHeaders[mt];ht!==void 0&&(this._httpHeaders[mt]=ht)}this._httpHeaders.Range=`bytes=${it}-${lt-1}`;const ut=mt=>{if(mt.statusCode===404){const ht=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ht;return}this._setReadableStream(mt)};if(this._request=null,this._url.protocol==="http:"){const mt=require$$5;this._request=mt.request(rt(this._url,this._httpHeaders),ut)}else{const mt=require$$5;this._request=mt.request(rt(this._url,this._httpHeaders),ut)}this._request.on("error",mt=>{this._storedError=mt}),this._request.end()}}class ot extends _e{constructor(dt){super(dt);let it=decodeURIComponent(this._url.path);_.test(this._url.href)&&(it=it.replace(/^\//,""));const lt=require$$5;lt.lstat(it,(ut,mt)=>{if(ut){ut.code==="ENOENT"&&(ut=new o.MissingPDFException(`Missing PDF "${it}".`)),this._storedError=ut,this._headersCapability.reject(ut);return}this._contentLength=mt.size,this._setReadableStream(lt.createReadStream(it)),this._headersCapability.resolve()})}}class ct extends tt{constructor(dt,it,lt){super(dt);let ut=decodeURIComponent(this._url.path);_.test(this._url.href)&&(ut=ut.replace(/^\//,""));const mt=require$$5;this._setReadableStream(mt.createReadStream(ut,{start:it,end:lt-1}))}}},(s,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var o=a(6),j=a(1);const _={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},$="http://www.w3.org/XML/1998/namespace",et="http://www.w3.org/1999/xlink",_e=["butt","round","square"],tt=["miter","round","bevel"],rt=function(mt,ht="",vt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!vt)return URL.createObjectURL(new Blob([mt],{type:ht}));const at="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let pt=`data:${ht};base64,`;for(let yt=0,jt=mt.length;yt<jt;yt+=3){const xt=mt[yt]&255,wt=mt[yt+1]&255,At=mt[yt+2]&255,Ut=xt>>2,Ft=(xt&3)<<4|wt>>4,Bt=yt+1<jt?(wt&15)<<2|At>>6:64,Nt=yt+2<jt?At&63:64;pt+=at[Ut]+at[Ft]+at[Bt]+at[Nt]}return pt},nt=function(){const mt=new Uint8Array([137,80,78,71,13,10,26,10]),ht=12,vt=new Int32Array(256);for(let At=0;At<256;At++){let Ut=At;for(let Ft=0;Ft<8;Ft++)Ut=Ut&1?3988292384^Ut>>1&2147483647:Ut>>1&2147483647;vt[At]=Ut}function at(At,Ut,Ft){let Bt=-1;for(let Nt=Ut;Nt<Ft;Nt++){const Rt=(Bt^At[Nt])&255,kt=vt[Rt];Bt=Bt>>>8^kt}return Bt^-1}function pt(At,Ut,Ft,Bt){let Nt=Bt;const Rt=Ut.length;Ft[Nt]=Rt>>24&255,Ft[Nt+1]=Rt>>16&255,Ft[Nt+2]=Rt>>8&255,Ft[Nt+3]=Rt&255,Nt+=4,Ft[Nt]=At.charCodeAt(0)&255,Ft[Nt+1]=At.charCodeAt(1)&255,Ft[Nt+2]=At.charCodeAt(2)&255,Ft[Nt+3]=At.charCodeAt(3)&255,Nt+=4,Ft.set(Ut,Nt),Nt+=Ut.length;const kt=at(Ft,Bt+4,Nt);Ft[Nt]=kt>>24&255,Ft[Nt+1]=kt>>16&255,Ft[Nt+2]=kt>>8&255,Ft[Nt+3]=kt&255}function yt(At,Ut,Ft){let Bt=1,Nt=0;for(let Rt=Ut;Rt<Ft;++Rt)Bt=(Bt+(At[Rt]&255))%65521,Nt=(Nt+Bt)%65521;return Nt<<16|Bt}function jt(At){if(!j.isNodeJS)return xt(At);try{const Ut=parseInt(process.versions.node)>=8?At:Buffer.from(At),Ft=require$$5.deflateSync(Ut,{level:9});return Ft instanceof Uint8Array?Ft:new Uint8Array(Ft)}catch(Ut){(0,j.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Ut)}return xt(At)}function xt(At){let Ut=At.length;const Ft=65535,Bt=Math.ceil(Ut/Ft),Nt=new Uint8Array(2+Ut+Bt*5+4);let Rt=0;Nt[Rt++]=120,Nt[Rt++]=156;let kt=0;for(;Ut>Ft;)Nt[Rt++]=0,Nt[Rt++]=255,Nt[Rt++]=255,Nt[Rt++]=0,Nt[Rt++]=0,Nt.set(At.subarray(kt,kt+Ft),Rt),Rt+=Ft,kt+=Ft,Ut-=Ft;Nt[Rt++]=1,Nt[Rt++]=Ut&255,Nt[Rt++]=Ut>>8&255,Nt[Rt++]=~Ut&65535&255,Nt[Rt++]=(~Ut&65535)>>8&255,Nt.set(At.subarray(kt),Rt),Rt+=At.length-kt;const Dt=yt(At,0,At.length);return Nt[Rt++]=Dt>>24&255,Nt[Rt++]=Dt>>16&255,Nt[Rt++]=Dt>>8&255,Nt[Rt++]=Dt&255,Nt}function wt(At,Ut,Ft,Bt){const Nt=At.width,Rt=At.height;let kt,Dt,zt;const Ct=At.data;switch(Ut){case j.ImageKind.GRAYSCALE_1BPP:Dt=0,kt=1,zt=Nt+7>>3;break;case j.ImageKind.RGB_24BPP:Dt=2,kt=8,zt=Nt*3;break;case j.ImageKind.RGBA_32BPP:Dt=6,kt=8,zt=Nt*4;break;default:throw new Error("invalid format")}const bt=new Uint8Array((1+zt)*Rt);let Et=0,St=0;for(let Zt=0;Zt<Rt;++Zt)bt[Et++]=0,bt.set(Ct.subarray(St,St+zt),Et),St+=zt,Et+=zt;if(Ut===j.ImageKind.GRAYSCALE_1BPP&&Bt){Et=0;for(let Zt=0;Zt<Rt;Zt++){Et++;for(let ir=0;ir<zt;ir++)bt[Et++]^=255}}const It=new Uint8Array([Nt>>24&255,Nt>>16&255,Nt>>8&255,Nt&255,Rt>>24&255,Rt>>16&255,Rt>>8&255,Rt&255,kt,Dt,0,0,0]),Pt=jt(bt),Mt=mt.length+ht*3+It.length+Pt.length,Gt=new Uint8Array(Mt);let Yt=0;return Gt.set(mt,Yt),Yt+=mt.length,pt("IHDR",It,Gt,Yt),Yt+=ht+It.length,pt("IDATA",Pt,Gt,Yt),Yt+=ht+Pt.length,pt("IEND",new Uint8Array(0),Gt,Yt),rt(Gt,"image/png",Ft)}return function(Ut,Ft,Bt){const Nt=Ut.kind===void 0?j.ImageKind.GRAYSCALE_1BPP:Ut.kind;return wt(Ut,Nt,Ft,Bt)}}();class st{constructor(){this.fontSizeScale=1,this.fontWeight=_.fontWeight,this.fontSize=0,this.textMatrix=j.IDENTITY_MATRIX,this.fontMatrix=j.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=j.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=_.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(ht,vt){this.x=ht,this.y=vt}}function ot(mt){let ht=[];const vt=[];for(const at of mt){if(at.fn==="save"){ht.push({fnId:92,fn:"group",items:[]}),vt.push(ht),ht=ht.at(-1).items;continue}at.fn==="restore"?ht=vt.pop():ht.push(at)}return ht}function ct(mt){if(Number.isInteger(mt))return mt.toString();const ht=mt.toFixed(10);let vt=ht.length-1;if(ht[vt]!=="0")return ht;do vt--;while(ht[vt]==="0");return ht.substring(0,ht[vt]==="."?vt:vt+1)}function gt(mt){if(mt[4]===0&&mt[5]===0){if(mt[1]===0&&mt[2]===0)return mt[0]===1&&mt[3]===1?"":`scale(${ct(mt[0])} ${ct(mt[3])})`;if(mt[0]===mt[3]&&mt[1]===-mt[2]){const ht=Math.acos(mt[0])*180/Math.PI;return`rotate(${ct(ht)})`}}else if(mt[0]===1&&mt[1]===0&&mt[2]===0&&mt[3]===1)return`translate(${ct(mt[4])} ${ct(mt[5])})`;return`matrix(${ct(mt[0])} ${ct(mt[1])} ${ct(mt[2])} ${ct(mt[3])} ${ct(mt[4])} ${ct(mt[5])})`}let dt=0,it=0,lt=0;class ut{constructor(ht,vt,at=!1){(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new st,this.transformMatrix=j.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=ht,this.objs=vt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!at,this._operatorIdMapping=[];for(const pt in j.OPS)this._operatorIdMapping[j.OPS[pt]]=pt}getObject(ht,vt=null){return typeof ht=="string"?ht.startsWith("g_")?this.commonObjs.get(ht):this.objs.get(ht):vt}save(){this.transformStack.push(this.transformMatrix);const ht=this.current;this.extraStack.push(ht),this.current=ht.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(ht){this.save(),this.executeOpTree(ht),this.restore()}loadDependencies(ht){const vt=ht.fnArray,at=ht.argsArray;for(let pt=0,yt=vt.length;pt<yt;pt++)if(vt[pt]===j.OPS.dependency)for(const jt of at[pt]){const xt=jt.startsWith("g_")?this.commonObjs:this.objs,wt=new Promise(At=>{xt.get(jt,At)});this.current.dependencies.push(wt)}return Promise.all(this.current.dependencies)}transform(ht,vt,at,pt,yt,jt){const xt=[ht,vt,at,pt,yt,jt];this.transformMatrix=j.Util.transform(this.transformMatrix,xt),this.tgrp=null}getSVG(ht,vt){this.viewport=vt;const at=this._initialize(vt);return this.loadDependencies(ht).then(()=>(this.transformMatrix=j.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(ht)),at))}convertOpList(ht){const vt=this._operatorIdMapping,at=ht.argsArray,pt=ht.fnArray,yt=[];for(let jt=0,xt=pt.length;jt<xt;jt++){const wt=pt[jt];yt.push({fnId:wt,fn:vt[wt],args:at[jt]})}return ot(yt)}executeOpTree(ht){for(const vt of ht){const at=vt.fn,pt=vt.fnId,yt=vt.args;switch(pt|0){case j.OPS.beginText:this.beginText();break;case j.OPS.dependency:break;case j.OPS.setLeading:this.setLeading(yt);break;case j.OPS.setLeadingMoveText:this.setLeadingMoveText(yt[0],yt[1]);break;case j.OPS.setFont:this.setFont(yt);break;case j.OPS.showText:this.showText(yt[0]);break;case j.OPS.showSpacedText:this.showText(yt[0]);break;case j.OPS.endText:this.endText();break;case j.OPS.moveText:this.moveText(yt[0],yt[1]);break;case j.OPS.setCharSpacing:this.setCharSpacing(yt[0]);break;case j.OPS.setWordSpacing:this.setWordSpacing(yt[0]);break;case j.OPS.setHScale:this.setHScale(yt[0]);break;case j.OPS.setTextMatrix:this.setTextMatrix(yt[0],yt[1],yt[2],yt[3],yt[4],yt[5]);break;case j.OPS.setTextRise:this.setTextRise(yt[0]);break;case j.OPS.setTextRenderingMode:this.setTextRenderingMode(yt[0]);break;case j.OPS.setLineWidth:this.setLineWidth(yt[0]);break;case j.OPS.setLineJoin:this.setLineJoin(yt[0]);break;case j.OPS.setLineCap:this.setLineCap(yt[0]);break;case j.OPS.setMiterLimit:this.setMiterLimit(yt[0]);break;case j.OPS.setFillRGBColor:this.setFillRGBColor(yt[0],yt[1],yt[2]);break;case j.OPS.setStrokeRGBColor:this.setStrokeRGBColor(yt[0],yt[1],yt[2]);break;case j.OPS.setStrokeColorN:this.setStrokeColorN(yt);break;case j.OPS.setFillColorN:this.setFillColorN(yt);break;case j.OPS.shadingFill:this.shadingFill(yt[0]);break;case j.OPS.setDash:this.setDash(yt[0],yt[1]);break;case j.OPS.setRenderingIntent:this.setRenderingIntent(yt[0]);break;case j.OPS.setFlatness:this.setFlatness(yt[0]);break;case j.OPS.setGState:this.setGState(yt[0]);break;case j.OPS.fill:this.fill();break;case j.OPS.eoFill:this.eoFill();break;case j.OPS.stroke:this.stroke();break;case j.OPS.fillStroke:this.fillStroke();break;case j.OPS.eoFillStroke:this.eoFillStroke();break;case j.OPS.clip:this.clip("nonzero");break;case j.OPS.eoClip:this.clip("evenodd");break;case j.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case j.OPS.paintImageXObject:this.paintImageXObject(yt[0]);break;case j.OPS.paintInlineImageXObject:this.paintInlineImageXObject(yt[0]);break;case j.OPS.paintImageMaskXObject:this.paintImageMaskXObject(yt[0]);break;case j.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(yt[0],yt[1]);break;case j.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case j.OPS.closePath:this.closePath();break;case j.OPS.closeStroke:this.closeStroke();break;case j.OPS.closeFillStroke:this.closeFillStroke();break;case j.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case j.OPS.nextLine:this.nextLine();break;case j.OPS.transform:this.transform(yt[0],yt[1],yt[2],yt[3],yt[4],yt[5]);break;case j.OPS.constructPath:this.constructPath(yt[0],yt[1]);break;case j.OPS.endPath:this.endPath();break;case 92:this.group(vt.items);break;default:(0,j.warn)(`Unimplemented operator ${at}`);break}}}setWordSpacing(ht){this.current.wordSpacing=ht}setCharSpacing(ht){this.current.charSpacing=ht}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(ht,vt,at,pt,yt,jt){const xt=this.current;xt.textMatrix=xt.lineMatrix=[ht,vt,at,pt,yt,jt],xt.textMatrixScale=Math.hypot(ht,vt),xt.x=xt.lineX=0,xt.y=xt.lineY=0,xt.xcoords=[],xt.ycoords=[],xt.tspan=this.svgFactory.createElement("svg:tspan"),xt.tspan.setAttributeNS(null,"font-family",xt.fontFamily),xt.tspan.setAttributeNS(null,"font-size",`${ct(xt.fontSize)}px`),xt.tspan.setAttributeNS(null,"y",ct(-xt.y)),xt.txtElement=this.svgFactory.createElement("svg:text"),xt.txtElement.append(xt.tspan)}beginText(){const ht=this.current;ht.x=ht.lineX=0,ht.y=ht.lineY=0,ht.textMatrix=j.IDENTITY_MATRIX,ht.lineMatrix=j.IDENTITY_MATRIX,ht.textMatrixScale=1,ht.tspan=this.svgFactory.createElement("svg:tspan"),ht.txtElement=this.svgFactory.createElement("svg:text"),ht.txtgrp=this.svgFactory.createElement("svg:g"),ht.xcoords=[],ht.ycoords=[]}moveText(ht,vt){const at=this.current;at.x=at.lineX+=ht,at.y=at.lineY+=vt,at.xcoords=[],at.ycoords=[],at.tspan=this.svgFactory.createElement("svg:tspan"),at.tspan.setAttributeNS(null,"font-family",at.fontFamily),at.tspan.setAttributeNS(null,"font-size",`${ct(at.fontSize)}px`),at.tspan.setAttributeNS(null,"y",ct(-at.y))}showText(ht){const vt=this.current,at=vt.font,pt=vt.fontSize;if(pt===0)return;const yt=vt.fontSizeScale,jt=vt.charSpacing,xt=vt.wordSpacing,wt=vt.fontDirection,At=vt.textHScale*wt,Ut=at.vertical,Ft=Ut?1:-1,Bt=at.defaultVMetrics,Nt=pt*vt.fontMatrix[0];let Rt=0;for(const zt of ht){if(zt===null){Rt+=wt*xt;continue}else if(typeof zt=="number"){Rt+=Ft*zt*pt/1e3;continue}const Ct=(zt.isSpace?xt:0)+jt,bt=zt.fontChar;let Et,St,It=zt.width;if(Ut){let Mt;const Gt=zt.vmetric||Bt;Mt=zt.vmetric?Gt[1]:It*.5,Mt=-Mt*Nt;const Yt=Gt[2]*Nt;It=Gt?-Gt[0]:It,Et=Mt/yt,St=(Rt+Yt)/yt}else Et=Rt/yt,St=0;(zt.isInFont||at.missingFile)&&(vt.xcoords.push(vt.x+Et),Ut&&vt.ycoords.push(-vt.y+St),vt.tspan.textContent+=bt);const Pt=Ut?It*Nt-Ct*wt:It*Nt+Ct*wt;Rt+=Pt}vt.tspan.setAttributeNS(null,"x",vt.xcoords.map(ct).join(" ")),Ut?vt.tspan.setAttributeNS(null,"y",vt.ycoords.map(ct).join(" ")):vt.tspan.setAttributeNS(null,"y",ct(-vt.y)),Ut?vt.y-=Rt:vt.x+=Rt*At,vt.tspan.setAttributeNS(null,"font-family",vt.fontFamily),vt.tspan.setAttributeNS(null,"font-size",`${ct(vt.fontSize)}px`),vt.fontStyle!==_.fontStyle&&vt.tspan.setAttributeNS(null,"font-style",vt.fontStyle),vt.fontWeight!==_.fontWeight&&vt.tspan.setAttributeNS(null,"font-weight",vt.fontWeight);const kt=vt.textRenderingMode&j.TextRenderingMode.FILL_STROKE_MASK;if(kt===j.TextRenderingMode.FILL||kt===j.TextRenderingMode.FILL_STROKE?(vt.fillColor!==_.fillColor&&vt.tspan.setAttributeNS(null,"fill",vt.fillColor),vt.fillAlpha<1&&vt.tspan.setAttributeNS(null,"fill-opacity",vt.fillAlpha)):vt.textRenderingMode===j.TextRenderingMode.ADD_TO_PATH?vt.tspan.setAttributeNS(null,"fill","transparent"):vt.tspan.setAttributeNS(null,"fill","none"),kt===j.TextRenderingMode.STROKE||kt===j.TextRenderingMode.FILL_STROKE){const zt=1/(vt.textMatrixScale||1);this._setStrokeAttributes(vt.tspan,zt)}let Dt=vt.textMatrix;vt.textRise!==0&&(Dt=Dt.slice(),Dt[5]+=vt.textRise),vt.txtElement.setAttributeNS(null,"transform",`${gt(Dt)} scale(${ct(At)}, -1)`),vt.txtElement.setAttributeNS($,"xml:space","preserve"),vt.txtElement.append(vt.tspan),vt.txtgrp.append(vt.txtElement),this._ensureTransformGroup().append(vt.txtElement)}setLeadingMoveText(ht,vt){this.setLeading(-vt),this.moveText(ht,vt)}addFontStyle(ht){if(!ht.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const vt=rt(ht.data,ht.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${ht.loadedName}"; src: url(${vt}); }
`}setFont(ht){const vt=this.current,at=this.commonObjs.get(ht[0]);let pt=ht[1];vt.font=at,this.embedFonts&&!at.missingFile&&!this.embeddedFonts[at.loadedName]&&(this.addFontStyle(at),this.embeddedFonts[at.loadedName]=at),vt.fontMatrix=at.fontMatrix||j.FONT_IDENTITY_MATRIX;let yt="normal";at.black?yt="900":at.bold&&(yt="bold");const jt=at.italic?"italic":"normal";pt<0?(pt=-pt,vt.fontDirection=-1):vt.fontDirection=1,vt.fontSize=pt,vt.fontFamily=at.loadedName,vt.fontWeight=yt,vt.fontStyle=jt,vt.tspan=this.svgFactory.createElement("svg:tspan"),vt.tspan.setAttributeNS(null,"y",ct(-vt.y)),vt.xcoords=[],vt.ycoords=[]}endText(){var vt;const ht=this.current;ht.textRenderingMode&j.TextRenderingMode.ADD_TO_PATH_FLAG&&((vt=ht.txtElement)!=null&&vt.hasChildNodes())&&(ht.element=ht.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(ht){ht>0&&(this.current.lineWidth=ht)}setLineCap(ht){this.current.lineCap=_e[ht]}setLineJoin(ht){this.current.lineJoin=tt[ht]}setMiterLimit(ht){this.current.miterLimit=ht}setStrokeAlpha(ht){this.current.strokeAlpha=ht}setStrokeRGBColor(ht,vt,at){this.current.strokeColor=j.Util.makeHexColor(ht,vt,at)}setFillAlpha(ht){this.current.fillAlpha=ht}setFillRGBColor(ht,vt,at){this.current.fillColor=j.Util.makeHexColor(ht,vt,at),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(ht){this.current.strokeColor=this._makeColorN_Pattern(ht)}setFillColorN(ht){this.current.fillColor=this._makeColorN_Pattern(ht)}shadingFill(ht){const{width:vt,height:at}=this.viewport,pt=j.Util.inverseTransform(this.transformMatrix),[yt,jt,xt,wt]=j.Util.getAxialAlignedBoundingBox([0,0,vt,at],pt),At=this.svgFactory.createElement("svg:rect");At.setAttributeNS(null,"x",yt),At.setAttributeNS(null,"y",jt),At.setAttributeNS(null,"width",xt-yt),At.setAttributeNS(null,"height",wt-jt),At.setAttributeNS(null,"fill",this._makeShadingPattern(ht)),this.current.fillAlpha<1&&At.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(At)}_makeColorN_Pattern(ht){return ht[0]==="TilingPattern"?this._makeTilingPattern(ht):this._makeShadingPattern(ht)}_makeTilingPattern(ht){const vt=ht[1],at=ht[2],pt=ht[3]||j.IDENTITY_MATRIX,[yt,jt,xt,wt]=ht[4],At=ht[5],Ut=ht[6],Ft=ht[7],Bt=`shading${lt++}`,[Nt,Rt,kt,Dt]=j.Util.normalizeRect([...j.Util.applyTransform([yt,jt],pt),...j.Util.applyTransform([xt,wt],pt)]),[zt,Ct]=j.Util.singularValueDecompose2dScale(pt),bt=At*zt,Et=Ut*Ct,St=this.svgFactory.createElement("svg:pattern");St.setAttributeNS(null,"id",Bt),St.setAttributeNS(null,"patternUnits","userSpaceOnUse"),St.setAttributeNS(null,"width",bt),St.setAttributeNS(null,"height",Et),St.setAttributeNS(null,"x",`${Nt}`),St.setAttributeNS(null,"y",`${Rt}`);const It=this.svg,Pt=this.transformMatrix,Mt=this.current.fillColor,Gt=this.current.strokeColor,Yt=this.svgFactory.create(kt-Nt,Dt-Rt);if(this.svg=Yt,this.transformMatrix=pt,Ft===2){const Zt=j.Util.makeHexColor(...vt);this.current.fillColor=Zt,this.current.strokeColor=Zt}return this.executeOpTree(this.convertOpList(at)),this.svg=It,this.transformMatrix=Pt,this.current.fillColor=Mt,this.current.strokeColor=Gt,St.append(Yt.childNodes[0]),this.defs.append(St),`url(#${Bt})`}_makeShadingPattern(ht){switch(typeof ht=="string"&&(ht=this.objs.get(ht)),ht[0]){case"RadialAxial":const vt=`shading${lt++}`,at=ht[3];let pt;switch(ht[1]){case"axial":const yt=ht[4],jt=ht[5];pt=this.svgFactory.createElement("svg:linearGradient"),pt.setAttributeNS(null,"id",vt),pt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),pt.setAttributeNS(null,"x1",yt[0]),pt.setAttributeNS(null,"y1",yt[1]),pt.setAttributeNS(null,"x2",jt[0]),pt.setAttributeNS(null,"y2",jt[1]);break;case"radial":const xt=ht[4],wt=ht[5],At=ht[6],Ut=ht[7];pt=this.svgFactory.createElement("svg:radialGradient"),pt.setAttributeNS(null,"id",vt),pt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),pt.setAttributeNS(null,"cx",wt[0]),pt.setAttributeNS(null,"cy",wt[1]),pt.setAttributeNS(null,"r",Ut),pt.setAttributeNS(null,"fx",xt[0]),pt.setAttributeNS(null,"fy",xt[1]),pt.setAttributeNS(null,"fr",At);break;default:throw new Error(`Unknown RadialAxial type: ${ht[1]}`)}for(const yt of at){const jt=this.svgFactory.createElement("svg:stop");jt.setAttributeNS(null,"offset",yt[0]),jt.setAttributeNS(null,"stop-color",yt[1]),pt.append(jt)}return this.defs.append(pt),`url(#${vt})`;case"Mesh":return(0,j.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${ht[0]}`)}}setDash(ht,vt){this.current.dashArray=ht,this.current.dashPhase=vt}constructPath(ht,vt){const at=this.current;let pt=at.x,yt=at.y,jt=[],xt=0;for(const wt of ht)switch(wt|0){case j.OPS.rectangle:pt=vt[xt++],yt=vt[xt++];const At=vt[xt++],Ut=vt[xt++],Ft=pt+At,Bt=yt+Ut;jt.push("M",ct(pt),ct(yt),"L",ct(Ft),ct(yt),"L",ct(Ft),ct(Bt),"L",ct(pt),ct(Bt),"Z");break;case j.OPS.moveTo:pt=vt[xt++],yt=vt[xt++],jt.push("M",ct(pt),ct(yt));break;case j.OPS.lineTo:pt=vt[xt++],yt=vt[xt++],jt.push("L",ct(pt),ct(yt));break;case j.OPS.curveTo:pt=vt[xt+4],yt=vt[xt+5],jt.push("C",ct(vt[xt]),ct(vt[xt+1]),ct(vt[xt+2]),ct(vt[xt+3]),ct(pt),ct(yt)),xt+=6;break;case j.OPS.curveTo2:jt.push("C",ct(pt),ct(yt),ct(vt[xt]),ct(vt[xt+1]),ct(vt[xt+2]),ct(vt[xt+3])),pt=vt[xt+2],yt=vt[xt+3],xt+=4;break;case j.OPS.curveTo3:pt=vt[xt+2],yt=vt[xt+3],jt.push("C",ct(vt[xt]),ct(vt[xt+1]),ct(pt),ct(yt),ct(pt),ct(yt)),xt+=4;break;case j.OPS.closePath:jt.push("Z");break}jt=jt.join(" "),at.path&&ht.length>0&&ht[0]!==j.OPS.rectangle&&ht[0]!==j.OPS.moveTo?jt=at.path.getAttributeNS(null,"d")+jt:(at.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(at.path)),at.path.setAttributeNS(null,"d",jt),at.path.setAttributeNS(null,"fill","none"),at.element=at.path,at.setCurrentPoint(pt,yt)}endPath(){const ht=this.current;if(ht.path=null,!this.pendingClip)return;if(!ht.element){this.pendingClip=null;return}const vt=`clippath${dt++}`,at=this.svgFactory.createElement("svg:clipPath");at.setAttributeNS(null,"id",vt),at.setAttributeNS(null,"transform",gt(this.transformMatrix));const pt=ht.element.cloneNode(!0);if(this.pendingClip==="evenodd"?pt.setAttributeNS(null,"clip-rule","evenodd"):pt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,at.append(pt),this.defs.append(at),ht.activeClipUrl){ht.clipGroup=null;for(const yt of this.extraStack)yt.clipGroup=null;at.setAttributeNS(null,"clip-path",ht.activeClipUrl)}ht.activeClipUrl=`url(#${vt})`,this.tgrp=null}clip(ht){this.pendingClip=ht}closePath(){const ht=this.current;if(ht.path){const vt=`${ht.path.getAttributeNS(null,"d")}Z`;ht.path.setAttributeNS(null,"d",vt)}}setLeading(ht){this.current.leading=-ht}setTextRise(ht){this.current.textRise=ht}setTextRenderingMode(ht){this.current.textRenderingMode=ht}setHScale(ht){this.current.textHScale=ht/100}setRenderingIntent(ht){}setFlatness(ht){}setGState(ht){for(const[vt,at]of ht)switch(vt){case"LW":this.setLineWidth(at);break;case"LC":this.setLineCap(at);break;case"LJ":this.setLineJoin(at);break;case"ML":this.setMiterLimit(at);break;case"D":this.setDash(at[0],at[1]);break;case"RI":this.setRenderingIntent(at);break;case"FL":this.setFlatness(at);break;case"Font":this.setFont(at);break;case"CA":this.setStrokeAlpha(at);break;case"ca":this.setFillAlpha(at);break;default:(0,j.warn)(`Unimplemented graphic state operator ${vt}`);break}}fill(){const ht=this.current;ht.element&&(ht.element.setAttributeNS(null,"fill",ht.fillColor),ht.element.setAttributeNS(null,"fill-opacity",ht.fillAlpha),this.endPath())}stroke(){const ht=this.current;ht.element&&(this._setStrokeAttributes(ht.element),ht.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(ht,vt=1){const at=this.current;let pt=at.dashArray;vt!==1&&pt.length>0&&(pt=pt.map(function(yt){return vt*yt})),ht.setAttributeNS(null,"stroke",at.strokeColor),ht.setAttributeNS(null,"stroke-opacity",at.strokeAlpha),ht.setAttributeNS(null,"stroke-miterlimit",ct(at.miterLimit)),ht.setAttributeNS(null,"stroke-linecap",at.lineCap),ht.setAttributeNS(null,"stroke-linejoin",at.lineJoin),ht.setAttributeNS(null,"stroke-width",ct(vt*at.lineWidth)+"px"),ht.setAttributeNS(null,"stroke-dasharray",pt.map(ct).join(" ")),ht.setAttributeNS(null,"stroke-dashoffset",ct(vt*at.dashPhase)+"px")}eoFill(){var ht;(ht=this.current.element)==null||ht.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var ht;(ht=this.current.element)==null||ht.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const ht=this.svgFactory.createElement("svg:rect");ht.setAttributeNS(null,"x","0"),ht.setAttributeNS(null,"y","0"),ht.setAttributeNS(null,"width","1px"),ht.setAttributeNS(null,"height","1px"),ht.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(ht)}paintImageXObject(ht){const vt=this.getObject(ht);if(!vt){(0,j.warn)(`Dependent image with object ID ${ht} is not ready yet`);return}this.paintInlineImageXObject(vt)}paintInlineImageXObject(ht,vt){const at=ht.width,pt=ht.height,yt=nt(ht,this.forceDataSchema,!!vt),jt=this.svgFactory.createElement("svg:rect");jt.setAttributeNS(null,"x","0"),jt.setAttributeNS(null,"y","0"),jt.setAttributeNS(null,"width",ct(at)),jt.setAttributeNS(null,"height",ct(pt)),this.current.element=jt,this.clip("nonzero");const xt=this.svgFactory.createElement("svg:image");xt.setAttributeNS(et,"xlink:href",yt),xt.setAttributeNS(null,"x","0"),xt.setAttributeNS(null,"y",ct(-pt)),xt.setAttributeNS(null,"width",ct(at)+"px"),xt.setAttributeNS(null,"height",ct(pt)+"px"),xt.setAttributeNS(null,"transform",`scale(${ct(1/at)} ${ct(-1/pt)})`),vt?vt.append(xt):this._ensureTransformGroup().append(xt)}paintImageMaskXObject(ht){const vt=this.getObject(ht.data,ht);if(vt.bitmap){(0,j.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const at=this.current,pt=vt.width,yt=vt.height,jt=at.fillColor;at.maskId=`mask${it++}`;const xt=this.svgFactory.createElement("svg:mask");xt.setAttributeNS(null,"id",at.maskId);const wt=this.svgFactory.createElement("svg:rect");wt.setAttributeNS(null,"x","0"),wt.setAttributeNS(null,"y","0"),wt.setAttributeNS(null,"width",ct(pt)),wt.setAttributeNS(null,"height",ct(yt)),wt.setAttributeNS(null,"fill",jt),wt.setAttributeNS(null,"mask",`url(#${at.maskId})`),this.defs.append(xt),this._ensureTransformGroup().append(wt),this.paintInlineImageXObject(vt,xt)}paintFormXObjectBegin(ht,vt){if(Array.isArray(ht)&&ht.length===6&&this.transform(ht[0],ht[1],ht[2],ht[3],ht[4],ht[5]),vt){const at=vt[2]-vt[0],pt=vt[3]-vt[1],yt=this.svgFactory.createElement("svg:rect");yt.setAttributeNS(null,"x",vt[0]),yt.setAttributeNS(null,"y",vt[1]),yt.setAttributeNS(null,"width",ct(at)),yt.setAttributeNS(null,"height",ct(pt)),this.current.element=yt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(ht){const vt=this.svgFactory.create(ht.width,ht.height),at=this.svgFactory.createElement("svg:defs");vt.append(at),this.defs=at;const pt=this.svgFactory.createElement("svg:g");return pt.setAttributeNS(null,"transform",gt(ht.transform)),vt.append(pt),this.svg=pt,vt}_ensureClipGroup(){if(!this.current.clipGroup){const ht=this.svgFactory.createElement("svg:g");ht.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(ht),this.current.clipGroup=ht}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",gt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}i.SVGGraphics=ut},(s,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0;class a{static textContent(j){const _=[],$={items:_,styles:Object.create(null)};function et(_e){var nt;if(!_e)return;let tt=null;const rt=_e.name;if(rt==="#text")tt=_e.value;else if(a.shouldBuildText(rt))(nt=_e==null?void 0:_e.attributes)!=null&&nt.textContent?tt=_e.attributes.textContent:_e.value&&(tt=_e.value);else return;if(tt!==null&&_.push({str:tt}),!!_e.children)for(const st of _e.children)et(st)}return et(j),$}static shouldBuildText(j){return!(j==="textarea"||j==="input"||j==="option"||j==="select")}}i.XfaText=a},(s,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextLayerRenderTask=void 0,i.renderTextLayer=gt,i.updateTextLayer=dt;var o=a(1),j=a(6);const _=1e5,$=30,et=.8,_e=new Map;function tt(it,lt){let ut;if(lt&&o.FeatureTest.isOffscreenCanvasSupported)ut=new OffscreenCanvas(it,it).getContext("2d",{alpha:!1});else{const mt=document.createElement("canvas");mt.width=mt.height=it,ut=mt.getContext("2d",{alpha:!1})}return ut}function rt(it,lt){const ut=_e.get(it);if(ut)return ut;const mt=tt($,lt);mt.font=`${$}px ${it}`;const ht=mt.measureText("");let vt=ht.fontBoundingBoxAscent,at=Math.abs(ht.fontBoundingBoxDescent);if(vt){const yt=vt/(vt+at);return _e.set(it,yt),mt.canvas.width=mt.canvas.height=0,yt}mt.strokeStyle="red",mt.clearRect(0,0,$,$),mt.strokeText("g",0,0);let pt=mt.getImageData(0,0,$,$).data;at=0;for(let yt=pt.length-1-3;yt>=0;yt-=4)if(pt[yt]>0){at=Math.ceil(yt/4/$);break}mt.clearRect(0,0,$,$),mt.strokeText("A",0,$),pt=mt.getImageData(0,0,$,$).data,vt=0;for(let yt=0,jt=pt.length;yt<jt;yt+=4)if(pt[yt]>0){vt=$-Math.floor(yt/4/$);break}if(mt.canvas.width=mt.canvas.height=0,vt){const yt=vt/(vt+at);return _e.set(it,yt),yt}return _e.set(it,et),et}function nt(it,lt,ut){const mt=document.createElement("span"),ht={angle:0,canvasWidth:0,hasText:lt.str!=="",hasEOL:lt.hasEOL,fontSize:0};it._textDivs.push(mt);const vt=o.Util.transform(it._transform,lt.transform);let at=Math.atan2(vt[1],vt[0]);const pt=ut[lt.fontName];pt.vertical&&(at+=Math.PI/2);const yt=Math.hypot(vt[2],vt[3]),jt=yt*rt(pt.fontFamily,it._isOffscreenCanvasSupported);let xt,wt;at===0?(xt=vt[4],wt=vt[5]-jt):(xt=vt[4]+jt*Math.sin(at),wt=vt[5]-jt*Math.cos(at));const At="calc(var(--scale-factor)*",Ut=mt.style;it._container===it._rootContainer?(Ut.left=`${(100*xt/it._pageWidth).toFixed(2)}%`,Ut.top=`${(100*wt/it._pageHeight).toFixed(2)}%`):(Ut.left=`${At}${xt.toFixed(2)}px)`,Ut.top=`${At}${wt.toFixed(2)}px)`),Ut.fontSize=`${At}${yt.toFixed(2)}px)`,Ut.fontFamily=pt.fontFamily,ht.fontSize=yt,mt.setAttribute("role","presentation"),mt.textContent=lt.str,mt.dir=lt.dir,it._fontInspectorEnabled&&(mt.dataset.fontName=lt.fontName),at!==0&&(ht.angle=at*(180/Math.PI));let Ft=!1;if(lt.str.length>1)Ft=!0;else if(lt.str!==" "&&lt.transform[0]!==lt.transform[3]){const Bt=Math.abs(lt.transform[0]),Nt=Math.abs(lt.transform[3]);Bt!==Nt&&Math.max(Bt,Nt)/Math.min(Bt,Nt)>1.5&&(Ft=!0)}Ft&&(ht.canvasWidth=pt.vertical?lt.height:lt.width),it._textDivProperties.set(mt,ht),it._isReadableStream&&it._layoutText(mt)}function st(it){const{div:lt,scale:ut,properties:mt,ctx:ht,prevFontSize:vt,prevFontFamily:at}=it,{style:pt}=lt;let yt="";if(mt.canvasWidth!==0&&mt.hasText){const{fontFamily:jt}=pt,{canvasWidth:xt,fontSize:wt}=mt;(vt!==wt||at!==jt)&&(ht.font=`${wt*ut}px ${jt}`,it.prevFontSize=wt,it.prevFontFamily=jt);const{width:At}=ht.measureText(lt.textContent);At>0&&(yt=`scaleX(${xt*ut/At})`)}mt.angle!==0&&(yt=`rotate(${mt.angle}deg) ${yt}`),yt.length>0&&(pt.transform=yt)}function ot(it){if(it._canceled)return;const lt=it._textDivs,ut=it._capability;if(lt.length>_){ut.resolve();return}if(!it._isReadableStream)for(const ht of lt)it._layoutText(ht);ut.resolve()}class ct{constructor({textContentSource:lt,container:ut,viewport:mt,textDivs:ht,textDivProperties:vt,textContentItemsStr:at,isOffscreenCanvasSupported:pt}){var At;this._textContentSource=lt,this._isReadableStream=lt instanceof ReadableStream,this._container=this._rootContainer=ut,this._textDivs=ht||[],this._textContentItemsStr=at||[],this._isOffscreenCanvasSupported=pt,this._fontInspectorEnabled=!!((At=globalThis.FontInspector)!=null&&At.enabled),this._reader=null,this._textDivProperties=vt||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:mt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:tt(0,pt)};const{pageWidth:yt,pageHeight:jt,pageX:xt,pageY:wt}=mt.rawDims;this._transform=[1,0,0,-1,-xt,wt+jt],this._pageWidth=yt,this._pageHeight=jt,(0,j.setLayerDimensions)(ut,mt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems(lt,ut){for(const mt of lt){if(mt.str===void 0){if(mt.type==="beginMarkedContentProps"||mt.type==="beginMarkedContent"){const ht=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),mt.id!==null&&this._container.setAttribute("id",`${mt.id}`),ht.append(this._container)}else mt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(mt.str),nt(this,mt,ut)}}_layoutText(lt){const ut=this._layoutTextParams.properties=this._textDivProperties.get(lt);if(this._layoutTextParams.div=lt,st(this._layoutTextParams),ut.hasText&&this._container.append(lt),ut.hasEOL){const mt=document.createElement("br");mt.setAttribute("role","presentation"),this._container.append(mt)}}_render(){const lt=new o.PromiseCapability;let ut=Object.create(null);if(this._isReadableStream){const mt=()=>{this._reader.read().then(({value:ht,done:vt})=>{if(vt){lt.resolve();return}Object.assign(ut,ht.styles),this._processItems(ht.items,ut),mt()},lt.reject)};this._reader=this._textContentSource.getReader(),mt()}else if(this._textContentSource){const{items:mt,styles:ht}=this._textContentSource;this._processItems(mt,ht),lt.resolve()}else throw new Error('No "textContentSource" parameter specified.');lt.promise.then(()=>{ut=null,ot(this)},this._capability.reject)}}i.TextLayerRenderTask=ct;function gt(it){!it.textContentSource&&(it.textContent||it.textContentStream)&&((0,j.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),it.textContentSource=it.textContent||it.textContentStream);const{container:lt,viewport:ut}=it,mt=getComputedStyle(lt),ht=mt.getPropertyValue("visibility"),vt=parseFloat(mt.getPropertyValue("--scale-factor"));ht==="visible"&&(!vt||Math.abs(vt-ut.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const at=new ct(it);return at._render(),at}function dt({container:it,viewport:lt,textDivs:ut,textDivProperties:mt,isOffscreenCanvasSupported:ht,mustRotate:vt=!0,mustRescale:at=!0}){if(vt&&(0,j.setLayerDimensions)(it,{rotation:lt.rotation}),at){const pt=tt(0,ht),jt={prevFontSize:null,prevFontFamily:null,div:null,scale:lt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:pt};for(const xt of ut)jt.properties=mt.get(xt),jt.div=xt,st(jt)}}},(s,i,a)=>{var rt,nt,st,ot,ct,gt,dt,it,lt,ut,mt,ss,Tn,as,os;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditorLayer=void 0;var o=a(1),j=a(4),_=a(28),$=a(33),et=a(6),_e=a(34);const yt=class yt{constructor({uiManager:xt,pageIndex:wt,div:At,accessibilityManager:Ut,annotationLayer:Ft,viewport:Bt,l10n:Nt}){tr(this,mt);tr(this,rt);tr(this,nt,!1);tr(this,st,null);tr(this,ot,this.pointerup.bind(this));tr(this,ct,this.pointerdown.bind(this));tr(this,gt,new Map);tr(this,dt,!1);tr(this,it,!1);tr(this,lt,!1);tr(this,ut);const Rt=[_.FreeTextEditor,$.InkEditor,_e.StampEditor];if(!yt._initialized){yt._initialized=!0;for(const kt of Rt)kt.initialize(Nt)}xt.registerEditorTypes(Rt),nr(this,ut,xt),this.pageIndex=wt,this.div=At,nr(this,rt,Ut),nr(this,st,Ft),this.viewport=Bt,ft(this,ut).addLayer(this)}get isEmpty(){return ft(this,gt).size===0}updateToolbar(xt){ft(this,ut).updateToolbar(xt)}updateMode(xt=ft(this,ut).getMode()){Kt(this,mt,os).call(this),xt===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),xt!==o.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",xt===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",xt===o.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",xt===o.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(xt){if(!xt&&ft(this,ut).getMode()!==o.AnnotationEditorType.INK)return;if(!xt){for(const At of ft(this,gt).values())if(At.isEmpty()){At.setInBackground();return}}Kt(this,mt,Tn).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(xt){ft(this,ut).setEditingState(xt)}addCommands(xt){ft(this,ut).addCommands(xt)}enable(){this.div.style.pointerEvents="auto";const xt=new Set;for(const At of ft(this,gt).values())At.enableEditing(),At.annotationElementId&&xt.add(At.annotationElementId);if(!ft(this,st))return;const wt=ft(this,st).getEditableAnnotations();for(const At of wt){if(At.hide(),ft(this,ut).isDeletedAnnotationElement(At.data.id)||xt.has(At.data.id))continue;const Ut=this.deserialize(At);Ut&&(this.addOrRebuild(Ut),Ut.enableEditing())}}disable(){var wt;nr(this,lt,!0),this.div.style.pointerEvents="none";const xt=new Set;for(const At of ft(this,gt).values()){if(At.disableEditing(),!At.annotationElementId||At.serialize()!==null){xt.add(At.annotationElementId);continue}(wt=this.getEditableAnnotation(At.annotationElementId))==null||wt.show(),At.remove()}if(ft(this,st)){const At=ft(this,st).getEditableAnnotations();for(const Ut of At){const{id:Ft}=Ut.data;xt.has(Ft)||ft(this,ut).isDeletedAnnotationElement(Ft)||Ut.show()}}Kt(this,mt,os).call(this),this.isEmpty&&(this.div.hidden=!0),nr(this,lt,!1)}getEditableAnnotation(xt){var wt;return((wt=ft(this,st))==null?void 0:wt.getEditableAnnotation(xt))||null}setActiveEditor(xt){ft(this,ut).getActive()!==xt&&ft(this,ut).setActiveEditor(xt)}enableClick(){this.div.addEventListener("pointerdown",ft(this,ct)),this.div.addEventListener("pointerup",ft(this,ot))}disableClick(){this.div.removeEventListener("pointerdown",ft(this,ct)),this.div.removeEventListener("pointerup",ft(this,ot))}attach(xt){ft(this,gt).set(xt.id,xt);const{annotationElementId:wt}=xt;wt&&ft(this,ut).isDeletedAnnotationElement(wt)&&ft(this,ut).removeDeletedAnnotationElement(xt)}detach(xt){var wt;ft(this,gt).delete(xt.id),(wt=ft(this,rt))==null||wt.removePointerInTextLayer(xt.contentDiv),!ft(this,lt)&&xt.annotationElementId&&ft(this,ut).addDeletedAnnotationElement(xt)}remove(xt){this.detach(xt),ft(this,ut).removeEditor(xt),xt.div.contains(document.activeElement)&&setTimeout(()=>{ft(this,ut).focusMainContainer()},0),xt.div.remove(),xt.isAttachedToDOM=!1,ft(this,it)||this.addInkEditorIfNeeded(!1)}changeParent(xt){var wt;xt.parent!==this&&(xt.annotationElementId&&(ft(this,ut).addDeletedAnnotationElement(xt.annotationElementId),j.AnnotationEditor.deleteAnnotationElement(xt),xt.annotationElementId=null),this.attach(xt),(wt=xt.parent)==null||wt.detach(xt),xt.setParent(this),xt.div&&xt.isAttachedToDOM&&(xt.div.remove(),this.div.append(xt.div)))}add(xt){if(this.changeParent(xt),ft(this,ut).addEditor(xt),this.attach(xt),!xt.isAttachedToDOM){const wt=xt.render();this.div.append(wt),xt.isAttachedToDOM=!0}xt.fixAndSetPosition(),xt.onceAdded(),ft(this,ut).addToAnnotationStorage(xt)}moveEditorInDOM(xt){var At;if(!xt.isAttachedToDOM)return;const{activeElement:wt}=document;xt.div.contains(wt)&&(xt._focusEventsAllowed=!1,setTimeout(()=>{xt.div.contains(document.activeElement)?xt._focusEventsAllowed=!0:(xt.div.addEventListener("focusin",()=>{xt._focusEventsAllowed=!0},{once:!0}),wt.focus())},0)),xt._structTreeParentId=(At=ft(this,rt))==null?void 0:At.moveElementInDOM(this.div,xt.div,xt.contentDiv,!0)}addOrRebuild(xt){xt.needsToBeRebuilt()?xt.rebuild():this.add(xt)}addUndoableEditor(xt){const wt=()=>xt._uiManager.rebuild(xt),At=()=>{xt.remove()};this.addCommands({cmd:wt,undo:At,mustExec:!1})}getNextId(){return ft(this,ut).getId()}pasteEditor(xt,wt){ft(this,ut).updateToolbar(xt),ft(this,ut).updateMode(xt);const{offsetX:At,offsetY:Ut}=Kt(this,mt,as).call(this),Ft=this.getNextId(),Bt=Kt(this,mt,ss).call(this,{parent:this,id:Ft,x:At,y:Ut,uiManager:ft(this,ut),isCentered:!0,...wt});Bt&&this.add(Bt)}deserialize(xt){switch(xt.annotationType??xt.annotationEditorType){case o.AnnotationEditorType.FREETEXT:return _.FreeTextEditor.deserialize(xt,this,ft(this,ut));case o.AnnotationEditorType.INK:return $.InkEditor.deserialize(xt,this,ft(this,ut));case o.AnnotationEditorType.STAMP:return _e.StampEditor.deserialize(xt,this,ft(this,ut))}return null}addNewEditor(){Kt(this,mt,Tn).call(this,Kt(this,mt,as).call(this),!0)}setSelected(xt){ft(this,ut).setSelected(xt)}toggleSelected(xt){ft(this,ut).toggleSelected(xt)}isSelected(xt){return ft(this,ut).isSelected(xt)}unselect(xt){ft(this,ut).unselect(xt)}pointerup(xt){const{isMac:wt}=o.FeatureTest.platform;if(!(xt.button!==0||xt.ctrlKey&&wt)&&xt.target===this.div&&ft(this,dt)){if(nr(this,dt,!1),!ft(this,nt)){nr(this,nt,!0);return}if(ft(this,ut).getMode()===o.AnnotationEditorType.STAMP){ft(this,ut).unselectAll();return}Kt(this,mt,Tn).call(this,xt,!1)}}pointerdown(xt){if(ft(this,dt)){nr(this,dt,!1);return}const{isMac:wt}=o.FeatureTest.platform;if(xt.button!==0||xt.ctrlKey&&wt||xt.target!==this.div)return;nr(this,dt,!0);const At=ft(this,ut).getActive();nr(this,nt,!At||At.isEmpty())}findNewParent(xt,wt,At){const Ut=ft(this,ut).findParent(wt,At);return Ut===null||Ut===this?!1:(Ut.changeParent(xt),!0)}destroy(){var xt,wt;((xt=ft(this,ut).getActive())==null?void 0:xt.parent)===this&&(ft(this,ut).commitOrRemove(),ft(this,ut).setActiveEditor(null));for(const At of ft(this,gt).values())(wt=ft(this,rt))==null||wt.removePointerInTextLayer(At.contentDiv),At.setParent(null),At.isAttachedToDOM=!1,At.div.remove();this.div=null,ft(this,gt).clear(),ft(this,ut).removeLayer(this)}render({viewport:xt}){this.viewport=xt,(0,et.setLayerDimensions)(this.div,xt);for(const wt of ft(this,ut).getEditors(this.pageIndex))this.add(wt);this.updateMode()}update({viewport:xt}){ft(this,ut).commitOrRemove(),this.viewport=xt,(0,et.setLayerDimensions)(this.div,{rotation:xt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:xt,pageHeight:wt}=this.viewport.rawDims;return[xt,wt]}};rt=new WeakMap,nt=new WeakMap,st=new WeakMap,ot=new WeakMap,ct=new WeakMap,gt=new WeakMap,dt=new WeakMap,it=new WeakMap,lt=new WeakMap,ut=new WeakMap,mt=new WeakSet,ss=function(xt){switch(ft(this,ut).getMode()){case o.AnnotationEditorType.FREETEXT:return new _.FreeTextEditor(xt);case o.AnnotationEditorType.INK:return new $.InkEditor(xt);case o.AnnotationEditorType.STAMP:return new _e.StampEditor(xt)}return null},Tn=function(xt,wt){const At=this.getNextId(),Ut=Kt(this,mt,ss).call(this,{parent:this,id:At,x:xt.offsetX,y:xt.offsetY,uiManager:ft(this,ut),isCentered:wt});return Ut&&this.add(Ut),Ut},as=function(){const{x:xt,y:wt,width:At,height:Ut}=this.div.getBoundingClientRect(),Ft=Math.max(0,xt),Bt=Math.max(0,wt),Nt=Math.min(window.innerWidth,xt+At),Rt=Math.min(window.innerHeight,wt+Ut),kt=(Ft+Nt)/2-xt,Dt=(Bt+Rt)/2-wt,[zt,Ct]=this.viewport.rotation%180===0?[kt,Dt]:[Dt,kt];return{offsetX:zt,offsetY:Ct}},os=function(){nr(this,it,!0);for(const xt of ft(this,gt).values())xt.isEmpty()&&xt.remove();nr(this,it,!1)},Gr(yt,"_initialized",!1);let tt=yt;i.AnnotationEditorLayer=tt},(s,i,a)=>{var _e,tt,rt,nt,st,ot,ct,gt,dt,it,Hs,qs,Xs,En,ls,Ks,cs;Object.defineProperty(i,"__esModule",{value:!0}),i.FreeTextEditor=void 0;var o=a(1),j=a(5),_=a(4),$=a(29);const yt=class yt extends _.AnnotationEditor{constructor(wt){super({...wt,name:"freeTextEditor"});tr(this,it);tr(this,_e,this.editorDivBlur.bind(this));tr(this,tt,this.editorDivFocus.bind(this));tr(this,rt,this.editorDivInput.bind(this));tr(this,nt,this.editorDivKeydown.bind(this));tr(this,st);tr(this,ot,"");tr(this,ct,`${this.id}-editor`);tr(this,gt);tr(this,dt,null);nr(this,st,wt.color||yt._defaultColor||_.AnnotationEditor._defaultLineColor),nr(this,gt,wt.fontSize||yt._defaultFontSize)}static get _keyboardManager(){const wt=yt.prototype,At=Bt=>Bt.isEmpty(),Ut=j.AnnotationEditorUIManager.TRANSLATE_SMALL,Ft=j.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new j.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],wt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],wt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],wt._translateEmpty,{args:[-Ut,0],checker:At}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],wt._translateEmpty,{args:[-Ft,0],checker:At}],[["ArrowRight","mac+ArrowRight"],wt._translateEmpty,{args:[Ut,0],checker:At}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],wt._translateEmpty,{args:[Ft,0],checker:At}],[["ArrowUp","mac+ArrowUp"],wt._translateEmpty,{args:[0,-Ut],checker:At}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],wt._translateEmpty,{args:[0,-Ft],checker:At}],[["ArrowDown","mac+ArrowDown"],wt._translateEmpty,{args:[0,Ut],checker:At}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],wt._translateEmpty,{args:[0,Ft],checker:At}]]))}static initialize(wt){_.AnnotationEditor.initialize(wt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const At=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(At.getPropertyValue("--freetext-padding"))}static updateDefaultParams(wt,At){switch(wt){case o.AnnotationEditorParamsType.FREETEXT_SIZE:yt._defaultFontSize=At;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:yt._defaultColor=At;break}}updateParams(wt,At){switch(wt){case o.AnnotationEditorParamsType.FREETEXT_SIZE:Kt(this,it,Hs).call(this,At);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:Kt(this,it,qs).call(this,At);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,yt._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,yt._defaultColor||_.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,ft(this,gt)],[o.AnnotationEditorParamsType.FREETEXT_COLOR,ft(this,st)]]}_translateEmpty(wt,At){this._uiManager.translateSelectedEditors(wt,At,!0)}getInitialTranslation(){const wt=this.parentScale;return[-yt._internalPadding*wt,-(yt._internalPadding+ft(this,gt))*wt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",ft(this,nt)),this.editorDiv.addEventListener("focus",ft(this,tt)),this.editorDiv.addEventListener("blur",ft(this,_e)),this.editorDiv.addEventListener("input",ft(this,rt)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",ft(this,ct)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",ft(this,nt)),this.editorDiv.removeEventListener("focus",ft(this,tt)),this.editorDiv.removeEventListener("blur",ft(this,_e)),this.editorDiv.removeEventListener("input",ft(this,rt)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(wt){this._focusEventsAllowed&&(super.focusin(wt),wt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var wt;if(this.width){Kt(this,it,cs).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(wt=this._initialOptions)!=null&&wt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const wt=ft(this,ot),At=nr(this,ot,Kt(this,it,Xs).call(this).trimEnd());if(wt===At)return;const Ut=Ft=>{if(nr(this,ot,Ft),!Ft){this.remove();return}Kt(this,it,ls).call(this),this._uiManager.rebuild(this),Kt(this,it,En).call(this)};this.addCommands({cmd:()=>{Ut(At)},undo:()=>{Ut(wt)},mustExec:!1}),Kt(this,it,En).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(wt){this.enterInEditMode()}keydown(wt){wt.target===this.div&&wt.key==="Enter"&&(this.enterInEditMode(),wt.preventDefault())}editorDivKeydown(wt){yt._keyboardManager.exec(this,wt)}editorDivFocus(wt){this.isEditing=!0}editorDivBlur(wt){this.isEditing=!1}editorDivInput(wt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let wt,At;this.width&&(wt=this.x,At=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",ft(this,ct)),this.enableEditing(),_.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Ft=>{var Bt;return(Bt=this.editorDiv)==null?void 0:Bt.setAttribute("aria-label",Ft)}),_.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Ft=>{var Bt;return(Bt=this.editorDiv)==null?void 0:Bt.setAttribute("default-content",Ft)}),this.editorDiv.contentEditable=!0;const{style:Ut}=this.editorDiv;if(Ut.fontSize=`calc(${ft(this,gt)}px * var(--scale-factor))`,Ut.color=ft(this,st),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,j.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Ft,Bt]=this.parentDimensions;if(this.annotationElementId){const{position:Nt}=ft(this,dt);let[Rt,kt]=this.getInitialTranslation();[Rt,kt]=this.pageTranslationToScreen(Rt,kt);const[Dt,zt]=this.pageDimensions,[Ct,bt]=this.pageTranslation;let Et,St;switch(this.rotation){case 0:Et=wt+(Nt[0]-Ct)/Dt,St=At+this.height-(Nt[1]-bt)/zt;break;case 90:Et=wt+(Nt[0]-Ct)/Dt,St=At-(Nt[1]-bt)/zt,[Rt,kt]=[kt,-Rt];break;case 180:Et=wt-this.width+(Nt[0]-Ct)/Dt,St=At-(Nt[1]-bt)/zt,[Rt,kt]=[-Rt,-kt];break;case 270:Et=wt+(Nt[0]-Ct-this.height*zt)/Dt,St=At+(Nt[1]-bt-this.width*Dt)/zt,[Rt,kt]=[-kt,Rt];break}this.setAt(Et*Ft,St*Bt,Rt,kt)}else this.setAt(wt*Ft,At*Bt,this.width*Ft,this.height*Bt);Kt(this,it,ls).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(wt,At,Ut){let Ft=null;if(wt instanceof $.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Nt,fontColor:Rt},rect:kt,rotation:Dt,id:zt},textContent:Ct,textPosition:bt,parent:{page:{pageNumber:Et}}}=wt;if(!Ct||Ct.length===0)return null;Ft=wt={annotationType:o.AnnotationEditorType.FREETEXT,color:Array.from(Rt),fontSize:Nt,value:Ct.join(`
`),position:bt,pageIndex:Et-1,rect:kt,rotation:Dt,id:zt,deleted:!1}}const Bt=super.deserialize(wt,At,Ut);return nr(Bt,gt,wt.fontSize),nr(Bt,st,o.Util.makeHexColor(...wt.color)),nr(Bt,ot,wt.value),Bt.annotationElementId=wt.id||null,nr(Bt,dt,Ft),Bt}serialize(wt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const At=yt._internalPadding*this.parentScale,Ut=this.getRect(At,At),Ft=_.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:ft(this,st)),Bt={annotationType:o.AnnotationEditorType.FREETEXT,color:Ft,fontSize:ft(this,gt),value:ft(this,ot),pageIndex:this.pageIndex,rect:Ut,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return wt?Bt:this.annotationElementId&&!Kt(this,it,Ks).call(this,Bt)?null:(Bt.id=this.annotationElementId,Bt)}};_e=new WeakMap,tt=new WeakMap,rt=new WeakMap,nt=new WeakMap,st=new WeakMap,ot=new WeakMap,ct=new WeakMap,gt=new WeakMap,dt=new WeakMap,it=new WeakSet,Hs=function(wt){const At=Ft=>{this.editorDiv.style.fontSize=`calc(${Ft}px * var(--scale-factor))`,this.translate(0,-(Ft-ft(this,gt))*this.parentScale),nr(this,gt,Ft),Kt(this,it,En).call(this)},Ut=ft(this,gt);this.addCommands({cmd:()=>{At(wt)},undo:()=>{At(Ut)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},qs=function(wt){const At=ft(this,st);this.addCommands({cmd:()=>{nr(this,st,this.editorDiv.style.color=wt)},undo:()=>{nr(this,st,this.editorDiv.style.color=At)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Xs=function(){const wt=this.editorDiv.getElementsByTagName("div");if(wt.length===0)return this.editorDiv.innerText;const At=[];for(const Ut of wt)At.push(Ut.innerText.replace(/\r\n?|\n/,""));return At.join(`
`)},En=function(){const[wt,At]=this.parentDimensions;let Ut;if(this.isAttachedToDOM)Ut=this.div.getBoundingClientRect();else{const{currentLayer:Ft,div:Bt}=this,Nt=Bt.style.display;Bt.style.display="hidden",Ft.div.append(this.div),Ut=Bt.getBoundingClientRect(),Bt.remove(),Bt.style.display=Nt}this.rotation%180===this.parentRotation%180?(this.width=Ut.width/wt,this.height=Ut.height/At):(this.width=Ut.height/wt,this.height=Ut.width/At),this.fixAndSetPosition()},ls=function(){if(this.editorDiv.replaceChildren(),!!ft(this,ot))for(const wt of ft(this,ot).split(`
`)){const At=document.createElement("div");At.append(wt?document.createTextNode(wt):document.createElement("br")),this.editorDiv.append(At)}},Ks=function(wt){const{value:At,fontSize:Ut,color:Ft,rect:Bt,pageIndex:Nt}=ft(this,dt);return wt.value!==At||wt.fontSize!==Ut||wt.rect.some((Rt,kt)=>Math.abs(Rt-Bt[kt])>=1)||wt.color.some((Rt,kt)=>Rt!==Ft[kt])||wt.pageIndex!==Nt},cs=function(wt=!1){if(!this.annotationElementId)return;if(Kt(this,it,En).call(this),!wt&&(this.width===0||this.height===0)){setTimeout(()=>Kt(this,it,cs).call(this,!0),0);return}const At=yt._internalPadding*this.parentScale;ft(this,dt).rect=this.getRect(At,At)},Gr(yt,"_freeTextDefaultContent",""),Gr(yt,"_internalPadding",0),Gr(yt,"_defaultColor",null),Gr(yt,"_defaultFontSize",10),Gr(yt,"_type","freetext");let et=yt;i.FreeTextEditor=et},(s,i,a)=>{var St,Pt,on,Ys,Yt,Zt,ir,cr,Jt,lr,qt,Xt,_t,Ot,Ht,Qt,or,pr,dr,Vt,vr,xr,Js,Dn,us,ds,_r,Fr,zr,fr,er,rr,wr,ps,Lr,$t,ur,yr,Qs,hs;Object.defineProperty(i,"__esModule",{value:!0}),i.StampAnnotationElement=i.InkAnnotationElement=i.FreeTextAnnotationElement=i.AnnotationLayer=void 0;var o=a(1),j=a(6),_=a(3),$=a(30),et=a(31),_e=a(32);const tt=1e3,rt=9,nt=new WeakSet;function st(Er){return{width:Er[2]-Er[0],height:Er[3]-Er[1]}}class ot{static create(Lt){switch(Lt.data.annotationType){case o.AnnotationType.LINK:return new gt(Lt);case o.AnnotationType.TEXT:return new dt(Lt);case o.AnnotationType.WIDGET:switch(Lt.data.fieldType){case"Tx":return new lt(Lt);case"Btn":return Lt.data.radioButton?new ht(Lt):Lt.data.checkBox?new mt(Lt):new vt(Lt);case"Ch":return new at(Lt);case"Sig":return new ut(Lt)}return new it(Lt);case o.AnnotationType.POPUP:return new pt(Lt);case o.AnnotationType.FREETEXT:return new jt(Lt);case o.AnnotationType.LINE:return new xt(Lt);case o.AnnotationType.SQUARE:return new wt(Lt);case o.AnnotationType.CIRCLE:return new At(Lt);case o.AnnotationType.POLYLINE:return new Ut(Lt);case o.AnnotationType.CARET:return new Bt(Lt);case o.AnnotationType.INK:return new Nt(Lt);case o.AnnotationType.POLYGON:return new Ft(Lt);case o.AnnotationType.HIGHLIGHT:return new Rt(Lt);case o.AnnotationType.UNDERLINE:return new kt(Lt);case o.AnnotationType.SQUIGGLY:return new Dt(Lt);case o.AnnotationType.STRIKEOUT:return new zt(Lt);case o.AnnotationType.STAMP:return new Ct(Lt);case o.AnnotationType.FILEATTACHMENT:return new bt(Lt);default:return new ct(Lt)}}}const It=class It{constructor(Lt,{isRenderable:Tt=!1,ignoreBorder:Wt=!1,createQuadrilaterals:sr=!1}={}){tr(this,St,!1);this.isRenderable=Tt,this.data=Lt.data,this.layer=Lt.layer,this.linkService=Lt.linkService,this.downloadManager=Lt.downloadManager,this.imageResourcesPath=Lt.imageResourcesPath,this.renderForms=Lt.renderForms,this.svgFactory=Lt.svgFactory,this.annotationStorage=Lt.annotationStorage,this.enableScripting=Lt.enableScripting,this.hasJSActions=Lt.hasJSActions,this._fieldObjects=Lt.fieldObjects,this.parent=Lt.parent,Tt&&(this.container=this._createContainer(Wt)),sr&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Lt,contentsObj:Tt,richText:Wt}){return!!(Lt!=null&&Lt.str||Tt!=null&&Tt.str||Wt!=null&&Wt.str)}get hasPopupData(){return It._hasPopupData(this.data)}_createContainer(Lt){const{data:Tt,parent:{page:Wt,viewport:sr}}=this,ar=document.createElement("section");ar.setAttribute("data-annotation-id",Tt.id),this instanceof it||(ar.tabIndex=tt),ar.style.zIndex=this.parent.zIndex++,this.data.popupRef&&ar.setAttribute("aria-haspopup","dialog"),Tt.noRotate&&ar.classList.add("norotate");const{pageWidth:hr,pageHeight:mr,pageX:Cr,pageY:Rr}=sr.rawDims;if(!Tt.rect||this instanceof pt){const{rotation:Dr}=Tt;return!Tt.hasOwnCanvas&&Dr!==0&&this.setRotation(Dr,ar),ar}const{width:br,height:Mr}=st(Tt.rect),Sr=o.Util.normalizeRect([Tt.rect[0],Wt.view[3]-Tt.rect[1]+Wt.view[1],Tt.rect[2],Wt.view[3]-Tt.rect[3]+Wt.view[1]]);if(!Lt&&Tt.borderStyle.width>0){ar.style.borderWidth=`${Tt.borderStyle.width}px`;const Dr=Tt.borderStyle.horizontalCornerRadius,Or=Tt.borderStyle.verticalCornerRadius;if(Dr>0||Or>0){const Wr=`calc(${Dr}px * var(--scale-factor)) / calc(${Or}px * var(--scale-factor))`;ar.style.borderRadius=Wr}else if(this instanceof ht){const Wr=`calc(${br}px * var(--scale-factor)) / calc(${Mr}px * var(--scale-factor))`;ar.style.borderRadius=Wr}switch(Tt.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:ar.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:ar.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:ar.style.borderBottomStyle="solid";break}const Vr=Tt.borderColor||null;Vr?(nr(this,St,!0),ar.style.borderColor=o.Util.makeHexColor(Vr[0]|0,Vr[1]|0,Vr[2]|0)):ar.style.borderWidth=0}ar.style.left=`${100*(Sr[0]-Cr)/hr}%`,ar.style.top=`${100*(Sr[1]-Rr)/mr}%`;const{rotation:Nr}=Tt;return Tt.hasOwnCanvas||Nr===0?(ar.style.width=`${100*br/hr}%`,ar.style.height=`${100*Mr/mr}%`):this.setRotation(Nr,ar),ar}setRotation(Lt,Tt=this.container){if(!this.data.rect)return;const{pageWidth:Wt,pageHeight:sr}=this.parent.viewport.rawDims,{width:ar,height:hr}=st(this.data.rect);let mr,Cr;Lt%180===0?(mr=100*ar/Wt,Cr=100*hr/sr):(mr=100*hr/Wt,Cr=100*ar/sr),Tt.style.width=`${mr}%`,Tt.style.height=`${Cr}%`,Tt.setAttribute("data-main-rotation",(360-Lt)%360)}get _commonActions(){const Lt=(Tt,Wt,sr)=>{const ar=sr.detail[Tt],hr=ar[0],mr=ar.slice(1);sr.target.style[Wt]=$.ColorConverters[`${hr}_HTML`](mr),this.annotationStorage.setValue(this.data.id,{[Wt]:$.ColorConverters[`${hr}_rgb`](mr)})};return(0,o.shadow)(this,"_commonActions",{display:Tt=>{const{display:Wt}=Tt.detail,sr=Wt%2===1;this.container.style.visibility=sr?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:sr,noPrint:Wt===1||Wt===2})},print:Tt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Tt.detail.print})},hidden:Tt=>{const{hidden:Wt}=Tt.detail;this.container.style.visibility=Wt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Wt,noView:Wt})},focus:Tt=>{setTimeout(()=>Tt.target.focus({preventScroll:!1}),0)},userName:Tt=>{Tt.target.title=Tt.detail.userName},readonly:Tt=>{Tt.target.disabled=Tt.detail.readonly},required:Tt=>{this._setRequired(Tt.target,Tt.detail.required)},bgColor:Tt=>{Lt("bgColor","backgroundColor",Tt)},fillColor:Tt=>{Lt("fillColor","backgroundColor",Tt)},fgColor:Tt=>{Lt("fgColor","color",Tt)},textColor:Tt=>{Lt("textColor","color",Tt)},borderColor:Tt=>{Lt("borderColor","borderColor",Tt)},strokeColor:Tt=>{Lt("strokeColor","borderColor",Tt)},rotation:Tt=>{const Wt=Tt.detail.rotation;this.setRotation(Wt),this.annotationStorage.setValue(this.data.id,{rotation:Wt})}})}_dispatchEventFromSandbox(Lt,Tt){const Wt=this._commonActions;for(const sr of Object.keys(Tt.detail)){const ar=Lt[sr]||Wt[sr];ar==null||ar(Tt)}}_setDefaultPropertiesFromJS(Lt){if(!this.enableScripting)return;const Tt=this.annotationStorage.getRawValue(this.data.id);if(!Tt)return;const Wt=this._commonActions;for(const[sr,ar]of Object.entries(Tt)){const hr=Wt[sr];if(hr){const mr={detail:{[sr]:ar},target:Lt};hr(mr),delete Tt[sr]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Lt}=this.data;if(!Lt)return;const[Tt,Wt,sr,ar]=this.data.rect;if(Lt.length===1){const[,{x:Or,y:Vr},{x:Wr,y:Xr}]=Lt[0];if(sr===Or&&ar===Vr&&Tt===Wr&&Wt===Xr)return}const{style:hr}=this.container;let mr;if(ft(this,St)){const{borderColor:Or,borderWidth:Vr}=hr;hr.borderWidth=0,mr=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Or}" stroke-width="${Vr}">`],this.container.classList.add("hasBorder")}const Cr=sr-Tt,Rr=ar-Wt,{svgFactory:br}=this,Mr=br.createElement("svg");Mr.classList.add("quadrilateralsContainer"),Mr.setAttribute("width",0),Mr.setAttribute("height",0);const Sr=br.createElement("defs");Mr.append(Sr);const Nr=br.createElement("clipPath"),Dr=`clippath_${this.data.id}`;Nr.setAttribute("id",Dr),Nr.setAttribute("clipPathUnits","objectBoundingBox"),Sr.append(Nr);for(const[,{x:Or,y:Vr},{x:Wr,y:Xr}]of Lt){const Hr=br.createElement("rect"),Zr=(Wr-Tt)/Cr,en=(ar-Vr)/Rr,tn=(Or-Wr)/Cr,fn=(Vr-Xr)/Rr;Hr.setAttribute("x",Zr),Hr.setAttribute("y",en),Hr.setAttribute("width",tn),Hr.setAttribute("height",fn),Nr.append(Hr),mr==null||mr.push(`<rect vector-effect="non-scaling-stroke" x="${Zr}" y="${en}" width="${tn}" height="${fn}"/>`)}ft(this,St)&&(mr.push("</g></svg>')"),hr.backgroundImage=mr.join("")),this.container.append(Mr),this.container.style.clipPath=`url(#${Dr})`}_createPopup(){const{container:Lt,data:Tt}=this;Lt.setAttribute("aria-haspopup","dialog");const Wt=new pt({data:{color:Tt.color,titleObj:Tt.titleObj,modificationDate:Tt.modificationDate,contentsObj:Tt.contentsObj,richText:Tt.richText,parentRect:Tt.rect,borderStyle:0,id:`popup_${Tt.id}`,rotation:Tt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Wt.render())}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Lt,Tt=null){const Wt=[];if(this._fieldObjects){const sr=this._fieldObjects[Lt];if(sr)for(const{page:ar,id:hr,exportValues:mr}of sr){if(ar===-1||hr===Tt)continue;const Cr=typeof mr=="string"?mr:null,Rr=document.querySelector(`[data-element-id="${hr}"]`);if(Rr&&!nt.has(Rr)){(0,o.warn)(`_getElementsByName - element not allowed: ${hr}`);continue}Wt.push({id:hr,exportValue:Cr,domElement:Rr})}return Wt}for(const sr of document.getElementsByName(Lt)){const{exportValue:ar}=sr,hr=sr.getAttribute("data-element-id");hr!==Tt&&nt.has(sr)&&Wt.push({id:hr,exportValue:ar,domElement:sr})}return Wt}show(){var Lt;this.container&&(this.container.hidden=!1),(Lt=this.popup)==null||Lt.maybeShow()}hide(){var Lt;this.container&&(this.container.hidden=!0),(Lt=this.popup)==null||Lt.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Lt=this.getElementsToTriggerPopup();if(Array.isArray(Lt))for(const Tt of Lt)Tt.classList.add("highlightArea");else Lt.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Lt,data:{id:Tt}}=this;this.container.addEventListener("dblclick",()=>{var Wt;(Wt=this.linkService.eventBus)==null||Wt.dispatch("switchannotationeditormode",{source:this,mode:Lt,editId:Tt})})}};St=new WeakMap;let ct=It;class gt extends ct{constructor(Tt,Wt=null){super(Tt,{isRenderable:!0,ignoreBorder:!!(Wt!=null&&Wt.ignoreBorder),createQuadrilaterals:!0});tr(this,Pt);this.isTooltipOnly=Tt.data.isTooltipOnly}render(){const{data:Tt,linkService:Wt}=this,sr=document.createElement("a");sr.setAttribute("data-element-id",Tt.id);let ar=!1;return Tt.url?(Wt.addLinkAttributes(sr,Tt.url,Tt.newWindow),ar=!0):Tt.action?(this._bindNamedAction(sr,Tt.action),ar=!0):Tt.attachment?(this._bindAttachment(sr,Tt.attachment),ar=!0):Tt.setOCGState?(Kt(this,Pt,Ys).call(this,sr,Tt.setOCGState),ar=!0):Tt.dest?(this._bindLink(sr,Tt.dest),ar=!0):(Tt.actions&&(Tt.actions.Action||Tt.actions["Mouse Up"]||Tt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(sr,Tt),ar=!0),Tt.resetForm?(this._bindResetFormAction(sr,Tt.resetForm),ar=!0):this.isTooltipOnly&&!ar&&(this._bindLink(sr,""),ar=!0)),this.container.classList.add("linkAnnotation"),ar&&this.container.append(sr),this.container}_bindLink(Tt,Wt){Tt.href=this.linkService.getDestinationHash(Wt),Tt.onclick=()=>(Wt&&this.linkService.goToDestination(Wt),!1),(Wt||Wt==="")&&Kt(this,Pt,on).call(this)}_bindNamedAction(Tt,Wt){Tt.href=this.linkService.getAnchorUrl(""),Tt.onclick=()=>(this.linkService.executeNamedAction(Wt),!1),Kt(this,Pt,on).call(this)}_bindAttachment(Tt,Wt){Tt.href=this.linkService.getAnchorUrl(""),Tt.onclick=()=>{var sr;return(sr=this.downloadManager)==null||sr.openOrDownloadData(this.container,Wt.content,Wt.filename),!1},Kt(this,Pt,on).call(this)}_bindJSAction(Tt,Wt){Tt.href=this.linkService.getAnchorUrl("");const sr=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const ar of Object.keys(Wt.actions)){const hr=sr.get(ar);hr&&(Tt[hr]=()=>{var mr;return(mr=this.linkService.eventBus)==null||mr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Wt.id,name:ar}}),!1})}Tt.onclick||(Tt.onclick=()=>!1),Kt(this,Pt,on).call(this)}_bindResetFormAction(Tt,Wt){const sr=Tt.onclick;if(sr||(Tt.href=this.linkService.getAnchorUrl("")),Kt(this,Pt,on).call(this),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),sr||(Tt.onclick=()=>!1);return}Tt.onclick=()=>{var Mr;sr==null||sr();const{fields:ar,refs:hr,include:mr}=Wt,Cr=[];if(ar.length!==0||hr.length!==0){const Sr=new Set(hr);for(const Nr of ar){const Dr=this._fieldObjects[Nr]||[];for(const{id:Or}of Dr)Sr.add(Or)}for(const Nr of Object.values(this._fieldObjects))for(const Dr of Nr)Sr.has(Dr.id)===mr&&Cr.push(Dr)}else for(const Sr of Object.values(this._fieldObjects))Cr.push(...Sr);const Rr=this.annotationStorage,br=[];for(const Sr of Cr){const{id:Nr}=Sr;switch(br.push(Nr),Sr.type){case"text":{const Or=Sr.defaultValue||"";Rr.setValue(Nr,{value:Or});break}case"checkbox":case"radiobutton":{const Or=Sr.defaultValue===Sr.exportValues;Rr.setValue(Nr,{value:Or});break}case"combobox":case"listbox":{const Or=Sr.defaultValue||"";Rr.setValue(Nr,{value:Or});break}default:continue}const Dr=document.querySelector(`[data-element-id="${Nr}"]`);if(Dr){if(!nt.has(Dr)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${Nr}`);continue}}else continue;Dr.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Mr=this.linkService.eventBus)==null||Mr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:br,name:"ResetForm"}})),!1}}}Pt=new WeakSet,on=function(){this.container.setAttribute("data-internal-link","")},Ys=function(Tt,Wt){Tt.href=this.linkService.getAnchorUrl(""),Tt.onclick=()=>(this.linkService.executeSetOCGState(Wt),!1),Kt(this,Pt,on).call(this)};class dt extends ct{constructor(Lt){super(Lt,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Lt=document.createElement("img");return Lt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Lt.alt="[{{type}} Annotation]",Lt.dataset.l10nId="text_annotation_type",Lt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Lt),this.container}}class it extends ct{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Lt){var Tt;this.data.hasOwnCanvas&&(((Tt=Lt.previousSibling)==null?void 0:Tt.nodeName)==="CANVAS"&&(Lt.previousSibling.hidden=!0),Lt.hidden=!1)}_getKeyModifier(Lt){const{isWin:Tt,isMac:Wt}=o.FeatureTest.platform;return Tt&&Lt.ctrlKey||Wt&&Lt.metaKey}_setEventListener(Lt,Tt,Wt,sr,ar){Wt.includes("mouse")?Lt.addEventListener(Wt,hr=>{var mr;(mr=this.linkService.eventBus)==null||mr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:sr,value:ar(hr),shift:hr.shiftKey,modifier:this._getKeyModifier(hr)}})}):Lt.addEventListener(Wt,hr=>{var mr;if(Wt==="blur"){if(!Tt.focused||!hr.relatedTarget)return;Tt.focused=!1}else if(Wt==="focus"){if(Tt.focused)return;Tt.focused=!0}ar&&((mr=this.linkService.eventBus)==null||mr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:sr,value:ar(hr)}}))})}_setEventListeners(Lt,Tt,Wt,sr){var ar,hr,mr;for(const[Cr,Rr]of Wt)(Rr==="Action"||(ar=this.data.actions)!=null&&ar[Rr])&&((Rr==="Focus"||Rr==="Blur")&&(Tt||(Tt={focused:!1})),this._setEventListener(Lt,Tt,Cr,Rr,sr),Rr==="Focus"&&!((hr=this.data.actions)!=null&&hr.Blur)?this._setEventListener(Lt,Tt,"blur","Blur",null):Rr==="Blur"&&!((mr=this.data.actions)!=null&&mr.Focus)&&this._setEventListener(Lt,Tt,"focus","Focus",null))}_setBackgroundColor(Lt){const Tt=this.data.backgroundColor||null;Lt.style.backgroundColor=Tt===null?"transparent":o.Util.makeHexColor(Tt[0],Tt[1],Tt[2])}_setTextStyle(Lt){const Tt=["left","center","right"],{fontColor:Wt}=this.data.defaultAppearanceData,sr=this.data.defaultAppearanceData.fontSize||rt,ar=Lt.style;let hr;const mr=2,Cr=Rr=>Math.round(10*Rr)/10;if(this.data.multiLine){const Rr=Math.abs(this.data.rect[3]-this.data.rect[1]-mr),br=Math.round(Rr/(o.LINE_FACTOR*sr))||1,Mr=Rr/br;hr=Math.min(sr,Cr(Mr/o.LINE_FACTOR))}else{const Rr=Math.abs(this.data.rect[3]-this.data.rect[1]-mr);hr=Math.min(sr,Cr(Rr/o.LINE_FACTOR))}ar.fontSize=`calc(${hr}px * var(--scale-factor))`,ar.color=o.Util.makeHexColor(Wt[0],Wt[1],Wt[2]),this.data.textAlignment!==null&&(ar.textAlign=Tt[this.data.textAlignment])}_setRequired(Lt,Tt){Tt?Lt.setAttribute("required",!0):Lt.removeAttribute("required"),Lt.setAttribute("aria-required",Tt)}}class lt extends it{constructor(Lt){const Tt=Lt.renderForms||!Lt.data.hasAppearance&&!!Lt.data.fieldValue;super(Lt,{isRenderable:Tt})}setPropertyOnSiblings(Lt,Tt,Wt,sr){const ar=this.annotationStorage;for(const hr of this._getElementsByName(Lt.name,Lt.id))hr.domElement&&(hr.domElement[Tt]=Wt),ar.setValue(hr.id,{[sr]:Wt})}render(){var sr,ar;const Lt=this.annotationStorage,Tt=this.data.id;this.container.classList.add("textWidgetAnnotation");let Wt=null;if(this.renderForms){const hr=Lt.getValue(Tt,{value:this.data.fieldValue});let mr=hr.value||"";const Cr=Lt.getValue(Tt,{charLimit:this.data.maxLen}).charLimit;Cr&&mr.length>Cr&&(mr=mr.slice(0,Cr));let Rr=hr.formattedValue||((sr=this.data.textContent)==null?void 0:sr.join(`
`))||null;Rr&&this.data.comb&&(Rr=Rr.replaceAll(/\s+/g,""));const br={userValue:mr,formattedValue:Rr,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Wt=document.createElement("textarea"),Wt.textContent=Rr??mr,this.data.doNotScroll&&(Wt.style.overflowY="hidden")):(Wt=document.createElement("input"),Wt.type="text",Wt.setAttribute("value",Rr??mr),this.data.doNotScroll&&(Wt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Wt.hidden=!0),nt.add(Wt),Wt.setAttribute("data-element-id",Tt),Wt.disabled=this.data.readOnly,Wt.name=this.data.fieldName,Wt.tabIndex=tt,this._setRequired(Wt,this.data.required),Cr&&(Wt.maxLength=Cr),Wt.addEventListener("input",Sr=>{Lt.setValue(Tt,{value:Sr.target.value}),this.setPropertyOnSiblings(Wt,"value",Sr.target.value,"value"),br.formattedValue=null}),Wt.addEventListener("resetform",Sr=>{const Nr=this.data.defaultFieldValue??"";Wt.value=br.userValue=Nr,br.formattedValue=null});let Mr=Sr=>{const{formattedValue:Nr}=br;Nr!=null&&(Sr.target.value=Nr),Sr.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Wt.addEventListener("focus",Nr=>{if(br.focused)return;const{target:Dr}=Nr;br.userValue&&(Dr.value=br.userValue),br.lastCommittedValue=Dr.value,br.commitKey=1,br.focused=!0}),Wt.addEventListener("updatefromsandbox",Nr=>{this.showElementAndHideCanvas(Nr.target);const Dr={value(Or){br.userValue=Or.detail.value??"",Lt.setValue(Tt,{value:br.userValue.toString()}),Or.target.value=br.userValue},formattedValue(Or){const{formattedValue:Vr}=Or.detail;br.formattedValue=Vr,Vr!=null&&Or.target!==document.activeElement&&(Or.target.value=Vr),Lt.setValue(Tt,{formattedValue:Vr})},selRange(Or){Or.target.setSelectionRange(...Or.detail.selRange)},charLimit:Or=>{var Hr;const{charLimit:Vr}=Or.detail,{target:Wr}=Or;if(Vr===0){Wr.removeAttribute("maxLength");return}Wr.setAttribute("maxLength",Vr);let Xr=br.userValue;!Xr||Xr.length<=Vr||(Xr=Xr.slice(0,Vr),Wr.value=br.userValue=Xr,Lt.setValue(Tt,{value:Xr}),(Hr=this.linkService.eventBus)==null||Hr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tt,name:"Keystroke",value:Xr,willCommit:!0,commitKey:1,selStart:Wr.selectionStart,selEnd:Wr.selectionEnd}}))}};this._dispatchEventFromSandbox(Dr,Nr)}),Wt.addEventListener("keydown",Nr=>{var Vr;br.commitKey=1;let Dr=-1;if(Nr.key==="Escape"?Dr=0:Nr.key==="Enter"&&!this.data.multiLine?Dr=2:Nr.key==="Tab"&&(br.commitKey=3),Dr===-1)return;const{value:Or}=Nr.target;br.lastCommittedValue!==Or&&(br.lastCommittedValue=Or,br.userValue=Or,(Vr=this.linkService.eventBus)==null||Vr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tt,name:"Keystroke",value:Or,willCommit:!0,commitKey:Dr,selStart:Nr.target.selectionStart,selEnd:Nr.target.selectionEnd}}))});const Sr=Mr;Mr=null,Wt.addEventListener("blur",Nr=>{var Or;if(!br.focused||!Nr.relatedTarget)return;br.focused=!1;const{value:Dr}=Nr.target;br.userValue=Dr,br.lastCommittedValue!==Dr&&((Or=this.linkService.eventBus)==null||Or.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tt,name:"Keystroke",value:Dr,willCommit:!0,commitKey:br.commitKey,selStart:Nr.target.selectionStart,selEnd:Nr.target.selectionEnd}})),Sr(Nr)}),(ar=this.data.actions)!=null&&ar.Keystroke&&Wt.addEventListener("beforeinput",Nr=>{var en;br.lastCommittedValue=null;const{data:Dr,target:Or}=Nr,{value:Vr,selectionStart:Wr,selectionEnd:Xr}=Or;let Hr=Wr,Zr=Xr;switch(Nr.inputType){case"deleteWordBackward":{const tn=Vr.substring(0,Wr).match(/\w*[^\w]*$/);tn&&(Hr-=tn[0].length);break}case"deleteWordForward":{const tn=Vr.substring(Wr).match(/^[^\w]*\w*/);tn&&(Zr+=tn[0].length);break}case"deleteContentBackward":Wr===Xr&&(Hr-=1);break;case"deleteContentForward":Wr===Xr&&(Zr+=1);break}Nr.preventDefault(),(en=this.linkService.eventBus)==null||en.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tt,name:"Keystroke",value:Vr,change:Dr||"",willCommit:!1,selStart:Hr,selEnd:Zr}})}),this._setEventListeners(Wt,br,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Nr=>Nr.target.value)}if(Mr&&Wt.addEventListener("blur",Mr),this.data.comb){const Nr=(this.data.rect[2]-this.data.rect[0])/Cr;Wt.classList.add("comb"),Wt.style.letterSpacing=`calc(${Nr}px * var(--scale-factor) - 1ch)`}}else Wt=document.createElement("div"),Wt.textContent=this.data.fieldValue,Wt.style.verticalAlign="middle",Wt.style.display="table-cell";return this._setTextStyle(Wt),this._setBackgroundColor(Wt),this._setDefaultPropertiesFromJS(Wt),this.container.append(Wt),this.container}}class ut extends it{constructor(Lt){super(Lt,{isRenderable:!!Lt.data.hasOwnCanvas})}}class mt extends it{constructor(Lt){super(Lt,{isRenderable:Lt.renderForms})}render(){const Lt=this.annotationStorage,Tt=this.data,Wt=Tt.id;let sr=Lt.getValue(Wt,{value:Tt.exportValue===Tt.fieldValue}).value;typeof sr=="string"&&(sr=sr!=="Off",Lt.setValue(Wt,{value:sr})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const ar=document.createElement("input");return nt.add(ar),ar.setAttribute("data-element-id",Wt),ar.disabled=Tt.readOnly,this._setRequired(ar,this.data.required),ar.type="checkbox",ar.name=Tt.fieldName,sr&&ar.setAttribute("checked",!0),ar.setAttribute("exportValue",Tt.exportValue),ar.tabIndex=tt,ar.addEventListener("change",hr=>{const{name:mr,checked:Cr}=hr.target;for(const Rr of this._getElementsByName(mr,Wt)){const br=Cr&&Rr.exportValue===Tt.exportValue;Rr.domElement&&(Rr.domElement.checked=br),Lt.setValue(Rr.id,{value:br})}Lt.setValue(Wt,{value:Cr})}),ar.addEventListener("resetform",hr=>{const mr=Tt.defaultFieldValue||"Off";hr.target.checked=mr===Tt.exportValue}),this.enableScripting&&this.hasJSActions&&(ar.addEventListener("updatefromsandbox",hr=>{const mr={value(Cr){Cr.target.checked=Cr.detail.value!=="Off",Lt.setValue(Wt,{value:Cr.target.checked})}};this._dispatchEventFromSandbox(mr,hr)}),this._setEventListeners(ar,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],hr=>hr.target.checked)),this._setBackgroundColor(ar),this._setDefaultPropertiesFromJS(ar),this.container.append(ar),this.container}}class ht extends it{constructor(Lt){super(Lt,{isRenderable:Lt.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Lt=this.annotationStorage,Tt=this.data,Wt=Tt.id;let sr=Lt.getValue(Wt,{value:Tt.fieldValue===Tt.buttonValue}).value;typeof sr=="string"&&(sr=sr!==Tt.buttonValue,Lt.setValue(Wt,{value:sr}));const ar=document.createElement("input");if(nt.add(ar),ar.setAttribute("data-element-id",Wt),ar.disabled=Tt.readOnly,this._setRequired(ar,this.data.required),ar.type="radio",ar.name=Tt.fieldName,sr&&ar.setAttribute("checked",!0),ar.tabIndex=tt,ar.addEventListener("change",hr=>{const{name:mr,checked:Cr}=hr.target;for(const Rr of this._getElementsByName(mr,Wt))Lt.setValue(Rr.id,{value:!1});Lt.setValue(Wt,{value:Cr})}),ar.addEventListener("resetform",hr=>{const mr=Tt.defaultFieldValue;hr.target.checked=mr!=null&&mr===Tt.buttonValue}),this.enableScripting&&this.hasJSActions){const hr=Tt.buttonValue;ar.addEventListener("updatefromsandbox",mr=>{const Cr={value:Rr=>{const br=hr===Rr.detail.value;for(const Mr of this._getElementsByName(Rr.target.name)){const Sr=br&&Mr.id===Wt;Mr.domElement&&(Mr.domElement.checked=Sr),Lt.setValue(Mr.id,{value:Sr})}}};this._dispatchEventFromSandbox(Cr,mr)}),this._setEventListeners(ar,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],mr=>mr.target.checked)}return this._setBackgroundColor(ar),this._setDefaultPropertiesFromJS(ar),this.container.append(ar),this.container}}class vt extends gt{constructor(Lt){super(Lt,{ignoreBorder:Lt.data.hasAppearance})}render(){const Lt=super.render();Lt.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Lt.title=this.data.alternativeText);const Tt=Lt.lastChild;return this.enableScripting&&this.hasJSActions&&Tt&&(this._setDefaultPropertiesFromJS(Tt),Tt.addEventListener("updatefromsandbox",Wt=>{this._dispatchEventFromSandbox({},Wt)})),Lt}}class at extends it{constructor(Lt){super(Lt,{isRenderable:Lt.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Lt=this.annotationStorage,Tt=this.data.id,Wt=Lt.getValue(Tt,{value:this.data.fieldValue}),sr=document.createElement("select");nt.add(sr),sr.setAttribute("data-element-id",Tt),sr.disabled=this.data.readOnly,this._setRequired(sr,this.data.required),sr.name=this.data.fieldName,sr.tabIndex=tt;let ar=this.data.combo&&this.data.options.length>0;this.data.combo||(sr.size=this.data.options.length,this.data.multiSelect&&(sr.multiple=!0)),sr.addEventListener("resetform",br=>{const Mr=this.data.defaultFieldValue;for(const Sr of sr.options)Sr.selected=Sr.value===Mr});for(const br of this.data.options){const Mr=document.createElement("option");Mr.textContent=br.displayValue,Mr.value=br.exportValue,Wt.value.includes(br.exportValue)&&(Mr.setAttribute("selected",!0),ar=!1),sr.append(Mr)}let hr=null;if(ar){const br=document.createElement("option");br.value=" ",br.setAttribute("hidden",!0),br.setAttribute("selected",!0),sr.prepend(br),hr=()=>{br.remove(),sr.removeEventListener("input",hr),hr=null},sr.addEventListener("input",hr)}const mr=br=>{const Mr=br?"value":"textContent",{options:Sr,multiple:Nr}=sr;return Nr?Array.prototype.filter.call(Sr,Dr=>Dr.selected).map(Dr=>Dr[Mr]):Sr.selectedIndex===-1?null:Sr[Sr.selectedIndex][Mr]};let Cr=mr(!1);const Rr=br=>{const Mr=br.target.options;return Array.prototype.map.call(Mr,Sr=>({displayValue:Sr.textContent,exportValue:Sr.value}))};return this.enableScripting&&this.hasJSActions?(sr.addEventListener("updatefromsandbox",br=>{const Mr={value(Sr){hr==null||hr();const Nr=Sr.detail.value,Dr=new Set(Array.isArray(Nr)?Nr:[Nr]);for(const Or of sr.options)Or.selected=Dr.has(Or.value);Lt.setValue(Tt,{value:mr(!0)}),Cr=mr(!1)},multipleSelection(Sr){sr.multiple=!0},remove(Sr){const Nr=sr.options,Dr=Sr.detail.remove;Nr[Dr].selected=!1,sr.remove(Dr),Nr.length>0&&Array.prototype.findIndex.call(Nr,Vr=>Vr.selected)===-1&&(Nr[0].selected=!0),Lt.setValue(Tt,{value:mr(!0),items:Rr(Sr)}),Cr=mr(!1)},clear(Sr){for(;sr.length!==0;)sr.remove(0);Lt.setValue(Tt,{value:null,items:[]}),Cr=mr(!1)},insert(Sr){const{index:Nr,displayValue:Dr,exportValue:Or}=Sr.detail.insert,Vr=sr.children[Nr],Wr=document.createElement("option");Wr.textContent=Dr,Wr.value=Or,Vr?Vr.before(Wr):sr.append(Wr),Lt.setValue(Tt,{value:mr(!0),items:Rr(Sr)}),Cr=mr(!1)},items(Sr){const{items:Nr}=Sr.detail;for(;sr.length!==0;)sr.remove(0);for(const Dr of Nr){const{displayValue:Or,exportValue:Vr}=Dr,Wr=document.createElement("option");Wr.textContent=Or,Wr.value=Vr,sr.append(Wr)}sr.options.length>0&&(sr.options[0].selected=!0),Lt.setValue(Tt,{value:mr(!0),items:Rr(Sr)}),Cr=mr(!1)},indices(Sr){const Nr=new Set(Sr.detail.indices);for(const Dr of Sr.target.options)Dr.selected=Nr.has(Dr.index);Lt.setValue(Tt,{value:mr(!0)}),Cr=mr(!1)},editable(Sr){Sr.target.disabled=!Sr.detail.editable}};this._dispatchEventFromSandbox(Mr,br)}),sr.addEventListener("input",br=>{var Sr;const Mr=mr(!0);Lt.setValue(Tt,{value:Mr}),br.preventDefault(),(Sr=this.linkService.eventBus)==null||Sr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tt,name:"Keystroke",value:Cr,changeEx:Mr,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(sr,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],br=>br.target.value)):sr.addEventListener("input",function(br){Lt.setValue(Tt,{value:mr(!0)})}),this.data.combo&&this._setTextStyle(sr),this._setBackgroundColor(sr),this._setDefaultPropertiesFromJS(sr),this.container.append(sr),this.container}}class pt extends ct{constructor(Lt){const{data:Tt,elements:Wt}=Lt;super(Lt,{isRenderable:ct._hasPopupData(Tt)}),this.elements=Wt}render(){this.container.classList.add("popupAnnotation");const Lt=new yt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Tt=[];for(const Wt of this.elements)Wt.popup=Lt,Tt.push(Wt.data.id),Wt.addHighlightArea();return this.container.setAttribute("aria-controls",Tt.map(Wt=>`${o.AnnotationPrefix}${Wt}`).join(",")),this.container}}class yt{constructor({container:Lt,color:Tt,elements:Wt,titleObj:sr,modificationDate:ar,contentsObj:hr,richText:mr,parent:Cr,rect:Rr,parentRect:br,open:Mr}){tr(this,xr);tr(this,Yt,null);tr(this,Zt,Kt(this,xr,Js).bind(this));tr(this,ir,Kt(this,xr,ds).bind(this));tr(this,cr,Kt(this,xr,us).bind(this));tr(this,Jt,Kt(this,xr,Dn).bind(this));tr(this,lr,null);tr(this,qt,null);tr(this,Xt,null);tr(this,_t,null);tr(this,Ot,null);tr(this,Ht,null);tr(this,Qt,!1);tr(this,or,null);tr(this,pr,null);tr(this,dr,null);tr(this,Vt,null);tr(this,vr,!1);var Nr;nr(this,qt,Lt),nr(this,Vt,sr),nr(this,Xt,hr),nr(this,dr,mr),nr(this,Ot,Cr),nr(this,lr,Tt),nr(this,pr,Rr),nr(this,Ht,br),nr(this,_t,Wt);const Sr=j.PDFDateString.toDateObject(ar);Sr&&nr(this,Yt,Cr.l10n.get("annotation_date_string",{date:Sr.toLocaleDateString(),time:Sr.toLocaleTimeString()})),this.trigger=Wt.flatMap(Dr=>Dr.getElementsToTriggerPopup());for(const Dr of this.trigger)Dr.addEventListener("click",ft(this,Jt)),Dr.addEventListener("mouseenter",ft(this,cr)),Dr.addEventListener("mouseleave",ft(this,ir)),Dr.classList.add("popupTriggerArea");for(const Dr of Wt)(Nr=Dr.container)==null||Nr.addEventListener("keydown",ft(this,Zt));ft(this,qt).hidden=!0,Mr&&Kt(this,xr,Dn).call(this)}render(){if(ft(this,or))return;const{page:{view:Lt},viewport:{rawDims:{pageWidth:Tt,pageHeight:Wt,pageX:sr,pageY:ar}}}=ft(this,Ot),hr=nr(this,or,document.createElement("div"));if(hr.className="popup",ft(this,lr)){const Hr=hr.style.outlineColor=o.Util.makeHexColor(...ft(this,lr));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?hr.style.backgroundColor=`color-mix(in srgb, ${Hr} 30%, white)`:hr.style.backgroundColor=o.Util.makeHexColor(...ft(this,lr).map(en=>Math.floor(.7*(255-en)+en)))}const mr=document.createElement("span");mr.className="header";const Cr=document.createElement("h1");if(mr.append(Cr),{dir:Cr.dir,str:Cr.textContent}=ft(this,Vt),hr.append(mr),ft(this,Yt)){const Hr=document.createElement("span");Hr.classList.add("popupDate"),ft(this,Yt).then(Zr=>{Hr.textContent=Zr}),mr.append(Hr)}const Rr=ft(this,Xt),br=ft(this,dr);if(br!=null&&br.str&&(!(Rr!=null&&Rr.str)||Rr.str===br.str))_e.XfaLayer.render({xfaHtml:br.html,intent:"richText",div:hr}),hr.lastChild.classList.add("richText","popupContent");else{const Hr=this._formatContents(Rr);hr.append(Hr)}let Mr=!!ft(this,Ht),Sr=Mr?ft(this,Ht):ft(this,pr);for(const Hr of ft(this,_t))if(!Sr||o.Util.intersect(Hr.data.rect,Sr)!==null){Sr=Hr.data.rect,Mr=!0;break}const Nr=o.Util.normalizeRect([Sr[0],Lt[3]-Sr[1]+Lt[1],Sr[2],Lt[3]-Sr[3]+Lt[1]]),Or=Mr?Sr[2]-Sr[0]+5:0,Vr=Nr[0]+Or,Wr=Nr[1],{style:Xr}=ft(this,qt);Xr.left=`${100*(Vr-sr)/Tt}%`,Xr.top=`${100*(Wr-ar)/Wt}%`,ft(this,qt).append(hr)}_formatContents({str:Lt,dir:Tt}){const Wt=document.createElement("p");Wt.classList.add("popupContent"),Wt.dir=Tt;const sr=Lt.split(/(?:\r\n?|\n)/);for(let ar=0,hr=sr.length;ar<hr;++ar){const mr=sr[ar];Wt.append(document.createTextNode(mr)),ar<hr-1&&Wt.append(document.createElement("br"))}return Wt}forceHide(){nr(this,vr,this.isVisible),ft(this,vr)&&(ft(this,qt).hidden=!0)}maybeShow(){ft(this,vr)&&(nr(this,vr,!1),ft(this,qt).hidden=!1)}get isVisible(){return ft(this,qt).hidden===!1}}Yt=new WeakMap,Zt=new WeakMap,ir=new WeakMap,cr=new WeakMap,Jt=new WeakMap,lr=new WeakMap,qt=new WeakMap,Xt=new WeakMap,_t=new WeakMap,Ot=new WeakMap,Ht=new WeakMap,Qt=new WeakMap,or=new WeakMap,pr=new WeakMap,dr=new WeakMap,Vt=new WeakMap,vr=new WeakMap,xr=new WeakSet,Js=function(Lt){Lt.altKey||Lt.shiftKey||Lt.ctrlKey||Lt.metaKey||(Lt.key==="Enter"||Lt.key==="Escape"&&ft(this,Qt))&&Kt(this,xr,Dn).call(this)},Dn=function(){nr(this,Qt,!ft(this,Qt)),ft(this,Qt)?(Kt(this,xr,us).call(this),ft(this,qt).addEventListener("click",ft(this,Jt)),ft(this,qt).addEventListener("keydown",ft(this,Zt))):(Kt(this,xr,ds).call(this),ft(this,qt).removeEventListener("click",ft(this,Jt)),ft(this,qt).removeEventListener("keydown",ft(this,Zt)))},us=function(){ft(this,or)||this.render(),this.isVisible?ft(this,Qt)&&ft(this,qt).classList.add("focused"):(ft(this,qt).hidden=!1,ft(this,qt).style.zIndex=parseInt(ft(this,qt).style.zIndex)+1e3)},ds=function(){ft(this,qt).classList.remove("focused"),!(ft(this,Qt)||!this.isVisible)&&(ft(this,qt).hidden=!0,ft(this,qt).style.zIndex=parseInt(ft(this,qt).style.zIndex)-1e3)};class jt extends ct{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Lt.data.textContent,this.textPosition=Lt.data.textPosition,this.annotationEditorType=o.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Lt=document.createElement("div");Lt.classList.add("annotationTextContent"),Lt.setAttribute("role","comment");for(const Tt of this.textContent){const Wt=document.createElement("span");Wt.textContent=Tt,Lt.append(Wt)}this.container.append(Lt)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}i.FreeTextAnnotationElement=jt;class xt extends ct{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0});tr(this,_r,null)}render(){this.container.classList.add("lineAnnotation");const Tt=this.data,{width:Wt,height:sr}=st(Tt.rect),ar=this.svgFactory.create(Wt,sr,!0),hr=nr(this,_r,this.svgFactory.createElement("svg:line"));return hr.setAttribute("x1",Tt.rect[2]-Tt.lineCoordinates[0]),hr.setAttribute("y1",Tt.rect[3]-Tt.lineCoordinates[1]),hr.setAttribute("x2",Tt.rect[2]-Tt.lineCoordinates[2]),hr.setAttribute("y2",Tt.rect[3]-Tt.lineCoordinates[3]),hr.setAttribute("stroke-width",Tt.borderStyle.width||1),hr.setAttribute("stroke","transparent"),hr.setAttribute("fill","transparent"),ar.append(hr),this.container.append(ar),!Tt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ft(this,_r)}addHighlightArea(){this.container.classList.add("highlightArea")}}_r=new WeakMap;class wt extends ct{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0});tr(this,Fr,null)}render(){this.container.classList.add("squareAnnotation");const Tt=this.data,{width:Wt,height:sr}=st(Tt.rect),ar=this.svgFactory.create(Wt,sr,!0),hr=Tt.borderStyle.width,mr=nr(this,Fr,this.svgFactory.createElement("svg:rect"));return mr.setAttribute("x",hr/2),mr.setAttribute("y",hr/2),mr.setAttribute("width",Wt-hr),mr.setAttribute("height",sr-hr),mr.setAttribute("stroke-width",hr||1),mr.setAttribute("stroke","transparent"),mr.setAttribute("fill","transparent"),ar.append(mr),this.container.append(ar),!Tt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ft(this,Fr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fr=new WeakMap;class At extends ct{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0});tr(this,zr,null)}render(){this.container.classList.add("circleAnnotation");const Tt=this.data,{width:Wt,height:sr}=st(Tt.rect),ar=this.svgFactory.create(Wt,sr,!0),hr=Tt.borderStyle.width,mr=nr(this,zr,this.svgFactory.createElement("svg:ellipse"));return mr.setAttribute("cx",Wt/2),mr.setAttribute("cy",sr/2),mr.setAttribute("rx",Wt/2-hr/2),mr.setAttribute("ry",sr/2-hr/2),mr.setAttribute("stroke-width",hr||1),mr.setAttribute("stroke","transparent"),mr.setAttribute("fill","transparent"),ar.append(mr),this.container.append(ar),!Tt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ft(this,zr)}addHighlightArea(){this.container.classList.add("highlightArea")}}zr=new WeakMap;class Ut extends ct{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0});tr(this,fr,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Tt=this.data,{width:Wt,height:sr}=st(Tt.rect),ar=this.svgFactory.create(Wt,sr,!0);let hr=[];for(const Cr of Tt.vertices){const Rr=Cr.x-Tt.rect[0],br=Tt.rect[3]-Cr.y;hr.push(Rr+","+br)}hr=hr.join(" ");const mr=nr(this,fr,this.svgFactory.createElement(this.svgElementName));return mr.setAttribute("points",hr),mr.setAttribute("stroke-width",Tt.borderStyle.width||1),mr.setAttribute("stroke","transparent"),mr.setAttribute("fill","transparent"),ar.append(mr),this.container.append(ar),!Tt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ft(this,fr)}addHighlightArea(){this.container.classList.add("highlightArea")}}fr=new WeakMap;class Ft extends Ut{constructor(Lt){super(Lt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Bt extends ct{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Nt extends ct{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0});tr(this,er,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=o.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Tt=this.data,{width:Wt,height:sr}=st(Tt.rect),ar=this.svgFactory.create(Wt,sr,!0);for(const hr of Tt.inkLists){let mr=[];for(const Rr of hr){const br=Rr.x-Tt.rect[0],Mr=Tt.rect[3]-Rr.y;mr.push(`${br},${Mr}`)}mr=mr.join(" ");const Cr=this.svgFactory.createElement(this.svgElementName);ft(this,er).push(Cr),Cr.setAttribute("points",mr),Cr.setAttribute("stroke-width",Tt.borderStyle.width||1),Cr.setAttribute("stroke","transparent"),Cr.setAttribute("fill","transparent"),!Tt.popupRef&&this.hasPopupData&&this._createPopup(),ar.append(Cr)}return this.container.append(ar),this.container}getElementsToTriggerPopup(){return ft(this,er)}addHighlightArea(){this.container.classList.add("highlightArea")}}er=new WeakMap,i.InkAnnotationElement=Nt;class Rt extends ct{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class kt extends ct{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Dt extends ct{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class zt extends ct{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Ct extends ct{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}i.StampAnnotationElement=Ct;class bt extends ct{constructor(Tt){var ar;super(Tt,{isRenderable:!0});tr(this,wr);tr(this,rr,null);const{filename:Wt,content:sr}=this.data.file;this.filename=(0,j.getFilenameFromUrl)(Wt,!0),this.content=sr,(ar=this.linkService.eventBus)==null||ar.dispatch("fileattachmentannotation",{source:this,filename:Wt,content:sr})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Tt,data:Wt}=this;let sr;Wt.hasAppearance||Wt.fillAlpha===0?sr=document.createElement("div"):(sr=document.createElement("img"),sr.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Wt.name)?"paperclip":"pushpin"}.svg`,Wt.fillAlpha&&Wt.fillAlpha<1&&(sr.style=`filter: opacity(${Math.round(Wt.fillAlpha*100)}%);`)),sr.addEventListener("dblclick",Kt(this,wr,ps).bind(this)),nr(this,rr,sr);const{isMac:ar}=o.FeatureTest.platform;return Tt.addEventListener("keydown",hr=>{hr.key==="Enter"&&(ar?hr.metaKey:hr.ctrlKey)&&Kt(this,wr,ps).call(this)}),!Wt.popupRef&&this.hasPopupData?this._createPopup():sr.classList.add("popupTriggerArea"),Tt.append(sr),Tt}getElementsToTriggerPopup(){return ft(this,rr)}addHighlightArea(){this.container.classList.add("highlightArea")}}rr=new WeakMap,wr=new WeakSet,ps=function(){var Tt;(Tt=this.downloadManager)==null||Tt.openOrDownloadData(this.container,this.content,this.filename)};class Et{constructor({div:Lt,accessibilityManager:Tt,annotationCanvasMap:Wt,l10n:sr,page:ar,viewport:hr}){tr(this,yr);tr(this,Lr,null);tr(this,$t,null);tr(this,ur,new Map);this.div=Lt,nr(this,Lr,Tt),nr(this,$t,Wt),this.l10n=sr,this.page=ar,this.viewport=hr,this.zIndex=0,this.l10n||(this.l10n=et.NullL10n)}async render(Lt){const{annotations:Tt}=Lt,Wt=this.div;(0,j.setLayerDimensions)(Wt,this.viewport);const sr=new Map,ar={data:null,layer:Wt,linkService:Lt.linkService,downloadManager:Lt.downloadManager,imageResourcesPath:Lt.imageResourcesPath||"",renderForms:Lt.renderForms!==!1,svgFactory:new j.DOMSVGFactory,annotationStorage:Lt.annotationStorage||new _.AnnotationStorage,enableScripting:Lt.enableScripting===!0,hasJSActions:Lt.hasJSActions,fieldObjects:Lt.fieldObjects,parent:this,elements:null};for(const hr of Tt){if(hr.noHTML)continue;const mr=hr.annotationType===o.AnnotationType.POPUP;if(mr){const br=sr.get(hr.id);if(!br)continue;ar.elements=br}else{const{width:br,height:Mr}=st(hr.rect);if(br<=0||Mr<=0)continue}ar.data=hr;const Cr=ot.create(ar);if(!Cr.isRenderable)continue;if(!mr&&hr.popupRef){const br=sr.get(hr.popupRef);br?br.push(Cr):sr.set(hr.popupRef,[Cr])}Cr.annotationEditorType>0&&ft(this,ur).set(Cr.data.id,Cr);const Rr=Cr.render();hr.hidden&&(Rr.style.visibility="hidden"),Kt(this,yr,Qs).call(this,Rr,hr.id)}Kt(this,yr,hs).call(this),await this.l10n.translate(Wt)}update({viewport:Lt}){const Tt=this.div;this.viewport=Lt,(0,j.setLayerDimensions)(Tt,{rotation:Lt.rotation}),Kt(this,yr,hs).call(this),Tt.hidden=!1}getEditableAnnotations(){return Array.from(ft(this,ur).values())}getEditableAnnotation(Lt){return ft(this,ur).get(Lt)}}Lr=new WeakMap,$t=new WeakMap,ur=new WeakMap,yr=new WeakSet,Qs=function(Lt,Tt){var sr;const Wt=Lt.firstChild||Lt;Wt.id=`${o.AnnotationPrefix}${Tt}`,this.div.append(Lt),(sr=ft(this,Lr))==null||sr.moveElementInDOM(this.div,Lt,Wt,!1)},hs=function(){if(!ft(this,$t))return;const Lt=this.div;for(const[Tt,Wt]of ft(this,$t)){const sr=Lt.querySelector(`[data-annotation-id="${Tt}"]`);if(!sr)continue;const{firstChild:ar}=sr;ar?ar.nodeName==="CANVAS"?ar.replaceWith(Wt):ar.before(Wt):sr.append(Wt)}ft(this,$t).clear()},i.AnnotationLayer=Et},(s,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0;function a(_){return Math.floor(Math.max(0,Math.min(1,_))*255).toString(16).padStart(2,"0")}function o(_){return Math.max(0,Math.min(255,255*_))}class j{static CMYK_G([$,et,_e,tt]){return["G",1-Math.min(1,.3*$+.59*_e+.11*et+tt)]}static G_CMYK([$]){return["CMYK",0,0,0,1-$]}static G_RGB([$]){return["RGB",$,$,$]}static G_rgb([$]){return $=o($),[$,$,$]}static G_HTML([$]){const et=a($);return`#${et}${et}${et}`}static RGB_G([$,et,_e]){return["G",.3*$+.59*et+.11*_e]}static RGB_rgb($){return $.map(o)}static RGB_HTML($){return`#${$.map(a).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([$,et,_e,tt]){return["RGB",1-Math.min(1,$+tt),1-Math.min(1,_e+tt),1-Math.min(1,et+tt)]}static CMYK_rgb([$,et,_e,tt]){return[o(1-Math.min(1,$+tt)),o(1-Math.min(1,_e+tt)),o(1-Math.min(1,et+tt))]}static CMYK_HTML($){const et=this.CMYK_RGB($).slice(1);return this.RGB_HTML(et)}static RGB_CMYK([$,et,_e]){const tt=1-$,rt=1-et,nt=1-_e,st=Math.min(tt,rt,nt);return["CMYK",tt,rt,nt,st]}}i.ColorConverters=j},(s,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NullL10n=void 0,i.getL10nFallback=o;const a={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};a.print_progress_percent="{{progress}}%";function o($,et){switch($){case"find_match_count":$=`find_match_count[${et.total===1?"one":"other"}]`;break;case"find_match_count_limit":$=`find_match_count_limit[${et.limit===1?"one":"other"}]`;break}return a[$]||""}function j($,et){return et?$.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(_e,tt)=>tt in et?et[tt]:"{{"+tt+"}}"):$}const _={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get($,et=null,_e=o($,et)){return j(_e,et)},async translate($){}};i.NullL10n=_},(s,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var o=a(25);class j{static setupStorage($,et,_e,tt,rt){const nt=tt.getValue(et,{value:null});switch(_e.name){case"textarea":if(nt.value!==null&&($.textContent=nt.value),rt==="print")break;$.addEventListener("input",st=>{tt.setValue(et,{value:st.target.value})});break;case"input":if(_e.attributes.type==="radio"||_e.attributes.type==="checkbox"){if(nt.value===_e.attributes.xfaOn?$.setAttribute("checked",!0):nt.value===_e.attributes.xfaOff&&$.removeAttribute("checked"),rt==="print")break;$.addEventListener("change",st=>{tt.setValue(et,{value:st.target.checked?st.target.getAttribute("xfaOn"):st.target.getAttribute("xfaOff")})})}else{if(nt.value!==null&&$.setAttribute("value",nt.value),rt==="print")break;$.addEventListener("input",st=>{tt.setValue(et,{value:st.target.value})})}break;case"select":if(nt.value!==null){$.setAttribute("value",nt.value);for(const st of _e.children)st.attributes.value===nt.value?st.attributes.selected=!0:st.attributes.hasOwnProperty("selected")&&delete st.attributes.selected}$.addEventListener("input",st=>{const ot=st.target.options,ct=ot.selectedIndex===-1?"":ot[ot.selectedIndex].value;tt.setValue(et,{value:ct})});break}}static setAttributes({html:$,element:et,storage:_e=null,intent:tt,linkService:rt}){const{attributes:nt}=et,st=$ instanceof HTMLAnchorElement;nt.type==="radio"&&(nt.name=`${nt.name}-${tt}`);for(const[ot,ct]of Object.entries(nt))if(ct!=null)switch(ot){case"class":ct.length&&$.setAttribute(ot,ct.join(" "));break;case"dataId":break;case"id":$.setAttribute("data-element-id",ct);break;case"style":Object.assign($.style,ct);break;case"textContent":$.textContent=ct;break;default:(!st||ot!=="href"&&ot!=="newWindow")&&$.setAttribute(ot,ct)}st&&rt.addLinkAttributes($,nt.href,nt.newWindow),_e&&nt.dataId&&this.setupStorage($,nt.dataId,et,_e)}static render($){var gt;const et=$.annotationStorage,_e=$.linkService,tt=$.xfaHtml,rt=$.intent||"display",nt=document.createElement(tt.name);tt.attributes&&this.setAttributes({html:nt,element:tt,intent:rt,linkService:_e});const st=[[tt,-1,nt]],ot=$.div;if(ot.append(nt),$.viewport){const dt=`matrix(${$.viewport.transform.join(",")})`;ot.style.transform=dt}rt!=="richText"&&ot.setAttribute("class","xfaLayer xfaFont");const ct=[];for(;st.length>0;){const[dt,it,lt]=st.at(-1);if(it+1===dt.children.length){st.pop();continue}const ut=dt.children[++st.at(-1)[1]];if(ut===null)continue;const{name:mt}=ut;if(mt==="#text"){const vt=document.createTextNode(ut.value);ct.push(vt),lt.append(vt);continue}const ht=(gt=ut==null?void 0:ut.attributes)!=null&&gt.xmlns?document.createElementNS(ut.attributes.xmlns,mt):document.createElement(mt);if(lt.append(ht),ut.attributes&&this.setAttributes({html:ht,element:ut,storage:et,intent:rt,linkService:_e}),ut.children&&ut.children.length>0)st.push([ut,-1,ht]);else if(ut.value){const vt=document.createTextNode(ut.value);o.XfaText.shouldBuildText(mt)&&ct.push(vt),ht.append(vt)}}for(const dt of ot.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))dt.setAttribute("readOnly",!0);return{textDivs:ct}}static update($){const et=`matrix(${$.viewport.transform.join(",")})`;$.div.style.transform=et,$.div.hidden=!1}}i.XfaLayer=j},(s,i,a)=>{var tt,rt,nt,st,ot,ct,gt,dt,it,lt,ut,mt,ht,vt,at,Zs,_i,na,ga,fs,xa,ms,ba,_a,$a,eo,to,sn,gs,In,Ln,pn,xs,Mn,Pt,ro,vs,no,so,ys,Fn,hn;Object.defineProperty(i,"__esModule",{value:!0}),i.InkEditor=void 0;var o=a(1),j=a(4),_=a(29),$=a(6),et=a(5);const lr=class lr extends j.AnnotationEditor{constructor(_t){super({..._t,name:"inkEditor"});tr(this,at);tr(this,tt,0);tr(this,rt,0);tr(this,nt,this.canvasPointermove.bind(this));tr(this,st,this.canvasPointerleave.bind(this));tr(this,ot,this.canvasPointerup.bind(this));tr(this,ct,this.canvasPointerdown.bind(this));tr(this,gt,new Path2D);tr(this,dt,!1);tr(this,it,!1);tr(this,lt,!1);tr(this,ut,null);tr(this,mt,0);tr(this,ht,0);tr(this,vt,null);this.color=_t.color||null,this.thickness=_t.thickness||null,this.opacity=_t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(_t){j.AnnotationEditor.initialize(_t,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(_t,Ot){switch(_t){case o.AnnotationEditorParamsType.INK_THICKNESS:lr._defaultThickness=Ot;break;case o.AnnotationEditorParamsType.INK_COLOR:lr._defaultColor=Ot;break;case o.AnnotationEditorParamsType.INK_OPACITY:lr._defaultOpacity=Ot/100;break}}updateParams(_t,Ot){switch(_t){case o.AnnotationEditorParamsType.INK_THICKNESS:Kt(this,at,Zs).call(this,Ot);break;case o.AnnotationEditorParamsType.INK_COLOR:Kt(this,at,_i).call(this,Ot);break;case o.AnnotationEditorParamsType.INK_OPACITY:Kt(this,at,na).call(this,Ot);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,lr._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,lr._defaultColor||j.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(lr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||lr._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||lr._defaultColor||j.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??lr._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Kt(this,at,In).call(this),Kt(this,at,Ln).call(this)),this.isAttachedToDOM||(this.parent.add(this),Kt(this,at,pn).call(this)),Kt(this,at,hn).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,ft(this,ut).disconnect(),nr(this,ut,null),super.remove())}setParent(_t){!this.parent&&_t?this._uiManager.removeShouldRescale(this):this.parent&&_t===null&&this._uiManager.addShouldRescale(this),super.setParent(_t)}onScaleChanging(){const[_t,Ot]=this.parentDimensions,Ht=this.width*_t,Qt=this.height*Ot;this.setDimensions(Ht,Qt)}enableEditMode(){ft(this,dt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",ft(this,ct)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",ft(this,ct)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){ft(this,dt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),nr(this,dt,!0),this.div.classList.add("disabled"),Kt(this,at,hn).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(_t){this._focusEventsAllowed&&(super.focusin(_t),this.enableEditMode())}canvasPointerdown(_t){_t.button!==0||!this.isInEditMode()||ft(this,dt)||(this.setInForeground(),_t.preventDefault(),_t.type!=="mouse"&&this.div.focus(),Kt(this,at,xa).call(this,_t.offsetX,_t.offsetY))}canvasPointermove(_t){_t.preventDefault(),Kt(this,at,ms).call(this,_t.offsetX,_t.offsetY)}canvasPointerup(_t){_t.preventDefault(),Kt(this,at,gs).call(this,_t)}canvasPointerleave(_t){Kt(this,at,gs).call(this,_t)}get isResizable(){return!this.isEmpty()&&ft(this,dt)}render(){if(this.div)return this.div;let _t,Ot;this.width&&(_t=this.x,Ot=this.y),super.render(),j.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(dr=>{var Vt;return(Vt=this.div)==null?void 0:Vt.setAttribute("aria-label",dr)});const[Ht,Qt,or,pr]=Kt(this,at,ga).call(this);if(this.setAt(Ht,Qt,0,0),this.setDims(or,pr),Kt(this,at,In).call(this),this.width){const[dr,Vt]=this.parentDimensions;this.setAspectRatio(this.width*dr,this.height*Vt),this.setAt(_t*dr,Ot*Vt,this.width*dr,this.height*Vt),nr(this,lt,!0),Kt(this,at,pn).call(this),this.setDims(this.width*dr,this.height*Vt),Kt(this,at,sn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Kt(this,at,Ln).call(this),this.div}setDimensions(_t,Ot){const Ht=Math.round(_t),Qt=Math.round(Ot);if(ft(this,mt)===Ht&&ft(this,ht)===Qt)return;nr(this,mt,Ht),nr(this,ht,Qt),this.canvas.style.visibility="hidden";const[or,pr]=this.parentDimensions;this.width=_t/or,this.height=Ot/pr,this.fixAndSetPosition(),ft(this,dt)&&Kt(this,at,xs).call(this,_t,Ot),Kt(this,at,pn).call(this),Kt(this,at,sn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(_t,Ot,Ht){var _r,Fr,zr;if(_t instanceof _.InkAnnotationElement)return null;const Qt=super.deserialize(_t,Ot,Ht);Qt.thickness=_t.thickness,Qt.color=o.Util.makeHexColor(..._t.color),Qt.opacity=_t.opacity;const[or,pr]=Qt.pageDimensions,dr=Qt.width*or,Vt=Qt.height*pr,vr=Qt.parentScale,xr=_t.thickness/2;nr(Qt,dt,!0),nr(Qt,mt,Math.round(dr)),nr(Qt,ht,Math.round(Vt));const{paths:Ir,rect:Tr,rotation:Br}=_t;for(let{bezier:fr}of Ir){fr=Kt(_r=lr,Pt,no).call(_r,fr,Tr,Br);const er=[];Qt.paths.push(er);let rr=vr*(fr[0]-xr),wr=vr*(fr[1]-xr);for(let Lr=2,$t=fr.length;Lr<$t;Lr+=6){const ur=vr*(fr[Lr]-xr),yr=vr*(fr[Lr+1]-xr),Ar=vr*(fr[Lr+2]-xr),Pr=vr*(fr[Lr+3]-xr),Er=vr*(fr[Lr+4]-xr),Lt=vr*(fr[Lr+5]-xr);er.push([[rr,wr],[ur,yr],[Ar,Pr],[Er,Lt]]),rr=Er,wr=Lt}const Ur=Kt(this,Pt,ro).call(this,er);Qt.bezierPath2D.push(Ur)}const jr=Kt(Fr=Qt,at,ys).call(Fr);return nr(Qt,rt,Math.max(j.AnnotationEditor.MIN_SIZE,jr[2]-jr[0])),nr(Qt,tt,Math.max(j.AnnotationEditor.MIN_SIZE,jr[3]-jr[1])),Kt(zr=Qt,at,xs).call(zr,dr,Vt),Qt}serialize(){if(this.isEmpty())return null;const _t=this.getRect(0,0),Ot=j.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:Ot,thickness:this.thickness,opacity:this.opacity,paths:Kt(this,at,so).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,_t),pageIndex:this.pageIndex,rect:_t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};tt=new WeakMap,rt=new WeakMap,nt=new WeakMap,st=new WeakMap,ot=new WeakMap,ct=new WeakMap,gt=new WeakMap,dt=new WeakMap,it=new WeakMap,lt=new WeakMap,ut=new WeakMap,mt=new WeakMap,ht=new WeakMap,vt=new WeakMap,at=new WeakSet,Zs=function(_t){const Ot=this.thickness;this.addCommands({cmd:()=>{this.thickness=_t,Kt(this,at,hn).call(this)},undo:()=>{this.thickness=Ot,Kt(this,at,hn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},_i=function(_t){const Ot=this.color;this.addCommands({cmd:()=>{this.color=_t,Kt(this,at,sn).call(this)},undo:()=>{this.color=Ot,Kt(this,at,sn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},na=function(_t){_t/=100;const Ot=this.opacity;this.addCommands({cmd:()=>{this.opacity=_t,Kt(this,at,sn).call(this)},undo:()=>{this.opacity=Ot,Kt(this,at,sn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},ga=function(){const{parentRotation:_t,parentDimensions:[Ot,Ht]}=this;switch(_t){case 90:return[0,Ht,Ht,Ot];case 180:return[Ot,Ht,Ot,Ht];case 270:return[Ot,0,Ht,Ot];default:return[0,0,Ot,Ht]}},fs=function(){const{ctx:_t,color:Ot,opacity:Ht,thickness:Qt,parentScale:or,scaleFactor:pr}=this;_t.lineWidth=Qt*or/pr,_t.lineCap="round",_t.lineJoin="round",_t.miterLimit=10,_t.strokeStyle=`${Ot}${(0,et.opacityToHex)(Ht)}`},xa=function(_t,Ot){this.canvas.addEventListener("contextmenu",$.noContextMenu),this.canvas.addEventListener("pointerleave",ft(this,st)),this.canvas.addEventListener("pointermove",ft(this,nt)),this.canvas.addEventListener("pointerup",ft(this,ot)),this.canvas.removeEventListener("pointerdown",ft(this,ct)),this.isEditing=!0,ft(this,lt)||(nr(this,lt,!0),Kt(this,at,pn).call(this),this.thickness||(this.thickness=lr._defaultThickness),this.color||(this.color=lr._defaultColor||j.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=lr._defaultOpacity)),this.currentPath.push([_t,Ot]),nr(this,it,!1),Kt(this,at,fs).call(this),nr(this,vt,()=>{Kt(this,at,$a).call(this),ft(this,vt)&&window.requestAnimationFrame(ft(this,vt))}),window.requestAnimationFrame(ft(this,vt))},ms=function(_t,Ot){const[Ht,Qt]=this.currentPath.at(-1);if(this.currentPath.length>1&&_t===Ht&&Ot===Qt)return;const or=this.currentPath;let pr=ft(this,gt);if(or.push([_t,Ot]),nr(this,it,!0),or.length<=2){pr.moveTo(...or[0]),pr.lineTo(_t,Ot);return}or.length===3&&(nr(this,gt,pr=new Path2D),pr.moveTo(...or[0])),Kt(this,at,eo).call(this,pr,...or.at(-3),...or.at(-2),_t,Ot)},ba=function(){if(this.currentPath.length===0)return;const _t=this.currentPath.at(-1);ft(this,gt).lineTo(..._t)},_a=function(_t,Ot){nr(this,vt,null),_t=Math.min(Math.max(_t,0),this.canvas.width),Ot=Math.min(Math.max(Ot,0),this.canvas.height),Kt(this,at,ms).call(this,_t,Ot),Kt(this,at,ba).call(this);let Ht;if(this.currentPath.length!==1)Ht=Kt(this,at,to).call(this);else{const Vt=[_t,Ot];Ht=[[Vt,Vt.slice(),Vt.slice(),Vt]]}const Qt=ft(this,gt),or=this.currentPath;this.currentPath=[],nr(this,gt,new Path2D);const pr=()=>{this.allRawPaths.push(or),this.paths.push(Ht),this.bezierPath2D.push(Qt),this.rebuild()},dr=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Kt(this,at,In).call(this),Kt(this,at,Ln).call(this)),Kt(this,at,hn).call(this))};this.addCommands({cmd:pr,undo:dr,mustExec:!0})},$a=function(){if(!ft(this,it))return;nr(this,it,!1);const _t=Math.ceil(this.thickness*this.parentScale),Ot=this.currentPath.slice(-3),Ht=Ot.map(pr=>pr[0]),Qt=Ot.map(pr=>pr[1]);Math.min(...Ht)-_t,Math.max(...Ht)+_t,Math.min(...Qt)-_t,Math.max(...Qt)+_t;const{ctx:or}=this;or.save(),or.clearRect(0,0,this.canvas.width,this.canvas.height);for(const pr of this.bezierPath2D)or.stroke(pr);or.stroke(ft(this,gt)),or.restore()},eo=function(_t,Ot,Ht,Qt,or,pr,dr){const Vt=(Ot+Qt)/2,vr=(Ht+or)/2,xr=(Qt+pr)/2,Ir=(or+dr)/2;_t.bezierCurveTo(Vt+2*(Qt-Vt)/3,vr+2*(or-vr)/3,xr+2*(Qt-xr)/3,Ir+2*(or-Ir)/3,xr,Ir)},to=function(){const _t=this.currentPath;if(_t.length<=2)return[[_t[0],_t[0],_t.at(-1),_t.at(-1)]];const Ot=[];let Ht,[Qt,or]=_t[0];for(Ht=1;Ht<_t.length-2;Ht++){const[Tr,Br]=_t[Ht],[jr,_r]=_t[Ht+1],Fr=(Tr+jr)/2,zr=(Br+_r)/2,fr=[Qt+2*(Tr-Qt)/3,or+2*(Br-or)/3],er=[Fr+2*(Tr-Fr)/3,zr+2*(Br-zr)/3];Ot.push([[Qt,or],fr,er,[Fr,zr]]),[Qt,or]=[Fr,zr]}const[pr,dr]=_t[Ht],[Vt,vr]=_t[Ht+1],xr=[Qt+2*(pr-Qt)/3,or+2*(dr-or)/3],Ir=[Vt+2*(pr-Vt)/3,vr+2*(dr-vr)/3];return Ot.push([[Qt,or],xr,Ir,[Vt,vr]]),Ot},sn=function(){if(this.isEmpty()){Kt(this,at,Mn).call(this);return}Kt(this,at,fs).call(this);const{canvas:_t,ctx:Ot}=this;Ot.setTransform(1,0,0,1,0,0),Ot.clearRect(0,0,_t.width,_t.height),Kt(this,at,Mn).call(this);for(const Ht of this.bezierPath2D)Ot.stroke(Ht)},gs=function(_t){this.canvas.removeEventListener("pointerleave",ft(this,st)),this.canvas.removeEventListener("pointermove",ft(this,nt)),this.canvas.removeEventListener("pointerup",ft(this,ot)),this.canvas.addEventListener("pointerdown",ft(this,ct)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",$.noContextMenu)},10),Kt(this,at,_a).call(this,_t.offsetX,_t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},In=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",j.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(_t=>{var Ot;return(Ot=this.canvas)==null?void 0:Ot.setAttribute("aria-label",_t)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Ln=function(){nr(this,ut,new ResizeObserver(_t=>{const Ot=_t[0].contentRect;Ot.width&&Ot.height&&this.setDimensions(Ot.width,Ot.height)})),ft(this,ut).observe(this.div)},pn=function(){if(!ft(this,lt))return;const[_t,Ot]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*_t),this.canvas.height=Math.ceil(this.height*Ot),Kt(this,at,Mn).call(this)},xs=function(_t,Ot){const Ht=Kt(this,at,Fn).call(this),Qt=(_t-Ht)/ft(this,rt),or=(Ot-Ht)/ft(this,tt);this.scaleFactor=Math.min(Qt,or)},Mn=function(){const _t=Kt(this,at,Fn).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+_t,this.translationY*this.scaleFactor+_t)},Pt=new WeakSet,ro=function(_t){const Ot=new Path2D;for(let Ht=0,Qt=_t.length;Ht<Qt;Ht++){const[or,pr,dr,Vt]=_t[Ht];Ht===0&&Ot.moveTo(...or),Ot.bezierCurveTo(pr[0],pr[1],dr[0],dr[1],Vt[0],Vt[1])}return Ot},vs=function(_t,Ot,Ht){const[Qt,or,pr,dr]=Ot;switch(Ht){case 0:for(let Vt=0,vr=_t.length;Vt<vr;Vt+=2)_t[Vt]+=Qt,_t[Vt+1]=dr-_t[Vt+1];break;case 90:for(let Vt=0,vr=_t.length;Vt<vr;Vt+=2){const xr=_t[Vt];_t[Vt]=_t[Vt+1]+Qt,_t[Vt+1]=xr+or}break;case 180:for(let Vt=0,vr=_t.length;Vt<vr;Vt+=2)_t[Vt]=pr-_t[Vt],_t[Vt+1]+=or;break;case 270:for(let Vt=0,vr=_t.length;Vt<vr;Vt+=2){const xr=_t[Vt];_t[Vt]=pr-_t[Vt+1],_t[Vt+1]=dr-xr}break;default:throw new Error("Invalid rotation")}return _t},no=function(_t,Ot,Ht){const[Qt,or,pr,dr]=Ot;switch(Ht){case 0:for(let Vt=0,vr=_t.length;Vt<vr;Vt+=2)_t[Vt]-=Qt,_t[Vt+1]=dr-_t[Vt+1];break;case 90:for(let Vt=0,vr=_t.length;Vt<vr;Vt+=2){const xr=_t[Vt];_t[Vt]=_t[Vt+1]-or,_t[Vt+1]=xr-Qt}break;case 180:for(let Vt=0,vr=_t.length;Vt<vr;Vt+=2)_t[Vt]=pr-_t[Vt],_t[Vt+1]-=or;break;case 270:for(let Vt=0,vr=_t.length;Vt<vr;Vt+=2){const xr=_t[Vt];_t[Vt]=dr-_t[Vt+1],_t[Vt+1]=pr-xr}break;default:throw new Error("Invalid rotation")}return _t},so=function(_t,Ot,Ht,Qt){var vr,xr;const or=[],pr=this.thickness/2,dr=_t*Ot+pr,Vt=_t*Ht+pr;for(const Ir of this.paths){const Tr=[],Br=[];for(let jr=0,_r=Ir.length;jr<_r;jr++){const[Fr,zr,fr,er]=Ir[jr],rr=_t*Fr[0]+dr,wr=_t*Fr[1]+Vt,Ur=_t*zr[0]+dr,Lr=_t*zr[1]+Vt,$t=_t*fr[0]+dr,ur=_t*fr[1]+Vt,yr=_t*er[0]+dr,Ar=_t*er[1]+Vt;jr===0&&(Tr.push(rr,wr),Br.push(rr,wr)),Tr.push(Ur,Lr,$t,ur,yr,Ar),Br.push(Ur,Lr),jr===_r-1&&Br.push(yr,Ar)}or.push({bezier:Kt(vr=lr,Pt,vs).call(vr,Tr,Qt,this.rotation),points:Kt(xr=lr,Pt,vs).call(xr,Br,Qt,this.rotation)})}return or},ys=function(){let _t=1/0,Ot=-1/0,Ht=1/0,Qt=-1/0;for(const or of this.paths)for(const[pr,dr,Vt,vr]of or){const xr=o.Util.bezierBoundingBox(...pr,...dr,...Vt,...vr);_t=Math.min(_t,xr[0]),Ht=Math.min(Ht,xr[1]),Ot=Math.max(Ot,xr[2]),Qt=Math.max(Qt,xr[3])}return[_t,Ht,Ot,Qt]},Fn=function(){return ft(this,dt)?Math.ceil(this.thickness*this.parentScale):0},hn=function(_t=!1){if(this.isEmpty())return;if(!ft(this,dt)){Kt(this,at,sn).call(this);return}const Ot=Kt(this,at,ys).call(this),Ht=Kt(this,at,Fn).call(this);nr(this,rt,Math.max(j.AnnotationEditor.MIN_SIZE,Ot[2]-Ot[0])),nr(this,tt,Math.max(j.AnnotationEditor.MIN_SIZE,Ot[3]-Ot[1]));const Qt=Math.ceil(Ht+ft(this,rt)*this.scaleFactor),or=Math.ceil(Ht+ft(this,tt)*this.scaleFactor),[pr,dr]=this.parentDimensions;this.width=Qt/pr,this.height=or/dr,this.setAspectRatio(Qt,or);const Vt=this.translationX,vr=this.translationY;this.translationX=-Ot[0],this.translationY=-Ot[1],Kt(this,at,pn).call(this),Kt(this,at,sn).call(this),nr(this,mt,Qt),nr(this,ht,or),this.setDims(Qt,or);const xr=_t?Ht/this.scaleFactor/2:0;this.translate(Vt-this.translationX-xr,vr-this.translationY-xr)},tr(lr,Pt),Gr(lr,"_defaultColor",null),Gr(lr,"_defaultOpacity",1),Gr(lr,"_defaultThickness",1),Gr(lr,"_type","ink");let _e=lr;i.InkEditor=_e},(s,i,a)=>{var _e,tt,rt,nt,st,ot,ct,gt,dt,it,lt,wn,jn,On,bs,io,ao,Es,$n,oo;Object.defineProperty(i,"__esModule",{value:!0}),i.StampEditor=void 0;var o=a(1),j=a(4),_=a(6),$=a(29);const wt=class wt extends j.AnnotationEditor{constructor(Ft){super({...Ft,name:"stampEditor"});tr(this,lt);tr(this,_e,null);tr(this,tt,null);tr(this,rt,null);tr(this,nt,null);tr(this,st,null);tr(this,ot,null);tr(this,ct,null);tr(this,gt,null);tr(this,dt,!1);tr(this,it,!1);nr(this,nt,Ft.bitmapUrl),nr(this,st,Ft.bitmapFile)}static initialize(Ft){j.AnnotationEditor.initialize(Ft)}static get supportedTypes(){const Ft=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,o.shadow)(this,"supportedTypes",Ft.map(Bt=>`image/${Bt}`))}static get supportedTypesStr(){return(0,o.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Ft){return this.supportedTypes.includes(Ft)}static paste(Ft,Bt){Bt.pasteEditor(o.AnnotationEditorType.STAMP,{bitmapFile:Ft.getAsFile()})}remove(){var Ft,Bt;ft(this,tt)&&(nr(this,_e,null),this._uiManager.imageManager.deleteId(ft(this,tt)),(Ft=ft(this,ot))==null||Ft.remove(),nr(this,ot,null),(Bt=ft(this,ct))==null||Bt.disconnect(),nr(this,ct,null)),super.remove()}rebuild(){if(!this.parent){ft(this,tt)&&Kt(this,lt,On).call(this);return}super.rebuild(),this.div!==null&&(ft(this,tt)&&Kt(this,lt,On).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(ft(this,rt)||ft(this,_e)||ft(this,nt)||ft(this,st))}get isResizable(){return!0}render(){if(this.div)return this.div;let Ft,Bt;if(this.width&&(Ft=this.x,Bt=this.y),super.render(),this.div.hidden=!0,ft(this,_e)?Kt(this,lt,bs).call(this):Kt(this,lt,On).call(this),this.width){const[Nt,Rt]=this.parentDimensions;this.setAt(Ft*Nt,Bt*Rt,this.width*Nt,this.height*Rt)}return this.div}static deserialize(Ft,Bt,Nt){if(Ft instanceof $.StampAnnotationElement)return null;const Rt=super.deserialize(Ft,Bt,Nt),{rect:kt,bitmapUrl:Dt,bitmapId:zt,isSvg:Ct,accessibilityData:bt}=Ft;zt&&Nt.imageManager.isValidId(zt)?nr(Rt,tt,zt):nr(Rt,nt,Dt),nr(Rt,dt,Ct);const[Et,St]=Rt.pageDimensions;return Rt.width=(kt[2]-kt[0])/Et,Rt.height=(kt[3]-kt[1])/St,bt&&(Rt.altTextData=bt),Rt}serialize(Ft=!1,Bt=null){if(this.isEmpty())return null;const Nt={annotationType:o.AnnotationEditorType.STAMP,bitmapId:ft(this,tt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:ft(this,dt),structTreeParentId:this._structTreeParentId};if(Ft)return Nt.bitmapUrl=Kt(this,lt,$n).call(this,!0),Nt.accessibilityData=this.altTextData,Nt;const{decorative:Rt,altText:kt}=this.altTextData;if(!Rt&&kt&&(Nt.accessibilityData={type:"Figure",alt:kt}),Bt===null)return Nt;Bt.stamps||(Bt.stamps=new Map);const Dt=ft(this,dt)?(Nt.rect[2]-Nt.rect[0])*(Nt.rect[3]-Nt.rect[1]):null;if(!Bt.stamps.has(ft(this,tt)))Bt.stamps.set(ft(this,tt),{area:Dt,serialized:Nt}),Nt.bitmap=Kt(this,lt,$n).call(this,!1);else if(ft(this,dt)){const zt=Bt.stamps.get(ft(this,tt));Dt>zt.area&&(zt.area=Dt,zt.serialized.bitmap.close(),zt.serialized.bitmap=Kt(this,lt,$n).call(this,!1))}return Nt}};_e=new WeakMap,tt=new WeakMap,rt=new WeakMap,nt=new WeakMap,st=new WeakMap,ot=new WeakMap,ct=new WeakMap,gt=new WeakMap,dt=new WeakMap,it=new WeakMap,lt=new WeakSet,wn=function(Ft,Bt=!1){if(!Ft){this.remove();return}nr(this,_e,Ft.bitmap),Bt||(nr(this,tt,Ft.id),nr(this,dt,Ft.isSvg)),Kt(this,lt,bs).call(this)},jn=function(){nr(this,rt,null),this._uiManager.enableWaiting(!1),ft(this,ot)&&this.div.focus()},On=function(){if(ft(this,tt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(ft(this,tt)).then(Bt=>Kt(this,lt,wn).call(this,Bt,!0)).finally(()=>Kt(this,lt,jn).call(this));return}if(ft(this,nt)){const Bt=ft(this,nt);nr(this,nt,null),this._uiManager.enableWaiting(!0),nr(this,rt,this._uiManager.imageManager.getFromUrl(Bt).then(Nt=>Kt(this,lt,wn).call(this,Nt)).finally(()=>Kt(this,lt,jn).call(this)));return}if(ft(this,st)){const Bt=ft(this,st);nr(this,st,null),this._uiManager.enableWaiting(!0),nr(this,rt,this._uiManager.imageManager.getFromFile(Bt).then(Nt=>Kt(this,lt,wn).call(this,Nt)).finally(()=>Kt(this,lt,jn).call(this)));return}const Ft=document.createElement("input");Ft.type="file",Ft.accept=wt.supportedTypesStr,nr(this,rt,new Promise(Bt=>{Ft.addEventListener("change",async()=>{if(!Ft.files||Ft.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Nt=await this._uiManager.imageManager.getFromFile(Ft.files[0]);Kt(this,lt,wn).call(this,Nt)}Bt()}),Ft.addEventListener("cancel",()=>{this.remove(),Bt()})}).finally(()=>Kt(this,lt,jn).call(this))),Ft.click()},bs=function(){const{div:Ft}=this;let{width:Bt,height:Nt}=ft(this,_e);const[Rt,kt]=this.pageDimensions,Dt=.75;if(this.width)Bt=this.width*Rt,Nt=this.height*kt;else if(Bt>Dt*Rt||Nt>Dt*kt){const Et=Math.min(Dt*Rt/Bt,Dt*kt/Nt);Bt*=Et,Nt*=Et}const[zt,Ct]=this.parentDimensions;this.setDims(Bt*zt/Rt,Nt*Ct/kt),this._uiManager.enableWaiting(!1);const bt=nr(this,ot,document.createElement("canvas"));Ft.append(bt),Ft.hidden=!1,Kt(this,lt,Es).call(this,Bt,Nt),Kt(this,lt,oo).call(this),ft(this,it)||(this.parent.addUndoableEditor(this),nr(this,it,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},io=function(Ft,Bt){var Dt;const[Nt,Rt]=this.parentDimensions;this.width=Ft/Nt,this.height=Bt/Rt,this.setDims(Ft,Bt),(Dt=this._initialOptions)!=null&&Dt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,ft(this,gt)!==null&&clearTimeout(ft(this,gt)),nr(this,gt,setTimeout(()=>{nr(this,gt,null),Kt(this,lt,Es).call(this,Ft,Bt)},200))},ao=function(Ft,Bt){const{width:Nt,height:Rt}=ft(this,_e);let kt=Nt,Dt=Rt,zt=ft(this,_e);for(;kt>2*Ft||Dt>2*Bt;){const Ct=kt,bt=Dt;kt>2*Ft&&(kt=kt>=16384?Math.floor(kt/2)-1:Math.ceil(kt/2)),Dt>2*Bt&&(Dt=Dt>=16384?Math.floor(Dt/2)-1:Math.ceil(Dt/2));const Et=new OffscreenCanvas(kt,Dt);Et.getContext("2d").drawImage(zt,0,0,Ct,bt,0,0,kt,Dt),zt=Et.transferToImageBitmap()}return zt},Es=function(Ft,Bt){Ft=Math.ceil(Ft),Bt=Math.ceil(Bt);const Nt=ft(this,ot);if(!Nt||Nt.width===Ft&&Nt.height===Bt)return;Nt.width=Ft,Nt.height=Bt;const Rt=ft(this,dt)?ft(this,_e):Kt(this,lt,ao).call(this,Ft,Bt),kt=Nt.getContext("2d");kt.filter=this._uiManager.hcmFilter,kt.drawImage(Rt,0,0,Rt.width,Rt.height,0,0,Ft,Bt)},$n=function(Ft){if(Ft){if(ft(this,dt)){const Rt=this._uiManager.imageManager.getSvgUrl(ft(this,tt));if(Rt)return Rt}const Bt=document.createElement("canvas");return{width:Bt.width,height:Bt.height}=ft(this,_e),Bt.getContext("2d").drawImage(ft(this,_e),0,0),Bt.toDataURL()}if(ft(this,dt)){const[Bt,Nt]=this.pageDimensions,Rt=Math.round(this.width*Bt*_.PixelsPerInch.PDF_TO_CSS_UNITS),kt=Math.round(this.height*Nt*_.PixelsPerInch.PDF_TO_CSS_UNITS),Dt=new OffscreenCanvas(Rt,kt);return Dt.getContext("2d").drawImage(ft(this,_e),0,0,ft(this,_e).width,ft(this,_e).height,0,0,Rt,kt),Dt.transferToImageBitmap()}return structuredClone(ft(this,_e))},oo=function(){nr(this,ct,new ResizeObserver(Ft=>{const Bt=Ft[0].contentRect;Bt.width&&Bt.height&&Kt(this,lt,io).call(this,Bt.width,Bt.height)})),ft(this,ct).observe(this.div)},Gr(wt,"_type","stamp");let et=wt;i.StampEditor=et}],__webpack_module_cache__={};function __w_pdfjs_require__(s){var i=__webpack_module_cache__[s];if(i!==void 0)return i.exports;var a=__webpack_module_cache__[s]={exports:{}};return __webpack_modules__[s](a,a.exports,__w_pdfjs_require__),a.exports}var __webpack_exports__={};return(()=>{var s=__webpack_exports__;Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"AbortException",{enumerable:!0,get:function(){return i.AbortException}}),Object.defineProperty(s,"AnnotationEditorLayer",{enumerable:!0,get:function(){return _.AnnotationEditorLayer}}),Object.defineProperty(s,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return i.AnnotationEditorParamsType}}),Object.defineProperty(s,"AnnotationEditorType",{enumerable:!0,get:function(){return i.AnnotationEditorType}}),Object.defineProperty(s,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return $.AnnotationEditorUIManager}}),Object.defineProperty(s,"AnnotationLayer",{enumerable:!0,get:function(){return et.AnnotationLayer}}),Object.defineProperty(s,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty(s,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty(s,"DOMSVGFactory",{enumerable:!0,get:function(){return o.DOMSVGFactory}}),Object.defineProperty(s,"FeatureTest",{enumerable:!0,get:function(){return i.FeatureTest}}),Object.defineProperty(s,"GlobalWorkerOptions",{enumerable:!0,get:function(){return _e.GlobalWorkerOptions}}),Object.defineProperty(s,"ImageKind",{enumerable:!0,get:function(){return i.ImageKind}}),Object.defineProperty(s,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty(s,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty(s,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty(s,"PDFDataRangeTransport",{enumerable:!0,get:function(){return a.PDFDataRangeTransport}}),Object.defineProperty(s,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(s,"PDFWorker",{enumerable:!0,get:function(){return a.PDFWorker}}),Object.defineProperty(s,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty(s,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty(s,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(s,"PromiseCapability",{enumerable:!0,get:function(){return i.PromiseCapability}}),Object.defineProperty(s,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(s,"SVGGraphics",{enumerable:!0,get:function(){return a.SVGGraphics}}),Object.defineProperty(s,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty(s,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty(s,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty(s,"XfaLayer",{enumerable:!0,get:function(){return tt.XfaLayer}}),Object.defineProperty(s,"build",{enumerable:!0,get:function(){return a.build}}),Object.defineProperty(s,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty(s,"getDocument",{enumerable:!0,get:function(){return a.getDocument}}),Object.defineProperty(s,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(s,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(s,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(s,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(s,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(s,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(s,"noContextMenu",{enumerable:!0,get:function(){return o.noContextMenu}}),Object.defineProperty(s,"normalizeUnicode",{enumerable:!0,get:function(){return i.normalizeUnicode}}),Object.defineProperty(s,"renderTextLayer",{enumerable:!0,get:function(){return j.renderTextLayer}}),Object.defineProperty(s,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(s,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty(s,"updateTextLayer",{enumerable:!0,get:function(){return j.updateTextLayer}}),Object.defineProperty(s,"version",{enumerable:!0,get:function(){return a.version}});var i=__w_pdfjs_require__(1),a=__w_pdfjs_require__(2),o=__w_pdfjs_require__(6),j=__w_pdfjs_require__(26),_=__w_pdfjs_require__(27),$=__w_pdfjs_require__(5),et=__w_pdfjs_require__(29),_e=__w_pdfjs_require__(14),tt=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf$1);var pdfExports=pdf$1.exports;const pdf=getDefaultExportFromCjs(pdfExports),pdfjsModule=_mergeNamespaces({__proto__:null,default:pdf},[pdfExports]),pdfjs="default"in pdfjsModule?pdf:pdfjsModule;var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function s(o,j,_,$,et,_e){if(_e!==ReactPropTypesSecret){var tt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw tt.name="Invariant Violation",tt}}s.isRequired=s;function i(){return s}var a={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:i,element:s,elementType:s,instanceOf:i,node:s,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return a.PropTypes=a,a};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var __spreadArray=function(s,i,a){if(a||arguments.length===2)for(var o=0,j=i.length,_;o<j;o++)(_||!(o in i))&&(_||(_=Array.prototype.slice.call(i,0,o)),_[o]=i[o]);return s.concat(_||Array.prototype.slice.call(i))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(s,i){var a={};return allEvents.forEach(function(o){var j=s[o];j&&(i?a[o]=function(_){return j(_,i(o))}:a[o]=j)}),a}function makeCancellablePromise(s){var i=!1,a=new Promise(function(o,j){s.then(function(_){return!i&&o(_)}).catch(function(_){return!i&&j(_)})});return{promise:a,cancel:function(){i=!0}}}function r$2(s){var i,a,o="";if(typeof s=="string"||typeof s=="number")o+=s;else if(typeof s=="object")if(Array.isArray(s)){var j=s.length;for(i=0;i<j;i++)s[i]&&(a=r$2(s[i]))&&(o&&(o+=" "),o+=a)}else for(a in s)s[a]&&(o&&(o+=" "),o+=a);return o}function clsx(){for(var s,i,a=0,o="",j=arguments.length;a<j;a++)(s=arguments[a])&&(i=r$2(s))&&(o&&(o+=" "),o+=i);return o}var prefix$2="Invariant failed";function invariant$1(s,i){if(!s)throw new Error(prefix$2)}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1);var has=Object.prototype.hasOwnProperty;function find$1(s,i,a){for(a of s.keys())if(dequal(a,i))return a}function dequal(s,i){var a,o,j;if(s===i)return!0;if(s&&i&&(a=s.constructor)===i.constructor){if(a===Date)return s.getTime()===i.getTime();if(a===RegExp)return s.toString()===i.toString();if(a===Array){if((o=s.length)===i.length)for(;o--&&dequal(s[o],i[o]););return o===-1}if(a===Set){if(s.size!==i.size)return!1;for(o of s)if(j=o,j&&typeof j=="object"&&(j=find$1(i,j),!j)||!i.has(j))return!1;return!0}if(a===Map){if(s.size!==i.size)return!1;for(o of s)if(j=o[0],j&&typeof j=="object"&&(j=find$1(i,j),!j)||!dequal(o[1],i.get(j)))return!1;return!0}if(a===ArrayBuffer)s=new Uint8Array(s),i=new Uint8Array(i);else if(a===DataView){if((o=s.byteLength)===i.byteLength)for(;o--&&s.getInt8(o)===i.getInt8(o););return o===-1}if(ArrayBuffer.isView(s)){if((o=s.byteLength)===i.byteLength)for(;o--&&s[o]===i[o];);return o===-1}if(!a||typeof s=="object"){o=0;for(a in s)if(has.call(s,a)&&++o&&!has.call(i,a)||!(a in i)||!dequal(s[a],i[a]))return!1;return Object.keys(i).length===o}}return s!==s&&i!==i}const DocumentContext=reactExports.createContext(null);function Message({children:s,type:i}){return React.createElement("div",{className:`react-pdf__message react-pdf__message--${i}`},s)}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(i){this.pdfDocument=i}setViewer(i){this.pdfViewer=i}setExternalLinkRel(i){this.externalLinkRel=i}setExternalLinkTarget(i){this.externalLinkTarget=i}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant$1(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(i){invariant$1(this.pdfViewer),this.pdfViewer.currentPageNumber=i}get rotation(){return 0}set rotation(i){}goToDestination(i){return new Promise(a=>{invariant$1(this.pdfDocument),invariant$1(i),typeof i=="string"?this.pdfDocument.getDestination(i).then(a):Array.isArray(i)?a(i):i.then(a)}).then(a=>{invariant$1(Array.isArray(a));const o=a[0];new Promise(j=>{invariant$1(this.pdfDocument),o instanceof Object?this.pdfDocument.getPageIndex(o).then(_=>{j(_)}).catch(()=>{invariant$1(!1)}):typeof o=="number"?j(o):invariant$1(!1)}).then(j=>{const _=j+1;invariant$1(this.pdfViewer),invariant$1(_>=1&&_<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:a,pageIndex:j,pageNumber:_})})})}navigateTo(i){this.goToDestination(i)}goToPage(i){const a=i-1;invariant$1(this.pdfViewer),invariant$1(i>=1&&i<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:a,pageNumber:i})}addLinkAttributes(i,a,o){i.href=a,i.rel=this.externalLinkRel||DEFAULT_LINK_REL,i.target=o?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(s){return typeof s<"u"}function isProvided(s){return isDefined(s)&&s!==null}function isString(s){return typeof s=="string"}function isArrayBuffer(s){return s instanceof ArrayBuffer}function isBlob(s){return invariant$1(isBrowser),s instanceof Blob}function isDataURI(s){return isString(s)&&/^data:/.test(s)}function dataURItoByteString(s){invariant$1(isDataURI(s));const[i="",a=""]=s.split(",");return i.split(";").indexOf("base64")!==-1?atob(a):unescape(a)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning$1(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning$1(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(s){s&&s.cancel&&s.cancel()}function makePageCallback(s,i){return Object.defineProperty(s,"width",{get(){return this.view[2]*i},configurable:!0}),Object.defineProperty(s,"height",{get(){return this.view[3]*i},configurable:!0}),Object.defineProperty(s,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(s,"originalHeight",{get(){return this.view[3]},configurable:!0}),s}function isCancelException(s){return s.name==="RenderingCancelledException"}function loadFromFile(s){return new Promise((i,a)=>{const o=new FileReader;o.onload=()=>{if(!o.result)return a(new Error("Error while reading a file."));i(o.result)},o.onerror=j=>{if(!j.target)return a(new Error("Error while reading a file."));const{error:_}=j.target;if(!_)return a(new Error("Error while reading a file."));switch(_.code){case _.NOT_FOUND_ERR:return a(new Error("Error while reading a file: File not found."));case _.SECURITY_ERR:return a(new Error("Error while reading a file: Security error."));case _.ABORT_ERR:return a(new Error("Error while reading a file: Aborted."));default:return a(new Error("Error while reading a file."))}},o.readAsArrayBuffer(s)})}function reducer$1(s,i){switch(i.type){case"RESOLVE":return{value:i.value,error:void 0};case"REJECT":return{value:!1,error:i.error};case"RESET":return{value:void 0,error:void 0};default:return s}}function useResolver(){return reactExports.useReducer(reducer$1,{value:void 0,error:void 0})}const{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs,eventProps=(()=>{const s={};return allEvents.forEach(i=>{s[i]=PropTypes.func}),s})(),isTypedArray=PropTypes.oneOfType([PropTypes.instanceOf(Int8Array),PropTypes.instanceOf(Uint8Array),PropTypes.instanceOf(Uint8ClampedArray),PropTypes.instanceOf(Int16Array),PropTypes.instanceOf(Uint16Array),PropTypes.instanceOf(Int32Array),PropTypes.instanceOf(Uint32Array),PropTypes.instanceOf(Float32Array),PropTypes.instanceOf(Float64Array)]),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.arrayOf(PropTypes.number.isRequired),isTypedArray]).isRequired}),PropTypes.shape({range:PropTypes.instanceOf(PDFDataRangeTransport$1).isRequired}),PropTypes.shape({url:PropTypes.string.isRequired})];typeof Blob<"u"&&fileTypes.push(PropTypes.instanceOf(Blob));const isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes);PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);PropTypes.shape({commonObjs:PropTypes.shape({}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired});const isPageIndex=function s(i,a,o){const{[a]:j,pageNumber:_,pdf:$}=i;if(!isDefined($))return null;if(isDefined(j)){if(typeof j!="number")return new Error(`\`${a}\` of type \`${typeof j}\` supplied to \`${o}\`, expected \`number\`.`);if(j<0)return new Error(`Expected \`${a}\` to be greater or equal to 0.`);const{numPages:et}=$;if(j+1>et)return new Error(`Expected \`${a}\` to be less or equal to ${et-1}.`)}else if(!isDefined(_))return new Error(`\`${a}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${o}\`.`);return null},isPageNumber=function s(i,a,o){const{[a]:j,pageIndex:_,pdf:$}=i;if(!isDefined($))return null;if(isDefined(j)){if(typeof j!="number")return new Error(`\`${a}\` of type \`${typeof j}\` supplied to \`${o}\`, expected \`number\`.`);if(j<1)return new Error(`Expected \`${a}\` to be greater or equal to 1.`);const{numPages:et}=$;if(j>et)return new Error(`Expected \`${a}\` to be less or equal to ${et}.`)}else if(!isDefined(_))return new Error(`\`${a}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${o}\`.`);return null},isPdf=PropTypes.oneOfType([PropTypes.any,PropTypes.oneOf([!1])]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.exact({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","custom","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]);var __awaiter=function(s,i,a,o){function j(_){return _ instanceof a?_:new a(function($){$(_)})}return new(a||(a=Promise))(function(_,$){function et(rt){try{tt(o.next(rt))}catch(nt){$(nt)}}function _e(rt){try{tt(o.throw(rt))}catch(nt){$(nt)}}function tt(rt){rt.done?_(rt.value):j(rt.value).then(et,_e)}tt((o=o.apply(s,i||[])).next())})},__rest$1=function(s,i){var a={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.indexOf(o)<0&&(a[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,o=Object.getOwnPropertySymbols(s);j<o.length;j++)i.indexOf(o[j])<0&&Object.prototype.propertyIsEnumerable.call(s,o[j])&&(a[o[j]]=s[o[j]]);return a};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(s,i)=>{switch(i){case PasswordResponses.NEED_PASSWORD:{const a=prompt("Enter the password to open this PDF file.");s(a);break}case PasswordResponses.INCORRECT_PASSWORD:{const a=prompt("Invalid password. Please try again.");s(a);break}}};function isParameterObject(s){return typeof s=="object"&&s!==null&&("data"in s||"range"in s||"url"in s)}const Document=reactExports.forwardRef(function s(i,a){var{children:o,className:j,error:_="Failed to load PDF file.",externalLinkRel:$,externalLinkTarget:et,file:_e,inputRef:tt,imageResourcesPath:rt,loading:nt="Loading PDF",noData:st="No PDF file specified.",onItemClick:ot,onLoadError:ct,onLoadProgress:gt,onLoadSuccess:dt,onPassword:it=defaultOnPassword,onSourceError:lt,onSourceSuccess:ut,options:mt,renderMode:ht,rotate:vt}=i,at=__rest$1(i,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[pt,yt]=useResolver(),{value:jt,error:xt}=pt,[wt,At]=useResolver(),{value:Ut,error:Ft}=wt,Bt=reactExports.useRef(new LinkService),Nt=reactExports.useRef([]),Rt=reactExports.useRef(),kt=reactExports.useRef();reactExports.useEffect(()=>{_e&&_e!==Rt.current&&isParameterObject(_e)&&(warning$1(!dequal(_e,Rt.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Rt.current=_e)},[_e]),reactExports.useEffect(()=>{mt&&mt!==kt.current&&(warning$1(!dequal(mt,kt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),kt.current=mt)},[mt]);const Dt=reactExports.useRef({scrollPageIntoView:qt=>{const{dest:Xt,pageNumber:_t,pageIndex:Ot=_t-1}=qt;if(ot){ot({dest:Xt,pageIndex:Ot,pageNumber:_t});return}const Ht=Nt.current[Ot];if(Ht){Ht.scrollIntoView();return}warning$1(!1,`An internal link leading to page ${_t} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(a,()=>({linkService:Bt,pages:Nt,viewer:Dt}),[]);function zt(){ut&&ut()}function Ct(){xt&&(warning$1(!1,xt.toString()),lt&&lt(xt))}function bt(){yt({type:"RESET"})}reactExports.useEffect(bt,[_e,yt]);const Et=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!_e)return null;if(typeof _e=="string")return isDataURI(_e)?{data:dataURItoByteString(_e)}:(displayCORSWarning(),{url:_e});if(_e instanceof PDFDataRangeTransport)return{range:_e};if(isArrayBuffer(_e))return{data:_e};if(isBrowser&&isBlob(_e))return{data:yield loadFromFile(_e)};if(invariant$1(typeof _e=="object"),invariant$1(isParameterObject(_e)),"url"in _e&&typeof _e.url=="string"){if(isDataURI(_e.url)){const{url:qt}=_e,Xt=__rest$1(_e,["url"]),_t=dataURItoByteString(qt);return Object.assign({data:_t},Xt)}displayCORSWarning()}return _e}),[_e]);reactExports.useEffect(()=>{const qt=makeCancellablePromise(Et());return qt.promise.then(Xt=>{yt({type:"RESOLVE",value:Xt})}).catch(Xt=>{yt({type:"REJECT",error:Xt})}),()=>{cancelRunningTask(qt)}},[Et,yt]),reactExports.useEffect(()=>{if(!(typeof jt>"u")){if(jt===!1){Ct();return}zt()}},[jt]);function St(){Ut&&(dt&&dt(Ut),Nt.current=new Array(Ut.numPages),Bt.current.setDocument(Ut))}function It(){Ft&&(warning$1(!1,Ft.toString()),ct&&ct(Ft))}function Pt(){At({type:"RESET"})}reactExports.useEffect(Pt,[At,jt]);function Mt(){if(!jt)return;const qt=Object.assign(Object.assign({},mt),{isEvalSupported:!1}),Xt=Object.assign(Object.assign({},jt),qt),_t=pdfjs.getDocument(Xt);gt&&(_t.onProgress=gt),it&&(_t.onPassword=it);const Ot=_t;return Ot.promise.then(Ht=>{At({type:"RESOLVE",value:Ht})}).catch(Ht=>{Ot.destroyed||At({type:"REJECT",error:Ht})}),()=>{Ot.destroy()}}reactExports.useEffect(Mt,[mt,At,jt]),reactExports.useEffect(()=>{if(!(typeof Ut>"u")){if(Ut===!1){It();return}St()}},[Ut]);function Gt(){Bt.current.setViewer(Dt.current),Bt.current.setExternalLinkRel($),Bt.current.setExternalLinkTarget(et)}reactExports.useEffect(Gt,[$,et]);function Yt(qt,Xt){Nt.current[qt]=Xt}function Zt(qt){delete Nt.current[qt]}const ir=reactExports.useMemo(()=>({imageResourcesPath:rt,linkService:Bt.current,onItemClick:ot,pdf:Ut,registerPage:Yt,renderMode:ht,rotate:vt,unregisterPage:Zt}),[rt,ot,Ut,ht,vt]),cr=reactExports.useMemo(()=>makeEventProps(at,()=>Ut),[at,Ut]);function Jt(){return React.createElement(DocumentContext.Provider,{value:ir},o)}function lr(){return _e?Ut==null?React.createElement(Message,{type:"loading"},typeof nt=="function"?nt():nt):Ut===!1?React.createElement(Message,{type:"error"},typeof _=="function"?_():_):Jt():React.createElement(Message,{type:"no-data"},typeof st=="function"?st():st)}return React.createElement("div",Object.assign({className:clsx("react-pdf__Document",j),ref:tt,style:{"--scale-factor":"1"}},cr),lr())}),isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=Object.assign(Object.assign({},eventProps),{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.oneOf(["_self","_blank","_parent","_top"]),file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,options:PropTypes.shape({canvasFactory:PropTypes.any,canvasMaxAreaInBytes:PropTypes.number,cMapPacked:PropTypes.bool,CMapReaderFactory:PropTypes.any,cMapUrl:PropTypes.string,disableAutoFetch:PropTypes.bool,disableFontFace:PropTypes.bool,disableRange:PropTypes.bool,disableStream:PropTypes.bool,docBaseUrl:PropTypes.string,enableXfa:PropTypes.bool,filterFactory:PropTypes.any,fontExtraProperties:PropTypes.bool,httpHeaders:PropTypes.object,isEvalSupported:PropTypes.bool,isOffscreenCanvasSupported:PropTypes.bool,length:PropTypes.number,maxImageSize:PropTypes.number,ownerDocument:PropTypes.any,password:PropTypes.string,pdfBug:PropTypes.bool,rangeChunkSize:PropTypes.number,StandardFontDataFactory:PropTypes.any,standardFontDataUrl:PropTypes.string,stopAtErrors:PropTypes.bool,useSystemFonts:PropTypes.bool,useWorkerFetch:PropTypes.bool,verbosity:PropTypes.number,withCredentials:PropTypes.bool,worker:PropTypes.any}),rotate:PropTypes.number});function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];var a=s.filter(Boolean);if(a.length<=1){var o=a[0];return o||null}return function(_){a.forEach(function($){typeof $=="function"?$(_):$&&($.current=_)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(s){return s in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(s){return"children"in s}function isStructTreeNodeWithOnlyContentChild(s){return isStructTreeNode(s)?s.children.length===1&&0 in s.children&&"id"in s.children[0]:!1}function getRoleAttributes(s){const i={};if(isStructTreeNode(s)){const{role:a}=s,o=a.match(HEADING_PATTERN);if(o)i.role="heading",i["aria-level"]=Number(o[1]);else if(isPdfRole(a)){const j=PDF_ROLE_TO_HTML_ROLE[a];j&&(i.role=j)}}return i}function getBaseAttributes(s){const i={};if(isStructTreeNode(s)){if(s.alt!==void 0&&(i["aria-label"]=s.alt),s.lang!==void 0&&(i.lang=s.lang),isStructTreeNodeWithOnlyContentChild(s)){const[a]=s.children;if(a){const o=getBaseAttributes(a);return Object.assign(Object.assign({},i),o)}}}else"id"in s&&(i["aria-owns"]=s.id);return i}function getAttributes(s){return s?Object.assign(Object.assign({},getRoleAttributes(s)),getBaseAttributes(s)):null}function StructTreeItem({className:s,node:i}){const a=reactExports.useMemo(()=>getAttributes(i),[i]),o=reactExports.useMemo(()=>!isStructTreeNode(i)||isStructTreeNodeWithOnlyContentChild(i)?null:i.children.map((j,_)=>React.createElement(StructTreeItem,{key:_,node:j})),[i]);return React.createElement("span",Object.assign({className:s},a),o)}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const s=usePageContext();invariant$1(s);const{onGetStructTreeError:i,onGetStructTreeSuccess:a}=s,[o,j]=useResolver(),{value:_,error:$}=o,{customTextRenderer:et,page:_e}=s;function tt(){_&&a&&a(_)}function rt(){$&&(warning$1(!1,$.toString()),i&&i($))}function nt(){j({type:"RESET"})}reactExports.useEffect(nt,[j,_e]);function st(){if(et||!_e)return;const ot=makeCancellablePromise(_e.getStructTree()),ct=ot;return ot.promise.then(gt=>{j({type:"RESOLVE",value:gt})}).catch(gt=>{j({type:"REJECT",error:gt})}),()=>cancelRunningTask(ct)}return reactExports.useEffect(st,[et,_e,j]),reactExports.useEffect(()=>{if(_!==void 0){if(_===!1){rt();return}tt()}},[_]),_?React.createElement(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:_}):null}const ANNOTATION_MODE=pdfjs.AnnotationMode;function PageCanvas(s){const i=usePageContext();invariant$1(i);const a=Object.assign(Object.assign({},i),s),{_className:o,canvasBackground:j,devicePixelRatio:_=getDevicePixelRatio(),onRenderError:$,onRenderSuccess:et,page:_e,renderForms:tt,renderTextLayer:rt,rotate:nt,scale:st}=a,{canvasRef:ot}=s;invariant$1(_e);const ct=reactExports.useRef(null);function gt(){_e&&et&&et(makePageCallback(_e,st))}function dt(ht){isCancelException(ht)||(warning$1(!1,ht.toString()),$&&$(ht))}const it=reactExports.useMemo(()=>_e.getViewport({scale:st*_,rotation:nt}),[_,_e,nt,st]),lt=reactExports.useMemo(()=>_e.getViewport({scale:st,rotation:nt}),[_e,nt,st]);function ut(){if(!_e)return;_e.cleanup();const{current:ht}=ct;if(!ht)return;ht.width=it.width,ht.height=it.height,ht.style.width=`${Math.floor(lt.width)}px`,ht.style.height=`${Math.floor(lt.height)}px`,ht.style.visibility="hidden";const vt={annotationMode:tt?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:ht.getContext("2d",{alpha:!1}),viewport:it};j&&(vt.background=j);const at=_e.render(vt),pt=at;return at.promise.then(()=>{ht.style.visibility="",gt()}).catch(dt),()=>cancelRunningTask(pt)}reactExports.useEffect(ut,[j,ct,_,_e,tt,it,lt]);const mt=reactExports.useCallback(()=>{const{current:ht}=ct;ht&&(ht.width=0,ht.height=0)},[ct]);return reactExports.useEffect(()=>mt,[mt]),React.createElement("canvas",{className:`${o}__canvas`,dir:"ltr",ref:mergeRefs(ot,ct),style:{display:"block",userSelect:"none"}},rt?React.createElement(StructTree,null):null)}function PageSVG(){const s=usePageContext();invariant$1(s);const{_className:i,onRenderSuccess:a,onRenderError:o,page:j,rotate:_,scale:$}=s;invariant$1(j);const[et,_e]=useResolver(),{value:tt,error:rt}=et;function nt(){j&&a&&a(makePageCallback(j,$))}function st(){rt&&(isCancelException(rt)||(warning$1(!1,rt.toString()),o&&o(rt)))}const ot=reactExports.useMemo(()=>j.getViewport({scale:$,rotation:_}),[j,_,$]);function ct(){_e({type:"RESET"})}reactExports.useEffect(ct,[j,_e,ot]);function gt(){if(!j)return;const ut=makeCancellablePromise(j.getOperatorList());return ut.promise.then(mt=>{new pdfjs.SVGGraphics(j.commonObjs,j.objs).getSVG(mt,ot).then(vt=>{if(!(vt instanceof SVGElement))throw new Error("getSVG returned unexpected result.");_e({type:"RESOLVE",value:vt})}).catch(vt=>{_e({type:"REJECT",error:vt})})}).catch(mt=>{_e({type:"REJECT",error:mt})}),()=>cancelRunningTask(ut)}reactExports.useEffect(gt,[j,_e,ot]),reactExports.useEffect(()=>{if(tt!==void 0){if(tt===!1){st();return}nt()}},[tt]);function dt(ut){if(!ut||!tt)return;ut.firstElementChild||ut.appendChild(tt);const{width:mt,height:ht}=ot;tt.setAttribute("width",`${mt}`),tt.setAttribute("height",`${ht}`)}const{width:it,height:lt}=ot;return React.createElement("div",{className:`${i}__svg`,ref:ut=>dt(ut),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:it,height:lt,userSelect:"none"}})}function isTextItem(s){return"str"in s}function TextLayer(){const s=usePageContext();invariant$1(s);const{customTextRenderer:i,onGetTextError:a,onGetTextSuccess:o,onRenderTextLayerError:j,onRenderTextLayerSuccess:_,page:$,pageIndex:et,pageNumber:_e,rotate:tt,scale:rt}=s;invariant$1($);const[nt,st]=useResolver(),{value:ot,error:ct}=nt,gt=reactExports.useRef(null),dt=reactExports.useRef();warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function it(){ot&&o&&o(ot)}function lt(){ct&&(warning$1(!1,ct.toString()),a&&a(ct))}function ut(){st({type:"RESET"})}reactExports.useEffect(ut,[$,st]);function mt(){if(!$)return;const xt=makeCancellablePromise($.getTextContent()),wt=xt;return xt.promise.then(At=>{st({type:"RESOLVE",value:At})}).catch(At=>{st({type:"REJECT",error:At})}),()=>cancelRunningTask(wt)}reactExports.useEffect(mt,[$,st]),reactExports.useEffect(()=>{if(ot!==void 0){if(ot===!1){lt();return}it()}},[ot]);const ht=reactExports.useCallback(()=>{_&&_()},[_]),vt=reactExports.useCallback(xt=>{warning$1(!1,xt.toString()),j&&j(xt)},[j]);function at(){const xt=dt.current;xt&&xt.classList.add("active")}function pt(){const xt=dt.current;xt&&xt.classList.remove("active")}const yt=reactExports.useMemo(()=>$.getViewport({scale:rt,rotation:tt}),[$,tt,rt]);function jt(){if(!$||!ot)return;const{current:xt}=gt;if(!xt)return;xt.innerHTML="";const wt=$.streamTextContent({includeMarkedContent:!0}),At={container:xt,textContentSource:wt,viewport:yt},Ut=pdfjs.renderTextLayer(At),Ft=Ut;return Ut.promise.then(()=>{const Bt=document.createElement("div");Bt.className="endOfContent",xt.append(Bt),dt.current=Bt;const Nt=xt.querySelectorAll('[role="presentation"]');if(i){let Rt=0;ot.items.forEach((kt,Dt)=>{if(!isTextItem(kt))return;const zt=Nt[Rt];if(!zt)return;const Ct=i(Object.assign({pageIndex:et,pageNumber:_e,itemIndex:Dt},kt));zt.innerHTML=Ct,Rt+=kt.str&&kt.hasEOL?2:1})}ht()}).catch(vt),()=>cancelRunningTask(Ft)}return reactExports.useLayoutEffect(jt,[i,vt,ht,$,et,_e,ot,yt]),React.createElement("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:pt,onMouseDown:at,ref:gt})}function AnnotationLayer(){const s=useDocumentContext(),i=usePageContext();invariant$1(i);const a=Object.assign(Object.assign({},s),i),{imageResourcesPath:o,linkService:j,onGetAnnotationsError:_,onGetAnnotationsSuccess:$,onRenderAnnotationLayerError:et,onRenderAnnotationLayerSuccess:_e,page:tt,pdf:rt,renderForms:nt,rotate:st,scale:ot=1}=a;invariant$1(rt),invariant$1(tt),invariant$1(j);const[ct,gt]=useResolver(),{value:dt,error:it}=ct,lt=reactExports.useRef(null);warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function ut(){dt&&$&&$(dt)}function mt(){it&&(warning$1(!1,it.toString()),_&&_(it))}function ht(){gt({type:"RESET"})}reactExports.useEffect(ht,[gt,tt]);function vt(){if(!tt)return;const xt=makeCancellablePromise(tt.getAnnotations()),wt=xt;return xt.promise.then(At=>{gt({type:"RESOLVE",value:At})}).catch(At=>{gt({type:"REJECT",error:At})}),()=>{cancelRunningTask(wt)}}reactExports.useEffect(vt,[gt,tt,nt]),reactExports.useEffect(()=>{if(dt!==void 0){if(dt===!1){mt();return}ut()}},[dt]);function at(){_e&&_e()}function pt(xt){warning$1(!1,`${xt}`),et&&et(xt)}const yt=reactExports.useMemo(()=>tt.getViewport({scale:ot,rotation:st}),[tt,st,ot]);function jt(){if(!rt||!tt||!j||!dt)return;const{current:xt}=lt;if(!xt)return;const wt=yt.clone({dontFlip:!0}),At={accessibilityManager:null,annotationCanvasMap:null,div:xt,l10n:null,page:tt,viewport:wt},Ut={annotations:dt,annotationStorage:rt.annotationStorage,div:xt,downloadManager:null,imageResourcesPath:o,linkService:j,page:tt,renderForms:nt,viewport:wt};xt.innerHTML="";try{new pdfjs.AnnotationLayer(At).render(Ut),at()}catch(Ft){pt(Ft)}return()=>{}}return reactExports.useEffect(jt,[dt,o,j,tt,nt,yt]),React.createElement("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:lt})}var __rest=function(s,i){var a={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.indexOf(o)<0&&(a[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,o=Object.getOwnPropertySymbols(s);j<o.length;j++)i.indexOf(o[j])<0&&Object.prototype.propertyIsEnumerable.call(s,o[j])&&(a[o[j]]=s[o[j]]);return a};const defaultScale=1,Page=function s(i){const a=useDocumentContext(),o=Object.assign(Object.assign({},a),i),{_className:j="react-pdf__Page",_enableRegisterUnregisterPage:_=!0,canvasBackground:$,canvasRef:et,children:_e,className:tt,customRenderer:rt,customTextRenderer:nt,devicePixelRatio:st,error:ot="Failed to load the page.",height:ct,inputRef:gt,loading:dt="Loading page",noData:it="No page specified.",onGetAnnotationsError:lt,onGetAnnotationsSuccess:ut,onGetStructTreeError:mt,onGetStructTreeSuccess:ht,onGetTextError:vt,onGetTextSuccess:at,onLoadError:pt,onLoadSuccess:yt,onRenderAnnotationLayerError:jt,onRenderAnnotationLayerSuccess:xt,onRenderError:wt,onRenderSuccess:At,onRenderTextLayerError:Ut,onRenderTextLayerSuccess:Ft,pageIndex:Bt,pageNumber:Nt,pdf:Rt,registerPage:kt,renderAnnotationLayer:Dt=!0,renderForms:zt=!1,renderMode:Ct="canvas",renderTextLayer:bt=!0,rotate:Et,scale:St=defaultScale,unregisterPage:It,width:Pt}=o,Mt=__rest(o,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Gt,Yt]=useResolver(),{value:Zt,error:ir}=Gt,cr=reactExports.useRef(null);invariant$1(Rt);const Jt=isProvided(Nt)?Nt-1:Bt??null,lr=Nt??(isProvided(Bt)?Bt+1:null),qt=Et??(Zt?Zt.rotate:null),Xt=reactExports.useMemo(()=>{if(!Zt)return null;let _r=1;const Fr=St??defaultScale;if(Pt||ct){const zr=Zt.getViewport({scale:1,rotation:qt});Pt?_r=Pt/zr.width:ct&&(_r=ct/zr.height)}return Fr*_r},[ct,Zt,qt,St,Pt]);function _t(){return()=>{isProvided(Jt)&&_&&It&&It(Jt)}}reactExports.useEffect(_t,[_,Rt,Jt,It]);function Ot(){if(yt){if(!Zt||!Xt)return;yt(makePageCallback(Zt,Xt))}if(_&&kt){if(!isProvided(Jt)||!cr.current)return;kt(Jt,cr.current)}}function Ht(){ir&&(warning$1(!1,ir.toString()),pt&&pt(ir))}function Qt(){Yt({type:"RESET"})}reactExports.useEffect(Qt,[Yt,Rt,Jt]);function or(){if(!Rt||!lr)return;const _r=makeCancellablePromise(Rt.getPage(lr)),Fr=_r;return _r.promise.then(zr=>{Yt({type:"RESOLVE",value:zr})}).catch(zr=>{Yt({type:"REJECT",error:zr})}),()=>cancelRunningTask(Fr)}reactExports.useEffect(or,[Yt,Rt,Jt,lr,kt]),reactExports.useEffect(()=>{if(Zt!==void 0){if(Zt===!1){Ht();return}Ot()}},[Zt,Xt]);const pr=reactExports.useMemo(()=>Zt&&isProvided(Jt)&&lr&&isProvided(qt)&&isProvided(Xt)?{_className:j,canvasBackground:$,customTextRenderer:nt,devicePixelRatio:st,onGetAnnotationsError:lt,onGetAnnotationsSuccess:ut,onGetStructTreeError:mt,onGetStructTreeSuccess:ht,onGetTextError:vt,onGetTextSuccess:at,onRenderAnnotationLayerError:jt,onRenderAnnotationLayerSuccess:xt,onRenderError:wt,onRenderSuccess:At,onRenderTextLayerError:Ut,onRenderTextLayerSuccess:Ft,page:Zt,pageIndex:Jt,pageNumber:lr,renderForms:zt,renderTextLayer:bt,rotate:qt,scale:Xt}:null,[j,$,nt,st,lt,ut,mt,ht,vt,at,jt,xt,wt,At,Ut,Ft,Zt,Jt,lr,zt,bt,qt,Xt]),dr=reactExports.useMemo(()=>makeEventProps(Mt,()=>Zt&&(Xt?makePageCallback(Zt,Xt):void 0)),[Mt,Zt,Xt]),Vt=`${Jt}@${Xt}/${qt}`,vr=`${Jt}/${qt}`;function xr(){switch(Ct){case"custom":return invariant$1(rt),React.createElement(rt,{key:`${Vt}_custom`});case"none":return null;case"svg":return React.createElement(PageSVG,{key:`${vr}_svg`});case"canvas":default:return React.createElement(PageCanvas,{key:`${Vt}_canvas`,canvasRef:et})}}function Ir(){return bt?React.createElement(TextLayer,{key:`${Vt}_text`}):null}function Tr(){return Dt?React.createElement(AnnotationLayer,{key:`${Vt}_annotations`}):null}function Br(){return React.createElement(PageContext.Provider,{value:pr},xr(),Ir(),Tr(),_e)}function jr(){return lr?Rt===null||Zt===void 0||Zt===null?React.createElement(Message,{type:"loading"},typeof dt=="function"?dt():dt):Rt===!1||Zt===!1?React.createElement(Message,{type:"error"},typeof ot=="function"?ot():ot):Br():React.createElement(Message,{type:"no-data"},typeof it=="function"?it():it)}return React.createElement("div",Object.assign({className:clsx(j,tt),"data-page-number":lr,ref:mergeRefs(gt,cr),style:{"--scale-factor":`${Xt}`,backgroundColor:$||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},dr),jr())},isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Page.propTypes=Object.assign(Object.assign({},eventProps),{canvasBackground:PropTypes.string,canvasRef:isRef,children:PropTypes.node,className:isClassName,customRenderer:PropTypes.func,customTextRenderer:PropTypes.func,devicePixelRatio:PropTypes.number,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,onRenderTextLayerError:PropTypes.func,onRenderTextLayerSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,width:PropTypes.number});displayWorkerWarning();pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";pdfjs.GlobalWorkerOptions.workerSrc=`//unpkg.com/pdfjs-dist@${pdfjs.version}/build/pdf.worker.min.js`;function PDFViewer({isOpen:s,onClose:i,pdfUrl:a,title:o}){const[j,_]=reactExports.useState(0),[$,et]=reactExports.useState(1),[_e,tt]=reactExports.useState(1),[rt,nt]=reactExports.useState(!0),[st,ot]=reactExports.useState(""),ct=({numPages:ht})=>{_(ht),nt(!1),ot("")},gt=ht=>{ot("Failed to load PDF document"),nt(!1),console.error("PDF load error:",ht)},dt=()=>{et(ht=>Math.max(1,ht-1))},it=()=>{et(ht=>Math.min(j,ht+1))},lt=()=>{tt(ht=>Math.min(3,ht+.2))},ut=()=>{tt(ht=>Math.max(.5,ht-.2))},mt=()=>{tt(1)};return!s||!a?null:jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-2xl max-w-4xl max-h-[90vh] w-full mx-4 flex flex-col border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:o||"Script Preview"}),j>0&&jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Page ",$," of ",j]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 mr-4",children:[jsxRuntimeExports.jsx("button",{onClick:ut,className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors",title:"Zoom Out",children:jsxRuntimeExports.jsx(ZoomOut,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),jsxRuntimeExports.jsxs("button",{onClick:mt,className:"px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors",title:"Reset Zoom",children:[Math.round(_e*100),"%"]}),jsxRuntimeExports.jsx("button",{onClick:lt,className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors",title:"Zoom In",children:jsxRuntimeExports.jsx(ZoomIn,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]}),jsxRuntimeExports.jsx("a",{href:a,download:!0,className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors",title:"Download PDF",children:jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),jsxRuntimeExports.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-auto bg-gray-100 dark:bg-dark-900 p-4",children:[rt&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading PDF..."})]})}),st&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-red-600 dark:text-red-400 mb-2",children:"Error loading PDF"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:st})]})}),!rt&&!st&&jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx(Document,{file:a,onLoadSuccess:ct,onLoadError:gt,className:"shadow-lg",children:jsxRuntimeExports.jsx(Page,{pageNumber:$,scale:_e,className:"border border-gray-300 dark:border-dark-600"})})})]}),j>1&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-4 p-4 border-t border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("button",{onClick:dt,disabled:$<=1,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-dark-700 hover:bg-gray-200 dark:hover:bg-dark-600 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors",children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-white",children:"Previous"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"number",min:1,max:j,value:$,onChange:ht=>{const vt=parseInt(ht.target.value);vt>=1&&vt<=j&&et(vt)},className:"w-16 px-2 py-1 text-center border border-gray-300 dark:border-dark-600 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white"}),jsxRuntimeExports.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["of ",j]})]}),jsxRuntimeExports.jsxs("button",{onClick:it,disabled:$>=j,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-dark-700 hover:bg-gray-200 dark:hover:bg-dark-600 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-white",children:"Next"}),jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"})]})]})]})})}const themeAtom=atom("light"),activityFiltersAtom=atom({}),scriptFiltersAtom=atom({}),lessonFiltersAtom=atom({skillLevels:[],activityTypes:[],playOrCraftTypes:[],search:""}),userFiltersAtom=atom({}),activitiesAtom=atom([]),scriptsAtom=atom([]),filteredActivitiesAtom=atom([]),savedLessonsAtom=atom([]),usersAtom=atom([]),userStatsAtom=atom({totalUsers:0,activeUsers:0,teacherCount:0,adminCount:0,studentCount:0,newUsersThisMonth:0,subscribedUsers:0,totalRevenue:0}),activitiesLoadingAtom=atom(!1),scriptsLoadingAtom=atom(!1),savedLessonsLoadingAtom=atom(!1),usersLoadingAtom=atom(!1),selectedActivityAtom=atom(null),selectedScriptAtom=atom(null),selectedUserAtom=atom(null),activeTabAtom=atom("generate"),showCreateModalAtom=atom(!1),showSaveLessonModalAtom=atom(!1),showUserModalAtom=atom(!1),sidebarCollapsedAtom=atom(!1),activityViewModeAtom=atom("card"),scriptViewModeAtom=atom("card"),lessonPlanningViewModeAtom=atom("card"),currentLessonPlanAtom=atom({warmUp:null,mainActivities:[],coolDown:null,totalDuration:0,estimatedTime:"0 min"}),lessonGenerationStateAtom=atom("idle"),selectedPdfUrlAtom=atom(null),pdfViewerOpenAtom=atom(!1),authStateAtom=atom({user:null,isAuthenticated:!1,isLoading:!1,error:null}),showAuthModalAtom=atom(!1),authModeAtom=atom("signin");function useTheme(){const[s,i]=useAtom(themeAtom);return reactExports.useEffect(()=>{const o=localStorage.getItem("activityhub-theme");if(o)i(o);else{const j=window.matchMedia("(prefers-color-scheme: dark)").matches;i(j?"dark":"light")}},[i]),reactExports.useEffect(()=>{const o=document.documentElement;s==="dark"?o.classList.add("dark"):o.classList.remove("dark"),localStorage.setItem("activityhub-theme",s)},[s]),{theme:s,toggleTheme:()=>{i(s==="light"?"dark":"light")}}}function ThemeToggle(){const{theme:s,toggleTheme:i}=useTheme();return jsxRuntimeExports.jsx("button",{onClick:i,className:"relative p-2 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200 group",title:`Switch to ${s==="light"?"dark":"light"} mode`,children:jsxRuntimeExports.jsxs("div",{className:"relative w-5 h-5",children:[jsxRuntimeExports.jsx(Sun,{className:`absolute inset-0 w-5 h-5 text-yellow-500 transition-all duration-300 ${s==="light"?"opacity-100 rotate-0 scale-100":"opacity-0 rotate-90 scale-75"}`}),jsxRuntimeExports.jsx(Moon,{className:`absolute inset-0 w-5 h-5 text-blue-400 transition-all duration-300 ${s==="dark"?"opacity-100 rotate-0 scale-100":"opacity-0 -rotate-90 scale-75"}`})]})})}function UserMenu({user:s,onSignOut:i,onEditProfile:a}){const[o,j]=reactExports.useState(!1),_=et=>({teacher:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",admin:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",student:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"})[et]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",$=et=>({teacher:"",admin:"",student:""})[et]||"";return jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>j(!o),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-teal-600 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsxs("span",{className:"text-white text-sm font-medium",children:[s.firstName.charAt(0),s.lastName.charAt(0)]})}),jsxRuntimeExports.jsxs("div",{className:"text-left hidden sm:block",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[s.firstName," ",s.lastName]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:s.email})]}),jsxRuntimeExports.jsx(ChevronDown,{className:`w-4 h-4 text-gray-400 dark:text-gray-500 transition-transform duration-200 ${o?"rotate-180":""}`})]}),o&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>j(!1)}),jsxRuntimeExports.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white dark:bg-dark-800 rounded-lg shadow-lg dark:shadow-xl shadow-gray-200 dark:shadow-black/20 border border-gray-200 dark:border-dark-700 z-20 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-teal-600 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsxs("span",{className:"text-white font-medium",children:[s.firstName.charAt(0),s.lastName.charAt(0)]})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white",children:[s.firstName," ",s.lastName]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[jsxRuntimeExports.jsx("span",{className:"text-lg",children:$(s.role)}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${_(s.role)}`,children:s.role.charAt(0).toUpperCase()+s.role.slice(1)})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:s.email})]}),s.organization&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Building,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:s.organization})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:["Joined ",new Date(s.createdAt).toLocaleDateString()]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{a(),j(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors duration-200",children:[jsxRuntimeExports.jsx(Settings,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Edit Profile"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{i(),j(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-left text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors duration-200",children:[jsxRuntimeExports.jsx(LogOut,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Sign Out"})]})]})]})]})]})}const userRoles$3=[{value:"teacher",label:"Teacher"},{value:"admin",label:"Administrator"},{value:"student",label:"Student"}];function EditProfileModal({isOpen:s,onClose:i,user:a,onSave:o,loading:j}){const[_,$]=reactExports.useState({firstName:a.firstName,lastName:a.lastName,email:a.email,role:a.role,organization:a.organization||""}),et=async tt=>{tt.preventDefault(),await o(_),i()},_e=()=>{$({firstName:a.firstName,lastName:a.lastName,email:a.email,role:a.role,organization:a.organization||""}),i()};return s?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-teal-600 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(User,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Edit Profile"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Update your account information"})]})]}),jsxRuntimeExports.jsx("button",{onClick:_e,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:et,className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["First Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:_.firstName,onChange:tt=>$({..._,firstName:tt.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Last Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:_.lastName,onChange:tt=>$({..._,lastName:tt.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Email Address ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"email",required:!0,value:_.email,onChange:tt=>$({..._,email:tt.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Role ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("select",{value:_.role,onChange:tt=>$({..._,role:tt.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:userRoles$3.map(tt=>jsxRuntimeExports.jsx("option",{value:tt.value,children:tt.label},tt.value))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Organization"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Building,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",value:_.organization,onChange:tt=>$({..._,organization:tt.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200",placeholder:"Your school or organization"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:_e,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:j,className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-blue-600 to-teal-600 text-white rounded-lg hover:from-blue-700 hover:to-teal-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg",children:[j?jsxRuntimeExports.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Save Changes"})]})]})]})]})}):null}function ownKeys$1(s,i){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);i&&(o=o.filter(function(j){return Object.getOwnPropertyDescriptor(s,j).enumerable})),a.push.apply(a,o)}return a}function _objectSpread2$1(s){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$1(Object(a),!0).forEach(function(o){_defineProperty$1(s,o,a[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):ownKeys$1(Object(a)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(a,o))})}return s}function _typeof$1(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(i){return typeof i}:_typeof$1=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$1(s)}function _defineProperty$1(s,i,a){return i in s?Object.defineProperty(s,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[i]=a,s}function _objectWithoutPropertiesLoose$1(s,i){if(s==null)return{};var a={},o=Object.keys(s),j,_;for(_=0;_<o.length;_++)j=o[_],!(i.indexOf(j)>=0)&&(a[j]=s[j]);return a}function _objectWithoutProperties(s,i){if(s==null)return{};var a=_objectWithoutPropertiesLoose$1(s,i),o,j;if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(s);for(j=0;j<_.length;j++)o=_[j],!(i.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(s,o)&&(a[o]=s[o])}return a}function _slicedToArray(s,i){return _arrayWithHoles(s)||_iterableToArrayLimit(s,i)||_unsupportedIterableToArray(s,i)||_nonIterableRest()}function _arrayWithHoles(s){if(Array.isArray(s))return s}function _iterableToArrayLimit(s,i){var a=s&&(typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"]);if(a!=null){var o=[],j=!0,_=!1,$,et;try{for(a=a.call(s);!(j=($=a.next()).done)&&(o.push($.value),!(i&&o.length===i));j=!0);}catch(_e){_=!0,et=_e}finally{try{!j&&a.return!=null&&a.return()}finally{if(_)throw et}}return o}}function _unsupportedIterableToArray(s,i){if(s){if(typeof s=="string")return _arrayLikeToArray(s,i);var a=Object.prototype.toString.call(s).slice(8,-1);if(a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set")return Array.from(s);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(s,i)}}function _arrayLikeToArray(s,i){(i==null||i>s.length)&&(i=s.length);for(var a=0,o=new Array(i);a<i;a++)o[a]=s[a];return o}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var useAttachEvent=function s(i,a,o){var j=!!o,_=React.useRef(o);React.useEffect(function(){_.current=o},[o]),React.useEffect(function(){if(!j||!i)return function(){};var $=function(){_.current&&_.current.apply(_,arguments)};return i.on(a,$),function(){i.off(a,$)}},[j,a,i,_])},usePrevious$1=function s(i){var a=React.useRef(i);return React.useEffect(function(){a.current=i},[i]),a.current},isUnknownObject=function s(i){return i!==null&&_typeof$1(i)==="object"},isPromise=function s(i){return isUnknownObject(i)&&typeof i.then=="function"},isStripe=function s(i){return isUnknownObject(i)&&typeof i.elements=="function"&&typeof i.createToken=="function"&&typeof i.createPaymentMethod=="function"&&typeof i.confirmCardPayment=="function"},PLAIN_OBJECT_STR="[object Object]",isEqual$3=function s(i,a){if(!isUnknownObject(i)||!isUnknownObject(a))return i===a;var o=Array.isArray(i),j=Array.isArray(a);if(o!==j)return!1;var _=Object.prototype.toString.call(i)===PLAIN_OBJECT_STR,$=Object.prototype.toString.call(a)===PLAIN_OBJECT_STR;if(_!==$)return!1;if(!_&&!o)return i===a;var et=Object.keys(i),_e=Object.keys(a);if(et.length!==_e.length)return!1;for(var tt={},rt=0;rt<et.length;rt+=1)tt[et[rt]]=!0;for(var nt=0;nt<_e.length;nt+=1)tt[_e[nt]]=!0;var st=Object.keys(tt);if(st.length!==et.length)return!1;var ot=i,ct=a,gt=function(it){return s(ot[it],ct[it])};return st.every(gt)},extractAllowedOptionsUpdates=function s(i,a,o){return isUnknownObject(i)?Object.keys(i).reduce(function(j,_){var $=!isUnknownObject(a)||!isEqual$3(i[_],a[_]);return o.includes(_)?($&&console.warn("Unsupported prop change: options.".concat(_," is not a mutable property.")),j):$?_objectSpread2$1(_objectSpread2$1({},j||{}),{},_defineProperty$1({},_,i[_])):j},null):null},INVALID_STRIPE_ERROR$2="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",validateStripe=function s(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:INVALID_STRIPE_ERROR$2;if(i===null||isStripe(i))return i;throw new Error(a)},parseStripeProp=function s(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:INVALID_STRIPE_ERROR$2;if(isPromise(i))return{tag:"async",stripePromise:Promise.resolve(i).then(function(j){return validateStripe(j,a)})};var o=validateStripe(i,a);return o===null?{tag:"empty"}:{tag:"sync",stripe:o}},registerWithStripeJs=function s(i){!i||!i._registerWrapper||!i.registerAppInfo||(i._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),i.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},ElementsContext=React.createContext(null);ElementsContext.displayName="ElementsContext";var parseElementsContext=function s(i,a){if(!i)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(a," in an <Elements> provider."));return i},Elements=function s(i){var a=i.stripe,o=i.options,j=i.children,_=React.useMemo(function(){return parseStripeProp(a)},[a]),$=React.useState(function(){return{stripe:_.tag==="sync"?_.stripe:null,elements:_.tag==="sync"?_.stripe.elements(o):null}}),et=_slicedToArray($,2),_e=et[0],tt=et[1];React.useEffect(function(){var st=!0,ot=function(gt){tt(function(dt){return dt.stripe?dt:{stripe:gt,elements:gt.elements(o)}})};return _.tag==="async"&&!_e.stripe?_.stripePromise.then(function(ct){ct&&st&&ot(ct)}):_.tag==="sync"&&!_e.stripe&&ot(_.stripe),function(){st=!1}},[_,_e,o]);var rt=usePrevious$1(a);React.useEffect(function(){rt!==null&&rt!==a&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[rt,a]);var nt=usePrevious$1(o);return React.useEffect(function(){if(_e.elements){var st=extractAllowedOptionsUpdates(o,nt,["clientSecret","fonts"]);st&&_e.elements.update(st)}},[o,nt,_e.elements]),React.useEffect(function(){registerWithStripeJs(_e.stripe)},[_e.stripe]),React.createElement(ElementsContext.Provider,{value:_e},j)};Elements.propTypes={stripe:PropTypes.any,options:PropTypes.object};var useElementsContextWithUseCase=function s(i){var a=React.useContext(ElementsContext);return parseElementsContext(a,i)},useElements=function s(){var i=useElementsContextWithUseCase("calls useElements()"),a=i.elements;return a};PropTypes.func.isRequired;var CheckoutSdkContext=React.createContext(null);CheckoutSdkContext.displayName="CheckoutSdkContext";var parseCheckoutSdkContext=function s(i,a){if(!i)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(a," in an <CheckoutProvider> provider."));return i},CheckoutContext=React.createContext(null);CheckoutContext.displayName="CheckoutContext";PropTypes.any,PropTypes.shape({fetchClientSecret:PropTypes.func.isRequired,elementsOptions:PropTypes.object}).isRequired;var useElementsOrCheckoutSdkContextWithUseCase=function s(i){var a=React.useContext(CheckoutSdkContext),o=React.useContext(ElementsContext);if(a&&o)throw new Error("You cannot wrap the part of your app that ".concat(i," in both <CheckoutProvider> and <Elements> providers."));return a?parseCheckoutSdkContext(a,i):parseElementsContext(o,i)},_excluded$3=["mode"],capitalized=function s(i){return i.charAt(0).toUpperCase()+i.slice(1)},createElementComponent=function s(i,a){var o="".concat(capitalized(i),"Element"),j=function(_e){var tt=_e.id,rt=_e.className,nt=_e.options,st=nt===void 0?{}:nt,ot=_e.onBlur,ct=_e.onFocus,gt=_e.onReady,dt=_e.onChange,it=_e.onEscape,lt=_e.onClick,ut=_e.onLoadError,mt=_e.onLoaderStart,ht=_e.onNetworksChange,vt=_e.onConfirm,at=_e.onCancel,pt=_e.onShippingAddressChange,yt=_e.onShippingRateChange,jt=useElementsOrCheckoutSdkContextWithUseCase("mounts <".concat(o,">")),xt="elements"in jt?jt.elements:null,wt="checkoutSdk"in jt?jt.checkoutSdk:null,At=React.useState(null),Ut=_slicedToArray(At,2),Ft=Ut[0],Bt=Ut[1],Nt=React.useRef(null),Rt=React.useRef(null);useAttachEvent(Ft,"blur",ot),useAttachEvent(Ft,"focus",ct),useAttachEvent(Ft,"escape",it),useAttachEvent(Ft,"click",lt),useAttachEvent(Ft,"loaderror",ut),useAttachEvent(Ft,"loaderstart",mt),useAttachEvent(Ft,"networkschange",ht),useAttachEvent(Ft,"confirm",vt),useAttachEvent(Ft,"cancel",at),useAttachEvent(Ft,"shippingaddresschange",pt),useAttachEvent(Ft,"shippingratechange",yt),useAttachEvent(Ft,"change",dt);var kt;gt&&(i==="expressCheckout"?kt=gt:kt=function(){gt(Ft)}),useAttachEvent(Ft,"ready",kt),React.useLayoutEffect(function(){if(Nt.current===null&&Rt.current!==null&&(xt||wt)){var zt=null;if(wt)switch(i){case"payment":zt=wt.createPaymentElement(st);break;case"address":if("mode"in st){var Ct=st.mode,bt=_objectWithoutProperties(st,_excluded$3);if(Ct==="shipping")zt=wt.createShippingAddressElement(bt);else if(Ct==="billing")zt=wt.createBillingAddressElement(bt);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":zt=wt.createExpressCheckoutElement(st);break;case"currencySelector":zt=wt.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(o,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else xt&&(zt=xt.create(i,st));Nt.current=zt,Bt(zt),zt&&zt.mount(Rt.current)}},[xt,wt,st]);var Dt=usePrevious$1(st);return React.useEffect(function(){if(Nt.current){var zt=extractAllowedOptionsUpdates(st,Dt,["paymentRequest"]);zt&&"update"in Nt.current&&Nt.current.update(zt)}},[st,Dt]),React.useLayoutEffect(function(){return function(){if(Nt.current&&typeof Nt.current.destroy=="function")try{Nt.current.destroy(),Nt.current=null}catch{}}},[]),React.createElement("div",{id:tt,className:rt,ref:Rt})},_=function(_e){useElementsOrCheckoutSdkContextWithUseCase("mounts <".concat(o,">"));var tt=_e.id,rt=_e.className;return React.createElement("div",{id:tt,className:rt})},$=a?_:j;return $.propTypes={id:PropTypes.string,className:PropTypes.string,onChange:PropTypes.func,onBlur:PropTypes.func,onFocus:PropTypes.func,onReady:PropTypes.func,onEscape:PropTypes.func,onClick:PropTypes.func,onLoadError:PropTypes.func,onLoaderStart:PropTypes.func,onNetworksChange:PropTypes.func,onConfirm:PropTypes.func,onCancel:PropTypes.func,onShippingAddressChange:PropTypes.func,onShippingRateChange:PropTypes.func,options:PropTypes.object},$.displayName=o,$.__elementType=i,$},isServer=typeof window>"u",EmbeddedCheckoutContext=React.createContext(null);EmbeddedCheckoutContext.displayName="EmbeddedCheckoutProviderContext";var useStripe=function s(){var i=useElementsOrCheckoutSdkContextWithUseCase("calls useStripe()"),a=i.stripe;return a};createElementComponent("auBankAccount",isServer);createElementComponent("card",isServer);createElementComponent("cardNumber",isServer);createElementComponent("cardExpiry",isServer);createElementComponent("cardCvc",isServer);createElementComponent("fpxBank",isServer);createElementComponent("iban",isServer);createElementComponent("idealBank",isServer);createElementComponent("p24Bank",isServer);createElementComponent("epsBank",isServer);var PaymentElement=createElementComponent("payment",isServer);createElementComponent("expressCheckout",isServer);createElementComponent("currencySelector",isServer);createElementComponent("paymentRequestButton",isServer);createElementComponent("linkAuthentication",isServer);createElementComponent("address",isServer);createElementComponent("shippingAddress",isServer);createElementComponent("paymentMethodMessaging",isServer);createElementComponent("affirmMessage",isServer);createElementComponent("afterpayClearpayMessage",isServer);const stripePromise=loadStripe("pk_test_51RZbgpHJfFjCNpvusQZhCnbWanbuxIE2cyrNZuJ2I02nFnWl45SkhClG0XLb3UwhXoCUWVTFYxJMkRfWTqWPbghD001v7bAUPj"),API_BASE_URL="/api";function PaymentForm({onSuccess:s,onError:i,loading:a,onBack:o}){const j=useStripe(),_=useElements(),[$,et]=reactExports.useState(""),_e=async tt=>{if(tt.preventDefault(),!(!j||!_))try{const{error:rt}=await j.confirmPayment({elements:_,confirmParams:{return_url:window.location.origin}});if(rt)et(rt.message||"Payment failed"),i(rt.message||"Payment failed");else{const{paymentMethod:nt}=await j.createPaymentMethod({elements:_});if(nt)s(nt.id);else throw new Error("Failed to create payment method")}}catch(rt){const nt=rt instanceof Error?rt.message:"Payment failed";et(nt),i(nt)}};return jsxRuntimeExports.jsxs("form",{onSubmit:_e,className:"space-y-6",children:[jsxRuntimeExports.jsx(PaymentElement,{}),$&&jsxRuntimeExports.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-red-800 dark:text-red-300",children:$})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:o,className:"flex-1 py-3 px-4 border border-gray-300 dark:border-dark-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:"Back to Plans"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:!j||a,className:"flex-1 py-3 px-4 bg-gradient-to-r from-rose-500 to-purple-600 text-white rounded-lg hover:from-rose-600 hover:to-purple-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[a?jsxRuntimeExports.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):jsxRuntimeExports.jsx(CreditCard,{className:"w-5 h-5"}),a?"Processing...":"Subscribe Now"]})]})]})}function SubscriptionModal({isOpen:s,onClose:i,currentSubscription:a,onSubscriptionUpdate:o,isAdmin:j,userId:_}){var Ut,Ft,Bt;if(j)return null;const[$,et]=reactExports.useState([]),[_e,tt]=reactExports.useState(!1),[rt,nt]=reactExports.useState(""),[st,ot]=reactExports.useState(""),[ct,gt]=reactExports.useState("plans"),[dt,it]=reactExports.useState(5),[lt,ut]=reactExports.useState("");reactExports.useEffect(()=>{s&&mt()},[s]);const mt=async()=>{try{const Nt=await StripeService.getPlans();et(Nt)}catch{ot("Failed to load subscription plans")}},ht=async Nt=>{nt(Nt),tt(!0);try{const Rt=await fetch(`${API_BASE_URL}/stripe/create-payment-intent`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${AuthService.getAuthToken()}`},body:JSON.stringify({planId:Nt})}),{clientSecret:kt}=await Rt.json();ut(kt),gt("payment")}catch{ot("Failed to initialize payment")}finally{tt(!1)}},vt=()=>{gt("additional-lessons")},at=async()=>{if(a){tt(!0),ot("");try{const Nt=await StripeService.purchaseAdditionalLessons(_,dt);o(Nt),i()}catch(Nt){ot(Nt instanceof Error?Nt.message:"Purchase failed")}finally{tt(!1)}}},pt=async Nt=>{if(rt){gt("processing"),tt(!0),ot("");try{let Rt;a?Rt=await StripeService.updateSubscription(_,rt):Rt=await StripeService.createSubscription(_,rt,Nt);let kt=0,Dt=null;for(;kt<5;)try{if(Dt=await StripeService.getUserSubscription(_),Dt&&Dt.status==="active")break;await new Promise(zt=>setTimeout(zt,1e3)),kt++}catch(zt){console.error("Error fetching updated subscription:",zt);break}o(Dt||Rt),i()}catch(Rt){ot(Rt instanceof Error?Rt.message:"Subscription failed"),gt("payment")}finally{tt(!1)}}},yt=Nt=>{switch(Nt){case"romeo":return jsxRuntimeExports.jsx(Heart,{className:"w-6 h-6"});case"juliet":return jsxRuntimeExports.jsx(Crown,{className:"w-6 h-6"});default:return jsxRuntimeExports.jsx(CreditCard,{className:"w-6 h-6"})}},jt=Nt=>{switch(Nt){case"romeo":return"from-rose-500 to-pink-600";case"juliet":return"from-purple-500 to-indigo-600";default:return"from-gray-500 to-gray-600"}},xt=Nt=>(a==null?void 0:a.plan.id)===Nt,wt=()=>a&&StripeService.canPurchaseAdditionalLessons(a)&&a.plan.id==="romeo",At=()=>{gt("plans"),nt(""),ot(""),it(5),i()};return s?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-rose-500 to-purple-600 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Heart,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:ct==="plans"?"Choose Your Plan":ct==="payment"?"Payment Details":ct==="additional-lessons"?"Buy Additional Lessons":"Processing Payment"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:ct==="plans"?"Romeo & Juliet themed lesson planning":ct==="payment"?"Complete your subscription":ct==="additional-lessons"?"Add more lessons to your Romeo plan":"Please wait while we process your payment"})]})]}),jsxRuntimeExports.jsx("button",{onClick:At,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[ct==="plans"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[a&&jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-rose-50 to-purple-50 dark:from-rose-900/20 dark:to-purple-900/20 border border-rose-200 dark:border-rose-800 rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-rose-500 to-purple-600 rounded-lg flex items-center justify-center",children:yt(a.plan.id)}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"font-medium text-rose-900 dark:text-rose-300",children:["Current Plan: ",a.plan.name]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-rose-700 dark:text-rose-400",children:StripeService.getRemainingLessons(a)===-1?"Unlimited lessons remaining":`${StripeService.getRemainingLessons(a)} lessons remaining this month`})]})]}),wt()&&jsxRuntimeExports.jsxs("button",{onClick:vt,className:"flex items-center gap-2 bg-rose-600 text-white px-4 py-2 rounded-lg hover:bg-rose-700 transition-colors text-sm font-medium",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Buy More Lessons"]})]})}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:$.map(Nt=>jsxRuntimeExports.jsxs("div",{className:`relative bg-white dark:bg-dark-700 border-2 rounded-xl p-6 transition-all duration-200 hover:shadow-lg dark:hover:shadow-xl hover:shadow-gray-200 dark:hover:shadow-black/20 ${Nt.isPopular?"border-purple-500 dark:border-purple-400 shadow-lg dark:shadow-xl":"border-gray-200 dark:border-dark-600 hover:border-gray-300 dark:hover:border-dark-500"} ${xt(Nt.id)?"ring-2 ring-rose-500 dark:ring-rose-400":""}`,children:[Nt.isPopular&&jsxRuntimeExports.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:jsxRuntimeExports.jsxs("span",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 text-white px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[jsxRuntimeExports.jsx(Star,{className:"w-3 h-3"}),"Most Popular"]})}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${jt(Nt.id)} rounded-xl flex items-center justify-center mx-auto mb-4`,children:jsxRuntimeExports.jsx("div",{className:"text-white",children:yt(Nt.id)})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:Nt.name}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:Nt.description}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("span",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:["$",Nt.price]}),jsxRuntimeExports.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["/",Nt.interval]}),Nt.allowAdditionalLessons&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["+ $",Nt.additionalLessonPrice," per extra lesson"]})]}),jsxRuntimeExports.jsx("ul",{className:"space-y-3 mb-6 text-left",children:Nt.features.map((Rt,kt)=>jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx(Check,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:Rt})]},kt))}),xt(Nt.id)?jsxRuntimeExports.jsx("button",{disabled:!0,className:"w-full py-3 px-4 bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 rounded-lg font-medium cursor-not-allowed",children:"Current Plan"}):jsxRuntimeExports.jsx("button",{onClick:()=>ht(Nt.id),className:`w-full py-3 px-4 rounded-lg font-medium transition-all duration-200 ${Nt.isPopular?"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white shadow-md hover:shadow-lg":"bg-gradient-to-r from-rose-500 to-pink-600 hover:from-rose-600 hover:to-pink-700 text-white shadow-md hover:shadow-lg"}`,children:a?"Switch to This Plan":"Get Started"})]})]},Nt.id))}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-rose-50 to-purple-50 dark:from-rose-900/20 dark:to-purple-900/20 rounded-lg p-6",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Heart,{className:"w-5 h-5 text-rose-500"}),"Why Romeo & Juliet?"]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-rose-100 dark:bg-rose-900/30 rounded-lg flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(Heart,{className:"w-4 h-4 text-rose-600 dark:text-rose-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Romeo Plan"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Perfect for teachers starting their drama education journey. Like Romeo's passionate but measured approach to love, this plan gives you a solid foundation with the flexibility to grow."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(Crown,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Juliet Plan"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"For educators who want it all. Like Juliet's bold and unlimited devotion, this plan provides complete access to every resource and feature we offer."})]})]})]})]})]}),ct==="additional-lessons"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6 max-w-md mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-rose-500 to-pink-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(ShoppingCart,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Buy Additional Lessons"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Add more lessons to your Romeo plan for just $",(a==null?void 0:a.plan.additionalLessonPrice)||3," each"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-rose-50 dark:bg-rose-900/20 border border-rose-200 dark:border-rose-800 rounded-lg p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-rose-900 dark:text-rose-300",children:"Current Lessons"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-rose-700 dark:text-rose-400",children:[a?StripeService.getRemainingLessons(a):0," remaining"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-rose-900 dark:text-rose-300",children:"Additional Purchased"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-rose-700 dark:text-rose-400",children:[(a==null?void 0:a.additionalLessonsPurchased)||0," lessons"]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Number of Additional Lessons"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>it(Math.max(1,dt-1)),className:"w-10 h-10 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg flex items-center justify-center transition-colors",children:"-"}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",max:"50",value:dt,onChange:Nt=>it(Math.max(1,parseInt(Nt.target.value)||1)),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white text-center"}),jsxRuntimeExports.jsx("button",{onClick:()=>it(Math.min(50,dt+1)),className:"w-10 h-10 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg flex items-center justify-center transition-colors",children:"+"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 dark:bg-dark-700 rounded-lg p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[dt," lesson",dt>1?"s":"","  $",(a==null?void 0:a.plan.additionalLessonPrice)||3]}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["$",(((a==null?void 0:a.plan.additionalLessonPrice)||3)*dt).toFixed(2)]})]}),jsxRuntimeExports.jsx("div",{className:"border-t border-gray-200 dark:border-dark-600 pt-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Total"}),jsxRuntimeExports.jsxs("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["$",(((a==null?void 0:a.plan.additionalLessonPrice)||3)*dt).toFixed(2)]})]})})]}),st&&jsxRuntimeExports.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-red-800 dark:text-red-300",children:st})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>gt("plans"),className:"flex-1 py-3 px-4 border border-gray-300 dark:border-dark-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:"Back"}),jsxRuntimeExports.jsxs("button",{onClick:at,disabled:_e,className:"flex-1 py-3 px-4 bg-gradient-to-r from-rose-500 to-pink-600 text-white rounded-lg hover:from-rose-600 hover:to-pink-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[_e?jsxRuntimeExports.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):jsxRuntimeExports.jsx(ShoppingCart,{className:"w-5 h-5"}),_e?"Processing...":"Purchase Lessons"]})]})]}),ct==="payment"&&lt&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[rt&&jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-rose-50 to-purple-50 dark:from-rose-900/20 dark:to-purple-900/20 border border-rose-200 dark:border-rose-800 rounded-lg p-4",children:[jsxRuntimeExports.jsxs("h3",{className:"font-medium text-rose-900 dark:text-rose-300 mb-2",children:["Selected Plan: ",(Ut=$.find(Nt=>Nt.id===rt))==null?void 0:Ut.name]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-rose-700 dark:text-rose-400",children:["$",(Ft=$.find(Nt=>Nt.id===rt))==null?void 0:Ft.price,"/",(Bt=$.find(Nt=>Nt.id===rt))==null?void 0:Bt.interval]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Payment Information"}),jsxRuntimeExports.jsx(Elements,{stripe:stripePromise,options:{clientSecret:lt},children:jsxRuntimeExports.jsx(PaymentForm,{onSuccess:pt,onError:ot,loading:_e,onBack:()=>gt("plans")})})]})]}),ct==="processing"&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-rose-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6",children:jsxRuntimeExports.jsx("div",{className:"w-8 h-8 border-2 border-white border-t-transparent rounded-full animate-spin"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Processing Your Subscription"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Please wait while we set up your account..."})]})]})]})}):null}function SubscriptionBanner({subscription:s,onUpgrade:i,isAdmin:a}){if(a)return jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 text-white p-4 rounded-lg mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Crown,{className:"w-6 h-6"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Admin Subscription - Unlimited Access"}),jsxRuntimeExports.jsx("p",{className:"text-sm opacity-90",children:"You have full access to all features with your admin privileges"})]})]})});if(!s)return jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-rose-500 to-purple-600 text-white p-4 rounded-lg mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Heart,{className:"w-6 h-6"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Start Your Drama Education Journey"}),jsxRuntimeExports.jsx("p",{className:"text-sm opacity-90",children:"Choose Romeo or Juliet plan to begin creating amazing lesson plans"})]})]}),jsxRuntimeExports.jsx("button",{onClick:i,className:"bg-white text-rose-600 px-4 py-2 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"View Plans"})]})});const o=StripeService.getRemainingLessons(s),j=o===-1,_=!j&&o<=2,$=!j&&o===0,et=StripeService.canPurchaseAdditionalLessons(s);return s.status!=="active"?jsxRuntimeExports.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-800 dark:text-red-300 p-4 rounded-lg mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(AlertTriangle,{className:"w-6 h-6"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Subscription Issue"}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["Your subscription is ",s.status,". Please update your payment method."]})]})]}),jsxRuntimeExports.jsx("button",{onClick:i,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-red-700 transition-colors",children:"Fix Now"})]})}):$?jsxRuntimeExports.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 text-orange-800 dark:text-orange-300 p-4 rounded-lg mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(AlertTriangle,{className:"w-6 h-6"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Lesson Limit Reached"}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["You've used all your lessons this month.",et?" Buy more lessons or upgrade to Juliet plan!":" Upgrade to Juliet plan for unlimited access!"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[et&&jsxRuntimeExports.jsxs("button",{onClick:i,className:"flex items-center gap-1 bg-rose-600 text-white px-3 py-2 rounded-lg font-medium hover:bg-rose-700 transition-colors text-sm",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Buy Lessons"]}),jsxRuntimeExports.jsx("button",{onClick:i,className:"bg-orange-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-orange-700 transition-colors text-sm",children:"Upgrade"})]})]})}):_?jsxRuntimeExports.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 text-yellow-800 dark:text-yellow-300 p-4 rounded-lg mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(AlertTriangle,{className:"w-6 h-6"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Running Low on Lessons"}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["Only ",o," lesson",o===1?"":"s"," remaining this month",et&&" - buy more for just $3 each!"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[et&&jsxRuntimeExports.jsxs("button",{onClick:i,className:"flex items-center gap-1 bg-rose-600 text-white px-3 py-2 rounded-lg font-medium hover:bg-rose-700 transition-colors text-sm",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Buy More"]}),jsxRuntimeExports.jsx("button",{onClick:i,className:"bg-yellow-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-yellow-700 transition-colors text-sm",children:"Upgrade"})]})]})}):j?jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 text-white p-4 rounded-lg mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Crown,{className:"w-6 h-6"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold",children:[s.plan.name," - Unlimited Access"]}),jsxRuntimeExports.jsx("p",{className:"text-sm opacity-90",children:"Generate unlimited lessons with your premium subscription"})]})]})}):jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-rose-50 to-purple-50 dark:from-rose-900/20 dark:to-purple-900/20 border border-rose-200 dark:border-rose-800 text-rose-800 dark:text-rose-300 p-4 rounded-lg mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Heart,{className:"w-6 h-6"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold",children:[s.plan.name," Active"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[o," lesson",o===1?"":"s"," remaining this month"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[et&&jsxRuntimeExports.jsxs("button",{onClick:i,className:"flex items-center gap-1 bg-rose-600 text-white px-3 py-2 rounded-lg font-medium hover:bg-rose-700 transition-colors text-sm",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Buy More"]}),jsxRuntimeExports.jsx("button",{onClick:i,className:"bg-rose-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-rose-700 transition-colors text-sm",children:"Manage"})]})]})})}const userRoles$2=[{value:"teacher",label:"Teacher",icon:jsxRuntimeExports.jsx(GraduationCap,{className:"w-4 h-4"}),color:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"},{value:"admin",label:"Administrator",icon:jsxRuntimeExports.jsx(Shield,{className:"w-4 h-4"}),color:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400"},{value:"student",label:"Student",icon:jsxRuntimeExports.jsx(User,{className:"w-4 h-4"}),color:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"}];function UserManagementPanel({users:s,filters:i,onFiltersChange:a,onCreateUser:o,onEditUser:j,onDeleteUser:_,onToggleUserStatus:$,loading:et}){const[_e,tt]=reactExports.useState([]),[rt,nt]=reactExports.useState(null),st=(ut,mt)=>{a({...i,[ut]:mt||void 0})},ot=ut=>userRoles$2.find(mt=>mt.value===ut)||userRoles$2[0],ct=ut=>new Date(ut).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),gt=ut=>{if(!ut)return"Never";const mt=new Date(ut),vt=Math.floor((new Date().getTime()-mt.getTime())/(1e3*60*60*24));return vt===0?"Today":vt===1?"Yesterday":vt<7?`${vt} days ago`:ct(mt)},dt=ut=>{tt(mt=>mt.includes(ut)?mt.filter(ht=>ht!==ut):[...mt,ut])},it=()=>{tt(s.map(ut=>ut.id))},lt=()=>{tt([])};return et?jsxRuntimeExports.jsx("div",{className:"space-y-4",children:jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 p-6 transition-colors duration-200",children:jsxRuntimeExports.jsxs("div",{className:"animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded mb-4 w-1/4"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:[...Array(5)].map((ut,mt)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3"}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})]},mt))})]})})}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"User Management"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage user accounts and permissions"})]}),jsxRuntimeExports.jsxs("button",{onClick:o,className:"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-teal-600 text-white px-4 py-2 rounded-lg hover:from-blue-700 hover:to-teal-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Add User"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx(Filter,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Filters"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search users...",value:i.search||"",onChange:ut=>st("search",ut.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("select",{value:i.role||"",onChange:ut=>st("role",ut.target.value),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Roles"}),userRoles$2.map(ut=>jsxRuntimeExports.jsx("option",{value:ut.value,children:ut.label},ut.value))]}),jsxRuntimeExports.jsxs("select",{value:i.isActive===void 0?"":i.isActive.toString(),onChange:ut=>st("isActive",ut.target.value===""?void 0:ut.target.value==="true"),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Status"}),jsxRuntimeExports.jsx("option",{value:"true",children:"Active"}),jsxRuntimeExports.jsx("option",{value:"false",children:"Inactive"})]}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Filter by organization...",value:i.organization||"",onChange:ut=>st("organization",ut.target.value),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"})]})]}),_e.length>0&&jsxRuntimeExports.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 transition-colors duration-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-blue-800 dark:text-blue-300 font-medium",children:[_e.length," user",_e.length>1?"s":""," selected"]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:jsxRuntimeExports.jsx("button",{onClick:lt,className:"px-3 py-1 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm transition-colors",children:"Clear Selection"})})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-sm border border-gray-200 dark:border-dark-700 overflow-hidden transition-colors duration-200",children:[jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 dark:bg-dark-700 border-b border-gray-200 dark:border-dark-600",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left",children:jsxRuntimeExports.jsx("input",{type:"checkbox",checked:_e.length===s.length&&s.length>0,onChange:_e.length===s.length?lt:it,className:"w-4 h-4 text-blue-600 border-gray-300 dark:border-dark-600 rounded focus:ring-blue-500 bg-white dark:bg-dark-700"})}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"User"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Role"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Organization"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Login"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Created"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white dark:bg-dark-800 divide-y divide-gray-200 dark:divide-dark-700",children:s.map(ut=>{const mt=ot(ut.role);return jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsx("input",{type:"checkbox",checked:_e.includes(ut.id),onChange:()=>dt(ut.id),className:"w-4 h-4 text-blue-600 border-gray-300 dark:border-dark-600 rounded focus:ring-blue-500 bg-white dark:bg-dark-700"})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-teal-600 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsxs("span",{className:"text-white text-sm font-medium",children:[ut.firstName.charAt(0),ut.lastName.charAt(0)]})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[ut.firstName," ",ut.lastName]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Mail,{className:"w-3 h-3"}),ut.email]})]})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${mt.color}`,children:[mt.icon,mt.label]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-900 dark:text-white flex items-center gap-1",children:ut.organization?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Building,{className:"w-3 h-3 text-gray-400 dark:text-gray-500"}),ut.organization]}):jsxRuntimeExports.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"No organization"})})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${ut.isActive?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:[ut.isActive?jsxRuntimeExports.jsx(UserCheck,{className:"w-3 h-3"}):jsxRuntimeExports.jsx(UserX,{className:"w-3 h-3"}),ut.isActive?"Active":"Inactive"]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:gt(ut.lastLoginAt)}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-3 h-3"}),ct(ut.createdAt)]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-right",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("button",{onClick:()=>nt(rt===ut.id?null:ut.id),className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-600 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(MoreVertical,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),rt===ut.id&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>nt(null)}),jsxRuntimeExports.jsx("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white dark:bg-dark-700 rounded-lg shadow-lg dark:shadow-xl shadow-gray-200 dark:shadow-black/20 border border-gray-200 dark:border-dark-600 z-20 transition-colors duration-200",children:jsxRuntimeExports.jsxs("div",{className:"py-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{j(ut),nt(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-dark-600 transition-colors",children:[jsxRuntimeExports.jsx(SquarePen,{className:"w-4 h-4"}),"Edit User"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{$(ut.id),nt(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-dark-600 transition-colors",children:[ut.isActive?jsxRuntimeExports.jsx(EyeOff,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"}),ut.isActive?"Deactivate":"Activate"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{_(ut.id),nt(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-left text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 transition-colors",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"}),"Delete User"]})]})})]})]})})]},ut.id)})})]})}),s.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Users,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No users found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:Object.keys(i).some(ut=>i[ut])?"Try adjusting your filters to see more users.":"Get started by creating your first user account."}),!Object.keys(i).some(ut=>i[ut])&&jsxRuntimeExports.jsx("button",{onClick:o,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Create User"})]})]})]})}function UserStatsPanel({stats:s,loading:i}){const a=[{title:"Total Users",value:s.totalUsers,icon:jsxRuntimeExports.jsx(Users,{className:"w-6 h-6"}),color:"bg-blue-500",bgColor:"bg-blue-50 dark:bg-blue-900/20",textColor:"text-blue-600 dark:text-blue-400"},{title:"Active Users",value:s.activeUsers,icon:jsxRuntimeExports.jsx(UserCheck,{className:"w-6 h-6"}),color:"bg-green-500",bgColor:"bg-green-50 dark:bg-green-900/20",textColor:"text-green-600 dark:text-green-400"},{title:"Teachers",value:s.teacherCount,icon:jsxRuntimeExports.jsx(GraduationCap,{className:"w-6 h-6"}),color:"bg-purple-500",bgColor:"bg-purple-50 dark:bg-purple-900/20",textColor:"text-purple-600 dark:text-purple-400"},{title:"Administrators",value:s.adminCount,icon:jsxRuntimeExports.jsx(Shield,{className:"w-6 h-6"}),color:"bg-orange-500",bgColor:"bg-orange-50 dark:bg-orange-900/20",textColor:"text-orange-600 dark:text-orange-400"},{title:"Students",value:s.studentCount,icon:jsxRuntimeExports.jsx(User,{className:"w-6 h-6"}),color:"bg-teal-500",bgColor:"bg-teal-50 dark:bg-teal-900/20",textColor:"text-teal-600 dark:text-teal-400"},{title:"New This Month",value:s.newUsersThisMonth,icon:jsxRuntimeExports.jsx(TrendingUp,{className:"w-6 h-6"}),color:"bg-pink-500",bgColor:"bg-pink-50 dark:bg-pink-900/20",textColor:"text-pink-600 dark:text-pink-400"},{title:"Subscribed Users",value:s.subscribedUsers,icon:jsxRuntimeExports.jsx(CreditCard,{className:"w-6 h-6"}),color:"bg-indigo-500",bgColor:"bg-indigo-50 dark:bg-indigo-900/20",textColor:"text-indigo-600 dark:text-indigo-400"},{title:"Monthly Revenue",value:`$${s.totalRevenue.toFixed(2)}`,icon:jsxRuntimeExports.jsx(DollarSign,{className:"w-6 h-6"}),color:"bg-emerald-500",bgColor:"bg-emerald-50 dark:bg-emerald-900/20",textColor:"text-emerald-600 dark:text-emerald-400"}];return i?jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-8 gap-4 mb-6",children:[...Array(8)].map((o,j)=>jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-lg border border-gray-200 dark:border-dark-700 animate-pulse",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-2 w-20"}),jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-12"})]}),jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-lg"})]})},j))}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-8 gap-4 mb-6",children:a.map((o,j)=>jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-lg border border-gray-200 dark:border-dark-700 hover:shadow-md dark:hover:shadow-xl hover:shadow-gray-200 dark:hover:shadow-black/20 transition-all duration-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:o.title}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.value})]}),jsxRuntimeExports.jsx("div",{className:`w-12 h-12 ${o.bgColor} rounded-lg flex items-center justify-center`,children:jsxRuntimeExports.jsx("div",{className:o.textColor,children:o.icon})})]})},j))})}const userRoles$1=[{value:"teacher",label:"Teacher",description:"Create and manage activities and lessons",icon:jsxRuntimeExports.jsx(GraduationCap,{className:"w-4 h-4"})},{value:"admin",label:"Administrator",description:"Full access to all features and user management",icon:jsxRuntimeExports.jsx(Shield,{className:"w-4 h-4"})},{value:"student",label:"Student",description:"View and participate in activities",icon:jsxRuntimeExports.jsx(User,{className:"w-4 h-4"})}];function CreateUserModal({isOpen:s,onClose:i,onCreate:a,editUser:o,loading:j}){const[_,$]=reactExports.useState({firstName:(o==null?void 0:o.firstName)||"",lastName:(o==null?void 0:o.lastName)||"",email:(o==null?void 0:o.email)||"",role:(o==null?void 0:o.role)||"teacher",organization:(o==null?void 0:o.organization)||"",isActive:(o==null?void 0:o.isActive)??!0}),et=async tt=>{tt.preventDefault(),await a(_),_e()},_e=()=>{$({firstName:"",lastName:"",email:"",role:"teacher",organization:"",isActive:!0}),i()};return s?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-teal-600 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(User,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:o?"Edit User":"Create New User"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o?"Update user information":"Add a new user to the system"})]})]}),jsxRuntimeExports.jsx("button",{onClick:_e,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:et,className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["First Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:_.firstName,onChange:tt=>$({..._,firstName:tt.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",placeholder:"John"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Last Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:_.lastName,onChange:tt=>$({..._,lastName:tt.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",placeholder:"Doe"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Email Address ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"email",required:!0,value:_.email,onChange:tt=>$({..._,email:tt.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200",placeholder:"john.doe@example.com"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:["Role ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:userRoles$1.map(tt=>jsxRuntimeExports.jsxs("label",{className:"flex items-start cursor-pointer group",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"role",value:tt.value,checked:_.role===tt.value,onChange:rt=>$({..._,role:rt.target.value}),className:"w-4 h-4 text-blue-600 border-gray-300 dark:border-dark-600 rounded mt-1 focus:ring-blue-500 bg-white dark:bg-dark-700"}),jsxRuntimeExports.jsxs("div",{className:"ml-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400 dark:text-gray-500 group-hover:text-blue-500 dark:group-hover:text-blue-400 transition-colors",children:tt.icon}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:tt.label})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:tt.description})]})]},tt.value))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Organization"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Building,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",value:_.organization,onChange:tt=>$({..._,organization:tt.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200",placeholder:"School or organization name"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:_.isActive,onChange:tt=>$({..._,isActive:tt.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 dark:border-dark-600 rounded focus:ring-blue-500 bg-white dark:bg-dark-700"}),jsxRuntimeExports.jsxs("div",{className:"ml-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx(UserCheck,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Active Account"})]})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 ml-7",children:"Inactive users cannot sign in to the system"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:_e,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:j,className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-blue-600 to-teal-600 text-white rounded-lg hover:from-blue-700 hover:to-teal-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg",children:[j?jsxRuntimeExports.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):jsxRuntimeExports.jsx(User,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:o?"Update User":"Create User"})]})]})]})]})}):null}function setRef(s,i){if(typeof s=="function")return s(i);s!=null&&(s.current=i)}function composeRefs(...s){return i=>{let a=!1;const o=s.map(j=>{const _=setRef(j,i);return!a&&typeof _=="function"&&(a=!0),_});if(a)return()=>{for(let j=0;j<o.length;j++){const _=o[j];typeof _=="function"?_():setRef(s[j],null)}}}}function createSlot(s){const i=createSlotClone(s),a=reactExports.forwardRef((o,j)=>{const{children:_,...$}=o,et=reactExports.Children.toArray(_),_e=et.find(isSlottable);if(_e){const tt=_e.props.children,rt=et.map(nt=>nt===_e?reactExports.Children.count(tt)>1?reactExports.Children.only(null):reactExports.isValidElement(tt)?tt.props.children:null:nt);return jsxRuntimeExports.jsx(i,{...$,ref:j,children:reactExports.isValidElement(tt)?reactExports.cloneElement(tt,void 0,rt):null})}return jsxRuntimeExports.jsx(i,{...$,ref:j,children:_})});return a.displayName=`${s}.Slot`,a}var Slot=createSlot("Slot");function createSlotClone(s){const i=reactExports.forwardRef((a,o)=>{const{children:j,..._}=a;if(reactExports.isValidElement(j)){const $=getElementRef(j),et=mergeProps(_,j.props);return j.type!==reactExports.Fragment&&(et.ref=o?composeRefs(o,$):$),reactExports.cloneElement(j,et)}return reactExports.Children.count(j)>1?reactExports.Children.only(null):null});return i.displayName=`${s}.SlotClone`,i}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function isSlottable(s){return reactExports.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(s,i){const a={...i};for(const o in i){const j=s[o],_=i[o];/^on[A-Z]/.test(o)?j&&_?a[o]=(...et)=>{const _e=_(...et);return j(...et),_e}:j&&(a[o]=j):o==="style"?a[o]={...j,..._}:o==="className"&&(a[o]=[j,_].filter(Boolean).join(" "))}return{...s,...a}}function getElementRef(s){var o,j;let i=(o=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:o.get,a=i&&"isReactWarning"in i&&i.isReactWarning;return a?s.ref:(i=(j=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:j.get,a=i&&"isReactWarning"in i&&i.isReactWarning,a?s.props.ref:s.props.ref||s.ref)}const falsyToString=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,cx=clsx,cva=(s,i)=>a=>{var o;if((i==null?void 0:i.variants)==null)return cx(s,a==null?void 0:a.class,a==null?void 0:a.className);const{variants:j,defaultVariants:_}=i,$=Object.keys(j).map(tt=>{const rt=a==null?void 0:a[tt],nt=_==null?void 0:_[tt];if(rt===null)return null;const st=falsyToString(rt)||falsyToString(nt);return j[tt][st]}),et=a&&Object.entries(a).reduce((tt,rt)=>{let[nt,st]=rt;return st===void 0||(tt[nt]=st),tt},{}),_e=i==null||(o=i.compoundVariants)===null||o===void 0?void 0:o.reduce((tt,rt)=>{let{class:nt,className:st,...ot}=rt;return Object.entries(ot).every(ct=>{let[gt,dt]=ct;return Array.isArray(dt)?dt.includes({..._,...et}[gt]):{..._,...et}[gt]===dt})?[...tt,nt,st]:tt},[]);return cx(s,$,_e,a==null?void 0:a.class,a==null?void 0:a.className)},CLASS_PART_SEPARATOR="-",createClassGroupUtils=s=>{const i=createClassMap(s),{conflictingClassGroups:a,conflictingClassGroupModifiers:o}=s;return{getClassGroupId:$=>{const et=$.split(CLASS_PART_SEPARATOR);return et[0]===""&&et.length!==1&&et.shift(),getGroupRecursive(et,i)||getGroupIdForArbitraryProperty($)},getConflictingClassGroupIds:($,et)=>{const _e=a[$]||[];return et&&o[$]?[..._e,...o[$]]:_e}}},getGroupRecursive=(s,i)=>{var $;if(s.length===0)return i.classGroupId;const a=s[0],o=i.nextPart.get(a),j=o?getGroupRecursive(s.slice(1),o):void 0;if(j)return j;if(i.validators.length===0)return;const _=s.join(CLASS_PART_SEPARATOR);return($=i.validators.find(({validator:et})=>et(_)))==null?void 0:$.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=s=>{if(arbitraryPropertyRegex.test(s)){const i=arbitraryPropertyRegex.exec(s)[1],a=i==null?void 0:i.substring(0,i.indexOf(":"));if(a)return"arbitrary.."+a}},createClassMap=s=>{const{theme:i,classGroups:a}=s,o={nextPart:new Map,validators:[]};for(const j in a)processClassesRecursively(a[j],o,j,i);return o},processClassesRecursively=(s,i,a,o)=>{s.forEach(j=>{if(typeof j=="string"){const _=j===""?i:getPart(i,j);_.classGroupId=a;return}if(typeof j=="function"){if(isThemeGetter(j)){processClassesRecursively(j(o),i,a,o);return}i.validators.push({validator:j,classGroupId:a});return}Object.entries(j).forEach(([_,$])=>{processClassesRecursively($,getPart(i,_),a,o)})})},getPart=(s,i)=>{let a=s;return i.split(CLASS_PART_SEPARATOR).forEach(o=>{a.nextPart.has(o)||a.nextPart.set(o,{nextPart:new Map,validators:[]}),a=a.nextPart.get(o)}),a},isThemeGetter=s=>s.isThemeGetter,createLruCache=s=>{if(s<1)return{get:()=>{},set:()=>{}};let i=0,a=new Map,o=new Map;const j=(_,$)=>{a.set(_,$),i++,i>s&&(i=0,o=a,a=new Map)};return{get(_){let $=a.get(_);if($!==void 0)return $;if(($=o.get(_))!==void 0)return j(_,$),$},set(_,$){a.has(_)?a.set(_,$):j(_,$)}}},IMPORTANT_MODIFIER="!",MODIFIER_SEPARATOR=":",MODIFIER_SEPARATOR_LENGTH=MODIFIER_SEPARATOR.length,createParseClassName=s=>{const{prefix:i,experimentalParseClassName:a}=s;let o=j=>{const _=[];let $=0,et=0,_e=0,tt;for(let ct=0;ct<j.length;ct++){let gt=j[ct];if($===0&&et===0){if(gt===MODIFIER_SEPARATOR){_.push(j.slice(_e,ct)),_e=ct+MODIFIER_SEPARATOR_LENGTH;continue}if(gt==="/"){tt=ct;continue}}gt==="["?$++:gt==="]"?$--:gt==="("?et++:gt===")"&&et--}const rt=_.length===0?j:j.substring(_e),nt=stripImportantModifier(rt),st=nt!==rt,ot=tt&&tt>_e?tt-_e:void 0;return{modifiers:_,hasImportantModifier:st,baseClassName:nt,maybePostfixModifierPosition:ot}};if(i){const j=i+MODIFIER_SEPARATOR,_=o;o=$=>$.startsWith(j)?_($.substring(j.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:$,maybePostfixModifierPosition:void 0}}if(a){const j=o;o=_=>a({className:_,parseClassName:j})}return o},stripImportantModifier=s=>s.endsWith(IMPORTANT_MODIFIER)?s.substring(0,s.length-1):s.startsWith(IMPORTANT_MODIFIER)?s.substring(1):s,createSortModifiers=s=>{const i=Object.fromEntries(s.orderSensitiveModifiers.map(o=>[o,!0]));return o=>{if(o.length<=1)return o;const j=[];let _=[];return o.forEach($=>{$[0]==="["||i[$]?(j.push(..._.sort(),$),_=[]):_.push($)}),j.push(..._.sort()),j}},createConfigUtils=s=>({cache:createLruCache(s.cacheSize),parseClassName:createParseClassName(s),sortModifiers:createSortModifiers(s),...createClassGroupUtils(s)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(s,i)=>{const{parseClassName:a,getClassGroupId:o,getConflictingClassGroupIds:j,sortModifiers:_}=i,$=[],et=s.trim().split(SPLIT_CLASSES_REGEX);let _e="";for(let tt=et.length-1;tt>=0;tt-=1){const rt=et[tt],{isExternal:nt,modifiers:st,hasImportantModifier:ot,baseClassName:ct,maybePostfixModifierPosition:gt}=a(rt);if(nt){_e=rt+(_e.length>0?" "+_e:_e);continue}let dt=!!gt,it=o(dt?ct.substring(0,gt):ct);if(!it){if(!dt){_e=rt+(_e.length>0?" "+_e:_e);continue}if(it=o(ct),!it){_e=rt+(_e.length>0?" "+_e:_e);continue}dt=!1}const lt=_(st).join(":"),ut=ot?lt+IMPORTANT_MODIFIER:lt,mt=ut+it;if($.includes(mt))continue;$.push(mt);const ht=j(it,dt);for(let vt=0;vt<ht.length;++vt){const at=ht[vt];$.push(ut+at)}_e=rt+(_e.length>0?" "+_e:_e)}return _e};function twJoin(){let s=0,i,a,o="";for(;s<arguments.length;)(i=arguments[s++])&&(a=toValue(i))&&(o&&(o+=" "),o+=a);return o}const toValue=s=>{if(typeof s=="string")return s;let i,a="";for(let o=0;o<s.length;o++)s[o]&&(i=toValue(s[o]))&&(a&&(a+=" "),a+=i);return a};function createTailwindMerge(s,...i){let a,o,j,_=$;function $(_e){const tt=i.reduce((rt,nt)=>nt(rt),s());return a=createConfigUtils(tt),o=a.cache.get,j=a.cache.set,_=et,et(_e)}function et(_e){const tt=o(_e);if(tt)return tt;const rt=mergeClassList(_e,a);return j(_e,rt),rt}return function(){return _(twJoin.apply(null,arguments))}}const fromTheme=s=>{const i=a=>a[s]||[];return i.isThemeGetter=!0,i},arbitraryValueRegex=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,arbitraryVariableRegex=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fractionRegex=/^\d+\/\d+$/,tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isFraction=s=>fractionRegex.test(s),isNumber=s=>!!s&&!Number.isNaN(Number(s)),isInteger=s=>!!s&&Number.isInteger(Number(s)),isPercent=s=>s.endsWith("%")&&isNumber(s.slice(0,-1)),isTshirtSize=s=>tshirtUnitRegex.test(s),isAny=()=>!0,isLengthOnly=s=>lengthUnitRegex.test(s)&&!colorFunctionRegex.test(s),isNever=()=>!1,isShadow=s=>shadowRegex.test(s),isImage=s=>imageRegex.test(s),isAnyNonArbitrary=s=>!isArbitraryValue(s)&&!isArbitraryVariable(s),isArbitrarySize=s=>getIsArbitraryValue(s,isLabelSize,isNever),isArbitraryValue=s=>arbitraryValueRegex.test(s),isArbitraryLength=s=>getIsArbitraryValue(s,isLabelLength,isLengthOnly),isArbitraryNumber=s=>getIsArbitraryValue(s,isLabelNumber,isNumber),isArbitraryPosition=s=>getIsArbitraryValue(s,isLabelPosition,isNever),isArbitraryImage=s=>getIsArbitraryValue(s,isLabelImage,isImage),isArbitraryShadow=s=>getIsArbitraryValue(s,isLabelShadow,isShadow),isArbitraryVariable=s=>arbitraryVariableRegex.test(s),isArbitraryVariableLength=s=>getIsArbitraryVariable(s,isLabelLength),isArbitraryVariableFamilyName=s=>getIsArbitraryVariable(s,isLabelFamilyName),isArbitraryVariablePosition=s=>getIsArbitraryVariable(s,isLabelPosition),isArbitraryVariableSize=s=>getIsArbitraryVariable(s,isLabelSize),isArbitraryVariableImage=s=>getIsArbitraryVariable(s,isLabelImage),isArbitraryVariableShadow=s=>getIsArbitraryVariable(s,isLabelShadow,!0),getIsArbitraryValue=(s,i,a)=>{const o=arbitraryValueRegex.exec(s);return o?o[1]?i(o[1]):a(o[2]):!1},getIsArbitraryVariable=(s,i,a=!1)=>{const o=arbitraryVariableRegex.exec(s);return o?o[1]?i(o[1]):a:!1},isLabelPosition=s=>s==="position"||s==="percentage",isLabelImage=s=>s==="image"||s==="url",isLabelSize=s=>s==="length"||s==="size"||s==="bg-size",isLabelLength=s=>s==="length",isLabelNumber=s=>s==="number",isLabelFamilyName=s=>s==="family-name",isLabelShadow=s=>s==="shadow",getDefaultConfig=()=>{const s=fromTheme("color"),i=fromTheme("font"),a=fromTheme("text"),o=fromTheme("font-weight"),j=fromTheme("tracking"),_=fromTheme("leading"),$=fromTheme("breakpoint"),et=fromTheme("container"),_e=fromTheme("spacing"),tt=fromTheme("radius"),rt=fromTheme("shadow"),nt=fromTheme("inset-shadow"),st=fromTheme("text-shadow"),ot=fromTheme("drop-shadow"),ct=fromTheme("blur"),gt=fromTheme("perspective"),dt=fromTheme("aspect"),it=fromTheme("ease"),lt=fromTheme("animate"),ut=()=>["auto","avoid","all","avoid-page","page","left","right","column"],mt=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ht=()=>[...mt(),isArbitraryVariable,isArbitraryValue],vt=()=>["auto","hidden","clip","visible","scroll"],at=()=>["auto","contain","none"],pt=()=>[isArbitraryVariable,isArbitraryValue,_e],yt=()=>[isFraction,"full","auto",...pt()],jt=()=>[isInteger,"none","subgrid",isArbitraryVariable,isArbitraryValue],xt=()=>["auto",{span:["full",isInteger,isArbitraryVariable,isArbitraryValue]},isInteger,isArbitraryVariable,isArbitraryValue],wt=()=>[isInteger,"auto",isArbitraryVariable,isArbitraryValue],At=()=>["auto","min","max","fr",isArbitraryVariable,isArbitraryValue],Ut=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ft=()=>["start","end","center","stretch","center-safe","end-safe"],Bt=()=>["auto",...pt()],Nt=()=>[isFraction,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...pt()],Rt=()=>[s,isArbitraryVariable,isArbitraryValue],kt=()=>[...mt(),isArbitraryVariablePosition,isArbitraryPosition,{position:[isArbitraryVariable,isArbitraryValue]}],Dt=()=>["no-repeat",{repeat:["","x","y","space","round"]}],zt=()=>["auto","cover","contain",isArbitraryVariableSize,isArbitrarySize,{size:[isArbitraryVariable,isArbitraryValue]}],Ct=()=>[isPercent,isArbitraryVariableLength,isArbitraryLength],bt=()=>["","none","full",tt,isArbitraryVariable,isArbitraryValue],Et=()=>["",isNumber,isArbitraryVariableLength,isArbitraryLength],St=()=>["solid","dashed","dotted","double"],It=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Pt=()=>[isNumber,isPercent,isArbitraryVariablePosition,isArbitraryPosition],Mt=()=>["","none",ct,isArbitraryVariable,isArbitraryValue],Gt=()=>["none",isNumber,isArbitraryVariable,isArbitraryValue],Yt=()=>["none",isNumber,isArbitraryVariable,isArbitraryValue],Zt=()=>[isNumber,isArbitraryVariable,isArbitraryValue],ir=()=>[isFraction,"full",...pt()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[isTshirtSize],breakpoint:[isTshirtSize],color:[isAny],container:[isTshirtSize],"drop-shadow":[isTshirtSize],ease:["in","out","in-out"],font:[isAnyNonArbitrary],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[isTshirtSize],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[isTshirtSize],shadow:[isTshirtSize],spacing:["px",isNumber],text:[isTshirtSize],"text-shadow":[isTshirtSize],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",isFraction,isArbitraryValue,isArbitraryVariable,dt]}],container:["container"],columns:[{columns:[isNumber,isArbitraryValue,isArbitraryVariable,et]}],"break-after":[{"break-after":ut()}],"break-before":[{"break-before":ut()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ht()}],overflow:[{overflow:vt()}],"overflow-x":[{"overflow-x":vt()}],"overflow-y":[{"overflow-y":vt()}],overscroll:[{overscroll:at()}],"overscroll-x":[{"overscroll-x":at()}],"overscroll-y":[{"overscroll-y":at()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:yt()}],"inset-x":[{"inset-x":yt()}],"inset-y":[{"inset-y":yt()}],start:[{start:yt()}],end:[{end:yt()}],top:[{top:yt()}],right:[{right:yt()}],bottom:[{bottom:yt()}],left:[{left:yt()}],visibility:["visible","invisible","collapse"],z:[{z:[isInteger,"auto",isArbitraryVariable,isArbitraryValue]}],basis:[{basis:[isFraction,"full","auto",et,...pt()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[isNumber,isFraction,"auto","initial","none",isArbitraryValue]}],grow:[{grow:["",isNumber,isArbitraryVariable,isArbitraryValue]}],shrink:[{shrink:["",isNumber,isArbitraryVariable,isArbitraryValue]}],order:[{order:[isInteger,"first","last","none",isArbitraryVariable,isArbitraryValue]}],"grid-cols":[{"grid-cols":jt()}],"col-start-end":[{col:xt()}],"col-start":[{"col-start":wt()}],"col-end":[{"col-end":wt()}],"grid-rows":[{"grid-rows":jt()}],"row-start-end":[{row:xt()}],"row-start":[{"row-start":wt()}],"row-end":[{"row-end":wt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":At()}],"auto-rows":[{"auto-rows":At()}],gap:[{gap:pt()}],"gap-x":[{"gap-x":pt()}],"gap-y":[{"gap-y":pt()}],"justify-content":[{justify:[...Ut(),"normal"]}],"justify-items":[{"justify-items":[...Ft(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ft()]}],"align-content":[{content:["normal",...Ut()]}],"align-items":[{items:[...Ft(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ft(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ut()}],"place-items":[{"place-items":[...Ft(),"baseline"]}],"place-self":[{"place-self":["auto",...Ft()]}],p:[{p:pt()}],px:[{px:pt()}],py:[{py:pt()}],ps:[{ps:pt()}],pe:[{pe:pt()}],pt:[{pt:pt()}],pr:[{pr:pt()}],pb:[{pb:pt()}],pl:[{pl:pt()}],m:[{m:Bt()}],mx:[{mx:Bt()}],my:[{my:Bt()}],ms:[{ms:Bt()}],me:[{me:Bt()}],mt:[{mt:Bt()}],mr:[{mr:Bt()}],mb:[{mb:Bt()}],ml:[{ml:Bt()}],"space-x":[{"space-x":pt()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":pt()}],"space-y-reverse":["space-y-reverse"],size:[{size:Nt()}],w:[{w:[et,"screen",...Nt()]}],"min-w":[{"min-w":[et,"screen","none",...Nt()]}],"max-w":[{"max-w":[et,"screen","none","prose",{screen:[$]},...Nt()]}],h:[{h:["screen","lh",...Nt()]}],"min-h":[{"min-h":["screen","lh","none",...Nt()]}],"max-h":[{"max-h":["screen","lh",...Nt()]}],"font-size":[{text:["base",a,isArbitraryVariableLength,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,isArbitraryVariable,isArbitraryNumber]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",isPercent,isArbitraryValue]}],"font-family":[{font:[isArbitraryVariableFamilyName,isArbitraryValue,i]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[j,isArbitraryVariable,isArbitraryValue]}],"line-clamp":[{"line-clamp":[isNumber,"none",isArbitraryVariable,isArbitraryNumber]}],leading:[{leading:[_,...pt()]}],"list-image":[{"list-image":["none",isArbitraryVariable,isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",isArbitraryVariable,isArbitraryValue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Rt()}],"text-color":[{text:Rt()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...St(),"wavy"]}],"text-decoration-thickness":[{decoration:[isNumber,"from-font","auto",isArbitraryVariable,isArbitraryLength]}],"text-decoration-color":[{decoration:Rt()}],"underline-offset":[{"underline-offset":[isNumber,"auto",isArbitraryVariable,isArbitraryValue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:pt()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryVariable,isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryVariable,isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:kt()}],"bg-repeat":[{bg:Dt()}],"bg-size":[{bg:zt()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},isInteger,isArbitraryVariable,isArbitraryValue],radial:["",isArbitraryVariable,isArbitraryValue],conic:[isInteger,isArbitraryVariable,isArbitraryValue]},isArbitraryVariableImage,isArbitraryImage]}],"bg-color":[{bg:Rt()}],"gradient-from-pos":[{from:Ct()}],"gradient-via-pos":[{via:Ct()}],"gradient-to-pos":[{to:Ct()}],"gradient-from":[{from:Rt()}],"gradient-via":[{via:Rt()}],"gradient-to":[{to:Rt()}],rounded:[{rounded:bt()}],"rounded-s":[{"rounded-s":bt()}],"rounded-e":[{"rounded-e":bt()}],"rounded-t":[{"rounded-t":bt()}],"rounded-r":[{"rounded-r":bt()}],"rounded-b":[{"rounded-b":bt()}],"rounded-l":[{"rounded-l":bt()}],"rounded-ss":[{"rounded-ss":bt()}],"rounded-se":[{"rounded-se":bt()}],"rounded-ee":[{"rounded-ee":bt()}],"rounded-es":[{"rounded-es":bt()}],"rounded-tl":[{"rounded-tl":bt()}],"rounded-tr":[{"rounded-tr":bt()}],"rounded-br":[{"rounded-br":bt()}],"rounded-bl":[{"rounded-bl":bt()}],"border-w":[{border:Et()}],"border-w-x":[{"border-x":Et()}],"border-w-y":[{"border-y":Et()}],"border-w-s":[{"border-s":Et()}],"border-w-e":[{"border-e":Et()}],"border-w-t":[{"border-t":Et()}],"border-w-r":[{"border-r":Et()}],"border-w-b":[{"border-b":Et()}],"border-w-l":[{"border-l":Et()}],"divide-x":[{"divide-x":Et()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Et()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...St(),"hidden","none"]}],"divide-style":[{divide:[...St(),"hidden","none"]}],"border-color":[{border:Rt()}],"border-color-x":[{"border-x":Rt()}],"border-color-y":[{"border-y":Rt()}],"border-color-s":[{"border-s":Rt()}],"border-color-e":[{"border-e":Rt()}],"border-color-t":[{"border-t":Rt()}],"border-color-r":[{"border-r":Rt()}],"border-color-b":[{"border-b":Rt()}],"border-color-l":[{"border-l":Rt()}],"divide-color":[{divide:Rt()}],"outline-style":[{outline:[...St(),"none","hidden"]}],"outline-offset":[{"outline-offset":[isNumber,isArbitraryVariable,isArbitraryValue]}],"outline-w":[{outline:["",isNumber,isArbitraryVariableLength,isArbitraryLength]}],"outline-color":[{outline:Rt()}],shadow:[{shadow:["","none",rt,isArbitraryVariableShadow,isArbitraryShadow]}],"shadow-color":[{shadow:Rt()}],"inset-shadow":[{"inset-shadow":["none",nt,isArbitraryVariableShadow,isArbitraryShadow]}],"inset-shadow-color":[{"inset-shadow":Rt()}],"ring-w":[{ring:Et()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Rt()}],"ring-offset-w":[{"ring-offset":[isNumber,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":Rt()}],"inset-ring-w":[{"inset-ring":Et()}],"inset-ring-color":[{"inset-ring":Rt()}],"text-shadow":[{"text-shadow":["none",st,isArbitraryVariableShadow,isArbitraryShadow]}],"text-shadow-color":[{"text-shadow":Rt()}],opacity:[{opacity:[isNumber,isArbitraryVariable,isArbitraryValue]}],"mix-blend":[{"mix-blend":[...It(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":It()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[isNumber]}],"mask-image-linear-from-pos":[{"mask-linear-from":Pt()}],"mask-image-linear-to-pos":[{"mask-linear-to":Pt()}],"mask-image-linear-from-color":[{"mask-linear-from":Rt()}],"mask-image-linear-to-color":[{"mask-linear-to":Rt()}],"mask-image-t-from-pos":[{"mask-t-from":Pt()}],"mask-image-t-to-pos":[{"mask-t-to":Pt()}],"mask-image-t-from-color":[{"mask-t-from":Rt()}],"mask-image-t-to-color":[{"mask-t-to":Rt()}],"mask-image-r-from-pos":[{"mask-r-from":Pt()}],"mask-image-r-to-pos":[{"mask-r-to":Pt()}],"mask-image-r-from-color":[{"mask-r-from":Rt()}],"mask-image-r-to-color":[{"mask-r-to":Rt()}],"mask-image-b-from-pos":[{"mask-b-from":Pt()}],"mask-image-b-to-pos":[{"mask-b-to":Pt()}],"mask-image-b-from-color":[{"mask-b-from":Rt()}],"mask-image-b-to-color":[{"mask-b-to":Rt()}],"mask-image-l-from-pos":[{"mask-l-from":Pt()}],"mask-image-l-to-pos":[{"mask-l-to":Pt()}],"mask-image-l-from-color":[{"mask-l-from":Rt()}],"mask-image-l-to-color":[{"mask-l-to":Rt()}],"mask-image-x-from-pos":[{"mask-x-from":Pt()}],"mask-image-x-to-pos":[{"mask-x-to":Pt()}],"mask-image-x-from-color":[{"mask-x-from":Rt()}],"mask-image-x-to-color":[{"mask-x-to":Rt()}],"mask-image-y-from-pos":[{"mask-y-from":Pt()}],"mask-image-y-to-pos":[{"mask-y-to":Pt()}],"mask-image-y-from-color":[{"mask-y-from":Rt()}],"mask-image-y-to-color":[{"mask-y-to":Rt()}],"mask-image-radial":[{"mask-radial":[isArbitraryVariable,isArbitraryValue]}],"mask-image-radial-from-pos":[{"mask-radial-from":Pt()}],"mask-image-radial-to-pos":[{"mask-radial-to":Pt()}],"mask-image-radial-from-color":[{"mask-radial-from":Rt()}],"mask-image-radial-to-color":[{"mask-radial-to":Rt()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":mt()}],"mask-image-conic-pos":[{"mask-conic":[isNumber]}],"mask-image-conic-from-pos":[{"mask-conic-from":Pt()}],"mask-image-conic-to-pos":[{"mask-conic-to":Pt()}],"mask-image-conic-from-color":[{"mask-conic-from":Rt()}],"mask-image-conic-to-color":[{"mask-conic-to":Rt()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:kt()}],"mask-repeat":[{mask:Dt()}],"mask-size":[{mask:zt()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",isArbitraryVariable,isArbitraryValue]}],filter:[{filter:["","none",isArbitraryVariable,isArbitraryValue]}],blur:[{blur:Mt()}],brightness:[{brightness:[isNumber,isArbitraryVariable,isArbitraryValue]}],contrast:[{contrast:[isNumber,isArbitraryVariable,isArbitraryValue]}],"drop-shadow":[{"drop-shadow":["","none",ot,isArbitraryVariableShadow,isArbitraryShadow]}],"drop-shadow-color":[{"drop-shadow":Rt()}],grayscale:[{grayscale:["",isNumber,isArbitraryVariable,isArbitraryValue]}],"hue-rotate":[{"hue-rotate":[isNumber,isArbitraryVariable,isArbitraryValue]}],invert:[{invert:["",isNumber,isArbitraryVariable,isArbitraryValue]}],saturate:[{saturate:[isNumber,isArbitraryVariable,isArbitraryValue]}],sepia:[{sepia:["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-filter":[{"backdrop-filter":["","none",isArbitraryVariable,isArbitraryValue]}],"backdrop-blur":[{"backdrop-blur":Mt()}],"backdrop-brightness":[{"backdrop-brightness":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-contrast":[{"backdrop-contrast":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-invert":[{"backdrop-invert":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-opacity":[{"backdrop-opacity":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-saturate":[{"backdrop-saturate":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-sepia":[{"backdrop-sepia":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":pt()}],"border-spacing-x":[{"border-spacing-x":pt()}],"border-spacing-y":[{"border-spacing-y":pt()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",isArbitraryVariable,isArbitraryValue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[isNumber,"initial",isArbitraryVariable,isArbitraryValue]}],ease:[{ease:["linear","initial",it,isArbitraryVariable,isArbitraryValue]}],delay:[{delay:[isNumber,isArbitraryVariable,isArbitraryValue]}],animate:[{animate:["none",lt,isArbitraryVariable,isArbitraryValue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[gt,isArbitraryVariable,isArbitraryValue]}],"perspective-origin":[{"perspective-origin":ht()}],rotate:[{rotate:Gt()}],"rotate-x":[{"rotate-x":Gt()}],"rotate-y":[{"rotate-y":Gt()}],"rotate-z":[{"rotate-z":Gt()}],scale:[{scale:Yt()}],"scale-x":[{"scale-x":Yt()}],"scale-y":[{"scale-y":Yt()}],"scale-z":[{"scale-z":Yt()}],"scale-3d":["scale-3d"],skew:[{skew:Zt()}],"skew-x":[{"skew-x":Zt()}],"skew-y":[{"skew-y":Zt()}],transform:[{transform:[isArbitraryVariable,isArbitraryValue,"","none","gpu","cpu"]}],"transform-origin":[{origin:ht()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ir()}],"translate-x":[{"translate-x":ir()}],"translate-y":[{"translate-y":ir()}],"translate-z":[{"translate-z":ir()}],"translate-none":["translate-none"],accent:[{accent:Rt()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Rt()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryVariable,isArbitraryValue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":pt()}],"scroll-mx":[{"scroll-mx":pt()}],"scroll-my":[{"scroll-my":pt()}],"scroll-ms":[{"scroll-ms":pt()}],"scroll-me":[{"scroll-me":pt()}],"scroll-mt":[{"scroll-mt":pt()}],"scroll-mr":[{"scroll-mr":pt()}],"scroll-mb":[{"scroll-mb":pt()}],"scroll-ml":[{"scroll-ml":pt()}],"scroll-p":[{"scroll-p":pt()}],"scroll-px":[{"scroll-px":pt()}],"scroll-py":[{"scroll-py":pt()}],"scroll-ps":[{"scroll-ps":pt()}],"scroll-pe":[{"scroll-pe":pt()}],"scroll-pt":[{"scroll-pt":pt()}],"scroll-pr":[{"scroll-pr":pt()}],"scroll-pb":[{"scroll-pb":pt()}],"scroll-pl":[{"scroll-pl":pt()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryVariable,isArbitraryValue]}],fill:[{fill:["none",...Rt()]}],"stroke-w":[{stroke:[isNumber,isArbitraryVariableLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:["none",...Rt()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...s){return twMerge(clsx(s))}const buttonVariants=cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button=reactExports.forwardRef(({className:s,variant:i,size:a,asChild:o=!1,...j},_)=>{const $=o?Slot:"button";return jsxRuntimeExports.jsx($,{className:cn(buttonVariants({variant:i,size:a,className:s})),ref:_,...j})});Button.displayName="Button";const Card=reactExports.forwardRef(({className:s,...i},a)=>jsxRuntimeExports.jsx("div",{ref:a,className:cn("rounded-lg border bg-card text-card-foreground shadow-sm",s),...i}));Card.displayName="Card";const CardHeader=reactExports.forwardRef(({className:s,...i},a)=>jsxRuntimeExports.jsx("div",{ref:a,className:cn("flex flex-col space-y-1.5 p-6",s),...i}));CardHeader.displayName="CardHeader";const CardTitle=reactExports.forwardRef(({className:s,...i},a)=>jsxRuntimeExports.jsx("h3",{ref:a,className:cn("text-2xl font-semibold leading-none tracking-tight",s),...i}));CardTitle.displayName="CardTitle";const CardDescription=reactExports.forwardRef(({className:s,...i},a)=>jsxRuntimeExports.jsx("p",{ref:a,className:cn("text-sm text-muted-foreground",s),...i}));CardDescription.displayName="CardDescription";const CardContent=reactExports.forwardRef(({className:s,...i},a)=>jsxRuntimeExports.jsx("div",{ref:a,className:cn("p-6 pt-0",s),...i}));CardContent.displayName="CardContent";const CardFooter=reactExports.forwardRef(({className:s,...i},a)=>jsxRuntimeExports.jsx("div",{ref:a,className:cn("flex items-center p-6 pt-0",s),...i}));CardFooter.displayName="CardFooter";const LandingPage=({onSignIn:s,onSignUp:i,onShowLessons:a})=>{const o=[{icon:Target,title:"Purpose-Driven",description:"Every lesson is designed with clear learning objectives and outcomes in mind."},{icon:Heart,title:"Inclusive Learning",description:"We believe drama education should be accessible to students of all backgrounds and abilities."},{icon:Award,title:"Quality Content",description:"Our lessons are crafted by experienced educators and continuously refined."}];return jsxRuntimeExports.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-purple-500/20 rounded-full mix-blend-multiply filter blur-xl animate-float",style:{animationDelay:"0s"}}),jsxRuntimeExports.jsx("div",{className:"absolute top-40 right-10 w-72 h-72 bg-pink-500/20 rounded-full mix-blend-multiply filter blur-xl animate-float",style:{animationDelay:"2s"}}),jsxRuntimeExports.jsx("div",{className:"absolute -top-8 left-1/2 w-72 h-72 bg-yellow-500/20 rounded-full mix-blend-multiply filter blur-xl animate-float",style:{animationDelay:"4s"}})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.8)), url('juliet.png')"}}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"p-6 flex justify-between items-center backdrop-blur-sm bg-white/5 border-b border-white/10",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 group",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Theater,{className:"w-8 h-8 text-purple-400 group-hover:text-purple-300 transition-all duration-300 group-hover:scale-110"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-purple-400/20 rounded-full blur-md group-hover:bg-purple-300/30 transition-all duration-300"})]}),jsxRuntimeExports.jsx("span",{className:"text-2xl font-bold text-white group-hover:text-purple-100 transition-colors duration-300",children:"JulietLessons"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",onClick:s,className:"text-white hover:bg-white/10 border border-white/20 hover:border-white/40 transition-all duration-300 hover:scale-105 backdrop-blur-sm",children:"Sign In"}),jsxRuntimeExports.jsx(Button,{onClick:i,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white shadow-lg hover:shadow-purple-500/25 transition-all duration-300 hover:scale-105",children:"Sign Up"})]})]}),jsxRuntimeExports.jsx("main",{className:"flex-1 flex items-center justify-center px-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8 animate-fade-in",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(GraduationCap,{className:"w-12 h-12 text-purple-400 animate-float"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-purple-400/30 blur-lg rounded-full animate-pulse"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-8 h-8 text-yellow-400 animate-bounce"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-yellow-400/30 blur-md rounded-full animate-ping"})]})]}),jsxRuntimeExports.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white mb-6 leading-tight",children:[jsxRuntimeExports.jsx("span",{className:"inline-block hover:scale-105 transition-transform duration-300",children:"Craft"})," ",jsxRuntimeExports.jsx("span",{className:"inline-block hover:scale-105 transition-transform duration-300",children:"Perfect"}),jsxRuntimeExports.jsx("span",{className:"block bg-gradient-to-r from-purple-400 via-pink-400 to-yellow-400 bg-clip-text text-transparent animate-pulse",children:"Drama Lessons"})]}),jsxRuntimeExports.jsx("p",{className:"text-xl md:text-2xl text-gray-200 mb-8 leading-relaxed max-w-3xl mx-auto hover:text-white transition-colors duration-300",children:"Generate engaging, structured drama lessons tailored to your students' experience level. From warm-ups to cool-downs, create the perfect theatrical learning experience."})]}),jsxRuntimeExports.jsx("div",{className:"animate-fade-in mb-16",style:{animationDelay:"0.3s"},children:jsxRuntimeExports.jsxs(Button,{onClick:a,size:"lg",className:"relative bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white text-lg px-12 py-4 h-auto font-semibold shadow-2xl transform hover:scale-110 transition-all duration-300 overflow-hidden group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400 to-pink-400 opacity-0 group-hover:opacity-20 transition-opacity duration-300"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-white/10 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700 skew-x-12"}),jsxRuntimeExports.jsx(Theater,{className:"w-6 h-6 mr-3 group-hover:rotate-12 transition-transform duration-300"}),jsxRuntimeExports.jsx("span",{className:"relative z-10",children:"Generate Lessons"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-md bg-purple-500/20 blur-xl group-hover:bg-purple-400/40 transition-all duration-300"})]})}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-3 gap-8 animate-fade-in",style:{animationDelay:"0.6s"},children:[jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-6 rounded-lg border border-white/10 hover:border-purple-400/50 transition-all duration-300 hover:scale-105 hover:shadow-2xl hover:shadow-purple-500/20",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-purple-500/40 transition-all duration-300 group-hover:scale-110",children:jsxRuntimeExports.jsx(GraduationCap,{className:"w-6 h-6 text-purple-400 group-hover:text-purple-300"})}),jsxRuntimeExports.jsx("h3",{className:"text-white font-semibold mb-2 group-hover:text-purple-200 transition-colors",children:"Level-Based"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm group-hover:text-white transition-colors",children:"Activities matched to your students' experience level"})]}),jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-6 rounded-lg border border-white/10 hover:border-pink-400/50 transition-all duration-300 hover:scale-105 hover:shadow-2xl hover:shadow-pink-500/20",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-pink-500/20 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-pink-500/40 transition-all duration-300 group-hover:scale-110",children:jsxRuntimeExports.jsx(Theater,{className:"w-6 h-6 text-pink-400 group-hover:text-pink-300"})}),jsxRuntimeExports.jsx("h3",{className:"text-white font-semibold mb-2 group-hover:text-pink-200 transition-colors",children:"Structured Flow"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm group-hover:text-white transition-colors",children:"Warm-up, main activity, and cool-down sequences"})]}),jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-6 rounded-lg border border-white/10 hover:border-yellow-400/50 transition-all duration-300 hover:scale-105 hover:shadow-2xl hover:shadow-yellow-500/20",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-yellow-500/20 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-yellow-500/40 transition-all duration-300 group-hover:scale-110",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-6 h-6 text-yellow-400 group-hover:text-yellow-300"})}),jsxRuntimeExports.jsx("h3",{className:"text-white font-semibold mb-2 group-hover:text-yellow-200 transition-colors",children:"Instant Generation"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm group-hover:text-white transition-colors",children:"Get complete lesson plans in seconds"})]})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 bg-gradient-to-b from-transparent via-background/80 to-background",children:[jsxRuntimeExports.jsxs("section",{className:"py-16 px-6 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-900/10 to-pink-900/10 backdrop-blur-sm"}),jsxRuntimeExports.jsx("div",{className:"container mx-auto max-w-4xl relative z-10",children:jsxRuntimeExports.jsxs(Card,{className:"glass-effect border-purple-500/30 hover:border-purple-400/50 transition-all duration-500 hover:scale-[1.02] hover:shadow-2xl hover:shadow-purple-500/20",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-3xl gradient-text text-center animate-fade-in",children:jsxRuntimeExports.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-white text-center",children:["Our ",jsxRuntimeExports.jsx("span",{className:"bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Story"})]})})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-6 text-lg leading-relaxed",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-300 hover:text-purple-100 transition-colors duration-300",children:"Born from the collaboration between seasoned drama educators and innovative technologists, our platform addresses a critical need in the creative education space: the time-consuming process of developing structured, engaging drama lessons."}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 hover:text-purple-100 transition-colors duration-300",children:"We recognized that while drama teachers are incredibly creative and passionate, they often struggle with the administrative burden of lesson planning, especially when trying to adapt content for different age groups and skill levels."}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 hover:text-purple-100 transition-colors duration-300",children:"Our AI-powered lesson generator doesn't replace the educator's creativityit amplifies it, providing a structured foundation that teachers can build upon and customize for their unique classroom needs."})]})]})})]}),jsxRuntimeExports.jsxs("section",{className:"py-16 px-6 bg-gradient-to-br from-purple-50/5 to-pink-50/5 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 backdrop-blur-sm"}),jsxRuntimeExports.jsxs("div",{className:"container mx-auto max-w-6xl relative z-10",children:[jsxRuntimeExports.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-8 text-center",children:["Our ",jsxRuntimeExports.jsx("span",{className:"bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Values"})]}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:o.map((j,_)=>jsxRuntimeExports.jsxs(Card,{className:"group glass-effect border-purple-500/30 text-center hover:border-purple-400/50 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-purple-500/20",style:{animationDelay:`${_*.2}s`},children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-purple-500/20 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-purple-500/40 transition-all duration-300 group-hover:scale-110 group-hover:rotate-12",children:jsxRuntimeExports.jsx(j.icon,{className:"w-8 h-8 text-purple-400 group-hover:text-purple-300"})}),jsxRuntimeExports.jsx(CardTitle,{className:"text-xl text-gray-100 group-hover:text-purple-200 transition-colors",children:j.title})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-gray-300 group-hover:text-white transition-colors",children:j.description})})]},_))})]})]}),jsxRuntimeExports.jsxs("section",{className:"py-24 px-6 relative overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-gradient-to-r from-purple-500/20 to-blue-500/20 rounded-full mix-blend-multiply filter blur-3xl animate-pulse-slow"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-gradient-to-r from-pink-500/20 to-violet-500/20 rounded-full mix-blend-multiply filter blur-3xl animate-pulse-slow",style:{animationDelay:"2s"}}),jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-gradient-to-r from-yellow-500/10 to-orange-500/10 rounded-full mix-blend-multiply filter blur-2xl animate-bounce-slow"})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-10",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-12 gap-4 h-full",children:Array.from({length:144}).map((j,_)=>jsxRuntimeExports.jsx("div",{className:"bg-white/5 rounded animate-shimmer",style:{animationDelay:`${_%12*.1}s`}},_))})}),jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto relative z-10",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-20",children:[jsxRuntimeExports.jsxs("div",{className:"relative inline-block mb-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-5xl md:text-6xl font-bold text-white animate-fade-in relative z-10",children:["How It"," ",jsxRuntimeExports.jsxs("span",{className:"relative",children:[jsxRuntimeExports.jsx("span",{className:"rounded-md px-2 bg-gradient-to-r from-purple-400 via-pink-400 to-yellow-400 bg-clip-text text-transparent animate-glow",children:"Works"}),jsxRuntimeExports.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-purple-400/30 via-pink-400/30 to-yellow-400/30 blur-xl rounded-lg animate-pulse"})]})]}),jsxRuntimeExports.jsx("div",{className:"absolute -top-4 -right-4",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-8 h-8 text-yellow-400 animate-spin",style:{animationDuration:"3s"}})}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-2 -left-6",children:jsxRuntimeExports.jsx(Zap,{className:"w-6 h-6 text-purple-400 animate-bounce"})})]}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed animate-fade-in",style:{animationDelay:"0.3s"},children:"Creating professional drama lessons has never been easier. Follow these simple steps to transform your teaching experience."})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-3 gap-16",children:[jsxRuntimeExports.jsxs("div",{className:"text-center group animate-fade-in relative",style:{animationDelay:"0.4s"},children:[jsxRuntimeExports.jsxs("div",{className:"relative mb-8",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/20 to-purple-600/20 rounded-full blur-2xl group-hover:blur-xl transition-all duration-500 animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-2 bg-gradient-to-r from-purple-400/10 to-purple-500/10 rounded-full blur-xl group-hover:blur-lg transition-all duration-500"}),jsxRuntimeExports.jsxs("div",{className:"relative w-24 h-24 bg-gradient-to-br from-purple-600 via-purple-700 to-purple-800 rounded-full flex items-center justify-center mx-auto group-hover:scale-125 transition-all duration-500 shadow-2xl group-hover:shadow-purple-500/50 border-2 border-purple-400/30 group-hover:border-purple-300/60",children:[jsxRuntimeExports.jsx("span",{className:"text-3xl font-bold text-white relative z-10 group-hover:scale-110 transition-transform duration-300",children:"1"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent rounded-full"})]}),jsxRuntimeExports.jsx("div",{className:"absolute -top-2 -right-2 w-3 h-3 bg-purple-400 rounded-full animate-ping"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-1 -left-3 w-2 h-2 bg-pink-400 rounded-full animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 -right-4 w-1 h-1 bg-yellow-400 rounded-full animate-bounce"})]}),jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-semibold text-white mb-6 group-hover:text-purple-200 transition-colors duration-300 relative",children:["Choose Your Settings",jsxRuntimeExports.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-0 h-0.5 bg-gradient-to-r from-purple-400 to-pink-400 group-hover:w-full transition-all duration-500"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors duration-300 leading-relaxed",children:"Select age group, experience level, and lesson focus to customize your drama activities with precision."})]}),jsxRuntimeExports.jsxs("div",{className:"text-center group animate-fade-in relative",style:{animationDelay:"0.6s"},children:[jsxRuntimeExports.jsxs("div",{className:"relative mb-8",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-500/20 to-pink-600/20 rounded-full blur-2xl group-hover:blur-xl transition-all duration-500 animate-pulse",style:{animationDelay:"1s"}}),jsxRuntimeExports.jsx("div",{className:"absolute inset-2 bg-gradient-to-r from-pink-400/10 to-pink-500/10 rounded-full blur-xl group-hover:blur-lg transition-all duration-500"}),jsxRuntimeExports.jsxs("div",{className:"relative w-24 h-24 bg-gradient-to-br from-pink-600 via-pink-700 to-pink-800 rounded-full flex items-center justify-center mx-auto group-hover:scale-125 transition-all duration-500 shadow-2xl group-hover:shadow-pink-500/50 border-2 border-pink-400/30 group-hover:border-pink-300/60",children:[jsxRuntimeExports.jsx("span",{className:"text-3xl font-bold text-white relative z-10 group-hover:scale-110 transition-transform duration-300",children:"2"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent rounded-full"})]}),jsxRuntimeExports.jsx("div",{className:"absolute -top-3 -left-2 w-3 h-3 bg-pink-400 rounded-full animate-ping",style:{animationDelay:"0.5s"}}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-2 -right-2 w-2 h-2 bg-purple-400 rounded-full animate-pulse",style:{animationDelay:"1s"}}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-1 h-1 bg-yellow-400 rounded-full animate-bounce",style:{animationDelay:"1.5s"}})]}),jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-semibold text-white mb-6 group-hover:text-pink-200 transition-colors duration-300 relative",children:["Generate Instantly",jsxRuntimeExports.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-0 h-0.5 bg-gradient-to-r from-pink-400 to-yellow-400 group-hover:w-full transition-all duration-500"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors duration-300 leading-relaxed",children:"Our AI creates a complete lesson plan with warm-ups, main activities, and cool-downs in seconds."})]}),jsxRuntimeExports.jsxs("div",{className:"text-center group animate-fade-in relative",style:{animationDelay:"0.8s"},children:[jsxRuntimeExports.jsxs("div",{className:"relative mb-8",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/20 to-yellow-600/20 rounded-full blur-2xl group-hover:blur-xl transition-all duration-500 animate-pulse",style:{animationDelay:"2s"}}),jsxRuntimeExports.jsx("div",{className:"absolute inset-2 bg-gradient-to-r from-yellow-400/10 to-yellow-500/10 rounded-full blur-xl group-hover:blur-lg transition-all duration-500"}),jsxRuntimeExports.jsxs("div",{className:"relative w-24 h-24 bg-gradient-to-br from-yellow-600 via-yellow-700 to-yellow-800 rounded-full flex items-center justify-center mx-auto group-hover:scale-125 transition-all duration-500 shadow-2xl group-hover:shadow-yellow-500/50 border-2 border-yellow-400/30 group-hover:border-yellow-300/60",children:[jsxRuntimeExports.jsx("span",{className:"text-3xl font-bold text-white relative z-10 group-hover:scale-110 transition-transform duration-300",children:"3"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent rounded-full"})]}),jsxRuntimeExports.jsx("div",{className:"absolute -top-1 -right-3 w-3 h-3 bg-yellow-400 rounded-full animate-ping",style:{animationDelay:"1s"}}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-3 -left-1 w-2 h-2 bg-orange-400 rounded-full animate-pulse",style:{animationDelay:"1.5s"}}),jsxRuntimeExports.jsx("div",{className:"absolute top-1/4 -left-4 w-1 h-1 bg-pink-400 rounded-full animate-bounce",style:{animationDelay:"2s"}})]}),jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-semibold text-white mb-6 group-hover:text-yellow-200 transition-colors duration-300 relative",children:["Teach & Engage",jsxRuntimeExports.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-0 h-0.5 bg-gradient-to-r from-yellow-400 to-orange-400 group-hover:w-full transition-all duration-500"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors duration-300 leading-relaxed",children:"Use your personalized lesson plan to create memorable theatrical experiences for your students."})]})]}),jsxRuntimeExports.jsx("div",{className:"hidden md:block absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full max-w-4xl",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-1/6 w-1/3 h-0.5 bg-gradient-to-r from-purple-400/50 to-pink-400/50 animate-shimmer"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-1/6 w-1/3 h-0.5 bg-gradient-to-r from-pink-400/50 to-yellow-400/50 animate-shimmer",style:{animationDelay:"1s"}})]})})]})]}),jsxRuntimeExports.jsxs("section",{className:"py-24 px-6 bg-gradient-to-r from-purple-900/20 to-pink-900/20 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 backdrop-blur-sm"}),jsxRuntimeExports.jsx("div",{className:"max-w-6xl mx-auto relative z-10",children:jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"animate-fade-in",children:[jsxRuntimeExports.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-8",children:["Why Choose ",jsxRuntimeExports.jsx("span",{className:"bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"JulietLessons?"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 group",children:[jsxRuntimeExports.jsx(CheckCircle,{className:"w-6 h-6 text-green-400 mt-1 flex-shrink-0 group-hover:scale-110 transition-transform duration-300"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2 group-hover:text-green-200 transition-colors",children:"Save Hours of Planning"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Generate complete lesson plans in seconds instead of spending hours researching and planning."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 group",children:[jsxRuntimeExports.jsx(CheckCircle,{className:"w-6 h-6 text-green-400 mt-1 flex-shrink-0 group-hover:scale-110 transition-transform duration-300"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2 group-hover:text-green-200 transition-colors",children:"Age-Appropriate Content"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Every activity is carefully tailored to your students' age group and experience level."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 group",children:[jsxRuntimeExports.jsx(CheckCircle,{className:"w-6 h-6 text-green-400 mt-1 flex-shrink-0 group-hover:scale-110 transition-transform duration-300"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2 group-hover:text-green-200 transition-colors",children:"Professional Structure"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Each lesson follows proven pedagogical principles with clear warm-up, main, and cool-down phases."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 group",children:[jsxRuntimeExports.jsx(CheckCircle,{className:"w-6 h-6 text-green-400 mt-1 flex-shrink-0 group-hover:scale-110 transition-transform duration-300"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2 group-hover:text-green-200 transition-colors",children:"Endless Variety"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Never run out of fresh ideas with our vast database of drama activities and exercises."})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-6 rounded-lg border border-white/10 hover:border-purple-400/50 transition-all duration-300 hover:scale-105 hover:shadow-xl hover:shadow-purple-500/20",children:[jsxRuntimeExports.jsx(Clock,{className:"w-10 h-10 text-purple-400 mb-4 group-hover:scale-110 transition-transform duration-300"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mb-2 group-hover:text-purple-200 transition-colors",children:"Immediately"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Create a complete lesson using auto generation"})]}),jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-6 rounded-lg border border-white/10 hover:border-pink-400/50 transition-all duration-300 hover:scale-105 hover:shadow-xl hover:shadow-pink-500/20",children:[jsxRuntimeExports.jsx(Users,{className:"w-10 h-10 text-pink-400 mb-4 group-hover:scale-110 transition-transform duration-300"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mb-2 group-hover:text-pink-200 transition-colors",children:"10K+"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Educators using our platform"})]}),jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-6 rounded-lg border border-white/10 hover:border-yellow-400/50 transition-all duration-300 hover:scale-105 hover:shadow-xl hover:shadow-yellow-500/20",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-10 h-10 text-yellow-400 mb-4 group-hover:scale-110 transition-transform duration-300"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mb-2 group-hover:text-yellow-200 transition-colors",children:"500+"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Unique drama activities"})]}),jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-6 rounded-lg border border-white/10 hover:border-green-400/50 transition-all duration-300 hover:scale-105 hover:shadow-xl hover:shadow-green-500/20",children:[jsxRuntimeExports.jsx(Star,{className:"w-10 h-10 text-green-400 mb-4 group-hover:scale-110 transition-transform duration-300"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mb-2 group-hover:text-green-200 transition-colors",children:"4.9/5"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Average user rating"})]})]})]})})]}),jsxRuntimeExports.jsxs("section",{className:"py-24 px-6 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900/10 to-pink-900/10"}),jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto relative z-10",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-16",children:[jsxRuntimeExports.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6 animate-fade-in",children:["What Educators ",jsxRuntimeExports.jsx("span",{className:"bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Say"})]}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Join thousands of drama teachers who are transforming their lesson planning."})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-8 rounded-lg border border-white/10 hover:border-purple-400/50 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-purple-500/20 animate-fade-in",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((j,_)=>jsxRuntimeExports.jsx(Star,{className:"w-5 h-5 text-yellow-400 fill-current group-hover:scale-110 transition-transform duration-300",style:{transitionDelay:`${_*.1}s`}},_))}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 mb-6 italic group-hover:text-white transition-colors",children:'"JulietLessons has revolutionized my teaching. I can create engaging lessons in minutes instead of hours. My students love the variety!"'}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:jsxRuntimeExports.jsx("span",{className:"text-white font-bold",children:"SM"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-white font-semibold group-hover:text-purple-200 transition-colors",children:"Sarah Mitchell"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm group-hover:text-gray-300 transition-colors",children:"High School Drama Teacher"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-8 rounded-lg border border-white/10 hover:border-pink-400/50 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-pink-500/20 animate-fade-in",style:{animationDelay:"0.2s"},children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((j,_)=>jsxRuntimeExports.jsx(Star,{className:"w-5 h-5 text-yellow-400 fill-current group-hover:scale-110 transition-transform duration-300",style:{transitionDelay:`${_*.1}s`}},_))}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 mb-6 italic group-hover:text-white transition-colors",children:'"The age-appropriate content is spot on. Every lesson is perfectly structured and my elementary students are always engaged."'}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-pink-600 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:jsxRuntimeExports.jsx("span",{className:"text-white font-bold",children:"MR"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-white font-semibold group-hover:text-pink-200 transition-colors",children:"Michael Rodriguez"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm group-hover:text-gray-300 transition-colors",children:"Elementary Arts Coordinator"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"group glass-effect p-8 rounded-lg border border-white/10 hover:border-yellow-400/50 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-yellow-500/20 animate-fade-in",style:{animationDelay:"0.4s"},children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((j,_)=>jsxRuntimeExports.jsx(Star,{className:"w-5 h-5 text-yellow-400 fill-current group-hover:scale-110 transition-transform duration-300",style:{transitionDelay:`${_*.1}s`}},_))}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 mb-6 italic group-hover:text-white transition-colors",children:'"As a new teacher, this platform gave me the confidence to deliver professional drama lessons from day one. Absolutely incredible!"'}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-yellow-600 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:jsxRuntimeExports.jsx("span",{className:"text-white font-bold",children:"EL"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-white font-semibold group-hover:text-yellow-200 transition-colors",children:"Emily Lane"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm group-hover:text-gray-300 transition-colors",children:"Community Theater Director"})]})]})]})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"py-24 px-6 bg-gradient-to-r from-purple-900/40 to-pink-900/40 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 backdrop-blur-sm"}),jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[jsxRuntimeExports.jsxs("h2",{className:"text-4xl md:text-6xl font-bold text-white mb-6 animate-fade-in",children:["Ready to Transform Your",jsxRuntimeExports.jsx("span",{className:"block bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent animate-pulse",children:"Drama Teaching?"})]}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"Join thousands of educators who are already creating amazing drama lessons with our AI-powered platform."}),jsxRuntimeExports.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:jsxRuntimeExports.jsxs(Button,{onClick:a,size:"lg",className:"relative bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white text-xl px-12 py-6 h-auto font-semibold shadow-2xl transform hover:scale-110 transition-all duration-300 overflow-hidden group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400 to-pink-400 opacity-0 group-hover:opacity-30 transition-opacity duration-300"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-white/10 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700 skew-x-12"}),jsxRuntimeExports.jsx(Theater,{className:"w-6 h-6 mr-3 group-hover:rotate-12 transition-transform duration-300"}),jsxRuntimeExports.jsx("span",{className:"relative z-10",children:"Generate Lessons"}),jsxRuntimeExports.jsx(ArrowRight,{className:"w-6 h-6 ml-3 group-hover:translate-x-2 transition-transform duration-300"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-md bg-purple-500/20 blur-xl group-hover:bg-purple-400/40 transition-all duration-300"})]})})]})]}),jsxRuntimeExports.jsxs("footer",{className:"p-6 text-center border-t border-white/10 backdrop-blur-sm bg-white/5",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-6 mb-4",children:[jsxRuntimeExports.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-all duration-300 hover:scale-105",children:"Home"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:""}),jsxRuntimeExports.jsx("a",{href:"#",onClick:s,className:"text-gray-400 hover:text-white transition-all duration-300 hover:scale-105",children:"Sign In"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:""}),jsxRuntimeExports.jsx("a",{href:"#",onClick:i,className:"text-gray-400 hover:text-white transition-all duration-300 hover:scale-105",children:"Sign Up"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm hover:text-white transition-colors duration-300",children:"Empowering drama educators with intelligent lesson planning"})]})]})]})},userRoles=[{value:"teacher",label:"Teacher",description:"Create and manage activities and lessons"},{value:"student",label:"Student",description:"View and participate in activities"}];function AuthModal({isOpen:s,onClose:i,mode:a,onModeChange:o,onSignIn:j,onSignUp:_,loading:$,error:et}){const[_e,tt]=reactExports.useState(!1),[rt,nt]=reactExports.useState({email:"",password:"",firstName:"",lastName:"",role:"teacher",organization:""}),st=async dt=>{dt.preventDefault(),a==="signin"?await j({email:rt.email,password:rt.password}):await _({email:rt.email,password:rt.password,firstName:rt.firstName,lastName:rt.lastName,role:rt.role,organization:rt.organization||void 0})},ot=()=>{nt({email:"",password:"",firstName:"",lastName:"",role:"teacher",organization:""}),tt(!1)},ct=dt=>{ot(),o(dt)},gt=()=>{ot(),i()};return s?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200 dark:border-dark-700 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-teal-600 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(User,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:a==="signin"?"Welcome Back":"Join JulietLessons"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a==="signin"?"Sign in to your account":"Create your account to get started"})]})]}),jsxRuntimeExports.jsx("button",{onClick:gt,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})]}),et&&jsxRuntimeExports.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border-b border-red-100 dark:border-red-800",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-red-800 dark:text-red-300",children:et})}),jsxRuntimeExports.jsxs("form",{onSubmit:st,className:"p-6 space-y-4",children:[a==="signup"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["First Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:rt.firstName,onChange:dt=>nt({...rt,firstName:dt.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",placeholder:"John"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Last Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:rt.lastName,onChange:dt=>nt({...rt,lastName:dt.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white transition-colors duration-200",placeholder:"Doe"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Role ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:userRoles.map(dt=>jsxRuntimeExports.jsxs("label",{className:"flex items-start cursor-pointer group",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"role",value:dt.value,checked:rt.role===dt.value,onChange:it=>nt({...rt,role:it.target.value}),className:"w-4 h-4 text-blue-600 border-gray-300 dark:border-dark-600 rounded mt-1 focus:ring-blue-500 bg-white dark:bg-dark-700 transition-colors duration-200"}),jsxRuntimeExports.jsxs("div",{className:"ml-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(UserCheck,{className:"w-4 h-4 text-gray-400 dark:text-gray-500 group-hover:text-blue-500 dark:group-hover:text-blue-400"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:dt.label})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:dt.description})]})]},dt.value))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Organization"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Building,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"text",value:rt.organization,onChange:dt=>nt({...rt,organization:dt.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200",placeholder:"Your school or organization"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Email Address ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:"email",required:!0,value:rt.email,onChange:dt=>nt({...rt,email:dt.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200",placeholder:"you@example.com"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Password ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Lock,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),jsxRuntimeExports.jsx("input",{type:_e?"text":"password",required:!0,value:rt.password,onChange:dt=>nt({...rt,password:dt.target.value}),className:"w-full pl-10 pr-12 py-2 border border-gray-300 dark:border-dark-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-dark-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200",placeholder:a==="signin"?"Enter your password":"Create a password (min 6 characters)",minLength:a==="signup"?6:void 0}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>tt(!_e),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:_e?jsxRuntimeExports.jsx(EyeOff,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"})})]}),a==="signup"&&jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Password must be at least 6 characters long"})]}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:$,className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-teal-600 text-white py-3 rounded-lg hover:from-blue-700 hover:to-teal-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg",children:[$?jsxRuntimeExports.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):jsxRuntimeExports.jsx(User,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:$?a==="signin"?"Signing In...":"Creating Account...":a==="signin"?"Sign In":"Create Account"})]})]}),jsxRuntimeExports.jsx("div",{className:"p-6 bg-gray-50 dark:bg-dark-700 border-t border-gray-200 dark:border-dark-600 rounded-b-xl transition-colors duration-200",children:jsxRuntimeExports.jsxs("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:[a==="signin"?"Don't have an account? ":"Already have an account? ",jsxRuntimeExports.jsx("button",{onClick:()=>ct(a==="signin"?"signup":"signin"),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-medium transition-colors",children:a==="signin"?"Sign up":"Sign in"})]})})]})}):null}const LandingPageWrapper=()=>{const[s,i]=useAtom(showAuthModalAtom),[a,o]=useAtom(authModeAtom),[j,_]=useAtom(authStateAtom),$=()=>{o("signin"),i(!0)},et=()=>{o("signup"),i(!0)},_e=()=>{o("signin"),i(!0)},tt=async nt=>{_(st=>({...st,isLoading:!0,error:null}));try{const{user:st}=await AuthService.signIn(nt);try{const ot=await StripeService.getUserSubscription(st.id);_({user:{...st,subscription:ot||void 0},isAuthenticated:!0,isLoading:!1,error:null})}catch{_({user:st,isAuthenticated:!0,isLoading:!1,error:null})}i(!1)}catch(st){_(ot=>({...ot,isLoading:!1,error:st instanceof Error?st.message:"Sign in failed"}))}},rt=async nt=>{_(st=>({...st,isLoading:!0,error:null}));try{const{user:st}=await AuthService.signUp(nt);_({user:st,isAuthenticated:!0,isLoading:!1,error:null}),i(!1)}catch(st){_(ot=>({...ot,isLoading:!1,error:st instanceof Error?st.message:"Sign up failed"}))}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LandingPage,{onSignIn:$,onSignUp:et,onShowLessons:_e}),jsxRuntimeExports.jsx(AuthModal,{isOpen:s,onClose:()=>i(!1),mode:a,onModeChange:o,onSignIn:tt,onSignUp:rt,loading:j.isLoading,error:j.error})]})};function GenerateLesson({lessonId:s=null,onClearView:i}){var At,Ut,Ft,Bt,Nt;const[a,o]=reactExports.useState(null),[j,_]=reactExports.useState(!1),[$,et]=reactExports.useState(!1),[_e,tt]=reactExports.useState(!1),[rt,nt]=reactExports.useState(!1),[st,ot]=reactExports.useState(!1),[ct,gt]=reactExports.useState(!1),[dt,it]=reactExports.useState(!1);reactExports.useEffect(()=>{s&&(_(!0),fetch(`/api/lessons/${s}`).then(Rt=>{if(!Rt.ok)throw new Error(`Status ${Rt.status}`);return Rt.json()}).then(Rt=>o(Rt)).catch(Rt=>console.error("Error fetching lesson by ID:",Rt)).finally(()=>_(!1)))},[s]);const lt=async()=>{i&&i(),_(!0);try{const Rt=await fetch("/api/lessons/random");if(!Rt.ok)throw new Error(`Status ${Rt.status}`);const kt=await Rt.json();o(kt)}catch(Rt){console.error("Error fetching random lesson:",Rt)}finally{_(!1)}},ut=((At=a==null?void 0:a.lesson_parts)==null?void 0:At.filter(Rt=>Rt.section_type==="warm_up"))||[],mt=((Ut=a==null?void 0:a.lesson_parts)==null?void 0:Ut.filter(Rt=>Rt.section_type==="bridge_activity"))||[],ht=((Ft=a==null?void 0:a.lesson_parts)==null?void 0:Ft.filter(Rt=>Rt.section_type==="main_activity"))||[],vt=((Bt=a==null?void 0:a.lesson_parts)==null?void 0:Bt.filter(Rt=>Rt.section_type==="end_of_lesson"))||[],at=((Nt=a==null?void 0:a.lesson_parts)==null?void 0:Nt.filter(Rt=>Rt.section_type==="script"))||[],pt=ut.reduce((Rt,kt)=>Rt+(kt.time||0),0),yt=mt.reduce((Rt,kt)=>Rt+(kt.time||0),0),jt=ht.reduce((Rt,kt)=>Rt+(kt.time||0),0),xt=vt.reduce((Rt,kt)=>Rt+(kt.time||0),0),wt=Rt=>Rt.slice().sort((kt,Dt)=>(kt.position||0)-(Dt.position||0));return jsxRuntimeExports.jsxs("div",{className:"lesson-page",children:[jsxRuntimeExports.jsx("aside",{className:"lesson-sidebar",children:a&&jsxRuntimeExports.jsx("button",{className:"sidebar-generate-btn",onClick:lt,disabled:j,children:j?"Loading":"Generate Again"})}),jsxRuntimeExports.jsx("div",{className:"lesson-content",children:a?jsxRuntimeExports.jsxs("div",{className:"lesson-details",children:[jsxRuntimeExports.jsx("div",{className:"lesson-star-block",children:jsxRuntimeExports.jsx("h1",{className:"lesson-title showman",children:a.title})}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-700 rounded-lg shadow-sm mb-6 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Lesson Objective"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:a.objective})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-700 rounded-lg shadow-sm mb-6 p-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer select-none flex justify-between",onClick:()=>et(!$),children:["At a Glance ",jsxRuntimeExports.jsx("span",{children:$?"":""})]}),$&&jsxRuntimeExports.jsx("ul",{className:"mt-4 space-y-2 list-disc list-inside text-gray-700 dark:text-gray-300",children:a.at_a_glance.map((Rt,kt)=>jsxRuntimeExports.jsx("li",{children:Rt},kt))})]}),ut.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-700 rounded-lg shadow-sm mb-6 p-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer select-none flex justify-between",onClick:()=>tt(!_e),children:["Warm Ups  ",pt," min ",jsxRuntimeExports.jsx("span",{children:_e?"":""})]}),_e&&jsxRuntimeExports.jsx("ul",{className:"mt-4 space-y-4 text-gray-700 dark:text-gray-300",children:wt(ut).map((Rt,kt)=>jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsxs("strong",{children:["Part ",kt+1,":"]})," ",Rt.title,Rt.body&&jsxRuntimeExports.jsx("p",{className:"mt-1 italic text-gray-600 dark:text-gray-400",children:Rt.body})]},kt))}),jsxRuntimeExports.jsx("div",{className:"mt-4 space-y-2",children:wt(ut).flatMap((Rt,kt)=>(Rt.file_infos||[]).map((Dt,zt)=>jsxRuntimeExports.jsxs("a",{href:Dt.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700 text-white px-4 py-2 rounded-md transition-colors",children:[" ",Dt.filename]},`warmup-pdf-${kt}-${zt}`)))})]}),mt.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-700 rounded-lg shadow-sm mb-6 p-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer select-none flex justify-between",onClick:()=>nt(!rt),children:["Bridge Activities  ",yt," min ",jsxRuntimeExports.jsx("span",{children:rt?"":""})]}),rt&&jsxRuntimeExports.jsx("ul",{className:"mt-4 space-y-4 text-gray-700 dark:text-gray-300",children:wt(mt).map((Rt,kt)=>jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsxs("strong",{children:["Part ",kt+1,":"]})," ",Rt.title,Rt.body&&jsxRuntimeExports.jsx("p",{className:"mt-1 italic text-gray-600 dark:text-gray-400",children:Rt.body})]},kt))}),jsxRuntimeExports.jsx("div",{className:"mt-4 space-y-2",children:wt(mt).flatMap((Rt,kt)=>(Rt.file_infos||[]).map((Dt,zt)=>jsxRuntimeExports.jsxs("a",{href:Dt.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700 text-white px-4 py-2 rounded-md transition-colors",children:[" ",Dt.filename]},`bridge-pdf-${kt}-${zt}`)))})]}),ht.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-700 rounded-lg shadow-sm mb-6 p-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer select-none flex justify-between",onClick:()=>ot(!st),children:["Main Activities  ",jt," min ",jsxRuntimeExports.jsx("span",{children:st?"":""})]}),st&&jsxRuntimeExports.jsx("ul",{className:"mt-4 space-y-4 text-gray-700 dark:text-gray-300",children:wt(ht).map((Rt,kt)=>jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsxs("strong",{children:["Part ",kt+1,":"]})," ",Rt.title,Rt.body&&jsxRuntimeExports.jsx("p",{className:"mt-1 italic text-gray-600 dark:text-gray-400",children:Rt.body})]},kt))}),jsxRuntimeExports.jsx("div",{className:"mt-4 space-y-2",children:wt(ht).flatMap((Rt,kt)=>(Rt.file_infos||[]).map((Dt,zt)=>jsxRuntimeExports.jsxs("a",{href:Dt.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700 text-white px-4 py-2 rounded-md transition-colors",children:[" ",Dt.filename]},`main-pdf-${kt}-${zt}`)))})]}),vt.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-700 rounded-lg shadow-sm mb-6 p-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer select-none flex justify-between",onClick:()=>gt(!ct),children:["End of Lesson  ",xt," min ",jsxRuntimeExports.jsx("span",{children:ct?"":""})]}),ct&&jsxRuntimeExports.jsx("ul",{className:"mt-4 space-y-4 text-gray-700 dark:text-gray-300",children:wt(vt).map((Rt,kt)=>jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsxs("strong",{children:["Part ",kt+1,":"]})," ",Rt.title,Rt.body&&jsxRuntimeExports.jsx("p",{className:"mt-1 italic text-gray-600 dark:text-gray-400",children:Rt.body})]},kt))}),jsxRuntimeExports.jsx("div",{className:"mt-4 space-y-2",children:wt(vt).flatMap((Rt,kt)=>(Rt.file_infos||[]).map((Dt,zt)=>jsxRuntimeExports.jsxs("a",{href:Dt.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700 text-white px-4 py-2 rounded-md transition-colors",children:[" ",Dt.filename]},`end-pdf-${kt}-${zt}`)))})]}),at.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-700 rounded-lg shadow-sm mb-6 p-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer select-none flex justify-between",onClick:()=>it(!dt),children:["Scripts ",jsxRuntimeExports.jsx("span",{children:dt?"":""})]}),dt&&jsxRuntimeExports.jsx("ul",{className:"mt-4 space-y-4 text-gray-700 dark:text-gray-300",children:wt(at).map((Rt,kt)=>jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsxs("strong",{children:["Part ",kt+1,":"]})," ",Rt.title,Rt.body&&jsxRuntimeExports.jsx("p",{className:"mt-1 italic text-gray-600 dark:text-gray-400",children:Rt.body})]},kt))}),jsxRuntimeExports.jsx("div",{className:"mt-4 space-y-2",children:wt(at).flatMap((Rt,kt)=>(Rt.file_infos||[]).map((Dt,zt)=>jsxRuntimeExports.jsxs("a",{href:Dt.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700 text-white px-4 py-2 rounded-md transition-colors",children:[" ",Dt.filename]},`script-pdf-${kt}-${zt}`)))})]})]}):jsxRuntimeExports.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-700 rounded-lg shadow-sm w-full max-w-md p-8 space-y-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white text-center",children:"Juliets Generator"}),jsxRuntimeExports.jsx("button",{onClick:lt,disabled:j,className:"w-full bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50",children:j?"Generating":"Generate Random Lesson"})]})})})]})}const SECTION_LABELS$1={warm_up:"Warm Ups",bridge_activity:"Bridge Activities",main_activity:"Main Activities",end_of_lesson:"End Of Lesson",script:"Scripts"},AGE_GROUPS=["Young","Middle","Older","All"],LEVELS=["Toe Tipper","Green Horn","Semi-Pro","Seasoned Veteran(all)"];function NewLessonPart(){const[s,i]=reactExports.useState(!1),[a,o]=reactExports.useState(""),[j,_]=reactExports.useState(""),[$,et]=reactExports.useState(""),[_e,tt]=reactExports.useState(""),[rt,nt]=reactExports.useState(""),[st,ot]=reactExports.useState(""),[ct,gt]=reactExports.useState([{file:null}]),[dt,it]=reactExports.useState(!1),lt=()=>{o(""),_(""),et(""),tt(""),nt(""),ot(""),gt([{file:null}])},ut=()=>{lt(),i(!1)},mt=(at,pt)=>{const yt=[...ct];yt[at].file=pt[0]||null,at===yt.length-1&&pt[0]&&yt.push({file:null}),gt(yt)},ht=at=>{const pt=ct.filter((yt,jt)=>jt!==at);gt(pt.length?pt:[{file:null}])},vt=async()=>{if(!a||!j.trim()||!$.trim()){alert("Please complete all required fields.");return}const at=new FormData;at.append("lesson_part[section_type]",a),at.append("lesson_part[title]",j),at.append("lesson_part[body]",$),at.append("lesson_part[time]",_e),at.append("lesson_part[age_group]",rt),at.append("lesson_part[level]",st),ct.forEach(pt=>pt.file&&at.append("lesson_part[files][]",pt.file)),it(!0);try{const pt=await fetch("/api/lesson_parts",{method:"POST",body:at});if(!pt.ok)throw new Error(`Status ${pt.status}`);await pt.json(),alert("Lesson part saved!"),lt(),i(!1)}catch(pt){console.error(pt),alert("Save failed. See console.")}finally{it(!1)}};return jsxRuntimeExports.jsxs("div",{className:"flex flex-1 overflow-hidden bg-gray-50 dark:bg-dark-900 transition-colors duration-200",children:[jsxRuntimeExports.jsx("aside",{className:"w-64 bg-white dark:bg-dark-800 border-r border-gray-200 dark:border-dark-700 p-4 flex-shrink-0",children:jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Sidebar"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[jsxRuntimeExports.jsx("div",{className:"p-6 bg-white dark:bg-dark-800 border-b border-gray-200 dark:border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer",onClick:()=>!s&&i(!0),role:s?void 0:"button",tabIndex:s?void 0:0,onKeyPress:at=>!s&&at.key==="Enter"&&i(!0),children:[!s&&jsxRuntimeExports.jsx("div",{className:"text-4xl font-bold text-green-500",children:"+"}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s?"New Lesson Part":"Create a Lesson Part"})]})}),s&&jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-auto p-6 max-w-2xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Section"}),jsxRuntimeExports.jsxs("select",{value:a,onChange:at=>o(at.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg bg-white dark:bg-dark-700 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Section"}),Object.entries(SECTION_LABELS$1).map(([at,pt])=>jsxRuntimeExports.jsx("option",{value:at,children:pt},at))]})]}),a&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title"}),jsxRuntimeExports.jsx("input",{type:"text",value:j,onChange:at=>_(at.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg bg-white dark:bg-dark-700 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Body"}),jsxRuntimeExports.jsx("textarea",{rows:3,value:$,onChange:at=>et(at.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg bg-white dark:bg-dark-700 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Time (minutes)"}),jsxRuntimeExports.jsx("input",{type:"number",value:_e,onChange:at=>tt(at.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg bg-white dark:bg-dark-700 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Age Group"}),jsxRuntimeExports.jsxs("select",{value:rt,onChange:at=>nt(at.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg bg-white dark:bg-dark-700 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Age Group"}),AGE_GROUPS.map(at=>jsxRuntimeExports.jsx("option",{value:at,children:at},at))]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Level"}),jsxRuntimeExports.jsxs("select",{value:st,onChange:at=>ot(at.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg bg-white dark:bg-dark-700 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Level"}),LEVELS.map(at=>jsxRuntimeExports.jsx("option",{value:at,children:at},at))]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Attachments (PDF)"}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:ct.map((at,pt)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"application/pdf",onChange:yt=>mt(pt,yt.target.files),className:"text-gray-700 dark:text-gray-200"}),at.file&&jsxRuntimeExports.jsxs("div",{className:"flex items-center bg-blue-50 dark:bg-blue-900/20 px-3 py-1 rounded-lg",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:at.file.name}),jsxRuntimeExports.jsx("button",{onClick:()=>ht(pt),className:"ml-2 text-red-600 dark:text-red-400 hover:text-red-800",children:""})]})]},pt))})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center space-x-4",children:[jsxRuntimeExports.jsx("button",{onClick:vt,disabled:dt,className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white px-6 py-2 rounded-lg shadow transition-colors duration-200 disabled:opacity-50",children:dt?"Saving":"Save"}),jsxRuntimeExports.jsx("button",{onClick:ut,disabled:dt,className:"bg-gray-300 dark:bg-dark-700 hover:bg-gray-400 dark:hover:bg-dark-600 text-gray-900 dark:text-gray-200 px-6 py-2 rounded-lg transition-colors duration-200 disabled:opacity-50",children:"Cancel"})]})]})]})]})]})}function _setPrototypeOf(s,i){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,o){return a.__proto__=o,a},_setPrototypeOf(s,i)}function _inheritsLoose(s,i){s.prototype=Object.create(i.prototype),s.prototype.constructor=s,_setPrototypeOf(s,i)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(s){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var o in a)({}).hasOwnProperty.call(a,o)&&(s[o]=a[o])}return s},_extends.apply(null,arguments)}function _typeof(s){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof(s)}function toPrimitive(s,i){if(_typeof(s)!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var o=a.call(s,i);if(_typeof(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(s)}function toPropertyKey(s){var i=toPrimitive(s,"string");return _typeof(i)=="symbol"?i:i+""}function _defineProperty(s,i,a){return(i=toPropertyKey(i))in s?Object.defineProperty(s,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[i]=a,s}function ownKeys(s,i){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);i&&(o=o.filter(function(j){return Object.getOwnPropertyDescriptor(s,j).enumerable})),a.push.apply(a,o)}return a}function _objectSpread2(s){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?ownKeys(Object(a),!0).forEach(function(o){_defineProperty(s,o,a[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(a,o))})}return s}function formatProdErrorMessage(s){return"Minified Redux error #"+s+"; visit https://redux.js.org/Errors?code="+s+" for the full message or use the non-minified dev environment for full errors. "}var $$observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),randomString=function s(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString()};function isPlainObject(s){if(typeof s!="object"||s===null)return!1;for(var i=s;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(s)===i}function createStore$1(s,i,a){var o;if(typeof i=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage(0));if(typeof i=="function"&&typeof a>"u"&&(a=i,i=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(formatProdErrorMessage(1));return a(createStore$1)(s,i)}if(typeof s!="function")throw new Error(formatProdErrorMessage(2));var j=s,_=i,$=[],et=$,_e=!1;function tt(){et===$&&(et=$.slice())}function rt(){if(_e)throw new Error(formatProdErrorMessage(3));return _}function nt(gt){if(typeof gt!="function")throw new Error(formatProdErrorMessage(4));if(_e)throw new Error(formatProdErrorMessage(5));var dt=!0;return tt(),et.push(gt),function(){if(dt){if(_e)throw new Error(formatProdErrorMessage(6));dt=!1,tt();var lt=et.indexOf(gt);et.splice(lt,1),$=null}}}function st(gt){if(!isPlainObject(gt))throw new Error(formatProdErrorMessage(7));if(typeof gt.type>"u")throw new Error(formatProdErrorMessage(8));if(_e)throw new Error(formatProdErrorMessage(9));try{_e=!0,_=j(_,gt)}finally{_e=!1}for(var dt=$=et,it=0;it<dt.length;it++){var lt=dt[it];lt()}return gt}function ot(gt){if(typeof gt!="function")throw new Error(formatProdErrorMessage(10));j=gt,st({type:ActionTypes.REPLACE})}function ct(){var gt,dt=nt;return gt={subscribe:function(lt){if(typeof lt!="object"||lt===null)throw new Error(formatProdErrorMessage(11));function ut(){lt.next&&lt.next(rt())}ut();var mt=dt(ut);return{unsubscribe:mt}}},gt[$$observable]=function(){return this},gt}return st({type:ActionTypes.INIT}),o={dispatch:st,subscribe:nt,getState:rt,replaceReducer:ot},o[$$observable]=ct,o}function bindActionCreator(s,i){return function(){return i(s.apply(this,arguments))}}function bindActionCreators$1(s,i){if(typeof s=="function")return bindActionCreator(s,i);if(typeof s!="object"||s===null)throw new Error(formatProdErrorMessage(16));var a={};for(var o in s){var j=s[o];typeof j=="function"&&(a[o]=bindActionCreator(j,i))}return a}function compose(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return i.length===0?function(o){return o}:i.length===1?i[0]:i.reduce(function(o,j){return function(){return o(j.apply(void 0,arguments))}})}function applyMiddleware(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return function(o){return function(){var j=o.apply(void 0,arguments),_=function(){throw new Error(formatProdErrorMessage(15))},$={getState:j.getState,dispatch:function(){return _.apply(void 0,arguments)}},et=i.map(function(_e){return _e($)});return _=compose.apply(void 0,et)(j.dispatch),_objectSpread2(_objectSpread2({},j),{},{dispatch:_})}}}var ReactReduxContext=React.createContext(null);function defaultNoopBatch(s){s()}var batch=defaultNoopBatch,setBatch=function s(i){return batch=i},getBatch=function s(){return batch};function createListenerCollection(){var s=getBatch(),i=null,a=null;return{clear:function(){i=null,a=null},notify:function(){s(function(){for(var j=i;j;)j.callback(),j=j.next})},get:function(){for(var j=[],_=i;_;)j.push(_),_=_.next;return j},subscribe:function(j){var _=!0,$=a={callback:j,next:null,prev:a};return $.prev?$.prev.next=$:i=$,function(){!_||i===null||(_=!1,$.next?$.next.prev=$.prev:a=$.prev,$.prev?$.prev.next=$.next:i=$.next)}}}}var nullListeners={notify:function s(){},get:function s(){return[]}};function createSubscription(s,i){var a,o=nullListeners;function j(nt){return _e(),o.subscribe(nt)}function _(){o.notify()}function $(){rt.onStateChange&&rt.onStateChange()}function et(){return!!a}function _e(){a||(a=i?i.addNestedSub($):s.subscribe($),o=createListenerCollection())}function tt(){a&&(a(),a=void 0,o.clear(),o=nullListeners)}var rt={addNestedSub:j,notifyNestedSubs:_,handleChangeWrapper:$,isSubscribed:et,trySubscribe:_e,tryUnsubscribe:tt,getListeners:function(){return o}};return rt}var useIsomorphicLayoutEffect$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function Provider(s){var i=s.store,a=s.context,o=s.children,j=reactExports.useMemo(function(){var et=createSubscription(i);return{store:i,subscription:et}},[i]),_=reactExports.useMemo(function(){return i.getState()},[i]);useIsomorphicLayoutEffect$1(function(){var et=j.subscription;return et.onStateChange=et.notifyNestedSubs,et.trySubscribe(),_!==i.getState()&&et.notifyNestedSubs(),function(){et.tryUnsubscribe(),et.onStateChange=null}},[j,_]);var $=a||ReactReduxContext;return React.createElement($.Provider,{value:j},o)}function _objectWithoutPropertiesLoose(s,i){if(s==null)return{};var a={};for(var o in s)if({}.hasOwnProperty.call(s,o)){if(i.indexOf(o)!==-1)continue;a[o]=s[o]}return a}var reactIs$2={exports:{}},reactIs_production_min$1={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=typeof Symbol=="function"&&Symbol.for,c$1=b$1?Symbol.for("react.element"):60103,d$1=b$1?Symbol.for("react.portal"):60106,e$1=b$1?Symbol.for("react.fragment"):60107,f$1=b$1?Symbol.for("react.strict_mode"):60108,g$1=b$1?Symbol.for("react.profiler"):60114,h$1=b$1?Symbol.for("react.provider"):60109,k$1=b$1?Symbol.for("react.context"):60110,l$1=b$1?Symbol.for("react.async_mode"):60111,m$1=b$1?Symbol.for("react.concurrent_mode"):60111,n$1=b$1?Symbol.for("react.forward_ref"):60112,p$1=b$1?Symbol.for("react.suspense"):60113,q$1=b$1?Symbol.for("react.suspense_list"):60120,r$1=b$1?Symbol.for("react.memo"):60115,t=b$1?Symbol.for("react.lazy"):60116,v$1=b$1?Symbol.for("react.block"):60121,w$1=b$1?Symbol.for("react.fundamental"):60117,x$1=b$1?Symbol.for("react.responder"):60118,y$1=b$1?Symbol.for("react.scope"):60119;function z$1(s){if(typeof s=="object"&&s!==null){var i=s.$$typeof;switch(i){case c$1:switch(s=s.type,s){case l$1:case m$1:case e$1:case g$1:case f$1:case p$1:return s;default:switch(s=s&&s.$$typeof,s){case k$1:case n$1:case t:case r$1:case h$1:return s;default:return i}}case d$1:return i}}}function A$1(s){return z$1(s)===m$1}reactIs_production_min$1.AsyncMode=l$1;reactIs_production_min$1.ConcurrentMode=m$1;reactIs_production_min$1.ContextConsumer=k$1;reactIs_production_min$1.ContextProvider=h$1;reactIs_production_min$1.Element=c$1;reactIs_production_min$1.ForwardRef=n$1;reactIs_production_min$1.Fragment=e$1;reactIs_production_min$1.Lazy=t;reactIs_production_min$1.Memo=r$1;reactIs_production_min$1.Portal=d$1;reactIs_production_min$1.Profiler=g$1;reactIs_production_min$1.StrictMode=f$1;reactIs_production_min$1.Suspense=p$1;reactIs_production_min$1.isAsyncMode=function(s){return A$1(s)||z$1(s)===l$1};reactIs_production_min$1.isConcurrentMode=A$1;reactIs_production_min$1.isContextConsumer=function(s){return z$1(s)===k$1};reactIs_production_min$1.isContextProvider=function(s){return z$1(s)===h$1};reactIs_production_min$1.isElement=function(s){return typeof s=="object"&&s!==null&&s.$$typeof===c$1};reactIs_production_min$1.isForwardRef=function(s){return z$1(s)===n$1};reactIs_production_min$1.isFragment=function(s){return z$1(s)===e$1};reactIs_production_min$1.isLazy=function(s){return z$1(s)===t};reactIs_production_min$1.isMemo=function(s){return z$1(s)===r$1};reactIs_production_min$1.isPortal=function(s){return z$1(s)===d$1};reactIs_production_min$1.isProfiler=function(s){return z$1(s)===g$1};reactIs_production_min$1.isStrictMode=function(s){return z$1(s)===f$1};reactIs_production_min$1.isSuspense=function(s){return z$1(s)===p$1};reactIs_production_min$1.isValidElementType=function(s){return typeof s=="string"||typeof s=="function"||s===e$1||s===m$1||s===g$1||s===f$1||s===p$1||s===q$1||typeof s=="object"&&s!==null&&(s.$$typeof===t||s.$$typeof===r$1||s.$$typeof===h$1||s.$$typeof===k$1||s.$$typeof===n$1||s.$$typeof===w$1||s.$$typeof===x$1||s.$$typeof===y$1||s.$$typeof===v$1)};reactIs_production_min$1.typeOf=z$1;reactIs$2.exports=reactIs_production_min$1;var reactIsExports$1=reactIs$2.exports,reactIs$1=reactIsExports$1,REACT_STATICS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs$1.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs$1.Memo]=MEMO_STATICS;function getStatics(s){return reactIs$1.isMemo(s)?MEMO_STATICS:TYPE_STATICS[s.$$typeof]||REACT_STATICS}var defineProperty=Object.defineProperty,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf,objectPrototype=Object.prototype;function hoistNonReactStatics(s,i,a){if(typeof i!="string"){if(objectPrototype){var o=getPrototypeOf(i);o&&o!==objectPrototype&&hoistNonReactStatics(s,o,a)}var j=getOwnPropertyNames(i);getOwnPropertySymbols&&(j=j.concat(getOwnPropertySymbols(i)));for(var _=getStatics(s),$=getStatics(i),et=0;et<j.length;++et){var _e=j[et];if(!KNOWN_STATICS[_e]&&!(a&&a[_e])&&!($&&$[_e])&&!(_&&_[_e])){var tt=getOwnPropertyDescriptor(i,_e);try{defineProperty(s,_e,tt)}catch{}}}}return s}var hoistNonReactStatics_cjs=hoistNonReactStatics;const hoistStatics=getDefaultExportFromCjs(hoistNonReactStatics_cjs);var reactIs={exports:{}},reactIs_production_min={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=60103,c=60106,d=60107,e=60108,f=60114,g=60109,h=60110,k=60112,l=60113,m=60120,n=60115,p=60116,q=60121,r=60122,u=60117,v=60129,w=60131;if(typeof Symbol=="function"&&Symbol.for){var x=Symbol.for;b=x("react.element"),c=x("react.portal"),d=x("react.fragment"),e=x("react.strict_mode"),f=x("react.profiler"),g=x("react.provider"),h=x("react.context"),k=x("react.forward_ref"),l=x("react.suspense"),m=x("react.suspense_list"),n=x("react.memo"),p=x("react.lazy"),q=x("react.block"),r=x("react.server.block"),u=x("react.fundamental"),v=x("react.debug_trace_mode"),w=x("react.legacy_hidden")}function y(s){if(typeof s=="object"&&s!==null){var i=s.$$typeof;switch(i){case b:switch(s=s.type,s){case d:case f:case e:case l:case m:return s;default:switch(s=s&&s.$$typeof,s){case h:case k:case p:case n:case g:return s;default:return i}}case c:return i}}}var z=g,A=b,B=k,C=d,D=p,E=n,F=c,G=f,H=e,I=l;reactIs_production_min.ContextConsumer=h;reactIs_production_min.ContextProvider=z;reactIs_production_min.Element=A;reactIs_production_min.ForwardRef=B;reactIs_production_min.Fragment=C;reactIs_production_min.Lazy=D;reactIs_production_min.Memo=E;reactIs_production_min.Portal=F;reactIs_production_min.Profiler=G;reactIs_production_min.StrictMode=H;reactIs_production_min.Suspense=I;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(s){return y(s)===h};reactIs_production_min.isContextProvider=function(s){return y(s)===g};reactIs_production_min.isElement=function(s){return typeof s=="object"&&s!==null&&s.$$typeof===b};reactIs_production_min.isForwardRef=function(s){return y(s)===k};reactIs_production_min.isFragment=function(s){return y(s)===d};reactIs_production_min.isLazy=function(s){return y(s)===p};reactIs_production_min.isMemo=function(s){return y(s)===n};reactIs_production_min.isPortal=function(s){return y(s)===c};reactIs_production_min.isProfiler=function(s){return y(s)===f};reactIs_production_min.isStrictMode=function(s){return y(s)===e};reactIs_production_min.isSuspense=function(s){return y(s)===l};reactIs_production_min.isValidElementType=function(s){return typeof s=="string"||typeof s=="function"||s===d||s===f||s===v||s===e||s===l||s===m||s===w||typeof s=="object"&&s!==null&&(s.$$typeof===p||s.$$typeof===n||s.$$typeof===g||s.$$typeof===h||s.$$typeof===k||s.$$typeof===u||s.$$typeof===q||s[0]===r)};reactIs_production_min.typeOf=y;reactIs.exports=reactIs_production_min;var reactIsExports=reactIs.exports,_excluded$2=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],_excluded2=["reactReduxForwardedRef"],EMPTY_ARRAY=[],NO_SUBSCRIPTION_ARRAY=[null,null];function storeStateUpdatesReducer(s,i){var a=s[1];return[i.payload,a+1]}function useIsomorphicLayoutEffectWithArgs(s,i,a){useIsomorphicLayoutEffect$1(function(){return s.apply(void 0,i)},a)}function captureWrapperProps(s,i,a,o,j,_,$){s.current=o,i.current=j,a.current=!1,_.current&&(_.current=null,$())}function subscribeUpdates(s,i,a,o,j,_,$,et,_e,tt){if(s){var rt=!1,nt=null,st=function(){if(!rt){var gt=i.getState(),dt,it;try{dt=o(gt,j.current)}catch(lt){it=lt,nt=lt}it||(nt=null),dt===_.current?$.current||_e():(_.current=dt,et.current=dt,$.current=!0,tt({type:"STORE_UPDATED",payload:{error:it}}))}};a.onStateChange=st,a.trySubscribe(),st();var ot=function(){if(rt=!0,a.tryUnsubscribe(),a.onStateChange=null,nt)throw nt};return ot}}var initStateUpdates=function s(){return[null,0]};function connectAdvanced(s,i){i===void 0&&(i={});var a=i,o=a.getDisplayName,j=o===void 0?function(ut){return"ConnectAdvanced("+ut+")"}:o,_=a.methodName,$=_===void 0?"connectAdvanced":_,et=a.renderCountProp,_e=et===void 0?void 0:et,tt=a.shouldHandleStateChanges,rt=tt===void 0?!0:tt,nt=a.storeKey,st=nt===void 0?"store":nt;a.withRef;var ot=a.forwardRef,ct=ot===void 0?!1:ot,gt=a.context,dt=gt===void 0?ReactReduxContext:gt,it=_objectWithoutPropertiesLoose(a,_excluded$2),lt=dt;return function(mt){var ht=mt.displayName||mt.name||"Component",vt=j(ht),at=_extends({},it,{getDisplayName:j,methodName:$,renderCountProp:_e,shouldHandleStateChanges:rt,storeKey:st,displayName:vt,wrappedComponentName:ht,WrappedComponent:mt}),pt=it.pure;function yt(Ut){return s(Ut.dispatch,at)}var jt=pt?reactExports.useMemo:function(Ut){return Ut()};function xt(Ut){var Ft=reactExports.useMemo(function(){var Ot=Ut.reactReduxForwardedRef,Ht=_objectWithoutPropertiesLoose(Ut,_excluded2);return[Ut.context,Ot,Ht]},[Ut]),Bt=Ft[0],Nt=Ft[1],Rt=Ft[2],kt=reactExports.useMemo(function(){return Bt&&Bt.Consumer&&reactIsExports.isContextConsumer(React.createElement(Bt.Consumer,null))?Bt:lt},[Bt,lt]),Dt=reactExports.useContext(kt),zt=!!Ut.store&&!!Ut.store.getState&&!!Ut.store.dispatch;Dt&&Dt.store;var Ct=zt?Ut.store:Dt.store,bt=reactExports.useMemo(function(){return yt(Ct)},[Ct]),Et=reactExports.useMemo(function(){if(!rt)return NO_SUBSCRIPTION_ARRAY;var Ot=createSubscription(Ct,zt?null:Dt.subscription),Ht=Ot.notifyNestedSubs.bind(Ot);return[Ot,Ht]},[Ct,zt,Dt]),St=Et[0],It=Et[1],Pt=reactExports.useMemo(function(){return zt?Dt:_extends({},Dt,{subscription:St})},[zt,Dt,St]),Mt=reactExports.useReducer(storeStateUpdatesReducer,EMPTY_ARRAY,initStateUpdates),Gt=Mt[0],Yt=Gt[0],Zt=Mt[1];if(Yt&&Yt.error)throw Yt.error;var ir=reactExports.useRef(),cr=reactExports.useRef(Rt),Jt=reactExports.useRef(),lr=reactExports.useRef(!1),qt=jt(function(){return Jt.current&&Rt===cr.current?Jt.current:bt(Ct.getState(),Rt)},[Ct,Yt,Rt]);useIsomorphicLayoutEffectWithArgs(captureWrapperProps,[cr,ir,lr,Rt,qt,Jt,It]),useIsomorphicLayoutEffectWithArgs(subscribeUpdates,[rt,Ct,St,bt,cr,ir,lr,Jt,It,Zt],[Ct,St,bt]);var Xt=reactExports.useMemo(function(){return React.createElement(mt,_extends({},qt,{ref:Nt}))},[Nt,mt,qt]),_t=reactExports.useMemo(function(){return rt?React.createElement(kt.Provider,{value:Pt},Xt):Xt},[kt,Xt,Pt]);return _t}var wt=pt?React.memo(xt):xt;if(wt.WrappedComponent=mt,wt.displayName=xt.displayName=vt,ct){var At=React.forwardRef(function(Ft,Bt){return React.createElement(wt,_extends({},Ft,{reactReduxForwardedRef:Bt}))});return At.displayName=vt,At.WrappedComponent=mt,hoistStatics(At,mt)}return hoistStatics(wt,mt)}}function is(s,i){return s===i?s!==0||i!==0||1/s===1/i:s!==s&&i!==i}function shallowEqual(s,i){if(is(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var a=Object.keys(s),o=Object.keys(i);if(a.length!==o.length)return!1;for(var j=0;j<a.length;j++)if(!Object.prototype.hasOwnProperty.call(i,a[j])||!is(s[a[j]],i[a[j]]))return!1;return!0}function bindActionCreators(s,i){var a={},o=function($){var et=s[$];typeof et=="function"&&(a[$]=function(){return i(et.apply(void 0,arguments))})};for(var j in s)o(j);return a}function wrapMapToPropsConstant(s){return function(a,o){var j=s(a,o);function _(){return j}return _.dependsOnOwnProps=!1,_}}function getDependsOnOwnProps(s){return s.dependsOnOwnProps!==null&&s.dependsOnOwnProps!==void 0?!!s.dependsOnOwnProps:s.length!==1}function wrapMapToPropsFunc(s,i){return function(o,j){j.displayName;var _=function(et,_e){return _.dependsOnOwnProps?_.mapToProps(et,_e):_.mapToProps(et)};return _.dependsOnOwnProps=!0,_.mapToProps=function(et,_e){_.mapToProps=s,_.dependsOnOwnProps=getDependsOnOwnProps(s);var tt=_(et,_e);return typeof tt=="function"&&(_.mapToProps=tt,_.dependsOnOwnProps=getDependsOnOwnProps(tt),tt=_(et,_e)),tt},_}}function whenMapDispatchToPropsIsFunction(s){return typeof s=="function"?wrapMapToPropsFunc(s):void 0}function whenMapDispatchToPropsIsMissing(s){return s?void 0:wrapMapToPropsConstant(function(i){return{dispatch:i}})}function whenMapDispatchToPropsIsObject(s){return s&&typeof s=="object"?wrapMapToPropsConstant(function(i){return bindActionCreators(s,i)}):void 0}const defaultMapDispatchToPropsFactories=[whenMapDispatchToPropsIsFunction,whenMapDispatchToPropsIsMissing,whenMapDispatchToPropsIsObject];function whenMapStateToPropsIsFunction(s){return typeof s=="function"?wrapMapToPropsFunc(s):void 0}function whenMapStateToPropsIsMissing(s){return s?void 0:wrapMapToPropsConstant(function(){return{}})}const defaultMapStateToPropsFactories=[whenMapStateToPropsIsFunction,whenMapStateToPropsIsMissing];function defaultMergeProps(s,i,a){return _extends({},a,s,i)}function wrapMergePropsFunc(s){return function(a,o){o.displayName;var j=o.pure,_=o.areMergedPropsEqual,$=!1,et;return function(tt,rt,nt){var st=s(tt,rt,nt);return $?(!j||!_(st,et))&&(et=st):($=!0,et=st),et}}}function whenMergePropsIsFunction(s){return typeof s=="function"?wrapMergePropsFunc(s):void 0}function whenMergePropsIsOmitted(s){return s?void 0:function(){return defaultMergeProps}}const defaultMergePropsFactories=[whenMergePropsIsFunction,whenMergePropsIsOmitted];var _excluded$1=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function impureFinalPropsSelectorFactory(s,i,a,o){return function(_,$){return a(s(_,$),i(o,$),$)}}function pureFinalPropsSelectorFactory(s,i,a,o,j){var _=j.areStatesEqual,$=j.areOwnPropsEqual,et=j.areStatePropsEqual,_e=!1,tt,rt,nt,st,ot;function ct(ut,mt){return tt=ut,rt=mt,nt=s(tt,rt),st=i(o,rt),ot=a(nt,st,rt),_e=!0,ot}function gt(){return nt=s(tt,rt),i.dependsOnOwnProps&&(st=i(o,rt)),ot=a(nt,st,rt),ot}function dt(){return s.dependsOnOwnProps&&(nt=s(tt,rt)),i.dependsOnOwnProps&&(st=i(o,rt)),ot=a(nt,st,rt),ot}function it(){var ut=s(tt,rt),mt=!et(ut,nt);return nt=ut,mt&&(ot=a(nt,st,rt)),ot}function lt(ut,mt){var ht=!$(mt,rt),vt=!_(ut,tt,mt,rt);return tt=ut,rt=mt,ht&&vt?gt():ht?dt():vt?it():ot}return function(mt,ht){return _e?lt(mt,ht):ct(mt,ht)}}function finalPropsSelectorFactory(s,i){var a=i.initMapStateToProps,o=i.initMapDispatchToProps,j=i.initMergeProps,_=_objectWithoutPropertiesLoose(i,_excluded$1),$=a(s,_),et=o(s,_),_e=j(s,_),tt=_.pure?pureFinalPropsSelectorFactory:impureFinalPropsSelectorFactory;return tt($,et,_e,s,_)}var _excluded=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function match(s,i,a){for(var o=i.length-1;o>=0;o--){var j=i[o](s);if(j)return j}return function(_,$){throw new Error("Invalid value of type "+typeof s+" for "+a+" argument when connecting component "+$.wrappedComponentName+".")}}function strictEqual(s,i){return s===i}function createConnect(s){var i=s===void 0?{}:s,a=i.connectHOC,o=a===void 0?connectAdvanced:a,j=i.mapStateToPropsFactories,_=j===void 0?defaultMapStateToPropsFactories:j,$=i.mapDispatchToPropsFactories,et=$===void 0?defaultMapDispatchToPropsFactories:$,_e=i.mergePropsFactories,tt=_e===void 0?defaultMergePropsFactories:_e,rt=i.selectorFactory,nt=rt===void 0?finalPropsSelectorFactory:rt;return function(ot,ct,gt,dt){dt===void 0&&(dt={});var it=dt,lt=it.pure,ut=lt===void 0?!0:lt,mt=it.areStatesEqual,ht=mt===void 0?strictEqual:mt,vt=it.areOwnPropsEqual,at=vt===void 0?shallowEqual:vt,pt=it.areStatePropsEqual,yt=pt===void 0?shallowEqual:pt,jt=it.areMergedPropsEqual,xt=jt===void 0?shallowEqual:jt,wt=_objectWithoutPropertiesLoose(it,_excluded),At=match(ot,_,"mapStateToProps"),Ut=match(ct,et,"mapDispatchToProps"),Ft=match(gt,tt,"mergeProps");return o(nt,_extends({methodName:"connect",getDisplayName:function(Nt){return"Connect("+Nt+")"},shouldHandleStateChanges:!!ot,initMapStateToProps:At,initMapDispatchToProps:Ut,initMergeProps:Ft,pure:ut,areStatesEqual:ht,areOwnPropsEqual:at,areStatePropsEqual:yt,areMergedPropsEqual:xt},wt))}}const connect=createConnect();setBatch(reactDomExports.unstable_batchedUpdates);function areInputsEqual$1(s,i){if(s.length!==i.length)return!1;for(var a=0;a<s.length;a++)if(s[a]!==i[a])return!1;return!0}function useMemoOne(s,i){var a=reactExports.useState(function(){return{inputs:i,result:s()}})[0],o=reactExports.useRef(!0),j=reactExports.useRef(a),_=o.current||!!(i&&j.current.inputs&&areInputsEqual$1(i,j.current.inputs)),$=_?j.current:{inputs:i,result:s()};return reactExports.useEffect(function(){o.current=!1,j.current=$},[$]),$.result}function useCallbackOne(s,i){return useMemoOne(function(){return s},i)}var useMemo=useMemoOne,useCallback=useCallbackOne,getRect=function s(i){var a=i.top,o=i.right,j=i.bottom,_=i.left,$=o-_,et=j-a,_e={top:a,right:o,bottom:j,left:_,width:$,height:et,x:_,y:a,center:{x:(o+_)/2,y:(j+a)/2}};return _e},expand=function s(i,a){return{top:i.top-a.top,left:i.left-a.left,bottom:i.bottom+a.bottom,right:i.right+a.right}},shrink=function s(i,a){return{top:i.top+a.top,left:i.left+a.left,bottom:i.bottom-a.bottom,right:i.right-a.right}},shift=function s(i,a){return{top:i.top+a.y,left:i.left+a.x,bottom:i.bottom+a.y,right:i.right+a.x}},noSpacing$1={top:0,right:0,bottom:0,left:0},createBox=function s(i){var a=i.borderBox,o=i.margin,j=o===void 0?noSpacing$1:o,_=i.border,$=_===void 0?noSpacing$1:_,et=i.padding,_e=et===void 0?noSpacing$1:et,tt=getRect(expand(a,j)),rt=getRect(shrink(a,$)),nt=getRect(shrink(rt,_e));return{marginBox:tt,borderBox:getRect(a),paddingBox:rt,contentBox:nt,margin:j,border:$,padding:_e}},parse=function s(i){var a=i.slice(0,-2),o=i.slice(-2);if(o!=="px")return 0;var j=Number(a);return isNaN(j)&&invariant$1(!1),j},getWindowScroll$1=function s(){return{x:window.pageXOffset,y:window.pageYOffset}},offset=function s(i,a){var o=i.borderBox,j=i.border,_=i.margin,$=i.padding,et=shift(o,a);return createBox({borderBox:et,border:j,margin:_,padding:$})},withScroll=function s(i,a){return a===void 0&&(a=getWindowScroll$1()),offset(i,a)},calculateBox=function s(i,a){var o={top:parse(a.marginTop),right:parse(a.marginRight),bottom:parse(a.marginBottom),left:parse(a.marginLeft)},j={top:parse(a.paddingTop),right:parse(a.paddingRight),bottom:parse(a.paddingBottom),left:parse(a.paddingLeft)},_={top:parse(a.borderTopWidth),right:parse(a.borderRightWidth),bottom:parse(a.borderBottomWidth),left:parse(a.borderLeftWidth)};return createBox({borderBox:i,margin:o,padding:j,border:_})},getBox=function s(i){var a=i.getBoundingClientRect(),o=window.getComputedStyle(i);return calculateBox(a,o)},safeIsNaN=Number.isNaN||function s(i){return typeof i=="number"&&i!==i};function isEqual$2(s,i){return!!(s===i||safeIsNaN(s)&&safeIsNaN(i))}function areInputsEqual(s,i){if(s.length!==i.length)return!1;for(var a=0;a<s.length;a++)if(!isEqual$2(s[a],i[a]))return!1;return!0}function memoizeOne(s,i){i===void 0&&(i=areInputsEqual);var a,o=[],j,_=!1;function $(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return _&&a===this&&i(et,o)||(j=s.apply(this,et),_=!0,a=this,o=et),j}return $}var rafSchd=function s(i){var a=[],o=null,j=function(){for(var $=arguments.length,et=new Array($),_e=0;_e<$;_e++)et[_e]=arguments[_e];a=et,!o&&(o=requestAnimationFrame(function(){o=null,i.apply(void 0,a)}))};return j.cancel=function(){o&&(cancelAnimationFrame(o),o=null)},j};function log(s,i){}log.bind(null,"warn");log.bind(null,"error");function noop(){}function getOptions(s,i){return _extends({},s,{},i)}function bindEvents(s,i,a){var o=i.map(function(j){var _=getOptions(a,j.options);return s.addEventListener(j.eventName,j.fn,_),function(){s.removeEventListener(j.eventName,j.fn,_)}});return function(){o.forEach(function(_){_()})}}var prefix="Invariant failed";function RbdInvariant(s){this.message=s}RbdInvariant.prototype.toString=function s(){return this.message};function invariant(s,i){throw new RbdInvariant(prefix)}var ErrorBoundary=function(s){_inheritsLoose(i,s);function i(){for(var o,j=arguments.length,_=new Array(j),$=0;$<j;$++)_[$]=arguments[$];return o=s.call.apply(s,[this].concat(_))||this,o.callbacks=null,o.unbind=noop,o.onWindowError=function(et){var _e=o.getCallbacks();_e.isDragging()&&_e.tryAbort();var tt=et.error;tt instanceof RbdInvariant&&et.preventDefault()},o.getCallbacks=function(){if(!o.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return o.callbacks},o.setCallbacks=function(et){o.callbacks=et},o}var a=i.prototype;return a.componentDidMount=function(){this.unbind=bindEvents(window,[{eventName:"error",fn:this.onWindowError}])},a.componentDidCatch=function(j){if(j instanceof RbdInvariant){this.setState({});return}throw j},a.componentWillUnmount=function(){this.unbind()},a.render=function(){return this.props.children(this.setCallbacks)},i}(React.Component),dragHandleUsageInstructions=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,position=function s(i){return i+1},onDragStart=function s(i){return`
  You have lifted an item in position `+position(i.source.index)+`
`},withLocation=function s(i,a){var o=i.droppableId===a.droppableId,j=position(i.index),_=position(a.index);return o?`
      You have moved the item from position `+j+`
      to position `+_+`
    `:`
    You have moved the item from position `+j+`
    in list `+i.droppableId+`
    to list `+a.droppableId+`
    in position `+_+`
  `},withCombine=function s(i,a,o){var j=a.droppableId===o.droppableId;return j?`
      The item `+i+`
      has been combined with `+o.draggableId:`
      The item `+i+`
      in list `+a.droppableId+`
      has been combined with `+o.draggableId+`
      in list `+o.droppableId+`
    `},onDragUpdate=function s(i){var a=i.destination;if(a)return withLocation(i.source,a);var o=i.combine;return o?withCombine(i.draggableId,i.source,o):"You are over an area that cannot be dropped on"},returnedToStart=function s(i){return`
  The item has returned to its starting position
  of `+position(i.index)+`
`},onDragEnd=function s(i){if(i.reason==="CANCEL")return`
      Movement cancelled.
      `+returnedToStart(i.source)+`
    `;var a=i.destination,o=i.combine;return a?`
      You have dropped the item.
      `+withLocation(i.source,a)+`
    `:o?`
      You have dropped the item.
      `+withCombine(i.draggableId,i.source,o)+`
    `:`
    The item has been dropped while not over a drop area.
    `+returnedToStart(i.source)+`
  `},preset={dragHandleUsageInstructions,onDragStart,onDragUpdate,onDragEnd},origin={x:0,y:0},add=function s(i,a){return{x:i.x+a.x,y:i.y+a.y}},subtract=function s(i,a){return{x:i.x-a.x,y:i.y-a.y}},isEqual=function s(i,a){return i.x===a.x&&i.y===a.y},negate=function s(i){return{x:i.x!==0?-i.x:0,y:i.y!==0?-i.y:0}},patch=function s(i,a,o){var j;return o===void 0&&(o=0),j={},j[i]=a,j[i==="x"?"y":"x"]=o,j},distance=function s(i,a){return Math.sqrt(Math.pow(a.x-i.x,2)+Math.pow(a.y-i.y,2))},closest=function s(i,a){return Math.min.apply(Math,a.map(function(o){return distance(i,o)}))},apply=function s(i){return function(a){return{x:i(a.x),y:i(a.y)}}},executeClip=function(s,i){var a=getRect({top:Math.max(i.top,s.top),right:Math.min(i.right,s.right),bottom:Math.min(i.bottom,s.bottom),left:Math.max(i.left,s.left)});return a.width<=0||a.height<=0?null:a},offsetByPosition=function s(i,a){return{top:i.top+a.y,left:i.left+a.x,bottom:i.bottom+a.y,right:i.right+a.x}},getCorners=function s(i){return[{x:i.left,y:i.top},{x:i.right,y:i.top},{x:i.left,y:i.bottom},{x:i.right,y:i.bottom}]},noSpacing={top:0,right:0,bottom:0,left:0},scroll=function s(i,a){return a?offsetByPosition(i,a.scroll.diff.displacement):i},increase=function s(i,a,o){if(o&&o.increasedBy){var j;return _extends({},i,(j={},j[a.end]=i[a.end]+o.increasedBy[a.line],j))}return i},clip=function s(i,a){return a&&a.shouldClipSubject?executeClip(a.pageMarginBox,i):getRect(i)},getSubject=function(s){var i=s.page,a=s.withPlaceholder,o=s.axis,j=s.frame,_=scroll(i.marginBox,j),$=increase(_,o,a),et=clip($,j);return{page:i,withPlaceholder:a,active:et}},scrollDroppable=function(s,i){s.frame||invariant();var a=s.frame,o=subtract(i,a.scroll.initial),j=negate(o),_=_extends({},a,{scroll:{initial:a.scroll.initial,current:i,diff:{value:o,displacement:j},max:a.scroll.max}}),$=getSubject({page:s.subject.page,withPlaceholder:s.subject.withPlaceholder,axis:s.axis,frame:_}),et=_extends({},s,{frame:_,subject:$});return et};function values(s){return Object.values?Object.values(s):Object.keys(s).map(function(i){return s[i]})}function findIndex(s,i){if(s.findIndex)return s.findIndex(i);for(var a=0;a<s.length;a++)if(i(s[a]))return a;return-1}function find(s,i){if(s.find)return s.find(i);var a=findIndex(s,i);if(a!==-1)return s[a]}function toArray(s){return Array.prototype.slice.call(s)}var toDroppableMap=memoizeOne(function(s){return s.reduce(function(i,a){return i[a.descriptor.id]=a,i},{})}),toDraggableMap=memoizeOne(function(s){return s.reduce(function(i,a){return i[a.descriptor.id]=a,i},{})}),toDroppableList=memoizeOne(function(s){return values(s)}),toDraggableList=memoizeOne(function(s){return values(s)}),getDraggablesInsideDroppable=memoizeOne(function(s,i){var a=toDraggableList(i).filter(function(o){return s===o.descriptor.droppableId}).sort(function(o,j){return o.descriptor.index-j.descriptor.index});return a});function tryGetDestination(s){return s.at&&s.at.type==="REORDER"?s.at.destination:null}function tryGetCombine(s){return s.at&&s.at.type==="COMBINE"?s.at.combine:null}var removeDraggableFromList=memoizeOne(function(s,i){return i.filter(function(a){return a.descriptor.id!==s.descriptor.id})}),moveToNextCombine=function(s){var i=s.isMovingForward,a=s.draggable,o=s.destination,j=s.insideDestination,_=s.previousImpact;if(!o.isCombineEnabled)return null;var $=tryGetDestination(_);if(!$)return null;function et(gt){var dt={type:"COMBINE",combine:{draggableId:gt,droppableId:o.descriptor.id}};return _extends({},_,{at:dt})}var _e=_.displaced.all,tt=_e.length?_e[0]:null;if(i)return tt?et(tt):null;var rt=removeDraggableFromList(a,j);if(!tt){if(!rt.length)return null;var nt=rt[rt.length-1];return et(nt.descriptor.id)}var st=findIndex(rt,function(gt){return gt.descriptor.id===tt});st===-1&&invariant();var ot=st-1;if(ot<0)return null;var ct=rt[ot];return et(ct.descriptor.id)},isHomeOf=function(s,i){return s.descriptor.droppableId===i.descriptor.id},noDisplacedBy={point:origin,value:0},emptyGroups={invisible:{},visible:{},all:[]},noImpact={displaced:emptyGroups,displacedBy:noDisplacedBy,at:null},isWithin=function(s,i){return function(a){return s<=a&&a<=i}},isPartiallyVisibleThroughFrame=function(s){var i=isWithin(s.top,s.bottom),a=isWithin(s.left,s.right);return function(o){var j=i(o.top)&&i(o.bottom)&&a(o.left)&&a(o.right);if(j)return!0;var _=i(o.top)||i(o.bottom),$=a(o.left)||a(o.right),et=_&&$;if(et)return!0;var _e=o.top<s.top&&o.bottom>s.bottom,tt=o.left<s.left&&o.right>s.right,rt=_e&&tt;if(rt)return!0;var nt=_e&&$||tt&&_;return nt}},isTotallyVisibleThroughFrame=function(s){var i=isWithin(s.top,s.bottom),a=isWithin(s.left,s.right);return function(o){var j=i(o.top)&&i(o.bottom)&&a(o.left)&&a(o.right);return j}},vertical={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},horizontal={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},isTotallyVisibleThroughFrameOnAxis=function(s){return function(i){var a=isWithin(i.top,i.bottom),o=isWithin(i.left,i.right);return function(j){return s===vertical?a(j.top)&&a(j.bottom):o(j.left)&&o(j.right)}}},getDroppableDisplaced=function s(i,a){var o=a.frame?a.frame.scroll.diff.displacement:origin;return offsetByPosition(i,o)},isVisibleInDroppable=function s(i,a,o){return a.subject.active?o(a.subject.active)(i):!1},isVisibleInViewport=function s(i,a,o){return o(a)(i)},isVisible=function s(i){var a=i.target,o=i.destination,j=i.viewport,_=i.withDroppableDisplacement,$=i.isVisibleThroughFrameFn,et=_?getDroppableDisplaced(a,o):a;return isVisibleInDroppable(et,o,$)&&isVisibleInViewport(et,j,$)},isPartiallyVisible=function s(i){return isVisible(_extends({},i,{isVisibleThroughFrameFn:isPartiallyVisibleThroughFrame}))},isTotallyVisible=function s(i){return isVisible(_extends({},i,{isVisibleThroughFrameFn:isTotallyVisibleThroughFrame}))},isTotallyVisibleOnAxis=function s(i){return isVisible(_extends({},i,{isVisibleThroughFrameFn:isTotallyVisibleThroughFrameOnAxis(i.destination.axis)}))},getShouldAnimate=function s(i,a,o){if(typeof o=="boolean")return o;if(!a)return!0;var j=a.invisible,_=a.visible;if(j[i])return!1;var $=_[i];return $?$.shouldAnimate:!0};function getTarget(s,i){var a=s.page.marginBox,o={top:i.point.y,right:0,bottom:0,left:i.point.x};return getRect(expand(a,o))}function getDisplacementGroups(s){var i=s.afterDragging,a=s.destination,o=s.displacedBy,j=s.viewport,_=s.forceShouldAnimate,$=s.last;return i.reduce(function(_e,tt){var rt=getTarget(tt,o),nt=tt.descriptor.id;_e.all.push(nt);var st=isPartiallyVisible({target:rt,destination:a,viewport:j,withDroppableDisplacement:!0});if(!st)return _e.invisible[tt.descriptor.id]=!0,_e;var ot=getShouldAnimate(nt,$,_),ct={draggableId:nt,shouldAnimate:ot};return _e.visible[nt]=ct,_e},{all:[],visible:{},invisible:{}})}function getIndexOfLastItem(s,i){if(!s.length)return 0;var a=s[s.length-1].descriptor.index;return i.inHomeList?a:a+1}function goAtEnd(s){var i=s.insideDestination,a=s.inHomeList,o=s.displacedBy,j=s.destination,_=getIndexOfLastItem(i,{inHomeList:a});return{displaced:emptyGroups,displacedBy:o,at:{type:"REORDER",destination:{droppableId:j.descriptor.id,index:_}}}}function calculateReorderImpact(s){var i=s.draggable,a=s.insideDestination,o=s.destination,j=s.viewport,_=s.displacedBy,$=s.last,et=s.index,_e=s.forceShouldAnimate,tt=isHomeOf(i,o);if(et==null)return goAtEnd({insideDestination:a,inHomeList:tt,displacedBy:_,destination:o});var rt=find(a,function(gt){return gt.descriptor.index===et});if(!rt)return goAtEnd({insideDestination:a,inHomeList:tt,displacedBy:_,destination:o});var nt=removeDraggableFromList(i,a),st=a.indexOf(rt),ot=nt.slice(st),ct=getDisplacementGroups({afterDragging:ot,destination:o,displacedBy:_,last:$,viewport:j.frame,forceShouldAnimate:_e});return{displaced:ct,displacedBy:_,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:et}}}}function didStartAfterCritical(s,i){return!!i.effected[s]}var fromCombine=function(s){var i=s.isMovingForward,a=s.destination,o=s.draggables,j=s.combine,_=s.afterCritical;if(!a.isCombineEnabled)return null;var $=j.draggableId,et=o[$],_e=et.descriptor.index,tt=didStartAfterCritical($,_);return tt?i?_e:_e-1:i?_e+1:_e},fromReorder=function(s){var i=s.isMovingForward,a=s.isInHomeList,o=s.insideDestination,j=s.location;if(!o.length)return null;var _=j.index,$=i?_+1:_-1,et=o[0].descriptor.index,_e=o[o.length-1].descriptor.index,tt=a?_e:_e+1;return $<et||$>tt?null:$},moveToNextIndex=function(s){var i=s.isMovingForward,a=s.isInHomeList,o=s.draggable,j=s.draggables,_=s.destination,$=s.insideDestination,et=s.previousImpact,_e=s.viewport,tt=s.afterCritical,rt=et.at;if(rt||invariant(),rt.type==="REORDER"){var nt=fromReorder({isMovingForward:i,isInHomeList:a,location:rt.destination,insideDestination:$});return nt==null?null:calculateReorderImpact({draggable:o,insideDestination:$,destination:_,viewport:_e,last:et.displaced,displacedBy:et.displacedBy,index:nt})}var st=fromCombine({isMovingForward:i,destination:_,displaced:et.displaced,draggables:j,combine:rt.combine,afterCritical:tt});return st==null?null:calculateReorderImpact({draggable:o,insideDestination:$,destination:_,viewport:_e,last:et.displaced,displacedBy:et.displacedBy,index:st})},getCombinedItemDisplacement=function(s){var i=s.displaced,a=s.afterCritical,o=s.combineWith,j=s.displacedBy,_=!!(i.visible[o]||i.invisible[o]);return didStartAfterCritical(o,a)?_?origin:negate(j.point):_?j.point:origin},whenCombining=function(s){var i=s.afterCritical,a=s.impact,o=s.draggables,j=tryGetCombine(a);j||invariant();var _=j.draggableId,$=o[_].page.borderBox.center,et=getCombinedItemDisplacement({displaced:a.displaced,afterCritical:i,combineWith:_,displacedBy:a.displacedBy});return add($,et)},distanceFromStartToBorderBoxCenter=function s(i,a){return a.margin[i.start]+a.borderBox[i.size]/2},distanceFromEndToBorderBoxCenter=function s(i,a){return a.margin[i.end]+a.borderBox[i.size]/2},getCrossAxisBorderBoxCenter=function s(i,a,o){return a[i.crossAxisStart]+o.margin[i.crossAxisStart]+o.borderBox[i.crossAxisSize]/2},goAfter=function s(i){var a=i.axis,o=i.moveRelativeTo,j=i.isMoving;return patch(a.line,o.marginBox[a.end]+distanceFromStartToBorderBoxCenter(a,j),getCrossAxisBorderBoxCenter(a,o.marginBox,j))},goBefore=function s(i){var a=i.axis,o=i.moveRelativeTo,j=i.isMoving;return patch(a.line,o.marginBox[a.start]-distanceFromEndToBorderBoxCenter(a,j),getCrossAxisBorderBoxCenter(a,o.marginBox,j))},goIntoStart=function s(i){var a=i.axis,o=i.moveInto,j=i.isMoving;return patch(a.line,o.contentBox[a.start]+distanceFromStartToBorderBoxCenter(a,j),getCrossAxisBorderBoxCenter(a,o.contentBox,j))},whenReordering=function(s){var i=s.impact,a=s.draggable,o=s.draggables,j=s.droppable,_=s.afterCritical,$=getDraggablesInsideDroppable(j.descriptor.id,o),et=a.page,_e=j.axis;if(!$.length)return goIntoStart({axis:_e,moveInto:j.page,isMoving:et});var tt=i.displaced,rt=i.displacedBy,nt=tt.all[0];if(nt){var st=o[nt];if(didStartAfterCritical(nt,_))return goBefore({axis:_e,moveRelativeTo:st.page,isMoving:et});var ot=offset(st.page,rt.point);return goBefore({axis:_e,moveRelativeTo:ot,isMoving:et})}var ct=$[$.length-1];if(ct.descriptor.id===a.descriptor.id)return et.borderBox.center;if(didStartAfterCritical(ct.descriptor.id,_)){var gt=offset(ct.page,negate(_.displacedBy.point));return goAfter({axis:_e,moveRelativeTo:gt,isMoving:et})}return goAfter({axis:_e,moveRelativeTo:ct.page,isMoving:et})},withDroppableDisplacement=function(s,i){var a=s.frame;return a?add(i,a.scroll.diff.displacement):i},getResultWithoutDroppableDisplacement=function s(i){var a=i.impact,o=i.draggable,j=i.droppable,_=i.draggables,$=i.afterCritical,et=o.page.borderBox.center,_e=a.at;return!j||!_e?et:_e.type==="REORDER"?whenReordering({impact:a,draggable:o,draggables:_,droppable:j,afterCritical:$}):whenCombining({impact:a,draggables:_,afterCritical:$})},getPageBorderBoxCenterFromImpact=function(s){var i=getResultWithoutDroppableDisplacement(s),a=s.droppable,o=a?withDroppableDisplacement(a,i):i;return o},scrollViewport=function(s,i){var a=subtract(i,s.scroll.initial),o=negate(a),j=getRect({top:i.y,bottom:i.y+s.frame.height,left:i.x,right:i.x+s.frame.width}),_={frame:j,scroll:{initial:s.scroll.initial,max:s.scroll.max,current:i,diff:{value:a,displacement:o}}};return _};function getDraggables(s,i){return s.map(function(a){return i[a]})}function tryGetVisible(s,i){for(var a=0;a<i.length;a++){var o=i[a].visible[s];if(o)return o}return null}var speculativelyIncrease=function(s){var i=s.impact,a=s.viewport,o=s.destination,j=s.draggables,_=s.maxScrollChange,$=scrollViewport(a,add(a.scroll.current,_)),et=o.frame?scrollDroppable(o,add(o.frame.scroll.current,_)):o,_e=i.displaced,tt=getDisplacementGroups({afterDragging:getDraggables(_e.all,j),destination:o,displacedBy:i.displacedBy,viewport:$.frame,last:_e,forceShouldAnimate:!1}),rt=getDisplacementGroups({afterDragging:getDraggables(_e.all,j),destination:et,displacedBy:i.displacedBy,viewport:a.frame,last:_e,forceShouldAnimate:!1}),nt={},st={},ot=[_e,tt,rt];_e.all.forEach(function(gt){var dt=tryGetVisible(gt,ot);if(dt){st[gt]=dt;return}nt[gt]=!0});var ct=_extends({},i,{displaced:{all:_e.all,invisible:nt,visible:st}});return ct},withViewportDisplacement=function(s,i){return add(s.scroll.diff.displacement,i)},getClientFromPageBorderBoxCenter=function(s){var i=s.pageBorderBoxCenter,a=s.draggable,o=s.viewport,j=withViewportDisplacement(o,i),_=subtract(j,a.page.borderBox.center);return add(a.client.borderBox.center,_)},isTotallyVisibleInNewLocation=function(s){var i=s.draggable,a=s.destination,o=s.newPageBorderBoxCenter,j=s.viewport,_=s.withDroppableDisplacement,$=s.onlyOnMainAxis,et=$===void 0?!1:$,_e=subtract(o,i.page.borderBox.center),tt=offsetByPosition(i.page.borderBox,_e),rt={target:tt,destination:a,withDroppableDisplacement:_,viewport:j};return et?isTotallyVisibleOnAxis(rt):isTotallyVisible(rt)},moveToNextPlace=function(s){var i=s.isMovingForward,a=s.draggable,o=s.destination,j=s.draggables,_=s.previousImpact,$=s.viewport,et=s.previousPageBorderBoxCenter,_e=s.previousClientSelection,tt=s.afterCritical;if(!o.isEnabled)return null;var rt=getDraggablesInsideDroppable(o.descriptor.id,j),nt=isHomeOf(a,o),st=moveToNextCombine({isMovingForward:i,draggable:a,destination:o,insideDestination:rt,previousImpact:_})||moveToNextIndex({isMovingForward:i,isInHomeList:nt,draggable:a,draggables:j,destination:o,insideDestination:rt,previousImpact:_,viewport:$,afterCritical:tt});if(!st)return null;var ot=getPageBorderBoxCenterFromImpact({impact:st,draggable:a,droppable:o,draggables:j,afterCritical:tt}),ct=isTotallyVisibleInNewLocation({draggable:a,destination:o,newPageBorderBoxCenter:ot,viewport:$.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(ct){var gt=getClientFromPageBorderBoxCenter({pageBorderBoxCenter:ot,draggable:a,viewport:$});return{clientSelection:gt,impact:st,scrollJumpRequest:null}}var dt=subtract(ot,et),it=speculativelyIncrease({impact:st,viewport:$,destination:o,draggables:j,maxScrollChange:dt});return{clientSelection:_e,impact:it,scrollJumpRequest:dt}},getKnownActive=function s(i){var a=i.subject.active;return a||invariant(),a},getBestCrossAxisDroppable=function(s){var i=s.isMovingForward,a=s.pageBorderBoxCenter,o=s.source,j=s.droppables,_=s.viewport,$=o.subject.active;if(!$)return null;var et=o.axis,_e=isWithin($[et.start],$[et.end]),tt=toDroppableList(j).filter(function(nt){return nt!==o}).filter(function(nt){return nt.isEnabled}).filter(function(nt){return!!nt.subject.active}).filter(function(nt){return isPartiallyVisibleThroughFrame(_.frame)(getKnownActive(nt))}).filter(function(nt){var st=getKnownActive(nt);return i?$[et.crossAxisEnd]<st[et.crossAxisEnd]:st[et.crossAxisStart]<$[et.crossAxisStart]}).filter(function(nt){var st=getKnownActive(nt),ot=isWithin(st[et.start],st[et.end]);return _e(st[et.start])||_e(st[et.end])||ot($[et.start])||ot($[et.end])}).sort(function(nt,st){var ot=getKnownActive(nt)[et.crossAxisStart],ct=getKnownActive(st)[et.crossAxisStart];return i?ot-ct:ct-ot}).filter(function(nt,st,ot){return getKnownActive(nt)[et.crossAxisStart]===getKnownActive(ot[0])[et.crossAxisStart]});if(!tt.length)return null;if(tt.length===1)return tt[0];var rt=tt.filter(function(nt){var st=isWithin(getKnownActive(nt)[et.start],getKnownActive(nt)[et.end]);return st(a[et.line])});return rt.length===1?rt[0]:rt.length>1?rt.sort(function(nt,st){return getKnownActive(nt)[et.start]-getKnownActive(st)[et.start]})[0]:tt.sort(function(nt,st){var ot=closest(a,getCorners(getKnownActive(nt))),ct=closest(a,getCorners(getKnownActive(st)));return ot!==ct?ot-ct:getKnownActive(nt)[et.start]-getKnownActive(st)[et.start]})[0]},getCurrentPageBorderBoxCenter=function s(i,a){var o=i.page.borderBox.center;return didStartAfterCritical(i.descriptor.id,a)?subtract(o,a.displacedBy.point):o},getCurrentPageBorderBox=function s(i,a){var o=i.page.borderBox;return didStartAfterCritical(i.descriptor.id,a)?offsetByPosition(o,negate(a.displacedBy.point)):o},getClosestDraggable=function(s){var i=s.pageBorderBoxCenter,a=s.viewport,o=s.destination,j=s.insideDestination,_=s.afterCritical,$=j.filter(function(et){return isTotallyVisible({target:getCurrentPageBorderBox(et,_),destination:o,viewport:a.frame,withDroppableDisplacement:!0})}).sort(function(et,_e){var tt=distance(i,withDroppableDisplacement(o,getCurrentPageBorderBoxCenter(et,_))),rt=distance(i,withDroppableDisplacement(o,getCurrentPageBorderBoxCenter(_e,_)));return tt<rt?-1:rt<tt?1:et.descriptor.index-_e.descriptor.index});return $[0]||null},getDisplacedBy=memoizeOne(function s(i,a){var o=a[i.line];return{value:o,point:patch(i.line,o)}}),getRequiredGrowthForPlaceholder=function s(i,a,o){var j=i.axis;if(i.descriptor.mode==="virtual")return patch(j.line,a[j.line]);var _=i.subject.page.contentBox[j.size],$=getDraggablesInsideDroppable(i.descriptor.id,o),et=$.reduce(function(rt,nt){return rt+nt.client.marginBox[j.size]},0),_e=et+a[j.line],tt=_e-_;return tt<=0?null:patch(j.line,tt)},withMaxScroll=function s(i,a){return _extends({},i,{scroll:_extends({},i.scroll,{max:a})})},addPlaceholder=function s(i,a,o){var j=i.frame;isHomeOf(a,i)&&invariant(),i.subject.withPlaceholder&&invariant();var _=getDisplacedBy(i.axis,a.displaceBy).point,$=getRequiredGrowthForPlaceholder(i,_,o),et={placeholderSize:_,increasedBy:$,oldFrameMaxScroll:i.frame?i.frame.scroll.max:null};if(!j){var _e=getSubject({page:i.subject.page,withPlaceholder:et,axis:i.axis,frame:i.frame});return _extends({},i,{subject:_e})}var tt=$?add(j.scroll.max,$):j.scroll.max,rt=withMaxScroll(j,tt),nt=getSubject({page:i.subject.page,withPlaceholder:et,axis:i.axis,frame:rt});return _extends({},i,{subject:nt,frame:rt})},removePlaceholder=function s(i){var a=i.subject.withPlaceholder;a||invariant();var o=i.frame;if(!o){var j=getSubject({page:i.subject.page,axis:i.axis,frame:null,withPlaceholder:null});return _extends({},i,{subject:j})}var _=a.oldFrameMaxScroll;_||invariant();var $=withMaxScroll(o,_),et=getSubject({page:i.subject.page,axis:i.axis,frame:$,withPlaceholder:null});return _extends({},i,{subject:et,frame:$})},moveToNewDroppable=function(s){var i=s.previousPageBorderBoxCenter,a=s.moveRelativeTo,o=s.insideDestination,j=s.draggable,_=s.draggables,$=s.destination,et=s.viewport,_e=s.afterCritical;if(!a){if(o.length)return null;var tt={displaced:emptyGroups,displacedBy:noDisplacedBy,at:{type:"REORDER",destination:{droppableId:$.descriptor.id,index:0}}},rt=getPageBorderBoxCenterFromImpact({impact:tt,draggable:j,droppable:$,draggables:_,afterCritical:_e}),nt=isHomeOf(j,$)?$:addPlaceholder($,j,_),st=isTotallyVisibleInNewLocation({draggable:j,destination:nt,newPageBorderBoxCenter:rt,viewport:et.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return st?tt:null}var ot=i[$.axis.line]<=a.page.borderBox.center[$.axis.line],ct=function(){var dt=a.descriptor.index;return a.descriptor.id===j.descriptor.id||ot?dt:dt+1}(),gt=getDisplacedBy($.axis,j.displaceBy);return calculateReorderImpact({draggable:j,insideDestination:o,destination:$,viewport:et,displacedBy:gt,last:emptyGroups,index:ct})},moveCrossAxis=function(s){var i=s.isMovingForward,a=s.previousPageBorderBoxCenter,o=s.draggable,j=s.isOver,_=s.draggables,$=s.droppables,et=s.viewport,_e=s.afterCritical,tt=getBestCrossAxisDroppable({isMovingForward:i,pageBorderBoxCenter:a,source:j,droppables:$,viewport:et});if(!tt)return null;var rt=getDraggablesInsideDroppable(tt.descriptor.id,_),nt=getClosestDraggable({pageBorderBoxCenter:a,viewport:et,destination:tt,insideDestination:rt,afterCritical:_e}),st=moveToNewDroppable({previousPageBorderBoxCenter:a,destination:tt,draggable:o,draggables:_,moveRelativeTo:nt,insideDestination:rt,viewport:et,afterCritical:_e});if(!st)return null;var ot=getPageBorderBoxCenterFromImpact({impact:st,draggable:o,droppable:tt,draggables:_,afterCritical:_e}),ct=getClientFromPageBorderBoxCenter({pageBorderBoxCenter:ot,draggable:o,viewport:et});return{clientSelection:ct,impact:st,scrollJumpRequest:null}},whatIsDraggedOver=function(s){var i=s.at;return i?i.type==="REORDER"?i.destination.droppableId:i.combine.droppableId:null},getDroppableOver=function s(i,a){var o=whatIsDraggedOver(i);return o?a[o]:null},moveInDirection=function(s){var i=s.state,a=s.type,o=getDroppableOver(i.impact,i.dimensions.droppables),j=!!o,_=i.dimensions.droppables[i.critical.droppable.id],$=o||_,et=$.axis.direction,_e=et==="vertical"&&(a==="MOVE_UP"||a==="MOVE_DOWN")||et==="horizontal"&&(a==="MOVE_LEFT"||a==="MOVE_RIGHT");if(_e&&!j)return null;var tt=a==="MOVE_DOWN"||a==="MOVE_RIGHT",rt=i.dimensions.draggables[i.critical.draggable.id],nt=i.current.page.borderBoxCenter,st=i.dimensions,ot=st.draggables,ct=st.droppables;return _e?moveToNextPlace({isMovingForward:tt,previousPageBorderBoxCenter:nt,draggable:rt,destination:$,draggables:ot,viewport:i.viewport,previousClientSelection:i.current.client.selection,previousImpact:i.impact,afterCritical:i.afterCritical}):moveCrossAxis({isMovingForward:tt,previousPageBorderBoxCenter:nt,draggable:rt,isOver:$,draggables:ot,droppables:ct,viewport:i.viewport,afterCritical:i.afterCritical})};function isMovementAllowed(s){return s.phase==="DRAGGING"||s.phase==="COLLECTING"}function isPositionInFrame(s){var i=isWithin(s.top,s.bottom),a=isWithin(s.left,s.right);return function(j){return i(j.y)&&a(j.x)}}function getHasOverlap(s,i){return s.left<i.right&&s.right>i.left&&s.top<i.bottom&&s.bottom>i.top}function getFurthestAway(s){var i=s.pageBorderBox,a=s.draggable,o=s.candidates,j=a.page.borderBox.center,_=o.map(function($){var et=$.axis,_e=patch($.axis.line,i.center[et.line],$.page.borderBox.center[et.crossAxisLine]);return{id:$.descriptor.id,distance:distance(j,_e)}}).sort(function($,et){return et.distance-$.distance});return _[0]?_[0].id:null}function getDroppableOver$1(s){var i=s.pageBorderBox,a=s.draggable,o=s.droppables,j=toDroppableList(o).filter(function(_){if(!_.isEnabled)return!1;var $=_.subject.active;if(!$||!getHasOverlap(i,$))return!1;if(isPositionInFrame($)(i.center))return!0;var et=_.axis,_e=$.center[et.crossAxisLine],tt=i[et.crossAxisStart],rt=i[et.crossAxisEnd],nt=isWithin($[et.crossAxisStart],$[et.crossAxisEnd]),st=nt(tt),ot=nt(rt);return!st&&!ot?!0:st?tt<_e:rt>_e});return j.length?j.length===1?j[0].descriptor.id:getFurthestAway({pageBorderBox:i,draggable:a,candidates:j}):null}var offsetRectByPosition=function s(i,a){return getRect(offsetByPosition(i,a))},withDroppableScroll=function(s,i){var a=s.frame;return a?offsetRectByPosition(i,a.scroll.diff.value):i};function getIsDisplaced(s){var i=s.displaced,a=s.id;return!!(i.visible[a]||i.invisible[a])}function atIndex(s){var i=s.draggable,a=s.closest,o=s.inHomeList;return a?o&&a.descriptor.index>i.descriptor.index?a.descriptor.index-1:a.descriptor.index:null}var getReorderImpact=function(s){var i=s.pageBorderBoxWithDroppableScroll,a=s.draggable,o=s.destination,j=s.insideDestination,_=s.last,$=s.viewport,et=s.afterCritical,_e=o.axis,tt=getDisplacedBy(o.axis,a.displaceBy),rt=tt.value,nt=i[_e.start],st=i[_e.end],ot=removeDraggableFromList(a,j),ct=find(ot,function(dt){var it=dt.descriptor.id,lt=dt.page.borderBox.center[_e.line],ut=didStartAfterCritical(it,et),mt=getIsDisplaced({displaced:_,id:it});return ut?mt?st<=lt:nt<lt-rt:mt?st<=lt+rt:nt<lt}),gt=atIndex({draggable:a,closest:ct,inHomeList:isHomeOf(a,o)});return calculateReorderImpact({draggable:a,insideDestination:j,destination:o,viewport:$,last:_,displacedBy:tt,index:gt})},combineThresholdDivisor=4,getCombineImpact=function(s){var i=s.draggable,a=s.pageBorderBoxWithDroppableScroll,o=s.previousImpact,j=s.destination,_=s.insideDestination,$=s.afterCritical;if(!j.isCombineEnabled)return null;var et=j.axis,_e=getDisplacedBy(j.axis,i.displaceBy),tt=_e.value,rt=a[et.start],nt=a[et.end],st=removeDraggableFromList(i,_),ot=find(st,function(gt){var dt=gt.descriptor.id,it=gt.page.borderBox,lt=it[et.size],ut=lt/combineThresholdDivisor,mt=didStartAfterCritical(dt,$),ht=getIsDisplaced({displaced:o.displaced,id:dt});return mt?ht?nt>it[et.start]+ut&&nt<it[et.end]-ut:rt>it[et.start]-tt+ut&&rt<it[et.end]-tt-ut:ht?nt>it[et.start]+tt+ut&&nt<it[et.end]+tt-ut:rt>it[et.start]+ut&&rt<it[et.end]-ut});if(!ot)return null;var ct={displacedBy:_e,displaced:o.displaced,at:{type:"COMBINE",combine:{draggableId:ot.descriptor.id,droppableId:j.descriptor.id}}};return ct},getDragImpact=function(s){var i=s.pageOffset,a=s.draggable,o=s.draggables,j=s.droppables,_=s.previousImpact,$=s.viewport,et=s.afterCritical,_e=offsetRectByPosition(a.page.borderBox,i),tt=getDroppableOver$1({pageBorderBox:_e,draggable:a,droppables:j});if(!tt)return noImpact;var rt=j[tt],nt=getDraggablesInsideDroppable(rt.descriptor.id,o),st=withDroppableScroll(rt,_e);return getCombineImpact({pageBorderBoxWithDroppableScroll:st,draggable:a,previousImpact:_,destination:rt,insideDestination:nt,afterCritical:et})||getReorderImpact({pageBorderBoxWithDroppableScroll:st,draggable:a,destination:rt,insideDestination:nt,last:_.displaced,viewport:$,afterCritical:et})},patchDroppableMap=function(s,i){var a;return _extends({},s,(a={},a[i.descriptor.id]=i,a))},clearUnusedPlaceholder=function s(i){var a=i.previousImpact,o=i.impact,j=i.droppables,_=whatIsDraggedOver(a),$=whatIsDraggedOver(o);if(!_||_===$)return j;var et=j[_];if(!et.subject.withPlaceholder)return j;var _e=removePlaceholder(et);return patchDroppableMap(j,_e)},recomputePlaceholders=function(s){var i=s.draggable,a=s.draggables,o=s.droppables,j=s.previousImpact,_=s.impact,$=clearUnusedPlaceholder({previousImpact:j,impact:_,droppables:o}),et=whatIsDraggedOver(_);if(!et)return $;var _e=o[et];if(isHomeOf(i,_e)||_e.subject.withPlaceholder)return $;var tt=addPlaceholder(_e,i,a);return patchDroppableMap($,tt)},update=function(s){var i=s.state,a=s.clientSelection,o=s.dimensions,j=s.viewport,_=s.impact,$=s.scrollJumpRequest,et=j||i.viewport,_e=o||i.dimensions,tt=a||i.current.client.selection,rt=subtract(tt,i.initial.client.selection),nt={offset:rt,selection:tt,borderBoxCenter:add(i.initial.client.borderBoxCenter,rt)},st={selection:add(nt.selection,et.scroll.current),borderBoxCenter:add(nt.borderBoxCenter,et.scroll.current),offset:add(nt.offset,et.scroll.diff.value)},ot={client:nt,page:st};if(i.phase==="COLLECTING")return _extends({phase:"COLLECTING"},i,{dimensions:_e,viewport:et,current:ot});var ct=_e.draggables[i.critical.draggable.id],gt=_||getDragImpact({pageOffset:st.offset,draggable:ct,draggables:_e.draggables,droppables:_e.droppables,previousImpact:i.impact,viewport:et,afterCritical:i.afterCritical}),dt=recomputePlaceholders({draggable:ct,impact:gt,previousImpact:i.impact,draggables:_e.draggables,droppables:_e.droppables}),it=_extends({},i,{current:ot,dimensions:{draggables:_e.draggables,droppables:dt},impact:gt,viewport:et,scrollJumpRequest:$||null,forceShouldAnimate:$?!1:null});return it};function getDraggables$1(s,i){return s.map(function(a){return i[a]})}var recompute=function(s){var i=s.impact,a=s.viewport,o=s.draggables,j=s.destination,_=s.forceShouldAnimate,$=i.displaced,et=getDraggables$1($.all,o),_e=getDisplacementGroups({afterDragging:et,destination:j,displacedBy:i.displacedBy,viewport:a.frame,forceShouldAnimate:_,last:$});return _extends({},i,{displaced:_e})},getClientBorderBoxCenter=function(s){var i=s.impact,a=s.draggable,o=s.droppable,j=s.draggables,_=s.viewport,$=s.afterCritical,et=getPageBorderBoxCenterFromImpact({impact:i,draggable:a,draggables:j,droppable:o,afterCritical:$});return getClientFromPageBorderBoxCenter({pageBorderBoxCenter:et,draggable:a,viewport:_})},refreshSnap=function(s){var i=s.state,a=s.dimensions,o=s.viewport;i.movementMode!=="SNAP"&&invariant();var j=i.impact,_=o||i.viewport,$=a||i.dimensions,et=$.draggables,_e=$.droppables,tt=et[i.critical.draggable.id],rt=whatIsDraggedOver(j);rt||invariant();var nt=_e[rt],st=recompute({impact:j,viewport:_,destination:nt,draggables:et}),ot=getClientBorderBoxCenter({impact:st,draggable:tt,droppable:nt,draggables:et,viewport:_,afterCritical:i.afterCritical});return update({impact:st,clientSelection:ot,state:i,dimensions:$,viewport:_})},getHomeLocation=function(s){return{index:s.index,droppableId:s.droppableId}},getLiftEffect=function(s){var i=s.draggable,a=s.home,o=s.draggables,j=s.viewport,_=getDisplacedBy(a.axis,i.displaceBy),$=getDraggablesInsideDroppable(a.descriptor.id,o),et=$.indexOf(i);et===-1&&invariant();var _e=$.slice(et+1),tt=_e.reduce(function(ot,ct){return ot[ct.descriptor.id]=!0,ot},{}),rt={inVirtualList:a.descriptor.mode==="virtual",displacedBy:_,effected:tt},nt=getDisplacementGroups({afterDragging:_e,destination:a,displacedBy:_,last:null,viewport:j.frame,forceShouldAnimate:!1}),st={displaced:nt,displacedBy:_,at:{type:"REORDER",destination:getHomeLocation(i.descriptor)}};return{impact:st,afterCritical:rt}},patchDimensionMap=function(s,i){return{draggables:s.draggables,droppables:patchDroppableMap(s.droppables,i)}},offsetDraggable=function(s){var i=s.draggable,a=s.offset,o=s.initialWindowScroll,j=offset(i.client,a),_=withScroll(j,o),$=_extends({},i,{placeholder:_extends({},i.placeholder,{client:j}),client:j,page:_});return $},getFrame=function(s){var i=s.frame;return i||invariant(),i},adjustAdditionsForScrollChanges=function(s){var i=s.additions,a=s.updatedDroppables,o=s.viewport,j=o.scroll.diff.value;return i.map(function(_){var $=_.descriptor.droppableId,et=a[$],_e=getFrame(et),tt=_e.scroll.diff.value,rt=add(j,tt),nt=offsetDraggable({draggable:_,offset:rt,initialWindowScroll:o.scroll.initial});return nt})},publishWhileDraggingInVirtual=function(s){var i=s.state,a=s.published,o=a.modified.map(function(ut){var mt=i.dimensions.droppables[ut.droppableId],ht=scrollDroppable(mt,ut.scroll);return ht}),j=_extends({},i.dimensions.droppables,{},toDroppableMap(o)),_=toDraggableMap(adjustAdditionsForScrollChanges({additions:a.additions,updatedDroppables:j,viewport:i.viewport})),$=_extends({},i.dimensions.draggables,{},_);a.removals.forEach(function(ut){delete $[ut]});var et={droppables:j,draggables:$},_e=whatIsDraggedOver(i.impact),tt=_e?et.droppables[_e]:null,rt=et.draggables[i.critical.draggable.id],nt=et.droppables[i.critical.droppable.id],st=getLiftEffect({draggable:rt,home:nt,draggables:$,viewport:i.viewport}),ot=st.impact,ct=st.afterCritical,gt=tt&&tt.isCombineEnabled?i.impact:ot,dt=getDragImpact({pageOffset:i.current.page.offset,draggable:et.draggables[i.critical.draggable.id],draggables:et.draggables,droppables:et.droppables,previousImpact:gt,viewport:i.viewport,afterCritical:ct}),it=_extends({phase:"DRAGGING"},i,{phase:"DRAGGING",impact:dt,onLiftImpact:ot,dimensions:et,afterCritical:ct,forceShouldAnimate:!1});if(i.phase==="COLLECTING")return it;var lt=_extends({phase:"DROP_PENDING"},it,{phase:"DROP_PENDING",reason:i.reason,isWaiting:!1});return lt},isSnapping=function s(i){return i.movementMode==="SNAP"},postDroppableChange=function s(i,a,o){var j=patchDimensionMap(i.dimensions,a);return!isSnapping(i)||o?update({state:i,dimensions:j}):refreshSnap({state:i,dimensions:j})};function removeScrollJumpRequest(s){return s.isDragging&&s.movementMode==="SNAP"?_extends({phase:"DRAGGING"},s,{scrollJumpRequest:null}):s}var idle={phase:"IDLE",completed:null,shouldFlush:!1},reducer=function(s,i){if(s===void 0&&(s=idle),i.type==="FLUSH")return _extends({},idle,{shouldFlush:!0});if(i.type==="INITIAL_PUBLISH"){s.phase!=="IDLE"&&invariant();var a=i.payload,o=a.critical,j=a.clientSelection,_=a.viewport,$=a.dimensions,et=a.movementMode,_e=$.draggables[o.draggable.id],tt=$.droppables[o.droppable.id],rt={selection:j,borderBoxCenter:_e.client.borderBox.center,offset:origin},nt={client:rt,page:{selection:add(rt.selection,_.scroll.initial),borderBoxCenter:add(rt.selection,_.scroll.initial),offset:add(rt.selection,_.scroll.diff.value)}},st=toDroppableList($.droppables).every(function(Zt){return!Zt.isFixedOnPage}),ot=getLiftEffect({draggable:_e,home:tt,draggables:$.draggables,viewport:_}),ct=ot.impact,gt=ot.afterCritical,dt={phase:"DRAGGING",isDragging:!0,critical:o,movementMode:et,dimensions:$,initial:nt,current:nt,isWindowScrollAllowed:st,impact:ct,afterCritical:gt,onLiftImpact:ct,viewport:_,scrollJumpRequest:null,forceShouldAnimate:null};return dt}if(i.type==="COLLECTION_STARTING"){if(s.phase==="COLLECTING"||s.phase==="DROP_PENDING")return s;s.phase!=="DRAGGING"&&invariant();var it=_extends({phase:"COLLECTING"},s,{phase:"COLLECTING"});return it}if(i.type==="PUBLISH_WHILE_DRAGGING")return s.phase==="COLLECTING"||s.phase==="DROP_PENDING"||invariant(),publishWhileDraggingInVirtual({state:s,published:i.payload});if(i.type==="MOVE"){if(s.phase==="DROP_PENDING")return s;isMovementAllowed(s)||invariant();var lt=i.payload.client;return isEqual(lt,s.current.client.selection)?s:update({state:s,clientSelection:lt,impact:isSnapping(s)?s.impact:null})}if(i.type==="UPDATE_DROPPABLE_SCROLL"){if(s.phase==="DROP_PENDING"||s.phase==="COLLECTING")return removeScrollJumpRequest(s);isMovementAllowed(s)||invariant();var ut=i.payload,mt=ut.id,ht=ut.newScroll,vt=s.dimensions.droppables[mt];if(!vt)return s;var at=scrollDroppable(vt,ht);return postDroppableChange(s,at,!1)}if(i.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(s.phase==="DROP_PENDING")return s;isMovementAllowed(s)||invariant();var pt=i.payload,yt=pt.id,jt=pt.isEnabled,xt=s.dimensions.droppables[yt];xt||invariant(),xt.isEnabled===jt&&invariant();var wt=_extends({},xt,{isEnabled:jt});return postDroppableChange(s,wt,!0)}if(i.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(s.phase==="DROP_PENDING")return s;isMovementAllowed(s)||invariant();var At=i.payload,Ut=At.id,Ft=At.isCombineEnabled,Bt=s.dimensions.droppables[Ut];Bt||invariant(),Bt.isCombineEnabled===Ft&&invariant();var Nt=_extends({},Bt,{isCombineEnabled:Ft});return postDroppableChange(s,Nt,!0)}if(i.type==="MOVE_BY_WINDOW_SCROLL"){if(s.phase==="DROP_PENDING"||s.phase==="DROP_ANIMATING")return s;isMovementAllowed(s)||invariant(),s.isWindowScrollAllowed||invariant();var Rt=i.payload.newScroll;if(isEqual(s.viewport.scroll.current,Rt))return removeScrollJumpRequest(s);var kt=scrollViewport(s.viewport,Rt);return isSnapping(s)?refreshSnap({state:s,viewport:kt}):update({state:s,viewport:kt})}if(i.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!isMovementAllowed(s))return s;var Dt=i.payload.maxScroll;if(isEqual(Dt,s.viewport.scroll.max))return s;var zt=_extends({},s.viewport,{scroll:_extends({},s.viewport.scroll,{max:Dt})});return _extends({phase:"DRAGGING"},s,{viewport:zt})}if(i.type==="MOVE_UP"||i.type==="MOVE_DOWN"||i.type==="MOVE_LEFT"||i.type==="MOVE_RIGHT"){if(s.phase==="COLLECTING"||s.phase==="DROP_PENDING")return s;s.phase!=="DRAGGING"&&invariant();var Ct=moveInDirection({state:s,type:i.type});return Ct?update({state:s,impact:Ct.impact,clientSelection:Ct.clientSelection,scrollJumpRequest:Ct.scrollJumpRequest}):s}if(i.type==="DROP_PENDING"){var bt=i.payload.reason;s.phase!=="COLLECTING"&&invariant();var Et=_extends({phase:"DROP_PENDING"},s,{phase:"DROP_PENDING",isWaiting:!0,reason:bt});return Et}if(i.type==="DROP_ANIMATE"){var St=i.payload,It=St.completed,Pt=St.dropDuration,Mt=St.newHomeClientOffset;s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||invariant();var Gt={phase:"DROP_ANIMATING",completed:It,dropDuration:Pt,newHomeClientOffset:Mt,dimensions:s.dimensions};return Gt}if(i.type==="DROP_COMPLETE"){var Yt=i.payload.completed;return{phase:"IDLE",completed:Yt,shouldFlush:!1}}return s},beforeInitialCapture=function s(i){return{type:"BEFORE_INITIAL_CAPTURE",payload:i}},lift=function s(i){return{type:"LIFT",payload:i}},initialPublish=function s(i){return{type:"INITIAL_PUBLISH",payload:i}},publishWhileDragging=function s(i){return{type:"PUBLISH_WHILE_DRAGGING",payload:i}},collectionStarting=function s(){return{type:"COLLECTION_STARTING",payload:null}},updateDroppableScroll=function s(i){return{type:"UPDATE_DROPPABLE_SCROLL",payload:i}},updateDroppableIsEnabled=function s(i){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:i}},updateDroppableIsCombineEnabled=function s(i){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:i}},move=function s(i){return{type:"MOVE",payload:i}},moveByWindowScroll=function s(i){return{type:"MOVE_BY_WINDOW_SCROLL",payload:i}},updateViewportMaxScroll=function s(i){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:i}},moveUp=function s(){return{type:"MOVE_UP",payload:null}},moveDown=function s(){return{type:"MOVE_DOWN",payload:null}},moveRight=function s(){return{type:"MOVE_RIGHT",payload:null}},moveLeft=function s(){return{type:"MOVE_LEFT",payload:null}},flush=function s(){return{type:"FLUSH",payload:null}},animateDrop=function s(i){return{type:"DROP_ANIMATE",payload:i}},completeDrop=function s(i){return{type:"DROP_COMPLETE",payload:i}},drop=function s(i){return{type:"DROP",payload:i}},dropPending=function s(i){return{type:"DROP_PENDING",payload:i}},dropAnimationFinished=function s(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},lift$1=function(s){return function(i){var a=i.getState,o=i.dispatch;return function(j){return function(_){if(_.type!=="LIFT"){j(_);return}var $=_.payload,et=$.id,_e=$.clientSelection,tt=$.movementMode,rt=a();rt.phase==="DROP_ANIMATING"&&o(completeDrop({completed:rt.completed})),a().phase!=="IDLE"&&invariant(),o(flush()),o(beforeInitialCapture({draggableId:et,movementMode:tt}));var nt={shouldPublishImmediately:tt==="SNAP"},st={draggableId:et,scrollOptions:nt},ot=s.startPublishing(st),ct=ot.critical,gt=ot.dimensions,dt=ot.viewport;o(initialPublish({critical:ct,dimensions:gt,clientSelection:_e,movementMode:tt,viewport:dt}))}}}},style=function(s){return function(){return function(i){return function(a){a.type==="INITIAL_PUBLISH"&&s.dragging(),a.type==="DROP_ANIMATE"&&s.dropping(a.payload.completed.result.reason),(a.type==="FLUSH"||a.type==="DROP_COMPLETE")&&s.resting(),i(a)}}}},curves={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},combine={opacity:{drop:0,combining:.7},scale:{drop:.75}},timings={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},outOfTheWayTiming=timings.outOfTheWay+"s "+curves.outOfTheWay,transitions={fluid:"opacity "+outOfTheWayTiming,snap:"transform "+outOfTheWayTiming+", opacity "+outOfTheWayTiming,drop:function s(i){var a=i+"s "+curves.drop;return"transform "+a+", opacity "+a},outOfTheWay:"transform "+outOfTheWayTiming,placeholder:"height "+outOfTheWayTiming+", width "+outOfTheWayTiming+", margin "+outOfTheWayTiming},moveTo=function s(i){return isEqual(i,origin)?null:"translate("+i.x+"px, "+i.y+"px)"},transforms={moveTo,drop:function s(i,a){var o=moveTo(i);return o?a?o+" scale("+combine.scale.drop+")":o:null}},minDropTime=timings.minDropTime,maxDropTime=timings.maxDropTime,dropTimeRange=maxDropTime-minDropTime,maxDropTimeAtDistance=1500,cancelDropModifier=.6,getDropDuration=function(s){var i=s.current,a=s.destination,o=s.reason,j=distance(i,a);if(j<=0)return minDropTime;if(j>=maxDropTimeAtDistance)return maxDropTime;var _=j/maxDropTimeAtDistance,$=minDropTime+dropTimeRange*_,et=o==="CANCEL"?$*cancelDropModifier:$;return Number(et.toFixed(2))},getNewHomeClientOffset=function(s){var i=s.impact,a=s.draggable,o=s.dimensions,j=s.viewport,_=s.afterCritical,$=o.draggables,et=o.droppables,_e=whatIsDraggedOver(i),tt=_e?et[_e]:null,rt=et[a.descriptor.droppableId],nt=getClientBorderBoxCenter({impact:i,draggable:a,draggables:$,afterCritical:_,droppable:tt||rt,viewport:j}),st=subtract(nt,a.client.borderBox.center);return st},getDropImpact=function(s){var i=s.draggables,a=s.reason,o=s.lastImpact,j=s.home,_=s.viewport,$=s.onLiftImpact;if(!o.at||a!=="DROP"){var et=recompute({draggables:i,impact:$,destination:j,viewport:_,forceShouldAnimate:!0});return{impact:et,didDropInsideDroppable:!1}}if(o.at.type==="REORDER")return{impact:o,didDropInsideDroppable:!0};var _e=_extends({},o,{displaced:emptyGroups});return{impact:_e,didDropInsideDroppable:!0}},drop$1=function(s){var i=s.getState,a=s.dispatch;return function(o){return function(j){if(j.type!=="DROP"){o(j);return}var _=i(),$=j.payload.reason;if(_.phase==="COLLECTING"){a(dropPending({reason:$}));return}if(_.phase!=="IDLE"){var et=_.phase==="DROP_PENDING"&&_.isWaiting;et&&invariant(),_.phase==="DRAGGING"||_.phase==="DROP_PENDING"||invariant();var _e=_.critical,tt=_.dimensions,rt=tt.draggables[_.critical.draggable.id],nt=getDropImpact({reason:$,lastImpact:_.impact,afterCritical:_.afterCritical,onLiftImpact:_.onLiftImpact,home:_.dimensions.droppables[_.critical.droppable.id],viewport:_.viewport,draggables:_.dimensions.draggables}),st=nt.impact,ot=nt.didDropInsideDroppable,ct=ot?tryGetDestination(st):null,gt=ot?tryGetCombine(st):null,dt={index:_e.draggable.index,droppableId:_e.droppable.id},it={draggableId:rt.descriptor.id,type:rt.descriptor.type,source:dt,reason:$,mode:_.movementMode,destination:ct,combine:gt},lt=getNewHomeClientOffset({impact:st,draggable:rt,dimensions:tt,viewport:_.viewport,afterCritical:_.afterCritical}),ut={critical:_.critical,afterCritical:_.afterCritical,result:it,impact:st},mt=!isEqual(_.current.client.offset,lt)||!!it.combine;if(!mt){a(completeDrop({completed:ut}));return}var ht=getDropDuration({current:_.current.client.offset,destination:lt,reason:$}),vt={newHomeClientOffset:lt,dropDuration:ht,completed:ut};a(animateDrop(vt))}}}},getWindowScroll=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function getWindowScrollBinding(s){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(a){a.target!==window&&a.target!==window.document||s()}}}function getScrollListener(s){var i=s.onWindowScroll;function a(){i(getWindowScroll())}var o=rafSchd(a),j=getWindowScrollBinding(o),_=noop;function $(){return _!==noop}function et(){$()&&invariant(),_=bindEvents(window,[j])}function _e(){$()||invariant(),o.cancel(),_(),_=noop}return{start:et,stop:_e,isActive:$}}var shouldEnd=function s(i){return i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATE"||i.type==="FLUSH"},scrollListener=function(s){var i=getScrollListener({onWindowScroll:function(o){s.dispatch(moveByWindowScroll({newScroll:o}))}});return function(a){return function(o){!i.isActive()&&o.type==="INITIAL_PUBLISH"&&i.start(),i.isActive()&&shouldEnd(o)&&i.stop(),a(o)}}},getExpiringAnnounce=function(s){var i=!1,a=!1,o=setTimeout(function(){a=!0}),j=function($){i||a||(i=!0,s($),clearTimeout(o))};return j.wasCalled=function(){return i},j},getAsyncMarshal=function(){var s=[],i=function(_){var $=findIndex(s,function(tt){return tt.timerId===_});$===-1&&invariant();var et=s.splice($,1),_e=et[0];_e.callback()},a=function(_){var $=setTimeout(function(){return i($)}),et={timerId:$,callback:_};s.push(et)},o=function(){if(s.length){var _=[].concat(s);s.length=0,_.forEach(function($){clearTimeout($.timerId),$.callback()})}};return{add:a,flush:o}},areLocationsEqual=function s(i,a){return i==null&&a==null?!0:i==null||a==null?!1:i.droppableId===a.droppableId&&i.index===a.index},isCombineEqual=function s(i,a){return i==null&&a==null?!0:i==null||a==null?!1:i.draggableId===a.draggableId&&i.droppableId===a.droppableId},isCriticalEqual=function s(i,a){if(i===a)return!0;var o=i.draggable.id===a.draggable.id&&i.draggable.droppableId===a.draggable.droppableId&&i.draggable.type===a.draggable.type&&i.draggable.index===a.draggable.index,j=i.droppable.id===a.droppable.id&&i.droppable.type===a.droppable.type;return o&&j},withTimings=function s(i,a){a()},getDragStart=function s(i,a){return{draggableId:i.draggable.id,type:i.droppable.type,source:{droppableId:i.droppable.id,index:i.draggable.index},mode:a}},execute=function s(i,a,o,j){if(!i){o(j(a));return}var _=getExpiringAnnounce(o),$={announce:_};i(a,$),_.wasCalled()||o(j(a))},getPublisher=function(s,i){var a=getAsyncMarshal(),o=null,j=function(st,ot){o&&invariant(),withTimings("onBeforeCapture",function(){var ct=s().onBeforeCapture;if(ct){var gt={draggableId:st,mode:ot};ct(gt)}})},_=function(st,ot){o&&invariant(),withTimings("onBeforeDragStart",function(){var ct=s().onBeforeDragStart;ct&&ct(getDragStart(st,ot))})},$=function(st,ot){o&&invariant();var ct=getDragStart(st,ot);o={mode:ot,lastCritical:st,lastLocation:ct.source,lastCombine:null},a.add(function(){withTimings("onDragStart",function(){return execute(s().onDragStart,ct,i,preset.onDragStart)})})},et=function(st,ot){var ct=tryGetDestination(ot),gt=tryGetCombine(ot);o||invariant();var dt=!isCriticalEqual(st,o.lastCritical);dt&&(o.lastCritical=st);var it=!areLocationsEqual(o.lastLocation,ct);it&&(o.lastLocation=ct);var lt=!isCombineEqual(o.lastCombine,gt);if(lt&&(o.lastCombine=gt),!(!dt&&!it&&!lt)){var ut=_extends({},getDragStart(st,o.mode),{combine:gt,destination:ct});a.add(function(){withTimings("onDragUpdate",function(){return execute(s().onDragUpdate,ut,i,preset.onDragUpdate)})})}},_e=function(){o||invariant(),a.flush()},tt=function(st){o||invariant(),o=null,withTimings("onDragEnd",function(){return execute(s().onDragEnd,st,i,preset.onDragEnd)})},rt=function(){if(o){var st=_extends({},getDragStart(o.lastCritical,o.mode),{combine:null,destination:null,reason:"CANCEL"});tt(st)}};return{beforeCapture:j,beforeStart:_,start:$,update:et,flush:_e,drop:tt,abort:rt}},responders=function(s,i){var a=getPublisher(s,i);return function(o){return function(j){return function(_){if(_.type==="BEFORE_INITIAL_CAPTURE"){a.beforeCapture(_.payload.draggableId,_.payload.movementMode);return}if(_.type==="INITIAL_PUBLISH"){var $=_.payload.critical;a.beforeStart($,_.payload.movementMode),j(_),a.start($,_.payload.movementMode);return}if(_.type==="DROP_COMPLETE"){var et=_.payload.completed.result;a.flush(),j(_),a.drop(et);return}if(j(_),_.type==="FLUSH"){a.abort();return}var _e=o.getState();_e.phase==="DRAGGING"&&a.update(_e.critical,_e.impact)}}}},dropAnimationFinish=function(s){return function(i){return function(a){if(a.type!=="DROP_ANIMATION_FINISHED"){i(a);return}var o=s.getState();o.phase!=="DROP_ANIMATING"&&invariant(),s.dispatch(completeDrop({completed:o.completed}))}}},dropAnimationFlushOnScroll=function(s){var i=null,a=null;function o(){a&&(cancelAnimationFrame(a),a=null),i&&(i(),i=null)}return function(j){return function(_){if((_.type==="FLUSH"||_.type==="DROP_COMPLETE"||_.type==="DROP_ANIMATION_FINISHED")&&o(),j(_),_.type==="DROP_ANIMATE"){var $={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var _e=s.getState();_e.phase==="DROP_ANIMATING"&&s.dispatch(dropAnimationFinished())}};a=requestAnimationFrame(function(){a=null,i=bindEvents(window,[$])})}}}},dimensionMarshalStopper=function(s){return function(){return function(i){return function(a){(a.type==="DROP_COMPLETE"||a.type==="FLUSH"||a.type==="DROP_ANIMATE")&&s.stopPublishing(),i(a)}}}},focus=function(s){var i=!1;return function(){return function(a){return function(o){if(o.type==="INITIAL_PUBLISH"){i=!0,s.tryRecordFocus(o.payload.critical.draggable.id),a(o),s.tryRestoreFocusRecorded();return}if(a(o),!!i){if(o.type==="FLUSH"){i=!1,s.tryRestoreFocusRecorded();return}if(o.type==="DROP_COMPLETE"){i=!1;var j=o.payload.completed.result;j.combine&&s.tryShiftRecord(j.draggableId,j.combine.draggableId),s.tryRestoreFocusRecorded()}}}}}},shouldStop=function s(i){return i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATE"||i.type==="FLUSH"},autoScroll=function(s){return function(i){return function(a){return function(o){if(shouldStop(o)){s.stop(),a(o);return}if(o.type==="INITIAL_PUBLISH"){a(o);var j=i.getState();j.phase!=="DRAGGING"&&invariant(),s.start(j);return}a(o),s.scroll(i.getState())}}}},pendingDrop=function(s){return function(i){return function(a){if(i(a),a.type==="PUBLISH_WHILE_DRAGGING"){var o=s.getState();o.phase==="DROP_PENDING"&&(o.isWaiting||s.dispatch(drop({reason:o.reason})))}}}},composeEnhancers=compose,createStore=function(s){var i=s.dimensionMarshal,a=s.focusMarshal,o=s.styleMarshal,j=s.getResponders,_=s.announce,$=s.autoScroller;return createStore$1(reducer,composeEnhancers(applyMiddleware(style(o),dimensionMarshalStopper(i),lift$1(i),drop$1,dropAnimationFinish,dropAnimationFlushOnScroll,pendingDrop,autoScroll($),scrollListener,focus(a),responders(j,_))))},clean$1=function s(){return{additions:{},removals:{},modified:{}}};function createPublisher(s){var i=s.registry,a=s.callbacks,o=clean$1(),j=null,_=function(){j||(a.collectionStarting(),j=requestAnimationFrame(function(){j=null;var rt=o,nt=rt.additions,st=rt.removals,ot=rt.modified,ct=Object.keys(nt).map(function(it){return i.draggable.getById(it).getDimension(origin)}).sort(function(it,lt){return it.descriptor.index-lt.descriptor.index}),gt=Object.keys(ot).map(function(it){var lt=i.droppable.getById(it),ut=lt.callbacks.getScrollWhileDragging();return{droppableId:it,scroll:ut}}),dt={additions:ct,removals:Object.keys(st),modified:gt};o=clean$1(),a.publish(dt)}))},$=function(rt){var nt=rt.descriptor.id;o.additions[nt]=rt,o.modified[rt.descriptor.droppableId]=!0,o.removals[nt]&&delete o.removals[nt],_()},et=function(rt){var nt=rt.descriptor;o.removals[nt.id]=!0,o.modified[nt.droppableId]=!0,o.additions[nt.id]&&delete o.additions[nt.id],_()},_e=function(){j&&(cancelAnimationFrame(j),j=null,o=clean$1())};return{add:$,remove:et,stop:_e}}var getMaxScroll=function(s){var i=s.scrollHeight,a=s.scrollWidth,o=s.height,j=s.width,_=subtract({x:a,y:i},{x:j,y:o}),$={x:Math.max(0,_.x),y:Math.max(0,_.y)};return $},getDocumentElement=function(){var s=document.documentElement;return s||invariant(),s},getMaxWindowScroll=function(){var s=getDocumentElement(),i=getMaxScroll({scrollHeight:s.scrollHeight,scrollWidth:s.scrollWidth,width:s.clientWidth,height:s.clientHeight});return i},getViewport=function(){var s=getWindowScroll(),i=getMaxWindowScroll(),a=s.y,o=s.x,j=getDocumentElement(),_=j.clientWidth,$=j.clientHeight,et=o+_,_e=a+$,tt=getRect({top:a,left:o,right:et,bottom:_e}),rt={frame:tt,scroll:{initial:s,current:s,max:i,diff:{value:origin,displacement:origin}}};return rt},getInitialPublish=function(s){var i=s.critical,a=s.scrollOptions,o=s.registry,j=getViewport(),_=j.scroll.current,$=i.droppable,et=o.droppable.getAllByType($.type).map(function(nt){return nt.callbacks.getDimensionAndWatchScroll(_,a)}),_e=o.draggable.getAllByType(i.draggable.type).map(function(nt){return nt.getDimension(_)}),tt={draggables:toDraggableMap(_e),droppables:toDroppableMap(et)},rt={dimensions:tt,critical:i,viewport:j};return rt};function shouldPublishUpdate(s,i,a){if(a.descriptor.id===i.id||a.descriptor.type!==i.type)return!1;var o=s.droppable.getById(a.descriptor.droppableId);return o.descriptor.mode==="virtual"}var createDimensionMarshal=function(s,i){var a=null,o=createPublisher({callbacks:{publish:i.publishWhileDragging,collectionStarting:i.collectionStarting},registry:s}),j=function(ot,ct){s.droppable.exists(ot)||invariant(),a&&i.updateDroppableIsEnabled({id:ot,isEnabled:ct})},_=function(ot,ct){a&&(s.droppable.exists(ot)||invariant(),i.updateDroppableIsCombineEnabled({id:ot,isCombineEnabled:ct}))},$=function(ot,ct){a&&(s.droppable.exists(ot)||invariant(),i.updateDroppableScroll({id:ot,newScroll:ct}))},et=function(ot,ct){a&&s.droppable.getById(ot).callbacks.scroll(ct)},_e=function(){if(a){o.stop();var ot=a.critical.droppable;s.droppable.getAllByType(ot.type).forEach(function(ct){return ct.callbacks.dragStopped()}),a.unsubscribe(),a=null}},tt=function(ot){a||invariant();var ct=a.critical.draggable;ot.type==="ADDITION"&&shouldPublishUpdate(s,ct,ot.value)&&o.add(ot.value),ot.type==="REMOVAL"&&shouldPublishUpdate(s,ct,ot.value)&&o.remove(ot.value)},rt=function(ot){a&&invariant();var ct=s.draggable.getById(ot.draggableId),gt=s.droppable.getById(ct.descriptor.droppableId),dt={draggable:ct.descriptor,droppable:gt.descriptor},it=s.subscribe(tt);return a={critical:dt,unsubscribe:it},getInitialPublish({critical:dt,registry:s,scrollOptions:ot.scrollOptions})},nt={updateDroppableIsEnabled:j,updateDroppableIsCombineEnabled:_,scrollDroppable:et,updateDroppableScroll:$,startPublishing:rt,stopPublishing:_e};return nt},canStartDrag=function(s,i){return s.phase==="IDLE"?!0:s.phase!=="DROP_ANIMATING"||s.completed.result.draggableId===i?!1:s.completed.result.reason==="DROP"},scrollWindow=function(s){window.scrollBy(s.x,s.y)},getScrollableDroppables=memoizeOne(function(s){return toDroppableList(s).filter(function(i){return!(!i.isEnabled||!i.frame)})}),getScrollableDroppableOver=function s(i,a){var o=find(getScrollableDroppables(a),function(j){return j.frame||invariant(),isPositionInFrame(j.frame.pageMarginBox)(i)});return o},getBestScrollableDroppable=function(s){var i=s.center,a=s.destination,o=s.droppables;if(a){var j=o[a];return j.frame?j:null}var _=getScrollableDroppableOver(i,o);return _},config={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function s(i){return Math.pow(i,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},getDistanceThresholds=function(s,i){var a=s[i.size]*config.startFromPercentage,o=s[i.size]*config.maxScrollAtPercentage,j={startScrollingFrom:a,maxScrollValueAt:o};return j},getPercentage=function(s){var i=s.startOfRange,a=s.endOfRange,o=s.current,j=a-i;if(j===0)return 0;var _=o-i,$=_/j;return $},minScroll=1,getValueFromDistance=function(s,i){if(s>i.startScrollingFrom)return 0;if(s<=i.maxScrollValueAt)return config.maxPixelScroll;if(s===i.startScrollingFrom)return minScroll;var a=getPercentage({startOfRange:i.maxScrollValueAt,endOfRange:i.startScrollingFrom,current:s}),o=1-a,j=config.maxPixelScroll*config.ease(o);return Math.ceil(j)},accelerateAt=config.durationDampening.accelerateAt,stopAt=config.durationDampening.stopDampeningAt,dampenValueByTime=function(s,i){var a=i,o=stopAt,j=Date.now(),_=j-a;if(_>=stopAt)return s;if(_<accelerateAt)return minScroll;var $=getPercentage({startOfRange:accelerateAt,endOfRange:o,current:_}),et=s*config.ease($);return Math.ceil(et)},getValue=function(s){var i=s.distanceToEdge,a=s.thresholds,o=s.dragStartTime,j=s.shouldUseTimeDampening,_=getValueFromDistance(i,a);return _===0?0:j?Math.max(dampenValueByTime(_,o),minScroll):_},getScrollOnAxis=function(s){var i=s.container,a=s.distanceToEdges,o=s.dragStartTime,j=s.axis,_=s.shouldUseTimeDampening,$=getDistanceThresholds(i,j),et=a[j.end]<a[j.start];return et?getValue({distanceToEdge:a[j.end],thresholds:$,dragStartTime:o,shouldUseTimeDampening:_}):-1*getValue({distanceToEdge:a[j.start],thresholds:$,dragStartTime:o,shouldUseTimeDampening:_})},adjustForSizeLimits=function(s){var i=s.container,a=s.subject,o=s.proposedScroll,j=a.height>i.height,_=a.width>i.width;return!_&&!j?o:_&&j?null:{x:_?0:o.x,y:j?0:o.y}},clean$2=apply(function(s){return s===0?0:s}),getScroll=function(s){var i=s.dragStartTime,a=s.container,o=s.subject,j=s.center,_=s.shouldUseTimeDampening,$={top:j.y-a.top,right:a.right-j.x,bottom:a.bottom-j.y,left:j.x-a.left},et=getScrollOnAxis({container:a,distanceToEdges:$,dragStartTime:i,axis:vertical,shouldUseTimeDampening:_}),_e=getScrollOnAxis({container:a,distanceToEdges:$,dragStartTime:i,axis:horizontal,shouldUseTimeDampening:_}),tt=clean$2({x:_e,y:et});if(isEqual(tt,origin))return null;var rt=adjustForSizeLimits({container:a,subject:o,proposedScroll:tt});return rt?isEqual(rt,origin)?null:rt:null},smallestSigned=apply(function(s){return s===0?0:s>0?1:-1}),getOverlap=function(){var s=function(a,o){return a<0?a:a>o?a-o:0};return function(i){var a=i.current,o=i.max,j=i.change,_=add(a,j),$={x:s(_.x,o.x),y:s(_.y,o.y)};return isEqual($,origin)?null:$}}(),canPartiallyScroll=function s(i){var a=i.max,o=i.current,j=i.change,_={x:Math.max(o.x,a.x),y:Math.max(o.y,a.y)},$=smallestSigned(j),et=getOverlap({max:_,current:o,change:$});return!et||$.x!==0&&et.x===0||$.y!==0&&et.y===0},canScrollWindow=function s(i,a){return canPartiallyScroll({current:i.scroll.current,max:i.scroll.max,change:a})},getWindowOverlap=function s(i,a){if(!canScrollWindow(i,a))return null;var o=i.scroll.max,j=i.scroll.current;return getOverlap({current:j,max:o,change:a})},canScrollDroppable=function s(i,a){var o=i.frame;return o?canPartiallyScroll({current:o.scroll.current,max:o.scroll.max,change:a}):!1},getDroppableOverlap=function s(i,a){var o=i.frame;return!o||!canScrollDroppable(i,a)?null:getOverlap({current:o.scroll.current,max:o.scroll.max,change:a})},getWindowScrollChange=function(s){var i=s.viewport,a=s.subject,o=s.center,j=s.dragStartTime,_=s.shouldUseTimeDampening,$=getScroll({dragStartTime:j,container:i.frame,subject:a,center:o,shouldUseTimeDampening:_});return $&&canScrollWindow(i,$)?$:null},getDroppableScrollChange=function(s){var i=s.droppable,a=s.subject,o=s.center,j=s.dragStartTime,_=s.shouldUseTimeDampening,$=i.frame;if(!$)return null;var et=getScroll({dragStartTime:j,container:$.pageMarginBox,subject:a,center:o,shouldUseTimeDampening:_});return et&&canScrollDroppable(i,et)?et:null},scroll$1=function(s){var i=s.state,a=s.dragStartTime,o=s.shouldUseTimeDampening,j=s.scrollWindow,_=s.scrollDroppable,$=i.current.page.borderBoxCenter,et=i.dimensions.draggables[i.critical.draggable.id],_e=et.page.marginBox;if(i.isWindowScrollAllowed){var tt=i.viewport,rt=getWindowScrollChange({dragStartTime:a,viewport:tt,subject:_e,center:$,shouldUseTimeDampening:o});if(rt){j(rt);return}}var nt=getBestScrollableDroppable({center:$,destination:whatIsDraggedOver(i.impact),droppables:i.dimensions.droppables});if(nt){var st=getDroppableScrollChange({dragStartTime:a,droppable:nt,subject:_e,center:$,shouldUseTimeDampening:o});st&&_(nt.descriptor.id,st)}},createFluidScroller=function(s){var i=s.scrollWindow,a=s.scrollDroppable,o=rafSchd(i),j=rafSchd(a),_=null,$=function(rt){_||invariant();var nt=_,st=nt.shouldUseTimeDampening,ot=nt.dragStartTime;scroll$1({state:rt,scrollWindow:o,scrollDroppable:j,dragStartTime:ot,shouldUseTimeDampening:st})},et=function(rt){_&&invariant();var nt=Date.now(),st=!1,ot=function(){st=!0};scroll$1({state:rt,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:ot,scrollDroppable:ot}),_={dragStartTime:nt,shouldUseTimeDampening:st},st&&$(rt)},_e=function(){_&&(o.cancel(),j.cancel(),_=null)};return{start:et,stop:_e,scroll:$}},createJumpScroller=function(s){var i=s.move,a=s.scrollDroppable,o=s.scrollWindow,j=function(tt,rt){var nt=add(tt.current.client.selection,rt);i({client:nt})},_=function(tt,rt){if(!canScrollDroppable(tt,rt))return rt;var nt=getDroppableOverlap(tt,rt);if(!nt)return a(tt.descriptor.id,rt),null;var st=subtract(rt,nt);a(tt.descriptor.id,st);var ot=subtract(rt,st);return ot},$=function(tt,rt,nt){if(!tt||!canScrollWindow(rt,nt))return nt;var st=getWindowOverlap(rt,nt);if(!st)return o(nt),null;var ot=subtract(nt,st);o(ot);var ct=subtract(nt,ot);return ct},et=function(tt){var rt=tt.scrollJumpRequest;if(rt){var nt=whatIsDraggedOver(tt.impact);nt||invariant();var st=_(tt.dimensions.droppables[nt],rt);if(st){var ot=tt.viewport,ct=$(tt.isWindowScrollAllowed,ot,st);ct&&j(tt,ct)}}};return et},createAutoScroller=function(s){var i=s.scrollDroppable,a=s.scrollWindow,o=s.move,j=createFluidScroller({scrollWindow:a,scrollDroppable:i}),_=createJumpScroller({move:o,scrollWindow:a,scrollDroppable:i}),$=function(tt){if(tt.phase==="DRAGGING"){if(tt.movementMode==="FLUID"){j.scroll(tt);return}tt.scrollJumpRequest&&_(tt)}},et={scroll:$,start:j.start,stop:j.stop};return et},prefix$1="data-rbd",dragHandle=function(){var s=prefix$1+"-drag-handle";return{base:s,draggableId:s+"-draggable-id",contextId:s+"-context-id"}}(),draggable=function(){var s=prefix$1+"-draggable";return{base:s,contextId:s+"-context-id",id:s+"-id"}}(),droppable=function(){var s=prefix$1+"-droppable";return{base:s,contextId:s+"-context-id",id:s+"-id"}}(),scrollContainer={contextId:prefix$1+"-scroll-container-context-id"},makeGetSelector=function s(i){return function(a){return"["+a+'="'+i+'"]'}},getStyles=function s(i,a){return i.map(function(o){var j=o.styles[a];return j?o.selector+" { "+j+" }":""}).join(" ")},noPointerEvents="pointer-events: none;",getStyles$1=function(s){var i=makeGetSelector(s),a=function(){var et=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:i(dragHandle.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:et,dragging:noPointerEvents,dropAnimating:et}}}(),o=function(){var et=`
      transition: `+transitions.outOfTheWay+`;
    `;return{selector:i(draggable.contextId),styles:{dragging:et,dropAnimating:et,userCancel:et}}}(),j={selector:i(droppable.contextId),styles:{always:"overflow-anchor: none;"}},_={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},$=[o,a,j,_];return{always:getStyles($,"always"),resting:getStyles($,"resting"),dragging:getStyles($,"dragging"),dropAnimating:getStyles($,"dropAnimating"),userCancel:getStyles($,"userCancel")}},useIsomorphicLayoutEffect=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?reactExports.useLayoutEffect:reactExports.useEffect,getHead=function s(){var i=document.querySelector("head");return i||invariant(),i},createStyleEl=function s(i){var a=document.createElement("style");return i&&a.setAttribute("nonce",i),a.type="text/css",a};function useStyleMarshal(s,i){var a=useMemo(function(){return getStyles$1(s)},[s]),o=reactExports.useRef(null),j=reactExports.useRef(null),_=useCallback(memoizeOne(function(nt){var st=j.current;st||invariant(),st.textContent=nt}),[]),$=useCallback(function(nt){var st=o.current;st||invariant(),st.textContent=nt},[]);useIsomorphicLayoutEffect(function(){!o.current&&!j.current||invariant();var nt=createStyleEl(i),st=createStyleEl(i);return o.current=nt,j.current=st,nt.setAttribute(prefix$1+"-always",s),st.setAttribute(prefix$1+"-dynamic",s),getHead().appendChild(nt),getHead().appendChild(st),$(a.always),_(a.resting),function(){var ot=function(gt){var dt=gt.current;dt||invariant(),getHead().removeChild(dt),gt.current=null};ot(o),ot(j)}},[i,$,_,a.always,a.resting,s]);var et=useCallback(function(){return _(a.dragging)},[_,a.dragging]),_e=useCallback(function(nt){if(nt==="DROP"){_(a.dropAnimating);return}_(a.userCancel)},[_,a.dropAnimating,a.userCancel]),tt=useCallback(function(){j.current&&_(a.resting)},[_,a.resting]),rt=useMemo(function(){return{dragging:et,dropping:_e,resting:tt}},[et,_e,tt]);return rt}var getWindowFromEl=function(s){return s&&s.ownerDocument?s.ownerDocument.defaultView:window};function isHtmlElement(s){return s instanceof getWindowFromEl(s).HTMLElement}function findDragHandle(s,i){var a="["+dragHandle.contextId+'="'+s+'"]',o=toArray(document.querySelectorAll(a));if(!o.length)return null;var j=find(o,function(_){return _.getAttribute(dragHandle.draggableId)===i});return!j||!isHtmlElement(j)?null:j}function useFocusMarshal(s){var i=reactExports.useRef({}),a=reactExports.useRef(null),o=reactExports.useRef(null),j=reactExports.useRef(!1),_=useCallback(function(st,ot){var ct={id:st,focus:ot};return i.current[st]=ct,function(){var dt=i.current,it=dt[st];it!==ct&&delete dt[st]}},[]),$=useCallback(function(st){var ot=findDragHandle(s,st);ot&&ot!==document.activeElement&&ot.focus()},[s]),et=useCallback(function(st,ot){a.current===st&&(a.current=ot)},[]),_e=useCallback(function(){o.current||j.current&&(o.current=requestAnimationFrame(function(){o.current=null;var st=a.current;st&&$(st)}))},[$]),tt=useCallback(function(st){a.current=null;var ot=document.activeElement;ot&&ot.getAttribute(dragHandle.draggableId)===st&&(a.current=st)},[]);useIsomorphicLayoutEffect(function(){return j.current=!0,function(){j.current=!1;var st=o.current;st&&cancelAnimationFrame(st)}},[]);var rt=useMemo(function(){return{register:_,tryRecordFocus:tt,tryRestoreFocusRecorded:_e,tryShiftRecord:et}},[_,tt,_e,et]);return rt}function createRegistry(){var s={draggables:{},droppables:{}},i=[];function a(nt){return i.push(nt),function(){var ot=i.indexOf(nt);ot!==-1&&i.splice(ot,1)}}function o(nt){i.length&&i.forEach(function(st){return st(nt)})}function j(nt){return s.draggables[nt]||null}function _(nt){var st=j(nt);return st||invariant(),st}var $={register:function(st){s.draggables[st.descriptor.id]=st,o({type:"ADDITION",value:st})},update:function(st,ot){var ct=s.draggables[ot.descriptor.id];ct&&ct.uniqueId===st.uniqueId&&(delete s.draggables[ot.descriptor.id],s.draggables[st.descriptor.id]=st)},unregister:function(st){var ot=st.descriptor.id,ct=j(ot);ct&&st.uniqueId===ct.uniqueId&&(delete s.draggables[ot],o({type:"REMOVAL",value:st}))},getById:_,findById:j,exists:function(st){return!!j(st)},getAllByType:function(st){return values(s.draggables).filter(function(ot){return ot.descriptor.type===st})}};function et(nt){return s.droppables[nt]||null}function _e(nt){var st=et(nt);return st||invariant(),st}var tt={register:function(st){s.droppables[st.descriptor.id]=st},unregister:function(st){var ot=et(st.descriptor.id);ot&&st.uniqueId===ot.uniqueId&&delete s.droppables[st.descriptor.id]},getById:_e,findById:et,exists:function(st){return!!et(st)},getAllByType:function(st){return values(s.droppables).filter(function(ot){return ot.descriptor.type===st})}};function rt(){s.draggables={},s.droppables={},i.length=0}return{draggable:$,droppable:tt,subscribe:a,clean:rt}}function useRegistry(){var s=useMemo(createRegistry,[]);return reactExports.useEffect(function(){return function(){requestAnimationFrame(s.clean)}},[s]),s}var StoreContext=React.createContext(null),getBodyElement=function(){var s=document.body;return s||invariant(),s},visuallyHidden={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},getId=function s(i){return"rbd-announcement-"+i};function useAnnouncer(s){var i=useMemo(function(){return getId(s)},[s]),a=reactExports.useRef(null);reactExports.useEffect(function(){var _=document.createElement("div");return a.current=_,_.id=i,_.setAttribute("aria-live","assertive"),_.setAttribute("aria-atomic","true"),_extends(_.style,visuallyHidden),getBodyElement().appendChild(_),function(){setTimeout(function(){var _e=getBodyElement();_e.contains(_)&&_e.removeChild(_),_===a.current&&(a.current=null)})}},[i]);var o=useCallback(function(j){var _=a.current;if(_){_.textContent=j;return}},[]);return o}var count=0,defaults={separator:"::"};function useUniqueId(s,i){return i===void 0&&(i=defaults),useMemo(function(){return""+s+i.separator+count++},[i.separator,s])}function getElementId(s){var i=s.contextId,a=s.uniqueId;return"rbd-hidden-text-"+i+"-"+a}function useHiddenTextElement(s){var i=s.contextId,a=s.text,o=useUniqueId("hidden-text",{separator:"-"}),j=useMemo(function(){return getElementId({contextId:i,uniqueId:o})},[o,i]);return reactExports.useEffect(function(){var $=document.createElement("div");return $.id=j,$.textContent=a,$.style.display="none",getBodyElement().appendChild($),function(){var _e=getBodyElement();_e.contains($)&&_e.removeChild($)}},[j,a]),j}var AppContext=React.createContext(null);function usePrevious(s){var i=reactExports.useRef(s);return reactExports.useEffect(function(){i.current=s}),i}function create(){var s=null;function i(){return!!s}function a($){return $===s}function o($){s&&invariant();var et={abandon:$};return s=et,et}function j(){s||invariant(),s=null}function _(){s&&(s.abandon(),j())}return{isClaimed:i,isActive:a,claim:o,release:j,tryAbandon:_}}var tab=9,enter=13,escape$1=27,space=32,pageUp=33,pageDown=34,end=35,home=36,arrowLeft=37,arrowUp=38,arrowRight=39,arrowDown=40,_preventedKeys,preventedKeys=(_preventedKeys={},_preventedKeys[enter]=!0,_preventedKeys[tab]=!0,_preventedKeys),preventStandardKeyEvents=function(s){preventedKeys[s.keyCode]&&s.preventDefault()},supportedEventName=function(){var s="visibilitychange";if(typeof document>"u")return s;var i=[s,"ms"+s,"webkit"+s,"moz"+s,"o"+s],a=find(i,function(o){return"on"+o in document});return a||s}(),primaryButton=0,sloppyClickThreshold=5;function isSloppyClickThresholdExceeded(s,i){return Math.abs(i.x-s.x)>=sloppyClickThreshold||Math.abs(i.y-s.y)>=sloppyClickThreshold}var idle$1={type:"IDLE"};function getCaptureBindings(s){var i=s.cancel,a=s.completed,o=s.getPhase,j=s.setPhase;return[{eventName:"mousemove",fn:function($){var et=$.button,_e=$.clientX,tt=$.clientY;if(et===primaryButton){var rt={x:_e,y:tt},nt=o();if(nt.type==="DRAGGING"){$.preventDefault(),nt.actions.move(rt);return}nt.type!=="PENDING"&&invariant();var st=nt.point;if(isSloppyClickThresholdExceeded(st,rt)){$.preventDefault();var ot=nt.actions.fluidLift(rt);j({type:"DRAGGING",actions:ot})}}}},{eventName:"mouseup",fn:function($){var et=o();if(et.type!=="DRAGGING"){i();return}$.preventDefault(),et.actions.drop({shouldBlockNextClick:!0}),a()}},{eventName:"mousedown",fn:function($){o().type==="DRAGGING"&&$.preventDefault(),i()}},{eventName:"keydown",fn:function($){var et=o();if(et.type==="PENDING"){i();return}if($.keyCode===escape$1){$.preventDefault(),i();return}preventStandardKeyEvents($)}},{eventName:"resize",fn:i},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){o().type==="PENDING"&&i()}},{eventName:"webkitmouseforcedown",fn:function($){var et=o();if(et.type==="IDLE"&&invariant(),et.actions.shouldRespectForcePress()){i();return}$.preventDefault()}},{eventName:supportedEventName,fn:i}]}function useMouseSensor(s){var i=reactExports.useRef(idle$1),a=reactExports.useRef(noop),o=useMemo(function(){return{eventName:"mousedown",fn:function(nt){if(!nt.defaultPrevented&&nt.button===primaryButton&&!(nt.ctrlKey||nt.metaKey||nt.shiftKey||nt.altKey)){var st=s.findClosestDraggableId(nt);if(st){var ot=s.tryGetLock(st,$,{sourceEvent:nt});if(ot){nt.preventDefault();var ct={x:nt.clientX,y:nt.clientY};a.current(),tt(ot,ct)}}}}}},[s]),j=useMemo(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(nt){if(!nt.defaultPrevented){var st=s.findClosestDraggableId(nt);if(st){var ot=s.findOptionsForDraggable(st);ot&&(ot.shouldRespectForcePress||s.canGetLock(st)&&nt.preventDefault())}}}}},[s]),_=useCallback(function(){var nt={passive:!1,capture:!0};a.current=bindEvents(window,[j,o],nt)},[j,o]),$=useCallback(function(){var rt=i.current;rt.type!=="IDLE"&&(i.current=idle$1,a.current(),_())},[_]),et=useCallback(function(){var rt=i.current;$(),rt.type==="DRAGGING"&&rt.actions.cancel({shouldBlockNextClick:!0}),rt.type==="PENDING"&&rt.actions.abort()},[$]),_e=useCallback(function(){var nt={capture:!0,passive:!1},st=getCaptureBindings({cancel:et,completed:$,getPhase:function(){return i.current},setPhase:function(ct){i.current=ct}});a.current=bindEvents(window,st,nt)},[et,$]),tt=useCallback(function(nt,st){i.current.type!=="IDLE"&&invariant(),i.current={type:"PENDING",point:st,actions:nt},_e()},[_e]);useIsomorphicLayoutEffect(function(){return _(),function(){a.current()}},[_])}var _scrollJumpKeys;function noop$1(){}var scrollJumpKeys=(_scrollJumpKeys={},_scrollJumpKeys[pageDown]=!0,_scrollJumpKeys[pageUp]=!0,_scrollJumpKeys[home]=!0,_scrollJumpKeys[end]=!0,_scrollJumpKeys);function getDraggingBindings(s,i){function a(){i(),s.cancel()}function o(){i(),s.drop()}return[{eventName:"keydown",fn:function(_){if(_.keyCode===escape$1){_.preventDefault(),a();return}if(_.keyCode===space){_.preventDefault(),o();return}if(_.keyCode===arrowDown){_.preventDefault(),s.moveDown();return}if(_.keyCode===arrowUp){_.preventDefault(),s.moveUp();return}if(_.keyCode===arrowRight){_.preventDefault(),s.moveRight();return}if(_.keyCode===arrowLeft){_.preventDefault(),s.moveLeft();return}if(scrollJumpKeys[_.keyCode]){_.preventDefault();return}preventStandardKeyEvents(_)}},{eventName:"mousedown",fn:a},{eventName:"mouseup",fn:a},{eventName:"click",fn:a},{eventName:"touchstart",fn:a},{eventName:"resize",fn:a},{eventName:"wheel",fn:a,options:{passive:!0}},{eventName:supportedEventName,fn:a}]}function useKeyboardSensor(s){var i=reactExports.useRef(noop$1),a=useMemo(function(){return{eventName:"keydown",fn:function(_){if(_.defaultPrevented||_.keyCode!==space)return;var $=s.findClosestDraggableId(_);if(!$)return;var et=s.tryGetLock($,rt,{sourceEvent:_});if(!et)return;_.preventDefault();var _e=!0,tt=et.snapLift();i.current();function rt(){_e||invariant(),_e=!1,i.current(),o()}i.current=bindEvents(window,getDraggingBindings(tt,rt),{capture:!0,passive:!1})}}},[s]),o=useCallback(function(){var _={passive:!1,capture:!0};i.current=bindEvents(window,[a],_)},[a]);useIsomorphicLayoutEffect(function(){return o(),function(){i.current()}},[o])}var idle$2={type:"IDLE"},timeForLongPress=120,forcePressThreshold=.15;function getWindowBindings(s){var i=s.cancel,a=s.getPhase;return[{eventName:"orientationchange",fn:i},{eventName:"resize",fn:i},{eventName:"contextmenu",fn:function(j){j.preventDefault()}},{eventName:"keydown",fn:function(j){if(a().type!=="DRAGGING"){i();return}j.keyCode===escape$1&&j.preventDefault(),i()}},{eventName:supportedEventName,fn:i}]}function getHandleBindings(s){var i=s.cancel,a=s.completed,o=s.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(_){var $=o();if($.type!=="DRAGGING"){i();return}$.hasMoved=!0;var et=_.touches[0],_e=et.clientX,tt=et.clientY,rt={x:_e,y:tt};_.preventDefault(),$.actions.move(rt)}},{eventName:"touchend",fn:function(_){var $=o();if($.type!=="DRAGGING"){i();return}_.preventDefault(),$.actions.drop({shouldBlockNextClick:!0}),a()}},{eventName:"touchcancel",fn:function(_){if(o().type!=="DRAGGING"){i();return}_.preventDefault(),i()}},{eventName:"touchforcechange",fn:function(_){var $=o();$.type==="IDLE"&&invariant();var et=_.touches[0];if(et){var _e=et.force>=forcePressThreshold;if(_e){var tt=$.actions.shouldRespectForcePress();if($.type==="PENDING"){tt&&i();return}if(tt){if($.hasMoved){_.preventDefault();return}i();return}_.preventDefault()}}}},{eventName:supportedEventName,fn:i}]}function useTouchSensor(s){var i=reactExports.useRef(idle$2),a=reactExports.useRef(noop),o=useCallback(function(){return i.current},[]),j=useCallback(function(ot){i.current=ot},[]),_=useMemo(function(){return{eventName:"touchstart",fn:function(ot){if(!ot.defaultPrevented){var ct=s.findClosestDraggableId(ot);if(ct){var gt=s.tryGetLock(ct,et,{sourceEvent:ot});if(gt){var dt=ot.touches[0],it=dt.clientX,lt=dt.clientY,ut={x:it,y:lt};a.current(),nt(gt,ut)}}}}}},[s]),$=useCallback(function(){var ot={capture:!0,passive:!1};a.current=bindEvents(window,[_],ot)},[_]),et=useCallback(function(){var st=i.current;st.type!=="IDLE"&&(st.type==="PENDING"&&clearTimeout(st.longPressTimerId),j(idle$2),a.current(),$())},[$,j]),_e=useCallback(function(){var st=i.current;et(),st.type==="DRAGGING"&&st.actions.cancel({shouldBlockNextClick:!0}),st.type==="PENDING"&&st.actions.abort()},[et]),tt=useCallback(function(){var ot={capture:!0,passive:!1},ct={cancel:_e,completed:et,getPhase:o},gt=bindEvents(window,getHandleBindings(ct),ot),dt=bindEvents(window,getWindowBindings(ct),ot);a.current=function(){gt(),dt()}},[_e,o,et]),rt=useCallback(function(){var ot=o();ot.type!=="PENDING"&&invariant();var ct=ot.actions.fluidLift(ot.point);j({type:"DRAGGING",actions:ct,hasMoved:!1})},[o,j]),nt=useCallback(function(ot,ct){o().type!=="IDLE"&&invariant();var gt=setTimeout(rt,timeForLongPress);j({type:"PENDING",point:ct,actions:ot,longPressTimerId:gt}),tt()},[tt,o,j,rt]);useIsomorphicLayoutEffect(function(){return $(),function(){a.current();var ct=o();ct.type==="PENDING"&&(clearTimeout(ct.longPressTimerId),j(idle$2))}},[o,$,j]),useIsomorphicLayoutEffect(function(){var ot=bindEvents(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return ot},[])}var interactiveTagNames={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function isAnInteractiveElement(s,i){if(i==null)return!1;var a=!!interactiveTagNames[i.tagName.toLowerCase()];if(a)return!0;var o=i.getAttribute("contenteditable");return o==="true"||o===""?!0:i===s?!1:isAnInteractiveElement(s,i.parentElement)}function isEventInInteractiveElement(s,i){var a=i.target;return isHtmlElement(a)?isAnInteractiveElement(s,a):!1}var getBorderBoxCenterPosition=function(s){return getRect(s.getBoundingClientRect()).center};function isElement(s){return s instanceof getWindowFromEl(s).Element}var supportedMatchesName=function(){var s="matches";if(typeof document>"u")return s;var i=[s,"msMatchesSelector","webkitMatchesSelector"],a=find(i,function(o){return o in Element.prototype});return a||s}();function closestPonyfill(s,i){return s==null?null:s[supportedMatchesName](i)?s:closestPonyfill(s.parentElement,i)}function closest$1(s,i){return s.closest?s.closest(i):closestPonyfill(s,i)}function getSelector(s){return"["+dragHandle.contextId+'="'+s+'"]'}function findClosestDragHandleFromEvent(s,i){var a=i.target;if(!isElement(a))return null;var o=getSelector(s),j=closest$1(a,o);return!j||!isHtmlElement(j)?null:j}function tryGetClosestDraggableIdFromEvent(s,i){var a=findClosestDragHandleFromEvent(s,i);return a?a.getAttribute(dragHandle.draggableId):null}function findDraggable(s,i){var a="["+draggable.contextId+'="'+s+'"]',o=toArray(document.querySelectorAll(a)),j=find(o,function(_){return _.getAttribute(draggable.id)===i});return!j||!isHtmlElement(j)?null:j}function preventDefault(s){s.preventDefault()}function _isActive(s){var i=s.expected,a=s.phase,o=s.isLockActive;return s.shouldWarn,!(!o()||i!==a)}function canStart(s){var i=s.lockAPI,a=s.store,o=s.registry,j=s.draggableId;if(i.isClaimed())return!1;var _=o.draggable.findById(j);return!(!_||!_.options.isEnabled||!canStartDrag(a.getState(),j))}function tryStart(s){var i=s.lockAPI,a=s.contextId,o=s.store,j=s.registry,_=s.draggableId,$=s.forceSensorStop,et=s.sourceEvent,_e=canStart({lockAPI:i,store:o,registry:j,draggableId:_});if(!_e)return null;var tt=j.draggable.getById(_),rt=findDraggable(a,tt.descriptor.id);if(!rt||et&&!tt.options.canDragInteractiveElements&&isEventInInteractiveElement(rt,et))return null;var nt=i.claim($||noop),st="PRE_DRAG";function ot(){return tt.options.shouldRespectForcePress}function ct(){return i.isActive(nt)}function gt(vt,at){_isActive({expected:vt,phase:st,isLockActive:ct,shouldWarn:!0})&&o.dispatch(at())}var dt=gt.bind(null,"DRAGGING");function it(vt){function at(){i.release(),st="COMPLETED"}st!=="PRE_DRAG"&&(at(),st!=="PRE_DRAG"&&invariant()),o.dispatch(lift(vt.liftActionArgs)),st="DRAGGING";function pt(yt,jt){if(jt===void 0&&(jt={shouldBlockNextClick:!1}),vt.cleanup(),jt.shouldBlockNextClick){var xt=bindEvents(window,[{eventName:"click",fn:preventDefault,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(xt)}at(),o.dispatch(drop({reason:yt}))}return _extends({isActive:function(){return _isActive({expected:"DRAGGING",phase:st,isLockActive:ct,shouldWarn:!1})},shouldRespectForcePress:ot,drop:function(jt){return pt("DROP",jt)},cancel:function(jt){return pt("CANCEL",jt)}},vt.actions)}function lt(vt){var at=rafSchd(function(yt){dt(function(){return move({client:yt})})}),pt=it({liftActionArgs:{id:_,clientSelection:vt,movementMode:"FLUID"},cleanup:function(){return at.cancel()},actions:{move:at}});return _extends({},pt,{move:at})}function ut(){var vt={moveUp:function(){return dt(moveUp)},moveRight:function(){return dt(moveRight)},moveDown:function(){return dt(moveDown)},moveLeft:function(){return dt(moveLeft)}};return it({liftActionArgs:{id:_,clientSelection:getBorderBoxCenterPosition(rt),movementMode:"SNAP"},cleanup:noop,actions:vt})}function mt(){var vt=_isActive({expected:"PRE_DRAG",phase:st,isLockActive:ct,shouldWarn:!0});vt&&i.release()}var ht={isActive:function(){return _isActive({expected:"PRE_DRAG",phase:st,isLockActive:ct,shouldWarn:!1})},shouldRespectForcePress:ot,fluidLift:lt,snapLift:ut,abort:mt};return ht}var defaultSensors=[useMouseSensor,useKeyboardSensor,useTouchSensor];function useSensorMarshal(s){var i=s.contextId,a=s.store,o=s.registry,j=s.customSensors,_=s.enableDefaultSensors,$=[].concat(_?defaultSensors:[],j||[]),et=reactExports.useState(function(){return create()})[0],_e=useCallback(function(lt,ut){lt.isDragging&&!ut.isDragging&&et.tryAbandon()},[et]);useIsomorphicLayoutEffect(function(){var lt=a.getState(),ut=a.subscribe(function(){var mt=a.getState();_e(lt,mt),lt=mt});return ut},[et,a,_e]),useIsomorphicLayoutEffect(function(){return et.tryAbandon},[et.tryAbandon]);for(var tt=useCallback(function(it){return canStart({lockAPI:et,registry:o,store:a,draggableId:it})},[et,o,a]),rt=useCallback(function(it,lt,ut){return tryStart({lockAPI:et,registry:o,contextId:i,store:a,draggableId:it,forceSensorStop:lt,sourceEvent:ut&&ut.sourceEvent?ut.sourceEvent:null})},[i,et,o,a]),nt=useCallback(function(it){return tryGetClosestDraggableIdFromEvent(i,it)},[i]),st=useCallback(function(it){var lt=o.draggable.findById(it);return lt?lt.options:null},[o.draggable]),ot=useCallback(function(){et.isClaimed()&&(et.tryAbandon(),a.getState().phase!=="IDLE"&&a.dispatch(flush()))},[et,a]),ct=useCallback(et.isClaimed,[et]),gt=useMemo(function(){return{canGetLock:tt,tryGetLock:rt,findClosestDraggableId:nt,findOptionsForDraggable:st,tryReleaseLock:ot,isLockClaimed:ct}},[tt,rt,nt,st,ot,ct]),dt=0;dt<$.length;dt++)$[dt](gt)}var createResponders=function s(i){return{onBeforeCapture:i.onBeforeCapture,onBeforeDragStart:i.onBeforeDragStart,onDragStart:i.onDragStart,onDragEnd:i.onDragEnd,onDragUpdate:i.onDragUpdate}};function getStore(s){return s.current||invariant(),s.current}function App$1(s){var i=s.contextId,a=s.setCallbacks,o=s.sensors,j=s.nonce,_=s.dragHandleUsageInstructions,$=reactExports.useRef(null),et=usePrevious(s),_e=useCallback(function(){return createResponders(et.current)},[et]),tt=useAnnouncer(i),rt=useHiddenTextElement({contextId:i,text:_}),nt=useStyleMarshal(i,j),st=useCallback(function(yt){getStore($).dispatch(yt)},[]),ot=useMemo(function(){return bindActionCreators$1({publishWhileDragging,updateDroppableScroll,updateDroppableIsEnabled,updateDroppableIsCombineEnabled,collectionStarting},st)},[st]),ct=useRegistry(),gt=useMemo(function(){return createDimensionMarshal(ct,ot)},[ct,ot]),dt=useMemo(function(){return createAutoScroller(_extends({scrollWindow,scrollDroppable:gt.scrollDroppable},bindActionCreators$1({move},st)))},[gt.scrollDroppable,st]),it=useFocusMarshal(i),lt=useMemo(function(){return createStore({announce:tt,autoScroller:dt,dimensionMarshal:gt,focusMarshal:it,getResponders:_e,styleMarshal:nt})},[tt,dt,gt,it,_e,nt]);$.current=lt;var ut=useCallback(function(){var yt=getStore($),jt=yt.getState();jt.phase!=="IDLE"&&yt.dispatch(flush())},[]),mt=useCallback(function(){var yt=getStore($).getState();return yt.isDragging||yt.phase==="DROP_ANIMATING"},[]),ht=useMemo(function(){return{isDragging:mt,tryAbort:ut}},[mt,ut]);a(ht);var vt=useCallback(function(yt){return canStartDrag(getStore($).getState(),yt)},[]),at=useCallback(function(){return isMovementAllowed(getStore($).getState())},[]),pt=useMemo(function(){return{marshal:gt,focus:it,contextId:i,canLift:vt,isMovementAllowed:at,dragHandleUsageInstructionsId:rt,registry:ct}},[i,gt,rt,it,vt,at,ct]);return useSensorMarshal({contextId:i,store:lt,registry:ct,customSensors:o,enableDefaultSensors:s.enableDefaultSensors!==!1}),reactExports.useEffect(function(){return ut},[ut]),React.createElement(AppContext.Provider,{value:pt},React.createElement(Provider,{context:StoreContext,store:lt},s.children))}var count$1=0;function useInstanceCount(){return useMemo(function(){return""+count$1++},[])}function DragDropContext(s){var i=useInstanceCount(),a=s.dragHandleUsageInstructions||preset.dragHandleUsageInstructions;return React.createElement(ErrorBoundary,null,function(o){return React.createElement(App$1,{nonce:s.nonce,contextId:i,setCallbacks:o,dragHandleUsageInstructions:a,enableDefaultSensors:s.enableDefaultSensors,sensors:s.sensors,onBeforeCapture:s.onBeforeCapture,onBeforeDragStart:s.onBeforeDragStart,onDragStart:s.onDragStart,onDragUpdate:s.onDragUpdate,onDragEnd:s.onDragEnd},s.children)})}var isEqual$1=function s(i){return function(a){return i===a}},isScroll=isEqual$1("scroll"),isAuto=isEqual$1("auto"),isEither=function s(i,a){return a(i.overflowX)||a(i.overflowY)},isElementScrollable=function s(i){var a=window.getComputedStyle(i),o={overflowX:a.overflowX,overflowY:a.overflowY};return isEither(o,isScroll)||isEither(o,isAuto)},isBodyScrollable=function s(){return!1},getClosestScrollable=function s(i){return i==null?null:i===document.body?isBodyScrollable()?i:null:i===document.documentElement?null:isElementScrollable(i)?i:s(i.parentElement)},getScroll$1=function(s){return{x:s.scrollLeft,y:s.scrollTop}},getIsFixed=function s(i){if(!i)return!1;var a=window.getComputedStyle(i);return a.position==="fixed"?!0:s(i.parentElement)},getEnv=function(s){var i=getClosestScrollable(s),a=getIsFixed(s);return{closestScrollable:i,isFixedOnPage:a}},getDroppableDimension=function(s){var i=s.descriptor,a=s.isEnabled,o=s.isCombineEnabled,j=s.isFixedOnPage,_=s.direction,$=s.client,et=s.page,_e=s.closest,tt=function(){if(!_e)return null;var ot=_e.scrollSize,ct=_e.client,gt=getMaxScroll({scrollHeight:ot.scrollHeight,scrollWidth:ot.scrollWidth,height:ct.paddingBox.height,width:ct.paddingBox.width});return{pageMarginBox:_e.page.marginBox,frameClient:ct,scrollSize:ot,shouldClipSubject:_e.shouldClipSubject,scroll:{initial:_e.scroll,current:_e.scroll,max:gt,diff:{value:origin,displacement:origin}}}}(),rt=_==="vertical"?vertical:horizontal,nt=getSubject({page:et,withPlaceholder:null,axis:rt,frame:tt}),st={descriptor:i,isCombineEnabled:o,isFixedOnPage:j,axis:rt,isEnabled:a,client:$,page:et,frame:tt,subject:nt};return st},getClient=function s(i,a){var o=getBox(i);if(!a||i!==a)return o;var j=o.paddingBox.top-a.scrollTop,_=o.paddingBox.left-a.scrollLeft,$=j+a.scrollHeight,et=_+a.scrollWidth,_e={top:j,right:et,bottom:$,left:_},tt=expand(_e,o.border),rt=createBox({borderBox:tt,margin:o.margin,border:o.border,padding:o.padding});return rt},getDimension=function(s){var i=s.ref,a=s.descriptor,o=s.env,j=s.windowScroll,_=s.direction,$=s.isDropDisabled,et=s.isCombineEnabled,_e=s.shouldClipSubject,tt=o.closestScrollable,rt=getClient(i,tt),nt=withScroll(rt,j),st=function(){if(!tt)return null;var ct=getBox(tt),gt={scrollHeight:tt.scrollHeight,scrollWidth:tt.scrollWidth};return{client:ct,page:withScroll(ct,j),scroll:getScroll$1(tt),scrollSize:gt,shouldClipSubject:_e}}(),ot=getDroppableDimension({descriptor:a,isEnabled:!$,isCombineEnabled:et,isFixedOnPage:o.isFixedOnPage,direction:_,client:rt,page:nt,closest:st});return ot},immediate={passive:!1},delayed={passive:!0},getListenerOptions=function(s){return s.shouldPublishImmediately?immediate:delayed};function useRequiredContext(s){var i=reactExports.useContext(s);return i||invariant(),i}var getClosestScrollableFromDrag=function s(i){return i&&i.env.closestScrollable||null};function useDroppablePublisher(s){var i=reactExports.useRef(null),a=useRequiredContext(AppContext),o=useUniqueId("droppable"),j=a.registry,_=a.marshal,$=usePrevious(s),et=useMemo(function(){return{id:s.droppableId,type:s.type,mode:s.mode}},[s.droppableId,s.mode,s.type]),_e=reactExports.useRef(et),tt=useMemo(function(){return memoizeOne(function(mt,ht){i.current||invariant();var vt={x:mt,y:ht};_.updateDroppableScroll(et.id,vt)})},[et.id,_]),rt=useCallback(function(){var mt=i.current;return!mt||!mt.env.closestScrollable?origin:getScroll$1(mt.env.closestScrollable)},[]),nt=useCallback(function(){var mt=rt();tt(mt.x,mt.y)},[rt,tt]),st=useMemo(function(){return rafSchd(nt)},[nt]),ot=useCallback(function(){var mt=i.current,ht=getClosestScrollableFromDrag(mt);mt&&ht||invariant();var vt=mt.scrollOptions;if(vt.shouldPublishImmediately){nt();return}st()},[st,nt]),ct=useCallback(function(mt,ht){i.current&&invariant();var vt=$.current,at=vt.getDroppableRef();at||invariant();var pt=getEnv(at),yt={ref:at,descriptor:et,env:pt,scrollOptions:ht};i.current=yt;var jt=getDimension({ref:at,descriptor:et,env:pt,windowScroll:mt,direction:vt.direction,isDropDisabled:vt.isDropDisabled,isCombineEnabled:vt.isCombineEnabled,shouldClipSubject:!vt.ignoreContainerClipping}),xt=pt.closestScrollable;return xt&&(xt.setAttribute(scrollContainer.contextId,a.contextId),xt.addEventListener("scroll",ot,getListenerOptions(yt.scrollOptions))),jt},[a.contextId,et,ot,$]),gt=useCallback(function(){var mt=i.current,ht=getClosestScrollableFromDrag(mt);return mt&&ht||invariant(),getScroll$1(ht)},[]),dt=useCallback(function(){var mt=i.current;mt||invariant();var ht=getClosestScrollableFromDrag(mt);i.current=null,ht&&(st.cancel(),ht.removeAttribute(scrollContainer.contextId),ht.removeEventListener("scroll",ot,getListenerOptions(mt.scrollOptions)))},[ot,st]),it=useCallback(function(mt){var ht=i.current;ht||invariant();var vt=getClosestScrollableFromDrag(ht);vt||invariant(),vt.scrollTop+=mt.y,vt.scrollLeft+=mt.x},[]),lt=useMemo(function(){return{getDimensionAndWatchScroll:ct,getScrollWhileDragging:gt,dragStopped:dt,scroll:it}},[dt,ct,gt,it]),ut=useMemo(function(){return{uniqueId:o,descriptor:et,callbacks:lt}},[lt,et,o]);useIsomorphicLayoutEffect(function(){return _e.current=ut.descriptor,j.droppable.register(ut),function(){i.current&&dt(),j.droppable.unregister(ut)}},[lt,et,dt,ut,_,j.droppable]),useIsomorphicLayoutEffect(function(){i.current&&_.updateDroppableIsEnabled(_e.current.id,!s.isDropDisabled)},[s.isDropDisabled,_]),useIsomorphicLayoutEffect(function(){i.current&&_.updateDroppableIsCombineEnabled(_e.current.id,s.isCombineEnabled)},[s.isCombineEnabled,_])}function noop$2(){}var empty={width:0,height:0,margin:noSpacing},getSize=function s(i){var a=i.isAnimatingOpenOnMount,o=i.placeholder,j=i.animate;return a||j==="close"?empty:{height:o.client.borderBox.height,width:o.client.borderBox.width,margin:o.client.margin}},getStyle=function s(i){var a=i.isAnimatingOpenOnMount,o=i.placeholder,j=i.animate,_=getSize({isAnimatingOpenOnMount:a,placeholder:o,animate:j});return{display:o.display,boxSizing:"border-box",width:_.width,height:_.height,marginTop:_.margin.top,marginRight:_.margin.right,marginBottom:_.margin.bottom,marginLeft:_.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:j!=="none"?transitions.placeholder:null}};function Placeholder(s){var i=reactExports.useRef(null),a=useCallback(function(){i.current&&(clearTimeout(i.current),i.current=null)},[]),o=s.animate,j=s.onTransitionEnd,_=s.onClose,$=s.contextId,et=reactExports.useState(s.animate==="open"),_e=et[0],tt=et[1];reactExports.useEffect(function(){return _e?o!=="open"?(a(),tt(!1),noop$2):i.current?noop$2:(i.current=setTimeout(function(){i.current=null,tt(!1)}),a):noop$2},[o,_e,a]);var rt=useCallback(function(st){st.propertyName==="height"&&(j(),o==="close"&&_())},[o,_,j]),nt=getStyle({isAnimatingOpenOnMount:_e,animate:s.animate,placeholder:s.placeholder});return React.createElement(s.placeholder.tagName,{style:nt,"data-rbd-placeholder-context-id":$,onTransitionEnd:rt,ref:s.innerRef})}var Placeholder$1=React.memo(Placeholder),DroppableContext=React.createContext(null),AnimateInOut=function(s){_inheritsLoose(i,s);function i(){for(var o,j=arguments.length,_=new Array(j),$=0;$<j;$++)_[$]=arguments[$];return o=s.call.apply(s,[this].concat(_))||this,o.state={isVisible:!!o.props.on,data:o.props.on,animate:o.props.shouldAnimate&&o.props.on?"open":"none"},o.onClose=function(){o.state.animate==="close"&&o.setState({isVisible:!1})},o}i.getDerivedStateFromProps=function(j,_){return j.shouldAnimate?j.on?{isVisible:!0,data:j.on,animate:"open"}:_.isVisible?{isVisible:!0,data:_.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!j.on,data:j.on,animate:"none"}};var a=i.prototype;return a.render=function(){if(!this.state.isVisible)return null;var j={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(j)},i}(React.PureComponent),zIndexOptions={dragging:5e3,dropAnimating:4500},getDraggingTransition=function s(i,a){return a?transitions.drop(a.duration):i?transitions.snap:transitions.fluid},getDraggingOpacity=function s(i,a){return i?a?combine.opacity.drop:combine.opacity.combining:null},getShouldDraggingAnimate=function s(i){return i.forceShouldAnimate!=null?i.forceShouldAnimate:i.mode==="SNAP"};function getDraggingStyle(s){var i=s.dimension,a=i.client,o=s.offset,j=s.combineWith,_=s.dropping,$=!!j,et=getShouldDraggingAnimate(s),_e=!!_,tt=_e?transforms.drop(o,$):transforms.moveTo(o),rt={position:"fixed",top:a.marginBox.top,left:a.marginBox.left,boxSizing:"border-box",width:a.borderBox.width,height:a.borderBox.height,transition:getDraggingTransition(et,_),transform:tt,opacity:getDraggingOpacity($,_e),zIndex:_e?zIndexOptions.dropAnimating:zIndexOptions.dragging,pointerEvents:"none"};return rt}function getSecondaryStyle(s){return{transform:transforms.moveTo(s.offset),transition:s.shouldAnimateDisplacement?null:"none"}}function getStyle$1(s){return s.type==="DRAGGING"?getDraggingStyle(s):getSecondaryStyle(s)}function getDimension$1(s,i,a){a===void 0&&(a=origin);var o=window.getComputedStyle(i),j=i.getBoundingClientRect(),_=calculateBox(j,o),$=withScroll(_,a),et={client:_,tagName:i.tagName.toLowerCase(),display:o.display},_e={x:_.marginBox.width,y:_.marginBox.height},tt={descriptor:s,placeholder:et,displaceBy:_e,client:_,page:$};return tt}function useDraggablePublisher(s){var i=useUniqueId("draggable"),a=s.descriptor,o=s.registry,j=s.getDraggableRef,_=s.canDragInteractiveElements,$=s.shouldRespectForcePress,et=s.isEnabled,_e=useMemo(function(){return{canDragInteractiveElements:_,shouldRespectForcePress:$,isEnabled:et}},[_,et,$]),tt=useCallback(function(ot){var ct=j();return ct||invariant(),getDimension$1(a,ct,ot)},[a,j]),rt=useMemo(function(){return{uniqueId:i,descriptor:a,options:_e,getDimension:tt}},[a,tt,_e,i]),nt=reactExports.useRef(rt),st=reactExports.useRef(!0);useIsomorphicLayoutEffect(function(){return o.draggable.register(nt.current),function(){return o.draggable.unregister(nt.current)}},[o.draggable]),useIsomorphicLayoutEffect(function(){if(st.current){st.current=!1;return}var ot=nt.current;nt.current=rt,o.draggable.update(rt,ot)},[rt,o.draggable])}function preventHtml5Dnd(s){s.preventDefault()}function Draggable(s){var i=reactExports.useRef(null),a=useCallback(function(yt){i.current=yt},[]),o=useCallback(function(){return i.current},[]),j=useRequiredContext(AppContext),_=j.contextId,$=j.dragHandleUsageInstructionsId,et=j.registry,_e=useRequiredContext(DroppableContext),tt=_e.type,rt=_e.droppableId,nt=useMemo(function(){return{id:s.draggableId,index:s.index,type:tt,droppableId:rt}},[s.draggableId,s.index,tt,rt]),st=s.children,ot=s.draggableId,ct=s.isEnabled,gt=s.shouldRespectForcePress,dt=s.canDragInteractiveElements,it=s.isClone,lt=s.mapped,ut=s.dropAnimationFinished;if(!it){var mt=useMemo(function(){return{descriptor:nt,registry:et,getDraggableRef:o,canDragInteractiveElements:dt,shouldRespectForcePress:gt,isEnabled:ct}},[nt,et,o,dt,gt,ct]);useDraggablePublisher(mt)}var ht=useMemo(function(){return ct?{tabIndex:0,role:"button","aria-describedby":$,"data-rbd-drag-handle-draggable-id":ot,"data-rbd-drag-handle-context-id":_,draggable:!1,onDragStart:preventHtml5Dnd}:null},[_,$,ot,ct]),vt=useCallback(function(yt){lt.type==="DRAGGING"&&lt.dropping&&yt.propertyName==="transform"&&ut()},[ut,lt]),at=useMemo(function(){var yt=getStyle$1(lt),jt=lt.type==="DRAGGING"&&lt.dropping?vt:null,xt={innerRef:a,draggableProps:{"data-rbd-draggable-context-id":_,"data-rbd-draggable-id":ot,style:yt,onTransitionEnd:jt},dragHandleProps:ht};return xt},[_,ht,ot,lt,vt,a]),pt=useMemo(function(){return{draggableId:nt.id,type:nt.type,source:{index:nt.index,droppableId:nt.droppableId}}},[nt.droppableId,nt.id,nt.index,nt.type]);return st(at,lt.snapshot,pt)}var isStrictEqual=function(s,i){return s===i},whatIsDraggedOverFromResult=function(s){var i=s.combine,a=s.destination;return a?a.droppableId:i?i.droppableId:null},getCombineWithFromResult=function s(i){return i.combine?i.combine.draggableId:null},getCombineWithFromImpact=function s(i){return i.at&&i.at.type==="COMBINE"?i.at.combine.draggableId:null};function getDraggableSelector(){var s=memoizeOne(function(j,_){return{x:j,y:_}}),i=memoizeOne(function(j,_,$,et,_e){return{isDragging:!0,isClone:_,isDropAnimating:!!_e,dropAnimation:_e,mode:j,draggingOver:$,combineWith:et,combineTargetFor:null}}),a=memoizeOne(function(j,_,$,et,_e,tt,rt){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:_e,combineWith:tt,mode:_,offset:j,dimension:$,forceShouldAnimate:rt,snapshot:i(_,et,_e,tt,null)}}}),o=function(_,$){if(_.isDragging){if(_.critical.draggable.id!==$.draggableId)return null;var et=_.current.client.offset,_e=_.dimensions.draggables[$.draggableId],tt=whatIsDraggedOver(_.impact),rt=getCombineWithFromImpact(_.impact),nt=_.forceShouldAnimate;return a(s(et.x,et.y),_.movementMode,_e,$.isClone,tt,rt,nt)}if(_.phase==="DROP_ANIMATING"){var st=_.completed;if(st.result.draggableId!==$.draggableId)return null;var ot=$.isClone,ct=_.dimensions.draggables[$.draggableId],gt=st.result,dt=gt.mode,it=whatIsDraggedOverFromResult(gt),lt=getCombineWithFromResult(gt),ut=_.dropDuration,mt={duration:ut,curve:curves.drop,moveTo:_.newHomeClientOffset,opacity:lt?combine.opacity.drop:null,scale:lt?combine.scale.drop:null};return{mapped:{type:"DRAGGING",offset:_.newHomeClientOffset,dimension:ct,dropping:mt,draggingOver:it,combineWith:lt,mode:dt,forceShouldAnimate:null,snapshot:i(dt,ot,it,lt,mt)}}}return null};return o}function getSecondarySnapshot(s){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:s,combineWith:null}}var atRest={mapped:{type:"SECONDARY",offset:origin,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:getSecondarySnapshot(null)}};function getSecondarySelector(){var s=memoizeOne(function($,et){return{x:$,y:et}}),i=memoizeOne(getSecondarySnapshot),a=memoizeOne(function($,et,_e){return et===void 0&&(et=null),{mapped:{type:"SECONDARY",offset:$,combineTargetFor:et,shouldAnimateDisplacement:_e,snapshot:i(et)}}}),o=function(et){return et?a(origin,et,!0):null},j=function(et,_e,tt,rt){var nt=tt.displaced.visible[et],st=!!(rt.inVirtualList&&rt.effected[et]),ot=tryGetCombine(tt),ct=ot&&ot.draggableId===et?_e:null;if(!nt){if(!st)return o(ct);if(tt.displaced.invisible[et])return null;var gt=negate(rt.displacedBy.point),dt=s(gt.x,gt.y);return a(dt,ct,!0)}if(st)return o(ct);var it=tt.displacedBy.point,lt=s(it.x,it.y);return a(lt,ct,nt.shouldAnimate)},_=function(et,_e){if(et.isDragging)return et.critical.draggable.id===_e.draggableId?null:j(_e.draggableId,et.critical.draggable.id,et.impact,et.afterCritical);if(et.phase==="DROP_ANIMATING"){var tt=et.completed;return tt.result.draggableId===_e.draggableId?null:j(_e.draggableId,tt.result.draggableId,tt.impact,tt.afterCritical)}return null};return _}var makeMapStateToProps=function s(){var i=getDraggableSelector(),a=getSecondarySelector(),o=function(_,$){return i(_,$)||a(_,$)||atRest};return o},mapDispatchToProps={dropAnimationFinished},ConnectedDraggable=connect(makeMapStateToProps,mapDispatchToProps,null,{context:StoreContext,pure:!0,areStatePropsEqual:isStrictEqual})(Draggable);function PrivateDraggable(s){var i=useRequiredContext(DroppableContext),a=i.isUsingCloneFor;return a===s.draggableId&&!s.isClone?null:React.createElement(ConnectedDraggable,s)}function PublicDraggable(s){var i=typeof s.isDragDisabled=="boolean"?!s.isDragDisabled:!0,a=!!s.disableInteractiveElementBlocking,o=!!s.shouldRespectForcePress;return React.createElement(PrivateDraggable,_extends({},s,{isClone:!1,isEnabled:i,canDragInteractiveElements:a,shouldRespectForcePress:o}))}function Droppable(s){var i=reactExports.useContext(AppContext);i||invariant();var a=i.contextId,o=i.isMovementAllowed,j=reactExports.useRef(null),_=reactExports.useRef(null),$=s.children,et=s.droppableId,_e=s.type,tt=s.mode,rt=s.direction,nt=s.ignoreContainerClipping,st=s.isDropDisabled,ot=s.isCombineEnabled,ct=s.snapshot,gt=s.useClone,dt=s.updateViewportMaxScroll,it=s.getContainerForClone,lt=useCallback(function(){return j.current},[]),ut=useCallback(function(xt){j.current=xt},[]);useCallback(function(){return _.current},[]);var mt=useCallback(function(xt){_.current=xt},[]),ht=useCallback(function(){o()&&dt({maxScroll:getMaxWindowScroll()})},[o,dt]);useDroppablePublisher({droppableId:et,type:_e,mode:tt,direction:rt,isDropDisabled:st,isCombineEnabled:ot,ignoreContainerClipping:nt,getDroppableRef:lt});var vt=React.createElement(AnimateInOut,{on:s.placeholder,shouldAnimate:s.shouldAnimatePlaceholder},function(xt){var wt=xt.onClose,At=xt.data,Ut=xt.animate;return React.createElement(Placeholder$1,{placeholder:At,onClose:wt,innerRef:mt,animate:Ut,contextId:a,onTransitionEnd:ht})}),at=useMemo(function(){return{innerRef:ut,placeholder:vt,droppableProps:{"data-rbd-droppable-id":et,"data-rbd-droppable-context-id":a}}},[a,et,vt,ut]),pt=gt?gt.dragging.draggableId:null,yt=useMemo(function(){return{droppableId:et,type:_e,isUsingCloneFor:pt}},[et,pt,_e]);function jt(){if(!gt)return null;var xt=gt.dragging,wt=gt.render,At=React.createElement(PrivateDraggable,{draggableId:xt.draggableId,index:xt.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(Ut,Ft){return wt(Ut,Ft,xt)});return ReactDOM.createPortal(At,it())}return React.createElement(DroppableContext.Provider,{value:yt},$(at,ct),jt())}var isMatchingType=function s(i,a){return i===a.droppable.type},getDraggable=function s(i,a){return a.draggables[i.draggable.id]},makeMapStateToProps$1=function s(){var i={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},a=_extends({},i,{shouldAnimatePlaceholder:!1}),o=memoizeOne(function($){return{draggableId:$.id,type:$.type,source:{index:$.index,droppableId:$.droppableId}}}),j=memoizeOne(function($,et,_e,tt,rt,nt){var st=rt.descriptor.id,ot=rt.descriptor.droppableId===$;if(ot){var ct=nt?{render:nt,dragging:o(rt.descriptor)}:null,gt={isDraggingOver:_e,draggingOverWith:_e?st:null,draggingFromThisWith:st,isUsingPlaceholder:!0};return{placeholder:rt.placeholder,shouldAnimatePlaceholder:!1,snapshot:gt,useClone:ct}}if(!et)return a;if(!tt)return i;var dt={isDraggingOver:_e,draggingOverWith:st,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:rt.placeholder,shouldAnimatePlaceholder:!0,snapshot:dt,useClone:null}}),_=function(et,_e){var tt=_e.droppableId,rt=_e.type,nt=!_e.isDropDisabled,st=_e.renderClone;if(et.isDragging){var ot=et.critical;if(!isMatchingType(rt,ot))return a;var ct=getDraggable(ot,et.dimensions),gt=whatIsDraggedOver(et.impact)===tt;return j(tt,nt,gt,gt,ct,st)}if(et.phase==="DROP_ANIMATING"){var dt=et.completed;if(!isMatchingType(rt,dt.critical))return a;var it=getDraggable(dt.critical,et.dimensions);return j(tt,nt,whatIsDraggedOverFromResult(dt.result)===tt,whatIsDraggedOver(dt.impact)===tt,it,st)}if(et.phase==="IDLE"&&et.completed&&!et.shouldFlush){var lt=et.completed;if(!isMatchingType(rt,lt.critical))return a;var ut=whatIsDraggedOver(lt.impact)===tt,mt=!!(lt.impact.at&&lt.impact.at.type==="COMBINE"),ht=lt.critical.droppable.id===tt;return ut?mt?i:a:ht?i:a}return a};return _},mapDispatchToProps$1={updateViewportMaxScroll};function getBody(){return document.body||invariant(),document.body}var defaultProps={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:getBody},ConnectedDroppable=connect(makeMapStateToProps$1,mapDispatchToProps$1,null,{context:StoreContext,pure:!0,areStatePropsEqual:isStrictEqual})(Droppable);ConnectedDroppable.defaultProps=defaultProps;const SECTION_LABELS={warm_up:"Warm Ups",bridge_activity:"Bridge Activities",main_activity:"Main Activities",end_of_lesson:"End Of Lesson",script:"Scripts"},SECTION_ICONS={warm_up:"",bridge_activity:"",main_activity:"",end_of_lesson:"",script:""};function LessonPlanningNew({onAddToPlan:s}){const[i,a]=reactExports.useState([]),[o,j]=reactExports.useState({section:"",ageGroup:"",level:"",search:""}),[_,$]=reactExports.useState(null),[et,_e]=reactExports.useState(!1),[tt,rt]=reactExports.useState(""),[nt,st]=reactExports.useState({warm_up:[],bridge_activity:[],main_activity:[],end_of_lesson:[],script:[]});reactExports.useEffect(()=>{fetch("/api/lesson_planning").then(it=>{if(!it.ok)throw new Error(`Status ${it.status}`);return it.json()}).then(it=>a(it.parts||[])).catch(it=>console.error(it))},[]);const ot=reactExports.useMemo(()=>i.filter(it=>{if(o.section&&it.section_type!==o.section||o.ageGroup&&it.age_group!==o.ageGroup||o.level&&it.level!==o.level)return!1;const lt=`${it.title} ${it.body}`.toLowerCase();return!(o.search&&!lt.includes(o.search.toLowerCase()))}),[i,o]);function ct(it){const lt=i.find(ut=>String(ut.id)===it.draggableId);$((lt==null?void 0:lt.section_type)||null),_e(!1),rt("")}function gt(it){var ut;const lt=(ut=it.destination)==null?void 0:ut.droppableId;if(!lt){_e(!1),rt("");return}Object.keys(SECTION_LABELS).includes(lt)&&lt!==_?(_e(!0),rt(SECTION_LABELS[_])):(_e(!1),rt(""))}function dt(it){const{source:lt,destination:ut,draggableId:mt}=it;if($(null),_e(!1),rt(""),lt.droppableId==="parts"&&Object.keys(SECTION_LABELS).includes(ut==null?void 0:ut.droppableId)){const ht=i.find(vt=>String(vt.id)===mt);ht&&ut.droppableId===ht.section_type&&(s(ht),st(vt=>({...vt,[ut.droppableId]:[...vt[ut.droppableId],ht]})))}}return jsxRuntimeExports.jsx(DragDropContext,{onDragStart:ct,onDragUpdate:gt,onDragEnd:dt,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-1 overflow-hidden bg-gray-50 dark:bg-dark-900 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("aside",{className:"w-96 bg-white dark:bg-dark-800 border-r border-gray-200 dark:border-dark-700 p-6 overflow-auto flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Lesson Plan"}),jsxRuntimeExports.jsx("button",{className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:""})]}),jsxRuntimeExports.jsx("div",{className:"border-b border-gray-200 dark:border-dark-700 mb-6"}),jsxRuntimeExports.jsx("div",{className:"space-y-6",children:Object.entries(SECTION_LABELS).map(([it,lt])=>jsxRuntimeExports.jsx(ConnectedDroppable,{droppableId:it,children:(ut,mt)=>{const ht=_===it,vt=mt.isDraggingOver?ht?"border-green-500 dark:border-green-400":"border-red-500 dark:border-red-400":"border-gray-300 dark:border-dark-600";return jsxRuntimeExports.jsxs("div",{ref:ut.innerRef,...ut.droppableProps,className:`
                        relative border-2 border-dashed rounded-lg p-6
                        flex flex-col items-center text-center space-y-4
                        min-h-[14rem] ${vt}
                      `,children:[jsxRuntimeExports.jsx("span",{className:"text-5xl",children:SECTION_ICONS[it]}),jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white",children:["Add ",lt]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:it==="warm_up"?"Start with an energizing activity":it==="bridge_activity"?"Link warm-up to main":it==="main_activity"?"Core learning activities":it==="end_of_lesson"?"Wrap up and reflect":"Attach scripts for actors"}),jsxRuntimeExports.jsx("div",{className:"w-full space-y-2",children:nt[it].map((at,pt)=>jsxRuntimeExports.jsxs("div",{className:"w-full bg-green-50 dark:bg-green-900 p-2 rounded shadow text-sm text-left",children:[jsxRuntimeExports.jsx("strong",{children:at.title}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[at.age_group,"  ",at.level]})]},at.id))}),ut.placeholder]})}},it))})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center p-4 bg-white dark:bg-dark-800 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("select",{value:o.section,onChange:it=>j(lt=>({...lt,section:it.target.value})),className:"block w-1/4 px-3 py-2 bg-white dark:bg-dark-700 border border-gray-300 dark:border-dark-600 rounded-lg text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Sections"}),Object.entries(SECTION_LABELS).map(([it,lt])=>jsxRuntimeExports.jsx("option",{value:it,children:lt},it))]}),jsxRuntimeExports.jsxs("select",{value:o.ageGroup,onChange:it=>j(lt=>({...lt,ageGroup:it.target.value})),className:"block w-1/4 px-3 py-2 bg-white dark:bg-dark-700 border border-gray-300 dark:border-dark-600 rounded-lg text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Ages"}),jsxRuntimeExports.jsx("option",{value:"Young",children:"Young"}),jsxRuntimeExports.jsx("option",{value:"Middle",children:"Middle"}),jsxRuntimeExports.jsx("option",{value:"Older",children:"Older"}),jsxRuntimeExports.jsx("option",{value:"All",children:"All"})]}),jsxRuntimeExports.jsxs("select",{value:o.level,onChange:it=>j(lt=>({...lt,level:it.target.value})),className:"block w-1/4 px-3 py-2 bg-white dark:bg-dark-700 border border-gray-300 dark:border-dark-600 rounded-lg text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Levels"}),jsxRuntimeExports.jsx("option",{value:"Toe Tipper",children:"Toe Tipper"}),jsxRuntimeExports.jsx("option",{value:"Green Horn",children:"Green Horn"}),jsxRuntimeExports.jsx("option",{value:"Semi-Pro",children:"Semi-Pro"}),jsxRuntimeExports.jsx("option",{value:"Seasoned Veteran(all)",children:"Seasoned Veteran(all)"})]}),jsxRuntimeExports.jsx("input",{type:"text",value:o.search,onChange:it=>j(lt=>({...lt,search:it.target.value})),placeholder:"Search...",className:"flex-1 px-3 py-2 bg-white dark:bg-dark-700 border border-gray-300 dark:border-dark-600 rounded-lg text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 p-4 overflow-auto relative",children:jsxRuntimeExports.jsx(ConnectedDroppable,{droppableId:"parts",children:it=>jsxRuntimeExports.jsxs("div",{ref:it.innerRef,...it.droppableProps,className:"grid grid-cols-3 gap-4",children:[ot.map((lt,ut)=>jsxRuntimeExports.jsx(PublicDraggable,{draggableId:String(lt.id),index:ut,children:(mt,ht)=>jsxRuntimeExports.jsxs("div",{ref:mt.innerRef,...mt.draggableProps,...mt.dragHandleProps,className:"relative p-4 bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-700 shadow-sm cursor-pointer transition-colors duration-200",children:[ht.isDragging&&et&&jsxRuntimeExports.jsxs("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-red-600 text-white text-sm px-3 py-1 rounded shadow-lg",children:["Must drop into ",tt,""]}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:lt.title}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:lt.section_type}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:[lt.age_group,"  ",lt.level]})]})},lt.id)),it.placeholder]})})})]})]})})}function App(){var ws,js,ks,Rs,Ss,As,Cs,_s,Ns,Ps,Ts,Ds;useTheme();const[s,i]=useAtom(activeTabAtom),[a,o]=useAtom(activitiesAtom),[j,_]=useAtom(scriptsAtom),[$,et]=useAtom(activityFiltersAtom),[_e,tt]=useAtom(scriptFiltersAtom),[rt,nt]=useAtom(lessonFiltersAtom),[st,ot]=useAtom(userFiltersAtom),[ct,gt]=useAtom(activitiesLoadingAtom),[dt,it]=useAtom(scriptsLoadingAtom),[lt,ut]=useAtom(savedLessonsLoadingAtom),[mt,ht]=useAtom(usersLoadingAtom),[vt,at]=useAtom(showCreateModalAtom),[pt,yt]=useAtom(showSaveLessonModalAtom),[jt,xt]=useAtom(showUserModalAtom);useAtom(selectedActivityAtom),useAtom(selectedScriptAtom),useAtom(selectedUserAtom);const[wt,At]=useAtom(currentLessonPlanAtom),[Ut,Ft]=useAtom(lessonGenerationStateAtom),[Bt,Nt]=useAtom(savedLessonsAtom),[Rt,kt]=useAtom(usersAtom),[Dt,zt]=useAtom(userStatsAtom);useAtom(sidebarCollapsedAtom);const[Ct,bt]=useAtom(activityViewModeAtom),[Et,St]=useAtom(filteredActivitiesAtom),[It,Pt]=useAtom(scriptViewModeAtom),[Mt,Gt]=useAtom(lessonPlanningViewModeAtom),[Yt,Zt]=useAtom(selectedPdfUrlAtom),[ir,cr]=useAtom(pdfViewerOpenAtom),[Jt,lr]=useAtom(authStateAtom),[qt,Xt]=useAtom(showAuthModalAtom);useAtom(authModeAtom);const[_t,Ot]=reactExports.useState(),[Ht,Qt]=reactExports.useState(),[or,pr]=reactExports.useState(),[dr,Vt]=reactExports.useState(""),[vr,xr]=reactExports.useState(!0),[Ir,Tr]=reactExports.useState(!1),[Br,jr]=reactExports.useState(""),[_r,Fr]=reactExports.useState(!1),[zr,fr]=reactExports.useState(null),[er,rr]=reactExports.useState(!1),[wr,Ur]=reactExports.useState(!1),[Lr,$t]=reactExports.useState(null),[ur,yr]=reactExports.useState(null);reactExports.useEffect(()=>{AuthService.initializeDemoUsers(),Ar()},[]);const Ar=async()=>{lr(gr=>({...gr,isLoading:!0}));try{const gr=await AuthService.checkAuth();if(gr)try{const kr=await StripeService.getUserSubscription(gr.id);lr({user:{...gr,subscription:kr||void 0},isAuthenticated:!0,isLoading:!1,error:null})}catch{lr({user:gr,isAuthenticated:!0,isLoading:!1,error:null})}else lr({user:null,isAuthenticated:!1,isLoading:!1,error:null})}catch{lr({user:null,isAuthenticated:!1,isLoading:!1,error:"Failed to check authentication status"})}},Pr=(gr,kr)=>gr.filter($r=>{if(kr.ageGroup&&$r.ageGroup!==kr.ageGroup||kr.skillLevels.length>0&&!kr.skillLevels.includes($r.skillLevel)||kr.activityTypes.length>0&&!kr.activityTypes.includes($r.activityType)||kr.playOrCraftTypes.length>0&&!kr.playOrCraftTypes.includes($r.playOrCraft)||kr.duration&&$r.duration>kr.duration)return!1;if(kr.search){const qr=kr.search.toLowerCase();if(!($r.title.toLowerCase().includes(qr)||$r.description.toLowerCase().includes(qr)||$r.tags.some(Yr=>Yr.toLowerCase().includes(qr))))return!1}return!0}),Er=async()=>{try{gt(!0),Vt("");const gr=await ApiService.getActivities($);o(gr)}catch(gr){Vt("Failed to load activities. Make sure the server is running."),console.error("Error loading activities:",gr)}finally{gt(!1)}},Lt=async()=>{try{it(!0),Vt("");const gr=await ApiService.getScripts(_e);_(gr)}catch(gr){Vt("Failed to load scripts. Make sure the server is running."),console.error("Error loading scripts:",gr)}finally{it(!1)}},Tt=async()=>{var gr;try{ut(!0);const kr=(gr=Jt.user)==null?void 0:gr.id,$r=kr?{userId:kr}:{},qr=await ApiService.getSavedLessons($r);Nt(qr)}catch(kr){console.error("Error loading saved lessons:",kr),Vt("Failed to load saved lessons. Make sure the server is running.")}finally{ut(!1)}},Wt=async()=>{var gr;if(((gr=Jt.user)==null?void 0:gr.role)==="admin")try{ht(!0);const kr=await AuthService.getAllUsers(st);kt(kr)}catch(kr){console.error("Error loading users:",kr)}finally{ht(!1)}},sr=async()=>{var gr;if(((gr=Jt.user)==null?void 0:gr.role)==="admin")try{const kr=await AuthService.getUserStats();zt(kr)}catch(kr){console.error("Error loading user stats:",kr)}};reactExports.useEffect(()=>{Jt.isAuthenticated&&Er()},[$,Jt.isAuthenticated]),reactExports.useEffect(()=>{Jt.isAuthenticated&&Lt()},[_e,Jt.isAuthenticated]),reactExports.useEffect(()=>{Jt.isAuthenticated&&Tt()},[Jt.isAuthenticated]),reactExports.useEffect(()=>{var gr;Jt.isAuthenticated&&((gr=Jt.user)==null?void 0:gr.role)==="admin"&&(Wt(),sr())},[st,Jt.isAuthenticated,(ws=Jt.user)==null?void 0:ws.role]),reactExports.useEffect(()=>{const gr=Pr(a,rt);St(gr)},[a,rt]);const ar=async()=>{try{await AuthService.signOut(),lr({user:null,isAuthenticated:!1,isLoading:!1,error:null}),o([]),_([]),Nt([]),kt([]),At({warmUp:null,mainActivities:[],coolDown:null,totalDuration:0,estimatedTime:"0 min"}),i("lessons")}catch(gr){console.error("Sign out error:",gr)}},hr=async gr=>{if(Jt.user)try{const kr=await AuthService.updateProfile(Jt.user.id,gr);lr($r=>({...$r,user:kr}))}catch(kr){Vt("Failed to update profile"),console.error("Profile update error:",kr)}},mr=async gr=>{if(Jt.user)try{const kr=await StripeService.getUserSubscription(Jt.user.id);lr($r=>({...$r,user:{...$r.user,subscription:kr||void 0}}))}catch(kr){console.error("Subscription update error:",kr)}},Cr={ageGroup:rt.ageGroup,search:rt.search,skillLevel:rt.skillLevels[0],activityType:rt.activityTypes[0],playOrCraft:rt.playOrCraftTypes[0]},Rr=gr=>{nt({ageGroup:gr.ageGroup,search:gr.search||"",skillLevels:gr.skillLevel?[gr.skillLevel]:[],activityTypes:gr.activityType?[gr.activityType]:[],playOrCraftTypes:gr.playOrCraft?[gr.playOrCraft]:[],duration:rt.duration})},br=async gr=>{try{_t?await ApiService.updateActivity(_t.id,gr):await ApiService.createActivity(gr),Er(),Ot(void 0)}catch(kr){Vt("Failed to save activity"),console.error("Error saving activity:",kr)}},Mr=async gr=>{if(console.log("handleDeleteActivity called with id:",gr),confirm("Are you sure you want to delete this activity?"))try{console.log("Calling ApiService.deleteActivity..."),await ApiService.deleteActivity(gr),console.log("Activity deleted successfully, reloading activities..."),Er()}catch(kr){console.error("Error in handleDeleteActivity:",kr),Vt("Failed to delete activity"),console.error("Error deleting activity:",kr)}else console.log("Delete cancelled by user")},Sr=async gr=>{try{Ht?await ApiService.updateScript(Ht.id,gr):await ApiService.createScript(gr),Lt(),Qt(void 0)}catch(kr){Vt("Failed to save script"),console.error("Error saving script:",kr)}},Nr=async gr=>{if(confirm("Are you sure you want to delete this script?"))try{await ApiService.deleteScript(gr),Lt()}catch(kr){Vt("Failed to delete script"),console.error("Error deleting script:",kr)}},Dr=async(gr,kr)=>{try{await ApiService.uploadScriptFile(gr,kr),Lt()}catch($r){Vt("Failed to upload file"),console.error("Error uploading file:",$r)}},Or=async gr=>{try{or?await AuthService.updateUser(or.id,gr):await AuthService.createUser(gr),Wt(),sr(),pr(void 0)}catch(kr){Vt(kr instanceof Error?kr.message:"Failed to save user"),console.error("Error saving user:",kr)}},Vr=async gr=>{if(confirm("Are you sure you want to delete this user? This action cannot be undone."))try{await AuthService.deleteUser(gr),Wt(),sr()}catch(kr){Vt(kr instanceof Error?kr.message:"Failed to delete user"),console.error("Error deleting user:",kr)}},Wr=async gr=>{try{await AuthService.toggleUserStatus(gr),Wt(),sr()}catch(kr){Vt(kr instanceof Error?kr.message:"Failed to update user status"),console.error("Error toggling user status:",kr)}},Xr=gr=>{At(kr=>{var Kr,Yr,an,rn;const $r={...kr};return((Kr=$r.warmUp)==null?void 0:Kr.id)===gr.id||$r.mainActivities.some(nn=>nn.id===gr.id)||((Yr=$r.coolDown)==null?void 0:Yr.id)===gr.id?kr:(Lr?(Lr==="warmUp"?$r.warmUp=gr:Lr==="coolDown"?$r.coolDown=gr:Lr==="main"&&($r.mainActivities=[...$r.mainActivities,gr]),$t(null)):$r.mainActivities=[...$r.mainActivities,gr],$r.totalDuration=(((an=$r.warmUp)==null?void 0:an.duration)||0)+$r.mainActivities.reduce((nn,Jr)=>nn+Jr.duration,0)+(((rn=$r.coolDown)==null?void 0:rn.duration)||0),$r.estimatedTime=`${$r.totalDuration} min`,$r)})},Hr=gr=>{$t(gr),console.log(`Add ${gr} activity`)},Zr=(gr,kr)=>{At($r=>{var rn,nn;let qr={...$r};gr==="warmUp"?qr.warmUp=null:gr==="coolDown"?qr.coolDown=null:gr==="main"&&typeof kr=="number"&&(qr.mainActivities=qr.mainActivities.filter((Jr,mn)=>mn!==kr));const Kr=((rn=qr.warmUp)==null?void 0:rn.duration)||0,Yr=qr.mainActivities.reduce((Jr,mn)=>Jr+mn.duration,0),an=((nn=qr.coolDown)==null?void 0:nn.duration)||0;return qr.totalDuration=Kr+Yr+an,qr})},en=async()=>{if(!Jt.user){Xt(!0);return}try{const gr=await StripeService.checkSubscriptionAccess(Jt.user.id);if(console.log("aaaaa",gr),!gr.canGenerate){if(!Jt.user.subscription){Fr(!0);return}if(gr.reason==="Lesson limit reached"){Fr(!0);return}Vt(gr.reason||"Cannot generate lesson at this time");return}}catch{Vt("Failed to check subscription status");return}Ft("generating");try{await StripeService.incrementLessonCount(Jt.user.id);const gr=await StripeService.getUserSubscription(Jt.user.id);gr&&lr(kr=>({...kr,user:kr.user?{...kr.user,subscription:gr||void 0}:null})),setTimeout(()=>{const kr=Et,$r=kr.filter(Jr=>Jr.activityType==="warm-up"),qr=kr.filter(Jr=>Jr.activityType==="main"||Jr.activityType==="game"),Kr=kr.filter(Jr=>Jr.activityType==="cool-down"),Yr=$r[Math.floor(Math.random()*$r.length)],an=qr.slice(0,2),rn=Kr[Math.floor(Math.random()*Kr.length)],nn=((Yr==null?void 0:Yr.duration)||0)+an.reduce((Jr,mn)=>Jr+mn.duration,0)+((rn==null?void 0:rn.duration)||0);At({warmUp:Yr||null,mainActivities:an,coolDown:rn||null,totalDuration:nn,estimatedTime:`${nn} min`}),Ft("complete")},2e3)}catch(gr){console.error("Error generating lesson:",gr),Vt("Failed to generate lesson. Please try again."),Ft("idle")}},tn=async gr=>{try{if(!Jt.user){Vt("You must be logged in to save lessons");return}const kr={...gr,createdBy:Jt.user.id};try{const $r=await StripeService.checkSubscriptionAccess(Jt.user.id);if(!$r.canGenerate){if(!Jt.user.subscription){Fr(!0);return}if($r.reason==="Lesson limit reached"){Fr(!0);return}Vt($r.reason||"Cannot generate lesson at this time");return}}catch{Vt("Failed to check subscription status");return}try{await StripeService.incrementLessonCount(Jt.user.id);const $r=await StripeService.getUserSubscription(Jt.user.id);$r&&lr(qr=>({...qr,user:qr.user?{...qr.user,subscription:$r||void 0}:null})),await ApiService.saveLesson(kr),Tt(),yt(!1),Vt(""),xr(!0)}catch($r){console.error("Error generating lesson:",$r),Vt("Failed to generate lesson. Please try again.")}}catch(kr){Vt("Failed to save lesson"),console.error("Error saving lesson:",kr)}},fn=gr=>{const kr=gr.warmUpId&&a.find(Kr=>Kr.id===gr.warmUpId)||null,$r=gr.mainActivityIds.map(Kr=>a.find(Yr=>Yr.id===Kr)).filter(Boolean),qr=gr.coolDownId&&a.find(Kr=>Kr.id===gr.coolDownId)||null;At({warmUp:kr,mainActivities:$r,coolDown:qr,totalDuration:gr.totalDuration,estimatedTime:`${gr.totalDuration} min`}),xr(!1)},lo=async gr=>{if(confirm("Are you sure you want to delete this saved lesson?"))try{await ApiService.deleteLesson(gr),Tt()}catch(kr){Vt("Failed to delete lesson"),console.error("Error deleting lesson:",kr)}},co=gr=>{fr(gr),rr(!0)},kn=gr=>{Zt(gr),jr("Script Preview"),cr(!0)},Rn=(gr,kr)=>{Zt(gr),jr(kr),cr(!0)},uo=()=>{const gr=[];return wt.warmUp&&gr.push(wt.warmUp),gr.push(...wt.mainActivities),wt.coolDown&&gr.push(wt.coolDown),gr},po=gr=>{yr(gr),i("generate")};return Jt.isLoading?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-900 flex items-center justify-center transition-colors duration-200",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-teal-600 rounded-lg flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(Activity,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"JulietLessons"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your workspace..."})]})}):Jt.isAuthenticated?jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-900 flex flex-col transition-colors duration-200",children:[jsxRuntimeExports.jsx("header",{className:"bg-white dark:bg-dark-800 shadow-sm border-b border-gray-200 dark:border-dark-700 flex-shrink-0 transition-colors duration-200",children:jsxRuntimeExports.jsxs("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center py-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-r from-blue-600 to-teal-600 rounded-lg",children:jsxRuntimeExports.jsx(Activity,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"JulietLessons EDITED BY JAMES"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Lesson planning and activity management"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{at(!0),Ot(void 0),Qt(void 0),pr(void 0)},className:`flex items-center space-x-2 bg-gradient-to-r from-blue-600 to-teal-600 text-white px-6 py-3 rounded-lg hover:from-blue-700 hover:to-teal-700 transition-all duration-200 shadow-md hover:shadow-lg ${s==="activities"||s==="scripts"||s==="users"?"":"hidden"}`,children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5"}),jsxRuntimeExports.jsxs("span",{children:["Add ",s==="activities"?"Activity":s==="scripts"?"Script":s==="users"?"User":"Activity"]})]}),jsxRuntimeExports.jsx(ThemeToggle,{}),jsxRuntimeExports.jsx(UserMenu,{user:Jt.user,onSignOut:ar,onEditProfile:()=>Tr(!0)})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-8 border-b border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsx("button",{onClick:()=>i("generate"),className:`pb-4 px-1 border-b-2 font-medium text-sm transition-colors ${s==="generate"?"border-pink-500 text-pink-600 dark:text-pink-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Crown,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Generate Lesson"})]})}),["admin","superadmin"].includes((js=Jt.user)==null?void 0:js.role)&&jsxRuntimeExports.jsx("button",{onClick:()=>i("newLesson"),className:`pb-4 px-1 border-b-2 font-medium text-sm transition-colors ${s==="newLesson"?"border-pink-500 text-pink-600 dark:text-pink-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"New Lesson Part"})]})}),jsxRuntimeExports.jsx("button",{onClick:()=>i("lessons"),className:`pb-4 px-1 border-b-2 font-medium text-sm transition-colors ${s==="lessons"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(PanelsTopLeft,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Lesson Planning"})]})}),jsxRuntimeExports.jsx("button",{onClick:()=>i("lessonPlanningNew"),className:`pb-4 px-1 border-b-2 font-medium text-sm transition-colors ${s==="lessonPlanningNew"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(PanelsTopLeft,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Lesson Planning (new)"})]})}),((ks=Jt.user)==null?void 0:ks.role)==="admin"&&jsxRuntimeExports.jsx("button",{onClick:()=>i("activities"),className:`pb-4 px-1 border-b-2 font-medium text-sm transition-colors ${s==="activities"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Activity,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:["Activities (",a.length,")"]})]})}),((Rs=Jt.user)==null?void 0:Rs.role)==="admin"&&jsxRuntimeExports.jsx("button",{onClick:()=>i("scripts"),className:`pb-4 px-1 border-b-2 font-medium text-sm transition-colors ${s==="scripts"?"border-teal-500 text-teal-600 dark:text-teal-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:["Scripts (",j.length,")"]})]})}),((Ss=Jt.user)==null?void 0:Ss.role)==="admin"&&jsxRuntimeExports.jsx("button",{onClick:()=>i("users"),className:`pb-4 px-1 border-b-2 font-medium text-sm transition-colors ${s==="users"?"border-orange-500 text-orange-600 dark:text-orange-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:["Users (",Rt.length,")"]})]})})]})]})}),Lr&&jsxRuntimeExports.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-800 px-6 py-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 text-white"})}),jsxRuntimeExports.jsxs("span",{className:"text-blue-800 dark:text-blue-300 font-medium",children:["Ready to add activity to ",Lr==="warmUp"?"Warm-up":Lr==="coolDown"?"Cool-down":"Main Activities"," section"]}),jsxRuntimeExports.jsx("span",{className:"text-blue-600 dark:text-blue-400 text-sm",children:"Click an activity below to add it to this section"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>$t(null),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm font-medium",children:"Cancel"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[s==="generate"&&jsxRuntimeExports.jsx(GenerateLesson,{onGenerate:en,lessonGenerationState:Ut,lessonId:ur,onSwitch:i,onClearView:()=>yr(null)}),s==="newLesson"&&jsxRuntimeExports.jsx(NewLessonPart,{onSwitch:i,onSaveAndView:po}),s==="lessons"&&jsxRuntimeExports.jsxs("div",{className:"flex-1 flex",children:[jsxRuntimeExports.jsx(LessonPreviewPanel,{lessonPlan:wt,onAddActivity:Hr,onRemoveActivity:Zr,onViewScript:kn,onGenerateLesson:en,onSaveLesson:()=>yt(!0),onShowSavedLessons:()=>xr(!vr),isGenerating:Ut==="generating",showSavedLessons:vr,isCollapsed:wr,onToggleCollapse:()=>Ur(!wr),targetSection:Lr}),jsxRuntimeExports.jsxs("main",{className:"flex-1 overflow-y-auto p-6",children:[jsxRuntimeExports.jsx(SubscriptionBanner,{subscription:((As=Jt.user)==null?void 0:As.subscription)||null,onUpgrade:()=>Fr(!0)}),dr&&jsxRuntimeExports.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center space-x-3",children:[jsxRuntimeExports.jsx(AlertCircle,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium",children:"Error"}),jsxRuntimeExports.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm",children:dr})]})]}),vr?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Saved Lessons"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Load a previously saved lesson plan"})]}),jsxRuntimeExports.jsx(SavedLessonsPanel,{savedLessons:Bt,onLoadLesson:fn,onDeleteLesson:lo,onViewLesson:co,loading:lt})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Available Activities"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Select activities to build your lesson plan"})]}),jsxRuntimeExports.jsx(SearchFilters,{filters:Cr,onFiltersChange:Rr,showLevel:!0,showPlayOrCraft:!0}),jsxRuntimeExports.jsx(ActivityGrid,{activities:Et,onSelectActivity:Xr,selectedActivities:uo(),loading:ct,scripts:j,onViewPDF:Rn,onViewScript:kn,viewMode:Mt,onViewModeChange:Gt,showViewToggle:!0,isLessonPlanning:!0,onDelete:Mr,targetSection:Lr})]})]})]}),s==="lessonPlanningNew"&&jsxRuntimeExports.jsx(LessonPlanningNew,{}),s==="activities"&&((Cs=Jt.user)==null?void 0:Cs.role)==="admin"&&jsxRuntimeExports.jsxs("main",{className:"flex-1 overflow-y-auto px-4 sm:px-6 lg:px-8 py-8",children:[dr&&jsxRuntimeExports.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center space-x-3",children:[jsxRuntimeExports.jsx(AlertCircle,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium",children:"Error"}),jsxRuntimeExports.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm",children:dr})]})]}),jsxRuntimeExports.jsx(SearchFilters,{filters:$,onFiltersChange:et,showLevel:!0,showPlayOrCraft:!0}),ct?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Loading activities..."})]}):jsxRuntimeExports.jsx(ActivityGrid,{activities:a,onSelectActivity:()=>{},selectedActivities:[],loading:ct,scripts:j,onViewPDF:Rn,onViewScript:kn,viewMode:Ct,onViewModeChange:bt,showViewToggle:!0,isLessonPlanning:!1,onDelete:Mr}),!ct&&a.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Activity,{className:"w-12 h-12 text-gray-400 dark:text-gray-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No activities found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Get started by creating your first activity."}),jsxRuntimeExports.jsx("button",{onClick:()=>at(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Activity"})]})]}),s==="scripts"&&((_s=Jt.user)==null?void 0:_s.role)==="admin"&&jsxRuntimeExports.jsxs("main",{className:"flex-1 overflow-y-auto px-4 sm:px-6 lg:px-8 py-8",children:[jsxRuntimeExports.jsx(SearchFilters,{filters:_e,onFiltersChange:tt,showGenre:!0}),jsxRuntimeExports.jsx(ScriptGrid,{scripts:j,onDelete:Nr,onUpload:Dr,loading:dt,viewMode:It,onViewModeChange:Pt,showViewToggle:!0})]}),s==="users"&&((Ns=Jt.user)==null?void 0:Ns.role)==="admin"&&jsxRuntimeExports.jsxs("main",{className:"flex-1 overflow-y-auto px-4 sm:px-6 lg:px-8 py-8",children:[dr&&jsxRuntimeExports.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center space-x-3",children:[jsxRuntimeExports.jsx(AlertCircle,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium",children:"Error"}),jsxRuntimeExports.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm",children:dr})]})]}),jsxRuntimeExports.jsx(UserStatsPanel,{stats:Dt,loading:mt}),jsxRuntimeExports.jsx(UserManagementPanel,{users:Rt,filters:st,onFiltersChange:ot,onCreateUser:()=>{pr(void 0),xt(!0)},onEditUser:gr=>{pr(gr),xt(!0)},onDeleteUser:Vr,onToggleUserStatus:Wr,loading:mt})]})]}),s==="activities"&&jsxRuntimeExports.jsx(CreateActivityModal,{isOpen:vt,onClose:()=>{at(!1),Ot(void 0)},onCreate:br,editActivity:_t,onViewPDF:Rn}),s==="scripts"&&jsxRuntimeExports.jsx(CreateScriptModal,{isOpen:vt,onClose:()=>{at(!1),Qt(void 0)},onCreate:Sr,editScript:Ht}),s==="users"&&((Ps=Jt.user)==null?void 0:Ps.role)==="admin"&&jsxRuntimeExports.jsx(CreateUserModal,{isOpen:jt,onClose:()=>{xt(!1),pr(void 0)},onCreate:Or,editUser:or,loading:!1}),jsxRuntimeExports.jsx(SaveLessonModal,{isOpen:pt,onClose:()=>yt(!1),onSave:tn,lessonPlan:wt}),jsxRuntimeExports.jsx(EditProfileModal,{isOpen:Ir,onClose:()=>Tr(!1),user:Jt.user,onSave:hr,loading:!1}),jsxRuntimeExports.jsx(SubscriptionModal,{isOpen:_r,onClose:()=>Fr(!1),currentSubscription:(Ts=Jt.user)==null?void 0:Ts.subscription,onSubscriptionUpdate:mr,userId:((Ds=Jt.user)==null?void 0:Ds.id)||""}),jsxRuntimeExports.jsx(SavedLessonActivitiesModal,{isOpen:er,onClose:()=>{rr(!1),fr(null)},lesson:zr,activities:a,scripts:j,onViewPDF:Rn,onViewScript:kn,onLoadLesson:fn}),jsxRuntimeExports.jsx(PDFViewer,{isOpen:ir,onClose:()=>cr(!1),pdfUrl:Yt,title:Br})]}):jsxRuntimeExports.jsx(LandingPageWrapper,{})}const ThemeContext=reactExports.createContext(void 0),ThemeProvider=({children:s})=>{const[i,a]=reactExports.useState(()=>{const j=localStorage.getItem("theme"),_=window.matchMedia("(prefers-color-scheme: dark)").matches;return j||(_?"dark":"light")});reactExports.useEffect(()=>{localStorage.setItem("theme",i),document.documentElement.classList.toggle("dark",i==="dark")},[i]);const o=()=>{a(j=>j==="light"?"dark":"light")};return jsxRuntimeExports.jsx(ThemeContext.Provider,{value:{theme:i,toggleTheme:o},children:s})},AppProvider=({children:s})=>jsxRuntimeExports.jsx(Provider$1,{children:jsxRuntimeExports.jsx(ThemeProvider,{children:s})});createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(AppProvider,{children:jsxRuntimeExports.jsx(App,{})})}));
